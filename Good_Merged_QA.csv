Id_Q,Score_Q,Body_Q,Clean_Title,Id_A,ParentId,Score_A,Body_A
469,21,"I am using the Photoshop's javascript API to find the fonts in a given PSD. Given a font name returned by the API, I want to find the actual physical font file that that font name corresponds to on the disc. This is all happening in a python program running on OSX so I guess I'm looking for one of: Some Photoshop javascript A Python function An OSX API that I can call from python",How can I find the full path to a font from its display name on a Mac?,497,469,4,open up a terminal (Applications-&gt;Utilities-&gt;Terminal) and type this in: locate InsertFontHere This will spit out every file that has the name you want. Warning: there may be alot to wade through.
469,21,"I am using the Photoshop's javascript API to find the fonts in a given PSD. Given a font name returned by the API, I want to find the actual physical font file that that font name corresponds to on the disc. This is all happening in a python program running on OSX so I guess I'm looking for one of: Some Photoshop javascript A Python function An OSX API that I can call from python",How can I find the full path to a font from its display name on a Mac?,518,469,2,"I haven't been able to find anything that does this directly. I think you'll have to iterate through the various font folders on the system: /System/Library/Fonts, /Library/Fonts, and there can probably be a user-level directory as well ~/Library/Fonts."
469,21,"I am using the Photoshop's javascript API to find the fonts in a given PSD. Given a font name returned by the API, I want to find the actual physical font file that that font name corresponds to on the disc. This is all happening in a python program running on OSX so I guess I'm looking for one of: Some Photoshop javascript A Python function An OSX API that I can call from python",How can I find the full path to a font from its display name on a Mac?,3040,469,12,"Unfortunately the only API that isn't deprecated is located in the ApplicationServices framework, which doesn't have a bridge support file, and thus isn't available in the bridge. If you're wanting to use ctypes, you can use ATSFontGetFileReference after looking up the ATSFontRef. Cocoa doesn't have any native support, at least as of 10.5, for getting the location of a font."
469,21,"I am using the Photoshop's javascript API to find the fonts in a given PSD. Given a font name returned by the API, I want to find the actual physical font file that that font name corresponds to on the disc. This is all happening in a python program running on OSX so I guess I'm looking for one of: Some Photoshop javascript A Python function An OSX API that I can call from python",How can I find the full path to a font from its display name on a Mac?,195170,469,1,"There must be a method in Cocoa to get a list of fonts, then you would have to use the PyObjC bindings to call it.. Depending on what you need them for, you could probably just use something like the following.. import os def get_font_list(): fonts = [] for font_path in [""/Library/Fonts"", os.path.expanduser(""~/Library/Fonts"")]: if os.path.isdir(font_path): fonts.extend( [os.path.join(font_path, cur_font) for cur_font in os.listdir(font_path) ] ) return fonts"
502,27,I have a cross-platform (Python) application which needs to generate a JPEG preview of the first page of a PDF. On the Mac I am spawning sips. Is there something similarly simple I can do on Windows?,Get a preview JPEG of a PDF on Windows?,536,502,9,"You can use ImageMagick's convert utility for this, see some examples in http://studio.imagemagick.org/pipermail/magick-users/2002-May/002636.html : Convert taxes.pdf taxes.jpg Will convert a two page PDF file into [2] jpeg files: taxes.jpg.0, taxes.jpg.1 I can also convert these JPEGS to a thumbnail as follows: convert -size 120x120 taxes.jpg.0 -geometry 120x120 +profile '*' thumbnail.jpg I can even convert the PDF directly to a jpeg thumbnail as follows: convert -size 120x120 taxes.pdf -geometry 120x120 +profile '*' thumbnail.jpg This will result in a thumbnail.jpg.0 and thumbnail.jpg.1 for the two pages."
502,27,I have a cross-platform (Python) application which needs to generate a JPEG preview of the first page of a PDF. On the Mac I am spawning sips. Is there something similarly simple I can do on Windows?,Get a preview JPEG of a PDF on Windows?,7073,502,2,"Is the PC likely to have Acrobat installed? I think Acrobat installs a shell extension so previews of the first page of a PDF document appear in Windows Explorer's thumbnail view. You can get thumbnails yourself via the IExtractImage COM API, which you'll need to wrap. VBAccelerator has an example in C# that you could port to Python."
502,27,I have a cross-platform (Python) application which needs to generate a JPEG preview of the first page of a PDF. On the Mac I am spawning sips. Is there something similarly simple I can do on Windows?,Get a preview JPEG of a PDF on Windows?,7090,502,25,"ImageMagick delegates the PDF->bitmap conversion to GhostScript anyway, so here's a command you can use (it's based on the actual command listed by the ps:alpha delegate in ImageMagick, just adjusted to use JPEG as output): gs -q -dQUIET -dPARANOIDSAFER -dBATCH -dNOPAUSE -dNOPROMPT \ -dMaxBitmap=500000000 -dLastPage=1 -dAlignToPixels=0 -dGridFitTT=0 \ -sDEVICE=jpeg -dTextAlphaBits=4 -dGraphicsAlphaBits=4 -r72x72 \ -sOutputFile=$OUTPUT -f$INPUT where $OUTPUT and $INPUT are the output and input filenames. Adjust the 72x72 to whatever resolution you need. (Obviously, strip out the backslashes if you're writing out the whole command as one line.) This is good for two reasons: You don't need to have ImageMagick installed anymore. Not that I have anything against ImageMagick (I love it to bits), but I believe in simple solutions. ImageMagick does a two-step conversion. First PDF->PPM, then PPM->JPEG. This way, the conversion is one-step. Other things to consider: with the files I've tested, PNG compresses better than JPEG. If you want to use PNG, change the -sDEVICE=jpeg to -sDEVICE=png16m."
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,538,535,23,"One possibility is Hudson. It's written in Java, but there's integration with Python projects: Hudson embraces Python I've never tried it myself, however. (Update, Sept. 2011: After a trademark dispute Hudson has been renamed to Jenkins.)"
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,541,535,20,"We run Buildbot - Trac at work, I haven't used it too much since my code base isn't part of the release cycle yet. But we run the tests on different environments (OSX/Linux/Win) and it sends emails --and it's written in python."
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,660,535,14,"Second the Buildbot - Trac integration. You can find more information about the integration on the Buildbot website. At my previous job, we wrote and used the plugin they mention (tracbb). What the plugin does is rewriting all of the Buildbot urls so you can use Buildbot from within Trac. (http://example.com/tracbb). The really nice thing about Buildbot is that the configuration is written in Python. You can integrate your own Python code directly to the configuration. It's also very easy to write your own BuildSteps to execute specific tasks. We used BuildSteps to get the source from SVN, pull the dependencies, publish test results to WebDAV, etcetera. I wrote an X10 interface so we could send signals with build results. When the build failed, we switched on a red lava lamp. When the build succeeded, a green lava lamp switched on. Good times :-)"
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,61746,535,13,"We use both Buildbot and Hudson for Jython development. Both are useful, but have different strengths and weaknesses. Buildbot's configuration is pure Python and quite simple once you get the hang of it (look at the epydoc-generated API docs for the most current info). Buildbot makes it easier to define non-testing tasksÂ and distribute the testers. However, it really has no concept of individual tests, just textual, HTML, and summary output, so if you want to have multi-level browsable test output and so forth you'll have to build it yourself, or just use Hudson. Hudson has terrific support for drilling down from overall results into test suites and individual tests; it also is great for comparing test output between builds, but the distributed (master/slave) stuff is comparatively more complicated because you need a Java environment on the slaves too; also, Hudson is less tolerant of flaky network links between the master and slaves. So, to get the benefits of both tools, we run a single instance of Hudson, which catches the common test failures, then we do multi-platform regression with Buildbot. Here are our instances: Jython Hudson Jython buildbot"
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,74452,535,4,We are using Bitten wich is integrated with trac. And it's python based.
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,117712,535,3,"TeamCity has some Python integration. But TeamCity is: not open-source is not small, but rather feature rich is free for small-mid teams."
594,25,There are several ways to iterate over a result set. What are the tradeoff of each?,cx_Oracle: How do I iterate over a result set?,595,594,25,"The canonical way is to use the built-in cursor iterator. curs.execute('select * from people') for row in curs: print row You can use fetchall() to get all rows at once. for row in curs.fetchall(): print row It can be convenient to use this to create a Python list containing the values returned: curs.execute('select first_name from people') names = [row[0] for row in curs.fetchall()] This can be useful for smaller result sets, but can have bad side effects if the result set is large. You have to wait for the entire result set to be returned to your client process. You may eat up a lot of memory in your client to hold the built-up list. It may take a while for Python to construct and deconstruct the list which you are going to immediately discard anyways. If you know there's a single row being returned in the result set you can call fetchone() to get the single row. curs.execute('select max(x) from t') maxValue = curs.fetchone()[0] Finally, you can loop over the result set fetching one row at a time. In general, there's no particular advantage in doing this over using the iterator. row = curs.fetchone() while row: print row row = curs.fetchone()"
594,25,There are several ways to iterate over a result set. What are the tradeoff of each?,cx_Oracle: How do I iterate over a result set?,25213,594,4,"There's also the way psyco-pg seems to do it... From what I gather, it seems to create dictionary-like row-proxies to map key lookup into the memory block returned by the query. In that case, fetching the whole answer and working with a similar proxy-factory over the rows seems like useful idea. Come to think of it though, it feels more like Lua than Python. Also, this should be applicable to all PEP-249 DBAPI2.0 interfaces, not just Oracle, or did you mean just fastest using Oracle?"
594,25,There are several ways to iterate over a result set. What are the tradeoff of each?,cx_Oracle: How do I iterate over a result set?,125140,594,17,"My preferred way is the cursor iterator, but setting first the arraysize property of the cursor. curs.execute('select * from people') curs.arraysize = 256 for row in curs: print row In this example, cx_Oracle will fetch rows from Oracle 256 rows at a time, reducing the number of network round trips that need to be performed"
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,701,683,3,"No, you were not dreaming. Python has a pretty excellent list comprehension system that lets you manipulate lists pretty elegantly, and depending on exactly what you want to accomplish, this can be done a couple of ways. In essence, what you're doing is saying ""For item in list if criteria.matches"", and from that you can just iterate through the results or dump the results into a new list. I'm going to crib an example from Dive Into Python here, because it's pretty elegant and they're smarter than I am. Here they're getting a list of files in a directory, then filtering the list for all files that match a regular expression criteria. files = os.listdir(path) test = re.compile(""test\.py$"", re.IGNORECASE) files = [f for f in files if test.search(f)] You could do this without regular expressions, for your example, for anything where your expression at the end returns true for a match. There are other options like using the filter() function, but if I were going to choose, I'd go with this. Eric Sipple"
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,735,683,-2,"I think: #!/bin/pythonbar in dict(Foo) Is what you are thinking of. When trying to see if a certain key exists within a dictionary in python (python's version of a hash table) there are two ways to check. First is the has_key() method attached to the dictionary and second is the example given above. It will return a boolean value. That should answer your question. And now a little off topic to tie this in to the list comprehension answer previously given (for a bit more clarity). List Comprehensions construct a list from a basic for loop with modifiers. As an example (to clarify slightly), a way to use the in dict language construct in a _list comprehension_: Say you have a two dimensional dictionary foo and you only want the second dimension dictionaries which contain the key bar. A relatively straightforward way to do so would be to use a list comprehension with a conditional as follows: #!/bin/pythonbaz = dict([(key, value) for key, value in foo if bar in value]) Note the if bar in value at the end of the statement, this is a modifying clause which tells the list comprehension to only keep those key-value pairs which meet the conditional. In this case baz is a new dictionary which contains only the dictionaries from foo which contain bar (Hopefully I didn't miss anything in that code example... you may have to take a look at the list comprehension documentation found in docs.python.org tutorials and at secnetix.de, both sites are good references if you have questions in the future.)."
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,745,683,8,"Are you looking to get a list of objects that have a certain attribute? If so, a list comprehension is the right way to do this. result = [obj for obj in listOfObjs if hasattr(obj, 'attributeName')]"
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,750,683,2,"What I was thinking of can be achieved using list comprehensions, but I thought that there was a function that did this in a slightly neater way. i.e. 'bar' is a list of objects, all of which have the attribute 'id' The mythical functional way: foo = 12foo in iter_attr(bar, 'id') The list comprehension way: foo = 12foo in [obj.id for obj in bar] In retrospect the list comprehension way is pretty neat anyway."
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,31126,683,6,"you could always write one yourself: def iterattr(iterator, attributename): for obj in iterator: yield getattr(obj, attributename) will work with anything that iterates, be it a tuple, list, or whatever. I love python, it makes stuff like this very simple and no more of a hassle than neccessary, and in use stuff like this is hugely elegant."
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,31188,683,2,"If you plan on searching anything of remotely decent size, your best bet is going to be to use a dictionary or a set. Otherwise, you basically have to iterate through every element of the iterator until you get to the one you want. If this isn't necessarily performance sensitive code, then the list comprehension way should work. But note that it is fairly inefficient because it goes over every element of the iterator and then goes BACK over it again until it finds what it wants. Remember, python has one of the most efficient hashing algorithms around. Use it to your advantage."
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,57833,683,29,"Using a list comprehension would build a temporary list, which could eat all your memory if the sequence being searched is large. Even if the sequence is not large, building the list means iterating over the whole of the sequence before in could start its search. The temporary list can be avoiding by using a generator expression: foo = 12 foo in (obj.id for obj in bar) Now, as long as obj.id == 12 near the start of bar, the search will be fast, even if bar is infinitely long. As @Matt suggested, it's a good idea to use hasattr if any of the objects in bar can be missing an id attribute: foo = 12 foo in (obj.id for obj in bar if hasattr(obj, 'id'))"
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,764,742,0,Sounds to me like you're trying to combine things that shouldn't be combined. If you need to do different processing in your view depending on if it's a User or Group object you're trying to look at then you should use two different view functions. On the other hand there can be common idioms you'd want to extract out of your object_detail type views... perhaps you could use a decorator or just helper functions? -Dan
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,4572,742,7,"If you're simply displaying data from models, why not use the Django Generic Views? They're designed to let you easy show data from a model without having to write your own view and stuff about mapping URL paramaters to views, fetching data, handling edge cases, rendering output, etc."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,8320,742,1,"Unless you want to do something a little complex, using the generic views are the way to go. They are far more powerful than their name implies, and if you are just displaying model data generic views will do the job."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,27780,742,0,"If you want to share common functionality between pages I suggest you look at custom tags. They're quite easy to create, and are very powerful. Also, templates can extend from other templates. This allows you to have a base template to set up the layout of the page and to share this between other templates which fill in the blanks. You can nest templates to any depth; allowing you to specify the layout on separate groups of related pages in one place."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,27792,742,2,"You can always create a class, override the __call__ function and then point the URL file to an instance of the class. You can take a look at the FormWizard class to see how this is done."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,33957,742,36,"I've created and used my own generic view classes, defining __call__ so an instance of the class is callable. I really like it; while Django's generic views allow some customization through keyword arguments, OO generic views (if their behavior is split into a number of separate methods) can have much more fine-grained customization via subclassing, which lets me repeat myself a lot less. (I get tired of rewriting the same create/update view logic anytime I need to tweak something Django's generic views don't quite allow). I've posted some code at djangosnippets.org. The only real downside I see is the proliferation of internal method calls, which may impact performance somewhat. I don't think this is much of a concern; it's rare that Python code execution would be your performance bottleneck in a web app. UPDATE: Django's own generic views are now class-based. UPDATE: FWIW, I've changed my opinion on class-based views since this answer was written. After having used them extensively on a couple of projects, I feel they tend to lead to code that is satisfyingly DRY to write, but very hard to read and maintain later, because functionality is spread across so many different places, and subclasses are so dependent on every implementation detail of the superclasses and mixins. I now feel that TemplateResponse and view decorators is a better answer for decomposing view code."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,123090,742,0,"Generic views will usually be the way to go, but ultimately you're free to handle URLs however you want. FormWizard does things in a class-based way, as do some apps for RESTful APIs. Basically with a URL you are given a bunch of variables and place to provide a callable, what callable you provide is completely up to you - the standard way is to provide a function - but ultimately Django puts no restrictions on what you do. I do agree that a few more examples of how to do this would be good, FormWizard is probably the place to start though."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,2921293,742,11,"I needed to use class based views, but I wanted to be able to use the full name of the class in my URLconf without always having to instantiate the view class before using it. What helped me was a surprisingly simple metaclass: class CallableViewClass(type): def __call__(cls, *args, **kwargs): if args and isinstance(args[0], HttpRequest): instance = super(CallableViewClass, cls).__call__() return instance.__call__(*args, **kwargs) else: instance = super(CallableViewClass, cls).__call__(*args, **kwargs) return instance class View(object): __metaclass__ = CallableViewClass def __call__(self, request, *args, **kwargs): if hasattr(self, request.method): handler = getattr(self, request.method) if hasattr(handler, '__call__'): return handler(request, *args, **kwargs) return HttpResponseBadRequest('Method Not Allowed', status=405) I can now both instantiate view classes and use the instances as view functions, OR I can simply point my URLconf to my class and have the metaclass instantiate (and call) the view class for me. This works by checking the first argument to __call__ â if it's a HttpRequest, it must be an actual HTTP request because it would be nonsense to attept to instantiate a view class with an HttpRequest instance. class MyView(View): def __init__(self, arg=None): self.arg = arg def GET(request): return HttpResponse(self.arg or 'no args provided') @login_required class MyOtherView(View): def POST(request): pass # And all the following work as expected. urlpatterns = patterns('' url(r'^myview1$', 'myapp.views.MyView', name='myview1'), url(r'^myview2$', myapp.views.MyView, name='myview2'), url(r'^myview3$', myapp.views.MyView('foobar'), name='myview3'), url(r'^myotherview$', 'myapp.views.MyOtherView', name='otherview'), ) (I posted a snippet for this at http://djangosnippets.org/snippets/2041/)"
766,20,"I can get Python to work with Postgresql but I cannot get it to work with MySQL. The main problem is that on the shared hosting account I have I do not have the ability to install things such as Django or PySQL, I generally fail when installing them on my computer so maybe it's good I can't install on the host. I found bpgsql really good because it does not require an install, it's a single file that I can look at, read and then call the functions of. Does anybody know of something like this for MySQL?",Python and MySQL,777,766,5,"I don't have any experience with http://www.SiteGround.com as a web host personally. This is just a guess, but it's common for a shared host to support Python and MySQL with the MySQLdb module (e.g., GoDaddy does this). Try the following CGI script to see if MySQLdb is installed. #!/usr/bin/pythonmodule_name = 'MySQLdb'head = '''Content-Type: text/html%s is ''' % module_nametry: __import__(module_name) print head + 'installed'except ImportError: print head + 'not installed'"
766,20,"I can get Python to work with Postgresql but I cannot get it to work with MySQL. The main problem is that on the shared hosting account I have I do not have the ability to install things such as Django or PySQL, I generally fail when installing them on my computer so maybe it's good I can't install on the host. I found bpgsql really good because it does not require an install, it's a single file that I can look at, read and then call the functions of. Does anybody know of something like this for MySQL?",Python and MySQL,802,766,4,"I uploaded it and got an internal error Premature end of script headers After much playing around, I found that if I had import cgiimport cgitb; cgitb.enable()import MySQLdb It would give me a much more useful answer and say that it was not installed, you can see it yourself -> http://woarl.com/db.py Oddly enough, this would produce an error import MySQLdbimport cgiimport cgitb; cgitb.enable() I looked at some of the other files I had up there and it seems that library was one of the ones I had already tried."
766,20,"I can get Python to work with Postgresql but I cannot get it to work with MySQL. The main problem is that on the shared hosting account I have I do not have the ability to install things such as Django or PySQL, I generally fail when installing them on my computer so maybe it's good I can't install on the host. I found bpgsql really good because it does not require an install, it's a single file that I can look at, read and then call the functions of. Does anybody know of something like this for MySQL?",Python and MySQL,1619,766,17,"MySQLdb is what I have used before. If you host is using Python version 2.5 or higher, support for sqlite3 databases is built in (sqlite allows you to have a relational database that is simply a file in your filesystem). But buyer beware, sqlite is not suited for production, so it may depend what you are trying to do with it. Another option may be to call your host and complain, or change hosts. Honestly these days, any self respecting web host that supports python and mysql ought to have MySQLdb pre installed."
766,20,"I can get Python to work with Postgresql but I cannot get it to work with MySQL. The main problem is that on the shared hosting account I have I do not have the ability to install things such as Django or PySQL, I generally fail when installing them on my computer so maybe it's good I can't install on the host. I found bpgsql really good because it does not require an install, it's a single file that I can look at, read and then call the functions of. Does anybody know of something like this for MySQL?",Python and MySQL,8332,766,4,"You could try setting up your own python installation using Virtual Python. Check out how to setup Django using it here. That was written a long time ago, but it shows how I got MySQLdb setup without having root access or anything like it. Once you've got the basics going, you can install any python library you want."
773,256,"I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function. What I'm trying to do is this: Take a list - in this case, the children of an objectified lxml element Divide it into groups based on some criteria Then later iterate over each of these groups separately. I've reviewed the documentation, and the examples, but I've had trouble trying to apply them beyond a simple list of numbers. So, how do I use of itertools.groupby()? Is there another technique I should be using? Pointers to good ""prerequisite"" reading would also be appreciated.",How do I use Python's itertools.groupby()?,783,773,52,"Can you show us your code? The example on the Python docs is quite straightforward: groups = [] uniquekeys = [] for k, g in groupby(data, keyfunc): groups.append(list(g)) # Store group iterator as a list uniquekeys.append(k) So in your case, data is a list of nodes, keyfunc is where the logic of your criteria function goes and then groupby() groups the data. You must be careful to sort the data by the criteria before you call groupby or it won't work. groupby method actually just iterates through a list and whenever the key changes it creates a new group."
773,256,"I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function. What I'm trying to do is this: Take a list - in this case, the children of an objectified lxml element Divide it into groups based on some criteria Then later iterate over each of these groups separately. I've reviewed the documentation, and the examples, but I've had trouble trying to apply them beyond a simple list of numbers. So, how do I use of itertools.groupby()? Is there another technique I should be using? Pointers to good ""prerequisite"" reading would also be appreciated.",How do I use Python's itertools.groupby()?,7286,773,394,"As Sebastjan said, you first have to sort your data. This is important. The part I didn't get is that in the example construction groups = [] uniquekeys = [] for k, g in groupby(data, keyfunc): groups.append(list(g)) # Store group iterator as a list uniquekeys.append(k) k is the current grouping key, and g is an iterator that you can use to iterate over the group defined by that grouping key. In other words, the groupby iterator itself returns iterators. Here's an example of that, using clearer variable names: from itertools import groupby things = [(""animal"", ""bear""), (""animal"", ""duck""), (""plant"", ""cactus""), (""vehicle"", ""speed boat""), (""vehicle"", ""school bus"")] for key, group in groupby(things, lambda x: x[0]): for thing in group: print ""A %s is a %s."" % (thing[1], key) print "" "" This will give you the output: A bear is a animal. A duck is a animal. A cactus is a plant. A speed boat is a vehicle. A school bus is a vehicle. In this example, things is a list of tuples where the first item in each tuple is the group the second item belongs to. The groupby() function takes two arguments: (1) the data to group and (2) the function to group it with. Here, lambda x: x[0] tells groupby() to use the first item in each tuple as the grouping key. In the above for statement, groupby returns three (key, group iterator) pairs - once for each unique key. You can use the returned iterator to iterate over each individual item in that group. Here's a slightly different example with the same data, using a list comprehension: for key, group in groupby(things, lambda x: x[0]): listOfThings = "" and "".join([thing[1] for thing in group]) print key + ""s: "" + listOfThings + ""."" This will give you the output: animals: bear and duck. plants: cactus. vehicles: speed boat and school bus."
773,256,"I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function. What I'm trying to do is this: Take a list - in this case, the children of an objectified lxml element Divide it into groups based on some criteria Then later iterate over each of these groups separately. I've reviewed the documentation, and the examples, but I've had trouble trying to apply them beyond a simple list of numbers. So, how do I use of itertools.groupby()? Is there another technique I should be using? Pointers to good ""prerequisite"" reading would also be appreciated.",How do I use Python's itertools.groupby()?,37252,773,24,"A neato trick with groupby is to run length encoding in one line: [(c,len(list(cgen))) for c,cgen in groupby(some_string)] will give you a list of 2-tuples where the first element is the char and the 2nd is the number of repetitions."
773,256,"I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function. What I'm trying to do is this: Take a list - in this case, the children of an objectified lxml element Divide it into groups based on some criteria Then later iterate over each of these groups separately. I've reviewed the documentation, and the examples, but I've had trouble trying to apply them beyond a simple list of numbers. So, how do I use of itertools.groupby()? Is there another technique I should be using? Pointers to good ""prerequisite"" reading would also be appreciated.",How do I use Python's itertools.groupby()?,1573195,773,5,"@CaptSolo, I tried your example, but it didn't work. from itertools import groupby [(c,len(list(cs))) for c,cs in groupby('Pedro Manoel')] Output: [('P', 1), ('e', 1), ('d', 1), ('r', 1), ('o', 1), (' ', 1), ('M', 1), ('a', 1), ('n', 1), ('o', 1), ('e', 1), ('l', 1)] As you can see, there are two o's and two e's, but they got into separate groups. That's when I realized you need to sort the list passed to the groupby function. So, the correct usage would be: name = list('Pedro Manoel') name.sort() [(c,len(list(cs))) for c,cs in groupby(name)] Output: [(' ', 1), ('M', 1), ('P', 1), ('a', 1), ('d', 1), ('e', 2), ('l', 1), ('n', 1), ('o', 2), ('r', 1)] Just remembering, if the list is not sorted, the groupby function will not work!"
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,982,972,14,"In Python monkey patching generally works by overwriting a class or functions signature with your own. Below is an example from the Zope Wiki: from SomeOtherProduct.SomeModule import SomeClassdef speak(self): return ""ook ook eee eee eee!""SomeClass.speak = speak That code will overwrite/create a method called speak on the class. In Jeff Atwood's recent post on monkey patching. He shows an example in C# 3.0 which is the current language I use for work."
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,984,972,-6,"I don't know Python syntax, but I know Ruby can do it, and it is rather trivial. Let's say you want to add a method to Array that prints the length to standard out: class Array def print_length puts length endend If you don't want to modify the whole class, you can just add the method to a single instance of the array, and no other arrays will have the method: array = [1, 2, 3]def array.print_length puts lengthend Just be aware of the issues involved in using this feature. Jeff Atwood actually wrote about it not too long ago."
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,2982,972,576,"In Python, there is a difference between functions and bound methods. &gt;&gt;&gt; def foo(): ... print ""foo"" ... &gt;&gt;&gt; class A: ... def bar( self ): ... print ""bar"" ... &gt;&gt;&gt; a = A() &gt;&gt;&gt; foo &lt;function foo at 0x00A98D70&gt; &gt;&gt;&gt; a.bar &lt;bound method A.bar of &lt;__main__.A instance at 0x00A9BC88&gt;&gt; &gt;&gt;&gt; Bound methods have been ""bound"" (how descriptive) to an instance, and that instance will be passed as the first argument whenever the method is called. Callables that are attributes of a class (as opposed to an instance) are still unbound, though, so you can modify the class definition whenever you want: &gt;&gt;&gt; def fooFighters( self ): ... print ""fooFighters"" ... &gt;&gt;&gt; A.fooFighters = fooFighters &gt;&gt;&gt; a2 = A() &gt;&gt;&gt; a2.fooFighters &lt;bound method A.fooFighters of &lt;__main__.A instance at 0x00A9BEB8&gt;&gt; &gt;&gt;&gt; a2.fooFighters() fooFighters Previously defined instances are updated as well (as long as they haven't overridden the attribute themselves): &gt;&gt;&gt; a.fooFighters() fooFighters The problem comes when you want to attach a method to a single instance: &gt;&gt;&gt; def barFighters( self ): ... print ""barFighters"" ... &gt;&gt;&gt; a.barFighters = barFighters &gt;&gt;&gt; a.barFighters() Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: barFighters() takes exactly 1 argument (0 given) The function is not automatically bound when it's attached directly to an instance: &gt;&gt;&gt; a.barFighters &lt;function barFighters at 0x00A98EF0&gt; To bind it, we can use the MethodType function in the types module: &gt;&gt;&gt; import types &gt;&gt;&gt; a.barFighters = types.MethodType( barFighters, a ) &gt;&gt;&gt; a.barFighters &lt;bound method ?.barFighters of &lt;__main__.A instance at 0x00A9BC88&gt;&gt; &gt;&gt;&gt; a.barFighters() barFighters This time other instances of the class have not been affected: &gt;&gt;&gt; a2.barFighters() Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; AttributeError: A instance has no attribute 'barFighters' More information can be found by reading about descriptors and metaclass programming."
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,4600,972,4,"What you're looking for is setattr I believe. Use this to set an attribute on an object. &gt;&gt;&gt; def printme(s): print repr(s)&gt;&gt;&gt; class A: pass&gt;&gt;&gt; setattr(A,'printme',printme)&gt;&gt;&gt; a = A()&gt;&gt;&gt; a.printme() # s becomes the implicit 'self' variable&lt; __ main __ . A instance at 0xABCDEFG&gt;"
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,22525,972,3,"What Jason Pratt posted is correct. &gt;&gt;&gt; class Test(object): ... def a(self): ... pass ... &gt;&gt;&gt; def b(self): ... pass ... &gt;&gt;&gt; Test.b = b &gt;&gt;&gt; type(b) &lt;type 'function'&gt; &gt;&gt;&gt; type(Test.a) &lt;type 'instancemethod'&gt; &gt;&gt;&gt; type(Test.b) &lt;type 'instancemethod'&gt; As you can see, Python doesn't consider b() any different than a(). In Python all methods are just variables that happen to be functions."
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,959064,972,66,"Module new is deprecated since python 2.6 and removed in 3.0, use types see http://docs.python.org/library/new.html In the example below I've deliberately removed return value from patch_me() function. I think that giving return value may make one believe that patch returns a new object, which is not true - it modifies the incoming one. Probably this can facilitate a more disciplined use of monkeypatching. import types class A(object):#but seems to work for old style objects too pass def patch_me(target): def method(target,x): print ""x="",x print ""called from"", target target.method = types.MethodType(method,target) #add more if needed a = A() print a #out: &lt;__main__.A object at 0x2b73ac88bfd0&gt; patch_me(a) #patch instance a.method(5) #out: x= 5 #out: called from &lt;__main__.A object at 0x2b73ac88bfd0&gt; patch_me(A) A.method(6) #can patch class too #out: x= 6 #out: called from &lt;class '__main__.A'&gt;"
1476,251,"How do you express an integer as a binary number with Python literals? I was easily able to find the answer for hex: &gt;&gt;&gt; 0x12AF 4783 &gt;&gt;&gt; 0x100 256 and octal: &gt;&gt;&gt; 01267 695 &gt;&gt;&gt; 0100 64 How do you use literals to express binary in Python? Summary of Answers Python 2.5 and earlier: can express binary using int('01010101111',2) but not with a literal. Python 2.5 and earlier: there is no way to express binary literals. Python 2.6 beta: You can do like so: 0b1100111 or 0B1100111. Python 2.6 beta: will also allow 0o27 or 0O27 (second character is the letter O) to represent an octal. Python 3.0 beta: Same as 2.6, but will no longer allow the older 027 syntax for octals.",How do you express binary literals in Python?,1478,1476,-1,"As far as I can tell Python, up through 2.5, only supports hexadecimal &amp; octal literals. I did find some discussions about adding binary to future versions but nothing definite."
1476,251,"How do you express an integer as a binary number with Python literals? I was easily able to find the answer for hex: &gt;&gt;&gt; 0x12AF 4783 &gt;&gt;&gt; 0x100 256 and octal: &gt;&gt;&gt; 01267 695 &gt;&gt;&gt; 0100 64 How do you use literals to express binary in Python? Summary of Answers Python 2.5 and earlier: can express binary using int('01010101111',2) but not with a literal. Python 2.5 and earlier: there is no way to express binary literals. Python 2.6 beta: You can do like so: 0b1100111 or 0B1100111. Python 2.6 beta: will also allow 0o27 or 0O27 (second character is the letter O) to represent an octal. Python 3.0 beta: Same as 2.6, but will no longer allow the older 027 syntax for octals.",How do you express binary literals in Python?,1479,1476,-1,I am pretty sure this is one of the things due to change in Python 3.0 with perhaps bin() to go with hex() and oct(). EDIT: lbrandy's answer is correct in all cases.
1476,251,"How do you express an integer as a binary number with Python literals? I was easily able to find the answer for hex: &gt;&gt;&gt; 0x12AF 4783 &gt;&gt;&gt; 0x100 256 and octal: &gt;&gt;&gt; 01267 695 &gt;&gt;&gt; 0100 64 How do you use literals to express binary in Python? Summary of Answers Python 2.5 and earlier: can express binary using int('01010101111',2) but not with a literal. Python 2.5 and earlier: there is no way to express binary literals. Python 2.6 beta: You can do like so: 0b1100111 or 0B1100111. Python 2.6 beta: will also allow 0o27 or 0O27 (second character is the letter O) to represent an octal. Python 3.0 beta: Same as 2.6, but will no longer allow the older 027 syntax for octals.",How do you express binary literals in Python?,1484,1476,57,"&gt;&gt;&gt; print int('01010101111',2) 687 &gt;&gt;&gt; print int('11111111',2) 255 Another way."
1476,251,"How do you express an integer as a binary number with Python literals? I was easily able to find the answer for hex: &gt;&gt;&gt; 0x12AF 4783 &gt;&gt;&gt; 0x100 256 and octal: &gt;&gt;&gt; 01267 695 &gt;&gt;&gt; 0100 64 How do you use literals to express binary in Python? Summary of Answers Python 2.5 and earlier: can express binary using int('01010101111',2) but not with a literal. Python 2.5 and earlier: there is no way to express binary literals. Python 2.6 beta: You can do like so: 0b1100111 or 0B1100111. Python 2.6 beta: will also allow 0o27 or 0O27 (second character is the letter O) to represent an octal. Python 3.0 beta: Same as 2.6, but will no longer allow the older 027 syntax for octals.",How do you express binary literals in Python?,13107,1476,204,For reference&mdash;future Python possibilities: Starting with Python 2.6 you can express binary literals using the prefix 0b or 0B: &gt;&gt;&gt; 0b101111 47 You can also use the new bin function to get the binary representation of a number: &gt;&gt;&gt; bin(173) '0b10101101' Development version of the documentation: What's New in Python 2.6
1734,20,"I was just looking through some information about Google's protocol buffers data interchange format. Has anyone played around with the code or even created a project around it? I'm currently using XML in a Python project for structured content created by hand in a text editor, and I was wondering what the general opinion was on Protocol Buffers as a user-facing input format. The speed and brevity benefits definitely seem to be there, but there are so many factors when it comes to actually generating and processing the data.",Any experiences with Protocol Buffers?,1780,1734,8,"If you are looking for user facing interaction, stick with xml. It has more support, understanding, and general acceptance currently. If it's internal, I would say that protocol buffers are a great idea. Maybe in a few years as more tools come out to support protocol buffers, then start looking towards that for a public facing api. Until then... JSON?"
1734,20,"I was just looking through some information about Google's protocol buffers data interchange format. Has anyone played around with the code or even created a project around it? I'm currently using XML in a Python project for structured content created by hand in a text editor, and I was wondering what the general opinion was on Protocol Buffers as a user-facing input format. The speed and brevity benefits definitely seem to be there, but there are so many factors when it comes to actually generating and processing the data.",Any experiences with Protocol Buffers?,6161,1734,10,"Protocol buffers are intended to optimize communications between machines. They are really not intended for human interaction. Also, the format is binary, so it could not replace XML in that use case. I would also recommend JSON as being the most compact text-based format."
1734,20,"I was just looking through some information about Google's protocol buffers data interchange format. Has anyone played around with the code or even created a project around it? I'm currently using XML in a Python project for structured content created by hand in a text editor, and I was wondering what the general opinion was on Protocol Buffers as a user-facing input format. The speed and brevity benefits definitely seem to be there, but there are so many factors when it comes to actually generating and processing the data.",Any experiences with Protocol Buffers?,123093,1734,3,"From your brief description, it sounds like protocol buffers is not the right fit. The phrase ""structured content created by hand in a text editor"" pretty much screams for XML. But if you want efficient, low latency communications with data structures that are not shared outside your organization, binary serialization such as protocol buffers can offer a huge win."
1734,20,"I was just looking through some information about Google's protocol buffers data interchange format. Has anyone played around with the code or even created a project around it? I'm currently using XML in a Python project for structured content created by hand in a text editor, and I was wondering what the general opinion was on Protocol Buffers as a user-facing input format. The speed and brevity benefits definitely seem to be there, but there are so many factors when it comes to actually generating and processing the data.",Any experiences with Protocol Buffers?,1418610,1734,3,"Another drawback of binary format like PB is that if there is a single bit of error, the entire data file is not parsable, but with JSON or XML, as the last resort you can still manually fix the error because it is human readable and has redundancy built-in.."
1829,12,"I've got a menu in Python. That part was easy. I'm using raw_input() to get the selection from the user. The problem is that raw_input (and input) require the user to press Enter after they make a selection. Is there any way to make the program act immediately upon a keystroke? Here's what I've got so far: import sys print """"""Menu 1) Say Foo 2) Say Bar"""""" answer = raw_input(""Make a selection&gt; "") if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"" It would be great to have something like print menu while lastKey = """": lastKey = check_for_recent_keystrokes() if ""1"" in lastKey: #do stuff...",How do I make a menu that does not require the user to press [enter] to make a selection?,1840,1829,8,"On Linux: set raw mode select and read the keystroke restore normal settings import sys import select import termios import tty def getkey(): old_settings = termios.tcgetattr(sys.stdin) tty.setraw(sys.stdin.fileno()) select.select([sys.stdin], [], [], 0) answer = sys.stdin.read(1) termios.tcsetattr(sys.stdin, termios.TCSADRAIN, old_settings) return answer print """"""Menu 1) Say Foo 2) Say Bar"""""" answer=getkey() if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"""
1829,12,"I've got a menu in Python. That part was easy. I'm using raw_input() to get the selection from the user. The problem is that raw_input (and input) require the user to press Enter after they make a selection. Is there any way to make the program act immediately upon a keystroke? Here's what I've got so far: import sys print """"""Menu 1) Say Foo 2) Say Bar"""""" answer = raw_input(""Make a selection&gt; "") if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"" It would be great to have something like print menu while lastKey = """": lastKey = check_for_recent_keystrokes() if ""1"" in lastKey: #do stuff...",How do I make a menu that does not require the user to press [enter] to make a selection?,1852,1829,6,On Windows: import msvcrt answer=msvcrt.getch()
1829,12,"I've got a menu in Python. That part was easy. I'm using raw_input() to get the selection from the user. The problem is that raw_input (and input) require the user to press Enter after they make a selection. Is there any way to make the program act immediately upon a keystroke? Here's what I've got so far: import sys print """"""Menu 1) Say Foo 2) Say Bar"""""" answer = raw_input(""Make a selection&gt; "") if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"" It would be great to have something like print menu while lastKey = """": lastKey = check_for_recent_keystrokes() if ""1"" in lastKey: #do stuff...",How do I make a menu that does not require the user to press [enter] to make a selection?,1870,1829,2,"Wow, that took forever. Ok, here's what I've ended up with #!C:\python25\python.exeimport msvcrtprint """"""Menu1) Say Foo 2) Say Bar""""""while 1: char = msvcrt.getch() if char == chr(27): #escape break if char == ""1"": print ""foo"" break if char == ""2"": print ""Bar"" break It fails hard using IDLE, the python...thing...that comes with python. But once I tried it in DOS (er, CMD.exe), as a real program, then it ran fine. No one try it in IDLE, unless you have Task Manager handy. I've already forgotten how I lived with menus that arn't super-instant responsive."
1829,12,"I've got a menu in Python. That part was easy. I'm using raw_input() to get the selection from the user. The problem is that raw_input (and input) require the user to press Enter after they make a selection. Is there any way to make the program act immediately upon a keystroke? Here's what I've got so far: import sys print """"""Menu 1) Say Foo 2) Say Bar"""""" answer = raw_input(""Make a selection&gt; "") if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"" It would be great to have something like print menu while lastKey = """": lastKey = check_for_recent_keystrokes() if ""1"" in lastKey: #do stuff...",How do I make a menu that does not require the user to press [enter] to make a selection?,1885,1829,0,"The reason msvcrt fails in IDLE is because IDLE is not accessing the library that runs msvcrt. Whereas when you run the program natively in cmd.exe it works nicely. For the same reason that your program blows up on Mac and Linux terminals. But I guess if you're going to be using this specifically for windows, more power to ya."
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,1857,1854,341,&gt;&gt;&gt; import os &gt;&gt;&gt; print os.name posix &gt;&gt;&gt; import platform &gt;&gt;&gt; platform.system() 'Linux' &gt;&gt;&gt; platform.release() '2.6.22-15-generic' See: platform â Access to underlying platformâs identifying data
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,1871,1854,112,"Dang -- lbrandy beat me to the punch, but that doesn't mean I can't provide you with the system results for Vista! &gt;&gt;&gt; import os &gt;&gt;&gt; os.name 'nt' &gt;&gt;&gt; import platform &gt;&gt;&gt; platform.system() 'Windows' &gt;&gt;&gt; platform.release() 'Vista'"
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,1879,1854,91,For the record here's the results on Mac: &gt;&gt;&gt; import os &gt;&gt;&gt; os.name 'posix' &gt;&gt;&gt; import platform &gt;&gt;&gt; platform.system() 'Darwin' &gt;&gt;&gt; platform.release() '8.11.1'
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,28426,1854,30,You can also use sys.platform if you already have imported sys and you don't want to import another module &gt;&gt;&gt; import sys &gt;&gt;&gt; sys.platform 'linux2'
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,553500,1854,13,I do this import sys print sys.platform Docs here : sys.platform. Everything you need is probably in the sys module.
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,3021004,1854,7,"I am using the WLST tool that comes with weblogic, and it doesn't implement the platform package. wls:/offline&gt; import os wls:/offline&gt; print os.name java wls:/offline&gt; import sys wls:/offline&gt; print sys.platform 'java1.5.0_11' Apart from patching the system javaos.py (issue with os.system() on windows 2003 with jdk1.5) (which I can't do, I have to use weblogic out of the box), this is what I use: def iswindows(): os = java.lang.System.getProperty( ""os.name"" ) return ""win"" in os.lower()"
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",1987,1983,19,"The list [1,2,3] is dynamic and flexible but that flexibility comes at a speed cost. The tuple (1,2,3) is fixed (immutable) and therefore faster."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",2277,1983,26,"From the Python FAQ: Lists and tuples, while similar in many respects, are generally used in fundamentally different ways. Tuples can be thought of as being similar to Pascal records or C structs; they're small collections of related data which may be of different types which are operated on as a group. For example, a Cartesian coordinate is appropriately represented as a tuple of two or three numbers. Lists, on the other hand, are more like arrays in other languages. They tend to hold a varying number of objects all of which have the same type and which are operated on one-by-one. Generally by convention you wouldn't choose a list or a tuple just based on its (im)mutability. You would choose a tuple for small collections of completely different pieces of data in which a full-blown class would be too heavyweight, and a list for collections of any reasonable size where you have a homogeneous set of data."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",4595,1983,10,"Tuples are a quick\flexible way to create composite data-types. Lists are containers for, well, lists of objects. For example, you would use a List to store a list of student details in a class. Each student detail in that list may be a 3-tuple containing their roll number, name and test score. `[(1,'Mark',86),(2,'John',34)...]` Also, because tuples are immutable they can be used as keys in dictionaries."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",5719,1983,1,"As others have mentioned, Lists and tuples are both containers which can be used to store python objects. Lists are extensible and their contents can change by assignment, on the other hand tuples are immutable. Also, lists cannot be used as keys in a dictionary whereas tuples can."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",5746,1983,1,"If you can find a solution that works with tuples, use them, as it forces immutability which kind of drives you down a more functional path. You almost never regret going down the functional/immutable path."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",12454,1983,2,"Whenever I need to pass in a collection of items to a function, if I want the function to not change the values passed in - I use tuples. Else if I want to have the function to alter the values, I use list. Always if you are using external libraries and need to pass in a list of values to a function and are unsure about the integrity of the data, use a tuple."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",12557,1983,7,"The notion of tuples are highly expressive: Pragmatically, they are great for packing and unpacking values (x,y=coord). In combination with dictionaries (hash tables), they allow forms of mapping that would otherwise require many levels of association. For example, consider marking that (x,y) has been found. // PHP if (!isset($found[$x])) { $found[$x] = Array(); $found[$x][$y] = true; } else if (!isset($found[$x][$y])) { $found[$x][$y] = true; } # Python found[(x,y)] = True # parens added for clarity Lists should be used with the expectation of operations on its contents (hence the various mentions of immutability). One will want to pop, push, splice, slice, search, insert before, insert after, etc with a list. Tuples should be a low-level representation of an object, where simple comparisons are made, or operations such as extracting the n'th element or n elements in a predictable fashion, such as the coordinates example given earlier. Lastly, lists are not hashable, so the type of mapping done with dictionaries (hash tables in Perl, associative arrays in PHP) must be done with tuples. Here's a simple example of tuples and dictionaries, together at last: """""" couple is a tuple of two people doesLike is a dictionary mapping couples to True or False """""" couple = ""john"", ""jane"" doesLike = dict() doesLike[couple] = True doesLike[""jane"", ""john""] = False # unrequited love :'("
2311,26,"I have created a PHP-script to update a webserver that is live inside a local directory. I'm migrating the script into Python. It works fine for the most part, but after a PUT command the size of the file appears to change. Thus, the size of the file is different from that of the file on the server. Once I download again the file from the FTP server, the only difference is the CR/LF mark. This annoys me because the same script is comparing the size of the files to update. Also, in case it means anything, the script works perfectly in PHP vÃ­a ftp_put. from ftplib import FTP ftpserver = ""myserver"" ftpuser = ""myuser"" ftppass = ""mypwd"" locfile = ""g:/test/style.css"" ftpfile = ""/temp/style.css"" try: ftp = FTP(ftpserver, ftpuser, ftppass) except: exit (""Cannot connect"") f = open (locfile, ""r"") try: ftp.delete (ftpfile) except: pass # ftp.sendcmd (""TYPE I"") # ftp.storlines(""STOR %s"" % ftpfile, f) ftp.storbinary(""STOR %s"" % ftpfile, f) f.close() ftp.dir (ftpfile) ftp.quit() Any suggestions?",File size differences after copying a file to a server vÃ­a FTP,2316,2311,14,"Do you need to open the locfile in binary using rb? f = open (locfile, ""rb"")"
2311,26,"I have created a PHP-script to update a webserver that is live inside a local directory. I'm migrating the script into Python. It works fine for the most part, but after a PUT command the size of the file appears to change. Thus, the size of the file is different from that of the file on the server. Once I download again the file from the FTP server, the only difference is the CR/LF mark. This annoys me because the same script is comparing the size of the files to update. Also, in case it means anything, the script works perfectly in PHP vÃ­a ftp_put. from ftplib import FTP ftpserver = ""myserver"" ftpuser = ""myuser"" ftppass = ""mypwd"" locfile = ""g:/test/style.css"" ftpfile = ""/temp/style.css"" try: ftp = FTP(ftpserver, ftpuser, ftppass) except: exit (""Cannot connect"") f = open (locfile, ""r"") try: ftp.delete (ftpfile) except: pass # ftp.sendcmd (""TYPE I"") # ftp.storlines(""STOR %s"" % ftpfile, f) ftp.storbinary(""STOR %s"" % ftpfile, f) f.close() ftp.dir (ftpfile) ftp.quit() Any suggestions?",File size differences after copying a file to a server vÃ­a FTP,2317,2311,2,"Well if you go under the properties of your file in Windows or a *nix environment, you will notice two sizes. One is the sector size, and one is the actual size. The sector size is the number of sectors in bytes that are used up on your hard disk. That is because two files cannot be in the same sector with most modern file systems, so if your file fills up half of the sector the whole sector is marked as filled. So you might be comparing the sector file size to the actual file size on the FTP server or vice versa."
2311,26,"I have created a PHP-script to update a webserver that is live inside a local directory. I'm migrating the script into Python. It works fine for the most part, but after a PUT command the size of the file appears to change. Thus, the size of the file is different from that of the file on the server. Once I download again the file from the FTP server, the only difference is the CR/LF mark. This annoys me because the same script is comparing the size of the files to update. Also, in case it means anything, the script works perfectly in PHP vÃ­a ftp_put. from ftplib import FTP ftpserver = ""myserver"" ftpuser = ""myuser"" ftppass = ""mypwd"" locfile = ""g:/test/style.css"" ftpfile = ""/temp/style.css"" try: ftp = FTP(ftpserver, ftpuser, ftppass) except: exit (""Cannot connect"") f = open (locfile, ""r"") try: ftp.delete (ftpfile) except: pass # ftp.sendcmd (""TYPE I"") # ftp.storlines(""STOR %s"" % ftpfile, f) ftp.storbinary(""STOR %s"" % ftpfile, f) f.close() ftp.dir (ftpfile) ftp.quit() Any suggestions?",File size differences after copying a file to a server vÃ­a FTP,2510,2311,0,Small files take up a whole node on the filesystem whatever size that is. My host tends to report all small files as 4kb in ftp but in a shell gives an accurate size so it might be a 'feature' common to ftp clients.
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,2937,2933,189,"First you will need some GUI library with Python bindings and then (if you want) some program that will convert your python scripts into standalone executables. Cross-platform GUI libraries with Python bindings (Windows, Linux, Mac) Of course, there are many, but the most popular that I've seen in wild are: Tkinter - based on Tk GUI toolkit (de-facto standard GUI library for python, free for commercial projects) WxPython - based on WxWidgets (very popular, free for commercial projects) PyQt - based on Qt (also very popular and more stable than WxWidgets but costly license for commercial projects) Complete list is at http://wiki.python.org/moin/GuiProgramming Single executable (Windows) py2exe - Probably the most popular out there (PyInstaller is also gaining in popularity) Single executable (Linux) Freeze - works the same way like py2exe but targets Linux platform Single executable (Mac) py2app - again, works like py2exe but targets Mac OS"
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,2941,2933,0,"You don't need to compile python for Mac/Windows/Linux. It is an interpreted language, so you simply need to have the Python interpreter installed on the system of your choice (it is available for all three platforms). As for a GUI library that works cross platform, Python's Tk/Tcl widget library works very well, and I believe is sufficiently cross platform. Tkinter is the python interface to Tk/Tcl From the python project webpage: Tkinter is not the only GuiProgramming toolkit for Python. It is however the most commonly used one, and almost the only one that is portable between Unix, Mac and Windows"
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,2980,2933,2,"Since python is installed on nearly every non-Windows OS by default now, the only thing you really need to make sure of is that all of the non-standard libraries you use are installed. Having said that, it is possible to build executables that include the python interpreter, and any libraries you use. This is likely to create a large executable, however. MacOS X even includes support in the Xcode IDE for creating full standalone GUI apps. These can be run by any user running OS X."
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,12166,2933,13,An alternative tool to py2exe is bbfreeze which generates executables for windows and linux. It's newer than py2exe and handles eggs quite well. I've found it magically works better without configuration for a wide variety of applications.
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,12167,2933,2,"I'm not sure that this is the best way to do it, but when I'm deploying Ruby GUI apps (not Python, but has the same ""problem"" as far as .exe's are concerned) on Windows, I just write a short launcher in C# that calls on my main script. It compiles to an executable, and I then have an application executable."
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,15938,2933,3,"For the GUI itself: PyQT is pretty much the reference. Another way to develop a rapid user interface is to write a web app, have it run locally and display the app in the browser. Plus, if you go for the Tkinter option suggested by lubos hasko you may want to try portablepy to have your app run on Windows environment without Python."
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,31859,2933,39,"Another system (not mentioned in the accepted answer yet) is PyInstaller, which worked for a PyQt project of mine when py2exe would not. I found it easier to use. http://www.pyinstaller.org/ Pyinstaller is based on Gordon McMillan's Python Installer. Which is no longer available."
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,265570,2933,7,"There's also PyGTK, which is basically a Python wrapper for the Gnome Toolkit. I've found it easier to wrap my mind around than Tkinter, coming from pretty much no knowledge of GUI programming previously. It works pretty well and has some good tutorials. Unfortunately there isn't an installer for Python 2.6 for Windows yet, and may not be for a while."
3061,761,"What is the best way to go about calling a function given a string with the function's name in a Python program. For example, let's say that I have a module foo, and I have a string whose contents are ""bar"". What is the best way to go about calling foo.bar()? I need to get the return value of the function, which is why I don't just use eval. I figured out how to do it by using eval to define a temp function that returns the result of that function call, but I'm hoping that there is a more elegant way to do this.",Calling a function of a module from a string with the function's name in Python,3071,3061,925,"Assuming module foo with method bar: import foo methodToCall = getattr(foo, 'bar') result = methodToCall() As far as that goes, lines 2 and 3 can be compressed to: result = getattr(foo, 'bar')() if that makes more sense for your use case. You can use getattr in this fashion on class instance bound methods, module-level methods, class methods... the list goes on."
3061,761,"What is the best way to go about calling a function given a string with the function's name in a Python program. For example, let's say that I have a module foo, and I have a string whose contents are ""bar"". What is the best way to go about calling foo.bar()? I need to get the return value of the function, which is why I don't just use eval. I figured out how to do it by using eval to define a temp function that returns the result of that function call, but I'm hoping that there is a more elegant way to do this.",Calling a function of a module from a string with the function's name in Python,4605,3061,145,"Patrick's solution is probably the cleanest. If you need to dynamically pick up the module as well, you can import it like: m = __import__ ('foo') func = getattr(m,'bar') func()"
3061,761,"What is the best way to go about calling a function given a string with the function's name in a Python program. For example, let's say that I have a module foo, and I have a string whose contents are ""bar"". What is the best way to go about calling foo.bar()? I need to get the return value of the function, which is why I don't just use eval. I figured out how to do it by using eval to define a temp function that returns the result of that function call, but I'm hoping that there is a more elegant way to do this.",Calling a function of a module from a string with the function's name in Python,834451,3061,266,"locals()[""myfunction""]() or globals()[""myfunction""]() locals returns a dictionary with a current local symbol table. globals returns a dictionary with global symbol table."
3976,12,"I have a Prolite LED sign that I like to set up to show scrolling search queries from a apache logs and other fun statistics. The problem is, my G5 does not have a serial port, so I have to use a usb to serial dongle. It shows up as /dev/cu.usbserial and /dev/tty.usbserial . When I do this everything seems to be hunky-dory: stty -f /dev/cu.usbserial speed 9600 baud; lflags: -icanon -isig -iexten -echo iflags: -icrnl -ixon -ixany -imaxbel -brkint oflags: -opost -onlcr -oxtabs cflags: cs8 -parenb Everything also works when I use the serial port tool to talk to it. If I run this piece of code while the above mentioned serial port tool, everthing also works. But as soon as I disconnect the tool the connection gets lost. #!/usr/bin/python import serial ser = serial.Serial('/dev/cu.usbserial', 9600, timeout=10) ser.write(""&lt;ID01&gt;&lt;PA&gt; \r\n"") read_chars = ser.read(20) print read_chars ser.close() So the question is, what magicks do I need to perform to start talking to the serial port without the serial port tool? Is that a permissions problem? Also, what's the difference between /dev/cu.usbserial and /dev/tty.usbserial? Nope, no serial numbers. The thing is, the problem persists even with sudo-running the python script, and the only thing that makes it go through if I open the connection in the gui tool that I mentioned.",Programmatically talking to a Serial Port in OS X or Linux,4128,3976,0,"have you tried watching the traffic between the GUI and the serial port to see if there is some kind of special command being sent across? Also just curious, Python is sending ASCII and not UTF-8 or something else right? The reason I ask is because I noticed your quote changes for the strings and in some languages that actually is the difference between ASCII and UTF-8."
3976,12,"I have a Prolite LED sign that I like to set up to show scrolling search queries from a apache logs and other fun statistics. The problem is, my G5 does not have a serial port, so I have to use a usb to serial dongle. It shows up as /dev/cu.usbserial and /dev/tty.usbserial . When I do this everything seems to be hunky-dory: stty -f /dev/cu.usbserial speed 9600 baud; lflags: -icanon -isig -iexten -echo iflags: -icrnl -ixon -ixany -imaxbel -brkint oflags: -opost -onlcr -oxtabs cflags: cs8 -parenb Everything also works when I use the serial port tool to talk to it. If I run this piece of code while the above mentioned serial port tool, everthing also works. But as soon as I disconnect the tool the connection gets lost. #!/usr/bin/python import serial ser = serial.Serial('/dev/cu.usbserial', 9600, timeout=10) ser.write(""&lt;ID01&gt;&lt;PA&gt; \r\n"") read_chars = ser.read(20) print read_chars ser.close() So the question is, what magicks do I need to perform to start talking to the serial port without the serial port tool? Is that a permissions problem? Also, what's the difference between /dev/cu.usbserial and /dev/tty.usbserial? Nope, no serial numbers. The thing is, the problem persists even with sudo-running the python script, and the only thing that makes it go through if I open the connection in the gui tool that I mentioned.",Programmatically talking to a Serial Port in OS X or Linux,4162,3976,4,"/dev/cu.xxxxx is the ""callout"" device, it's what you use when you establish a connection to the serial device and start talking to it. /dev/tty.xxxxx is the ""dialin"" device, used for monitoring a port for incoming calls for e.g. a fax listener."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,4958,4942,2,Focus on the shorter time needed for development/prototype and possibly easier maintenance (none of this may apply against Ruby).
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,4978,4942,11,"This is one of those cases that really boil down to personal preference or situational details. If you're more comfortable and experienced with Python, then say so. Are they asking you to justify it because they're more comfortable with one of the other environments? After you're done, will the system be passed off to someone else for long-term maintenance? If they ask you to use a technology or language that you're not as familiar with, then make sure they know up-front that it's going to take you longer."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,5014,4942,3,"I would consider that using python on a new project is completely dependent on what problem you are trying to solve with python. If you want someone to agree with you that you should use python, then show them how python's features apply specifically to that problem. In the case of web development with python, talk about WSGI and other web libraries and frameworks you could use that would make your life easier. One note for python is that most of the frameworks for python web development can be plugged right into any current project. With ruby on rails, you're practically working in a DSL that anyone who uses your project will have to learn. If they know python, then they can figure out what you are doing with django, etc in a day. I'm only talking about web development because it appears that's what you are going to be working on seeing ruby, python and PHP in the same list. The real message that's important is applying to whatever it is you like about python directly to some problem you are trying to solve."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,15291,4942,0,"I agree with mreggen. Tell them by working in Python you can get things done faster. Getting things done faster possibly means money saved by the client. In the least it means that you are working with a language you a more comfortable in, meaning faster development, debugging, and refactoring time. There will be less time spent looking up documentation on what function to use to find the length of a string, etc."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,15296,4942,4,"It's one of the preferred languages over at Google - It's several years ahead of Ruby in terms of ""maturity"" (what ever that really means - but managers like that). Since it's prefered by Google you can also run it on the Google App Engine. Mircosoft is also embracing Python, and will have a v2.0 of IronPython coming out shortly. They are working on a Ruby implementation as well, but the Python version is way ahead, and is actually ""ready for primetime"". That give you the possibility for easy integration with .NET code, as well as being able to write client side RIAs in Python when Silverlight 2 ships."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,21221,4942,6,"The best sell of Python I've ever seen was by a manager in our group who had a young daughter. He used a quote attributed to Einstein: If you can't explain something to a six-year-old, you really don't understand it yourself. The next few slides of his presentation demonstrated how he was able to teach his young daughter some basic Python in less than 30 minutes, with examples of the code she wrote and an explanation of what it did. He ended the presentation with a picture of his daughter and her quote ""Programming is fun!"" I would focus on Python's user friendliness and wealth of libraries and frameworks. There are also a lot of little libraries that you might not get in other languages, and would have to write yourself (i.e. How a C++ developer writes Python). Good luck!"
5102,14,"I tried to follow a couple of googled up tutorials on setting up mod_python, but failed every time. Do you have a good, step-by step, rock-solid howto? My dev box is OS X, production - Centos.",How do you set up Python scripts to work in Apache 2.0?,5129,5102,12,"There are two main ways of running Python on Apache. The simplest would be to use CGI and write normal Python scripts while the second is using a web framework like Django or Pylons. Using CGI is straightforward. Make sure your Apache config file has a cgi-bin set up. If not, follow their documentation (http://httpd.apache.org/docs/2.0/howto/cgi.html). At that point all you need to do is place your Python scripts in the cgi-bin directory and the standard output will become the HTTP response. Refer to Python's documentation for further info (https://docs.python.org/library/cgi.html). If you want to use a web framework you'll need to setup mod_python or FastCGI. These steps are dependent on which framework you want to use. Django provides clear instructions on how to setup mod_python and Django with Apache (http://www.djangoproject.com/documentation/modpython/)"
5102,14,"I tried to follow a couple of googled up tutorials on setting up mod_python, but failed every time. Do you have a good, step-by step, rock-solid howto? My dev box is OS X, production - Centos.",How do you set up Python scripts to work in Apache 2.0?,5165,5102,8,"Yes, mod_python is pretty confusing to set up. Here's how I did it. In httpd.conf: LoadModule python_module modules/mod_python.so&lt;Directory ""/serverbase/htdocs/myapp""&gt; AddHandler mod_python .py PythonHandler myapp PythonDebug On and in your application directory: $ /serverbase/htdocs/myapp$ ls -ltotal 16-r-xr-xr-x 1 root sys 6484 May 21 15:54 myapp.py Repeat the configuration for each python program you wish to have running under mod_python."
5102,14,"I tried to follow a couple of googled up tutorials on setting up mod_python, but failed every time. Do you have a good, step-by step, rock-solid howto? My dev box is OS X, production - Centos.",How do you set up Python scripts to work in Apache 2.0?,5168,5102,5,Are you running Python on UNIX or Windows? An alternative to mod_python and FastCGI is mod_wsgi. You can find out more at modwsgi I have built and installed this on Solaris without problems. I had previously tried mod_python but ran into problems with shared libraries as part of the build. There are good install docs available.
5136,6,"A researcher has created a small simulation in MATLAB, and we want to make it accessible to others. My plan is to take the simulation, clean up a few things, and turn it into a set of functions. Then, I plan to compile it into a C library and use SWIG to create a Python wrapper. At that point, I should be able to call the simulation from a small Django app. At least, I hope so. Do I have the right plan? Has anyone else done something similar? Can you let me know if there are some serious pitfalls I'm not aware of at the moment?",Does anyone have experience creating a shared library in MATLAB?,5302,5136,4,I won't help much but I remember that I was able to wrap MATLAB simulation into DLL and then call it from Delphi app. It work really well. Anyway: good luck!!!
5136,6,"A researcher has created a small simulation in MATLAB, and we want to make it accessible to others. My plan is to take the simulation, clean up a few things, and turn it into a set of functions. Then, I plan to compile it into a C library and use SWIG to create a Python wrapper. At that point, I should be able to call the simulation from a small Django app. At least, I hope so. Do I have the right plan? Has anyone else done something similar? Can you let me know if there are some serious pitfalls I'm not aware of at the moment?",Does anyone have experience creating a shared library in MATLAB?,16189,5136,1,"Perhaps try ctypes instead of SWIG. If it has been included as a part of Python 2.5, then it must be good :-)"
5136,6,"A researcher has created a small simulation in MATLAB, and we want to make it accessible to others. My plan is to take the simulation, clean up a few things, and turn it into a set of functions. Then, I plan to compile it into a C library and use SWIG to create a Python wrapper. At that point, I should be able to call the simulation from a small Django app. At least, I hope so. Do I have the right plan? Has anyone else done something similar? Can you let me know if there are some serious pitfalls I'm not aware of at the moment?",Does anyone have experience creating a shared library in MATLAB?,138534,5136,2,"I'd also try ctypes first. Use the Matlab compiler to compile the code into C. Compile the C code into a DLL. Use ctypes to load and call code from this DLL The hardest step is probably 1, but if you already know Matlab and have used the Matlab compiler, you should not have serious problems with it."
5136,6,"A researcher has created a small simulation in MATLAB, and we want to make it accessible to others. My plan is to take the simulation, clean up a few things, and turn it into a set of functions. Then, I plan to compile it into a C library and use SWIG to create a Python wrapper. At that point, I should be able to call the simulation from a small Django app. At least, I hope so. Do I have the right plan? Has anyone else done something similar? Can you let me know if there are some serious pitfalls I'm not aware of at the moment?",Does anyone have experience creating a shared library in MATLAB?,1659332,5136,5,"One thing to remember is that the Matlab compiler does not actually compile the Matlab code into native machine instructions. It simply wraps it into a standalone executable or a library with its own runtime engine that runs it. You would be able to run your code without Matlab installed, and you would be able to interface it with other languages, but it will still be interpreted Matlab code, so there would be no speedup."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",5319,5313,8,erm.. HTML? (trying to be funny here... while we wait for real answers..)
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",5320,5313,1,"The wxWidgets (formerly known as wxWindows) library might be what you're looking for. There's a particularly good port for Python, wxPython, as well as versions for different languages -- C#, C++, Perl and Ruby come to mind -- and for various GUIs: Win32, Mac OS X, GTK+, X11, Motif, WinCE. The library's been around for a while and is pretty solid."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",5340,5313,3,"Not sure if this is what you're looking for, but there's Glade (or Windows download) which is a designer for GTK+. It generates an XML file which can then be used to build the GUI in a number of different languages."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",5343,5313,5,"Qt (pronounced ""cute"" by its creators[1]) is a cross-platform application development framework, widely used for the development of GUI programs. Qt uses C++ with several non-standard extensions implemented by an additional pre-processor that generates standard C++ code before compilation. Qt can also be used in several other programming languages; bindings exist for Ada (QtAda)[4], C# (Qyoto/Kimono)[5], Java (Qt Jambi)[6], Pascal, Perl, PHP (PHP-Qt), Ruby (RubyQt), and Python (PyQt). It runs on all major platforms, and has extensive internationalization support. Non-GUI features include SQL database access, XML parsing, thread management, network support and a unified cross-platform API for file handling."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",6616,5313,3,XML User Interface Language. Don't know much about it so not sure if it meets your desires. Post back with your experience if you play with it.
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",7496,5313,0,"I read a little on XML User Interface Language (XUL) and it looks really robust and well supported. The main problem for me is it's tied to the Gecko rendering engine so it's cross platform the way wxWidgets, QT and GTK+ are cross platform. Also, there Python bindings don't seem as good as those other libraries. GladeXML and XRC seem like better markups"
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",8109,5313,1,"@Cristian and Antony Cramp: while XUL is a nice choice for UI development (cross-platform, open-source licensed, used in Firefox and other major software), it's certainly not language agnostic. You're tied to Gecko, with JS for scripting. There is experimental support for Python scripting, but it's only experimental, AFAIK. You can define the UI in XUL+JS and use back-end components written in C++ though (there are Python and Java bridges available too)."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",8114,5313,4,"I seriously doubt you're going to find a markup language for GIU's that's not tied to a specific library. For such a thing to exist, there would need to be a standardized GUI markup language, with several implementations."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",1607717,5313,0,"I would go with XSLT, therefore it could be embedded in other interfaces as well."
5415,21,I have a binary file that I have to parse and I'm using Python. Is there a way to take 4 bytes and convert it to a single precision floating point number?,Convert Bytes to Floating Point Numbers in Python,5435,5415,13,You'll want the struct package.
5415,21,I have a binary file that I have to parse and I'm using Python. Is there a way to take 4 bytes and convert it to a single precision floating point number?,Convert Bytes to Floating Point Numbers in Python,73281,5415,32,"&gt;&gt;&gt; import struct &gt;&gt;&gt; struct.pack('f', 3.141592654) b'\xdb\x0fI@' &gt;&gt;&gt; struct.unpack('f', b'\xdb\x0fI@') (3.1415927410125732,) &gt;&gt;&gt; struct.pack('4f', 1.0, 2.0, 3.0, 4.0) '\x00\x00\x80?\x00\x00\x00@\x00\x00@@\x00\x00\x80@'"
5419,72,"When I try to print a Unicode string in a Windows console, I get a UnicodeEncodeError: 'charmap' codec can't encode character .... error. I assume this is because the Windows console does not accept Unicode-only characters. What's the best way around this? Is there any way I can make Python automatically print a ? instead of failing in this situation? Edit: I'm using Python 2.5. Note: @LasseV.Karlsen answer with the checkmark is sort of outdated (from 2008). Please use the solutions/answers/suggestions below with care!! @JFSebastian answer is more relevant as of today (6 Jan 2016).","Python, Unicode, and the Windows console",5430,5419,24,"Note: This answer is sort of outdated (from 2008). Please use the solution below with care!! Here is a page that details the problem and a solution (search the page for the text Wrapping sys.stdout into an instance): PrintFails - Python Wiki Here's a code excerpt from that page: $ python -c 'import sys, codecs, locale; print sys.stdout.encoding; \ sys.stdout = codecs.getwriter(locale.getpreferredencoding())(sys.stdout); \ line = u""\u0411\n""; print type(line), len(line); \ sys.stdout.write(line); print line' UTF-8 &lt;type 'unicode'&gt; 2 Ð Ð $ python -c 'import sys, codecs, locale; print sys.stdout.encoding; \ sys.stdout = codecs.getwriter(locale.getpreferredencoding())(sys.stdout); \ line = u""\u0411\n""; print type(line), len(line); \ sys.stdout.write(line); print line' | cat None &lt;type 'unicode'&gt; 2 Ð Ð There's some more information on that page, well worth a read."
5419,72,"When I try to print a Unicode string in a Windows console, I get a UnicodeEncodeError: 'charmap' codec can't encode character .... error. I assume this is because the Windows console does not accept Unicode-only characters. What's the best way around this? Is there any way I can make Python automatically print a ? instead of failing in this situation? Edit: I'm using Python 2.5. Note: @LasseV.Karlsen answer with the checkmark is sort of outdated (from 2008). Please use the solutions/answers/suggestions below with care!! @JFSebastian answer is more relevant as of today (6 Jan 2016).","Python, Unicode, and the Windows console",8020,5419,-1,"The cause of your problem is NOT the Win console not willing to accept Unicode (as it does this since I guess Win2k by default). It is the default system encoding. Try this code and see what it gives you: import sys sys.getdefaultencoding() if it says ascii, there's your cause ;-) You have to create a file called sitecustomize.py and put it under python path (I put it under /usr/lib/python2.5/site-packages, but that is differen on Win - it is c:\python\lib\site-packages or something), with the following contents: import sys sys.setdefaultencoding('utf-8') and perhaps you might want to specify the encoding in your files as well: # -*- coding: UTF-8 -*- import sys,time Edit: more info can be found in excellent the Dive into Python book"
5419,72,"When I try to print a Unicode string in a Windows console, I get a UnicodeEncodeError: 'charmap' codec can't encode character .... error. I assume this is because the Windows console does not accept Unicode-only characters. What's the best way around this? Is there any way I can make Python automatically print a ? instead of failing in this situation? Edit: I'm using Python 2.5. Note: @LasseV.Karlsen answer with the checkmark is sort of outdated (from 2008). Please use the solutions/answers/suggestions below with care!! @JFSebastian answer is more relevant as of today (6 Jan 2016).","Python, Unicode, and the Windows console",2013263,5419,7,"The below code will make Python output to console as UTF-8 even on Windows. The console will display the characters well on Windows 7 but on Windows XP it will not display them well, but at least it will work and most important you will have a consistent output from your script on all platforms. You'll be able to redirect the output to a file. Below code was tested with Python 2.6 on Windows. #!/usr/bin/python # -*- coding: UTF-8 -*- import codecs, sys reload(sys) sys.setdefaultencoding('utf-8') print sys.getdefaultencoding() if sys.platform == 'win32': try: import win32console except: print ""Python Win32 Extensions module is required.\n You can download it from https://sourceforge.net/projects/pywin32/ (x86 and x64 builds are available)\n"" exit(-1) # win32console implementation of SetConsoleCP does not return a value # CP_UTF8 = 65001 win32console.SetConsoleCP(65001) if (win32console.GetConsoleCP() != 65001): raise Exception (""Cannot set console codepage to 65001 (UTF-8)"") win32console.SetConsoleOutputCP(65001) if (win32console.GetConsoleOutputCP() != 65001): raise Exception (""Cannot set console output codepage to 65001 (UTF-8)"") #import sys, codecs sys.stdout = codecs.getwriter('utf8')(sys.stdout) sys.stderr = codecs.getwriter('utf8')(sys.stderr) print ""This is an Ðä¹Î±mpÙ¡È testing Unicode support using Arabic, Latin, Cyrillic, Greek, Hebrew and CJK code points.\n"""
5909,28,"I'm downloading an entire directory from a web server. It works OK, but I can't figure how to get the file size before download to compare if it was updated on the server or not. Can this be done as if I was downloading the file from a FTP server? import urllib import re url = ""http://www.someurl.com"" # Download the page locally f = urllib.urlopen(url) html = f.read() f.close() f = open (""temp.htm"", ""w"") f.write (html) f.close() # List only the .TXT / .ZIP files fnames = re.findall('^.*&lt;a href=""(\w+(?:\.txt|.zip)?)"".*$', html, re.MULTILINE) for fname in fnames: print fname, ""..."" f = urllib.urlopen(url + ""/"" + fname) #### Here I want to check the filesize to download or not #### file = f.read() f.close() f = open (fname, ""w"") f.write (file) f.close() @Jon: thank for your quick answer. It works, but the filesize on the web server is slightly less than the filesize of the downloaded file. Examples: Local Size Server Size 2.223.533 2.115.516 664.603 662.121 It has anything to do with the CR/LF conversion?",Get size of a file before downloading in Python,5927,5909,6,"The size of the file is sent as the Content-Length header. Here is how to get it with urllib: &gt;&gt;&gt; site = urllib.urlopen(""http://python.org"")&gt;&gt;&gt; meta = site.info()&gt;&gt;&gt; print meta.getheaders(""Content-Length"")['16535']&gt;&gt;&gt;"
5909,28,"I'm downloading an entire directory from a web server. It works OK, but I can't figure how to get the file size before download to compare if it was updated on the server or not. Can this be done as if I was downloading the file from a FTP server? import urllib import re url = ""http://www.someurl.com"" # Download the page locally f = urllib.urlopen(url) html = f.read() f.close() f = open (""temp.htm"", ""w"") f.write (html) f.close() # List only the .TXT / .ZIP files fnames = re.findall('^.*&lt;a href=""(\w+(?:\.txt|.zip)?)"".*$', html, re.MULTILINE) for fname in fnames: print fname, ""..."" f = urllib.urlopen(url + ""/"" + fname) #### Here I want to check the filesize to download or not #### file = f.read() f.close() f = open (fname, ""w"") f.write (file) f.close() @Jon: thank for your quick answer. It works, but the filesize on the web server is slightly less than the filesize of the downloaded file. Examples: Local Size Server Size 2.223.533 2.115.516 664.603 662.121 It has anything to do with the CR/LF conversion?",Get size of a file before downloading in Python,5935,5909,16,"Using the returned-urllib-object method info(), you can get various information on the retrived document. Example of grabbing the current Google logo: &gt;&gt;&gt; import urllib&gt;&gt;&gt; d = urllib.urlopen(""http://www.google.co.uk/logos/olympics08_opening.gif"")&gt;&gt;&gt; print d.info()Content-Type: image/gifLast-Modified: Thu, 07 Aug 2008 16:20:19 GMT Expires: Sun, 17 Jan 2038 19:14:07 GMT Cache-Control: public Date: Fri, 08 Aug 2008 13:40:41 GMT Server: gws Content-Length: 20172 Connection: Close It's a dict, so to get the size of the file, you do urllibobject.info()['Content-Length'] print f.info()['Content-Length'] And to get the size of the local file (for comparison), you can use the os.stat() command: os.stat(""/the/local/file.zip"").st_size"
5909,28,"I'm downloading an entire directory from a web server. It works OK, but I can't figure how to get the file size before download to compare if it was updated on the server or not. Can this be done as if I was downloading the file from a FTP server? import urllib import re url = ""http://www.someurl.com"" # Download the page locally f = urllib.urlopen(url) html = f.read() f.close() f = open (""temp.htm"", ""w"") f.write (html) f.close() # List only the .TXT / .ZIP files fnames = re.findall('^.*&lt;a href=""(\w+(?:\.txt|.zip)?)"".*$', html, re.MULTILINE) for fname in fnames: print fname, ""..."" f = urllib.urlopen(url + ""/"" + fname) #### Here I want to check the filesize to download or not #### file = f.read() f.close() f = open (fname, ""w"") f.write (file) f.close() @Jon: thank for your quick answer. It works, but the filesize on the web server is slightly less than the filesize of the downloaded file. Examples: Local Size Server Size 2.223.533 2.115.516 664.603 662.121 It has anything to do with the CR/LF conversion?",Get size of a file before downloading in Python,5938,5909,4,"Also if the server you are connecting to supports it, look at Etags and the If-Modified-Since and If-None-Match headers. Using these will take advantage of the webserver's caching rules and will return a 304 Not Modified status code if the content hasn't changed."
5909,28,"I'm downloading an entire directory from a web server. It works OK, but I can't figure how to get the file size before download to compare if it was updated on the server or not. Can this be done as if I was downloading the file from a FTP server? import urllib import re url = ""http://www.someurl.com"" # Download the page locally f = urllib.urlopen(url) html = f.read() f.close() f = open (""temp.htm"", ""w"") f.write (html) f.close() # List only the .TXT / .ZIP files fnames = re.findall('^.*&lt;a href=""(\w+(?:\.txt|.zip)?)"".*$', html, re.MULTILINE) for fname in fnames: print fname, ""..."" f = urllib.urlopen(url + ""/"" + fname) #### Here I want to check the filesize to download or not #### file = f.read() f.close() f = open (fname, ""w"") f.write (file) f.close() @Jon: thank for your quick answer. It works, but the filesize on the web server is slightly less than the filesize of the downloaded file. Examples: Local Size Server Size 2.223.533 2.115.516 664.603 662.121 It has anything to do with the CR/LF conversion?",Get size of a file before downloading in Python,5985,5909,19,"I have reproduced what you are seeing: import urllib, oslink = ""http://python.org""print ""opening url:"", linksite = urllib.urlopen(link)meta = site.info()print ""Content-Length:"", meta.getheaders(""Content-Length"")[0]f = open(""out.txt"", ""r"")print ""File on disk:"",len(f.read())f.close()f = open(""out.txt"", ""w"")f.write(site.read())site.close()f.close()f = open(""out.txt"", ""r"")print ""File on disk after download:"",len(f.read())f.close()print ""os.stat().st_size returns:"", os.stat(""out.txt"").st_size Outputs this: opening url: http://python.orgContent-Length: 16535File on disk: 16535File on disk after download: 16535os.stat().st_size returns: 16861 What am I doing wrong here? Is os.stat().st_size not returning the correct size? Edit: OK, I figured out what the problem was: import urllib, oslink = ""http://python.org""print ""opening url:"", linksite = urllib.urlopen(link)meta = site.info()print ""Content-Length:"", meta.getheaders(""Content-Length"")[0]f = open(""out.txt"", ""rb"")print ""File on disk:"",len(f.read())f.close()f = open(""out.txt"", ""wb"")f.write(site.read())site.close()f.close()f = open(""out.txt"", ""rb"")print ""File on disk after download:"",len(f.read())f.close()print ""os.stat().st_size returns:"", os.stat(""out.txt"").st_size this outputs: $ python test.pyopening url: http://python.orgContent-Length: 16535File on disk: 16535File on disk after download: 16535os.stat().st_size returns: 16535 Make sure you are opening both files for binary read/write. // open for binary writeopen(filename, ""wb"")// open for binary readopen(filename, ""rb"")"
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,6125,5966,3,"Why not use SQLite? There is good support in Python and you can write SQL queries to get the data out. Here is the Python docs for sqlite3 If you don't want to use SQLite you could do an array of dicts. episodes = []episodes.append({'season':1, 'episode': 2, 'name':'Something'})episodes.append({'season':1, 'episode': 2, 'name':'Something', 'actors':['Billy Bob', 'Sean Penn']}) That way you add metadata to any record and search it very easily season_1 = [e for e in episodes if e['season'] == 1]billy_bob = [e for e in episodes if 'actors' in e and 'Billy Bob' in e['actors']]for episode in billy_bob: print ""Billy bob was in Season %s Episode %s"" % (episode['season'], episode['episode'])"
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,6805,5966,0,I have done something similar in the past and used an in-memory XML document as a quick and dirty hierachical database for storage. You can store each show/season/episode as an element (nested appropriately) and attributes of these things as xml attributes on the elements. Then you can use XQuery to get info back out. NOTE: I'm not a Python guy so I don't know what your xml support is like. NOTE 2: You'll want to profile this because it'll be bigger and slower than the solution you've already got. Likely enough if you are doing some high-volume processing then XML is probably not going to be your friend.
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,8165,5966,0,"I don't get this part here: This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the seasonnotfound exception) There is a way to do it - called in: &gt;&gt;&gt;x={} &gt;&gt;&gt;x[1]={} &gt;&gt;&gt;x[1][2]={} &gt;&gt;&gt;x {1: {2: {}}} &gt;&gt;&gt; 2 in x[1] True &gt;&gt;&gt; 3 in x[1] False what seems to be the problem with that?"
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,9080,5966,0,"Bartosz/To clarify ""This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not"" x['some show'][3][24] would return season 3, episode 24 of ""some show"". If there was no season 3, I want the pseudo-dict to raise tvdbseasonnotfound, if ""some show"" doesn't exist, then raise tvdbshownotfound The current system of a series of classes, each with a __getitem__ - Show checks if self.seasons.has_key(requested_season_number), the Season class checks if self.episodes.has_key(requested_episode_number) and so on. It works, but it there seems to be a lot of repeated code (each class is basically the same, but raises a different error)"
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,10778,5966,5,"OK, what you need is classobj from new module. That would allow you to construct exception classes dynamically (classobj takes a string as an argument for the class name). import new myexc=new.classobj(""ExcName"",(Exception,),{}) i=myexc(""This is the exc msg!"") raise I this gives you: Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; __main__.ExcName: This is the exc msg! remember that you can always get the class name through: self.__class__.__name__ So, after some string mangling and concatenation, you should be able to obtain appropriate exception class name and construct a class object using that name and then raise that exception. P.S. - you can also raise strings, but this is deprecated. raise(self.__class__.__name__+""Exception"")"
8154,10,"[I hope this isn't too obscure&hellip; I'll ask the newsgroup if nobody knows here] I'm using Pylons (a python framework) to serve a simple web application, but it seems to die from time to time, with this in the error log: (2006, 'MySQL server has gone away') I did a bit of checking, and saw that this was because the connections to MySQL were not being renewed. This shouldn't be a problem though, because the sqlalchemy.pool_recycle in the config file should automatically keep it alive. The default was 3600, but I dialed it back to 1800 because of this problem. It helped a bit, but 3600 should be fine according to the docs. The errors still happen semi-regularly. I don't want to lower it too much though and DOS my own database :). Maybe something in my MySQL config is goofy? Not sure where to look exactly. Other relevant details: Python 2.5 Pylons: 0.9.6.2 (w/ sql_alchemy) MySQL: 5.0.51",Pylons error - 'MySQL server has gone away',15261,8154,2,"You might want to check MySQL's timeout variables: show variables like '%timeout%'; You're probably interested in wait_timeout (less likely but possible: interactive_timeout). On Debian and Ubuntu, the defaults are 28800 (MySQL kills connections after 8 hours), but maybe the default for your platform is different or whoever administrates the server has configured things differently. AFAICT, pool_recycle doesn't actually keep the connections alive, it expires them on its own before MySQL kills them. I'm not familiar with pylons, but if causing the connections to intermittently do a SELECT 1; is an option, that will keep them alive at the cost of basically no server load and minimal network traffic. One final thought: are you somehow managing to use a connection that pylons thinks it has expired?"
8154,10,"[I hope this isn't too obscure&hellip; I'll ask the newsgroup if nobody knows here] I'm using Pylons (a python framework) to serve a simple web application, but it seems to die from time to time, with this in the error log: (2006, 'MySQL server has gone away') I did a bit of checking, and saw that this was because the connections to MySQL were not being renewed. This shouldn't be a problem though, because the sqlalchemy.pool_recycle in the config file should automatically keep it alive. The default was 3600, but I dialed it back to 1800 because of this problem. It helped a bit, but 3600 should be fine according to the docs. The errors still happen semi-regularly. I don't want to lower it too much though and DOS my own database :). Maybe something in my MySQL config is goofy? Not sure where to look exactly. Other relevant details: Python 2.5 Pylons: 0.9.6.2 (w/ sql_alchemy) MySQL: 5.0.51",Pylons error - 'MySQL server has gone away',46442,8154,6,I think I fixed it. It's turns out I had a simple config error. My ini file read: sqlalchemy.default.url = [connection string here] sqlalchemy.pool_recycle = 1800 The problem is that my environment.py file declared that the engine would only map keys with the prefix: sqlalchemy.default so pool_recycle was ignored. The solution is to simply change the second line in the ini to: sqlalchemy.default.pool_recycle = 1800
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,8699,8692,74,"The lxml package supports xpath. It seems to work pretty well, although I've had some trouble with the self:: axis. There's also Amara, but I haven't used it personally."
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,9171,8692,2,"PyXML works well. You didn't say what platform you're using, however if you're on Ubuntu you can get it with sudo apt-get install python-xml. I'm sure other Linux distros have it as well. If you're on a Mac, xpath is already installed but not immediately accessible. You can set PY_USE_XMLPLUS in your environment or do it the Python way before you import xml.xpath: if sys.platform.startswith('darwin'): os.environ['PY_USE_XMLPLUS'] = '1' In the worst case you may have to build it yourself. This package is no longer maintained but still builds fine and works with modern 2.x Pythons. Basic docs are here."
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,10846,8692,7,The latest version of elementtree supports XPath pretty well. Not being an XPath expert I can't say for sure if the implementation is full but it has satisfied most of my needs when working in Python. I've also use lxml and PyXML and I find etree nice because it's a standard module. NOTE: I've since found lxml and for me it's definitely the best XML lib out there for Python. It does XPath nicely as well (though again perhaps not a full implementation).
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,27974,8692,106,"libxml2 has a number of advantages: Compliance to the spec Active development and a community participation Speed. This is really a python wrapper around a C implementation. Ubiquity. The libxml2 library is pervasive and thus well tested. Downsides include: Compliance to the spec. It's strict. Things like default namespace handling are easier in other libraries. Use of native code. This can be a pain depending on your how your application is distributed / deployed. RPMs are available that ease some of this pain. Manual resource handling. Note in the sample below the calls to freeDoc() and xpathFreeContext(). This is not very Pythonic. If you are doing simple path selection, stick with ElementTree ( which is included in Python 2.5 ). If you need full spec compliance or raw speed and can cope with the distribution of native code, go with libxml2. Sample of libxml2 XPath Use import libxml2 doc = libxml2.parseFile(""tst.xml"") ctxt = doc.xpathNewContext() res = ctxt.xpathEval(""//*"") if len(res) != 2: print ""xpath query: wrong node set size"" sys.exit(1) if res[0].name != ""doc"" or res[1].name != ""foo"": print ""xpath query: wrong node set value"" sys.exit(1) doc.freeDoc() ctxt.xpathFreeContext() Sample of ElementTree XPath Use from elementtree.ElementTree import ElementTree mydoc = ElementTree(file='tst.xml') for e in mydoc.findall('/foo/bar'): print e.get('title').text"
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,1732475,8692,35,"Use LXML. LXML uses the full power of libxml2 and libxslt, but wraps them in more ""Pythonic"" bindings than the Python bindings that are native to those libraries. As such, it gets the full XPath 1.0 implementation. Native ElemenTree supports a limited subset of XPath, although it may be good enough for your needs."
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,2122709,8692,23,"Another option is py-dom-xpath, it works seamlessly with minidom and is pure Python so works on appengine. import xpath xpath.find('//item', doc)"
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,3547727,8692,3,Another library is 4Suite: http://sourceforge.net/projects/foursuite/ I do not know how spec-compliant it is. But it has worked very well for my use. It looks abandoned.
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,3547741,8692,9,"You can use: PyXML: from xml.dom.ext.reader import Sax2 from xml import xpath doc = Sax2.FromXmlFile('foo.xml').documentElement for url in xpath.Evaluate('//@Url', doc): print url.value libxml2: import libxml2 doc = libxml2.parseFile('foo.xml') for url in doc.xpathEval('//@Url'): print url.content"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,8972,8948,1,"This toolkit may do what you need. I can't say if it's the ""best"", but really, if it does what you need, that's all that matters, right? HTH"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,8974,8948,6,"A simple example from the book Dive Into Python works ok for me, this is the download link, the example is fileinfo.py. Don't know if it's the best, but it can do the basic job. The entire book is available online here."
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,8976,8948,1,"It can depend on exactly what you want to do in addition to reading the metadata. If it is just simply the bitrate / name etc. that you need, and nothing else, something lightweight is probably best. If you're manipulating the mp3 past that PyMedia may be suitable. There are quite a few, whatever you do get, make sure and test it out on plenty of sample media. There are a few different versions of ID3 tags in particular, so make sure it's not too out of date. Personally I've used this small MP3Info class with luck. It is quite old though. http://www.omniscia.org/~vivake/python/MP3Info.py"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,9358,8948,11,"What you're after is the ID3 module. It's very simple and will give you exactly what you need. Just copy the ID3.py file into your site-packages directory and you'll be able to do something like the following: from ID3 import * try: id3info = ID3('file.mp3') print id3info # Change the tags id3info['TITLE'] = ""Green Eggs and Ham"" id3info['ARTIST'] = ""Dr. Seuss"" for k, v in id3info.items(): print k, "":"", v except InvalidTagError, message: print ""Invalid ID3 tag:"", message"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,10845,8948,25,"I've used mutagen to edit tags in media files before. The nice thing about mutagen is that it can handle other formats, such as mp4, FLAC etc. I've written several scripts with a lot of success using this API."
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,28711,8948,0,"If you can use IronPython, there is TagLibSharp. It can be used from any .NET language."
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,102285,8948,75,"I used eyeD3 the other day with a lot of success. I found that it could add artwork to the ID3 tag which the other modules I looked at couldn't. You'll have to download the tar and execute python setup.py install from the source folder. Relevant examples from the website are below. Reading the contents of an mp3 file containing either v1 or v2 tag info: import eyeD3 tag = eyeD3.Tag() tag.link(""/some/file.mp3"") print tag.getArtist() print tag.getAlbum() print tag.getTitle() Read an mp3 file (track length, bitrate, etc.) and access it's tag: if eyeD3.isMp3File(f): audioFile = eyeD3.Mp3AudioFile(f) tag = audioFile.getTag() Specific tag versions can be selected: tag.link(""/some/file.mp3"", eyeD3.ID3_V2) tag.link(""/some/file.mp3"", eyeD3.ID3_V1) tag.link(""/some/file.mp3"", eyeD3.ID3_ANY_VERSION) # The default. Or you can iterate over the raw frames: tag = eyeD3.Tag() tag.link(""/some/file.mp3"") for frame in tag.frames: print frame Once a tag is linked to a file it can be modified and saved: tag.setArtist(u""Cro-Mags"") tag.setAlbum(u""Age of Quarrel"") tag.update() If the tag linked in was v2 and you'd like to save it as v1: tag.update(eyeD3.ID3_V1_1) Read in a tag and remove it from the file: tag.link(""/some/file.mp3"") tag.remove() tag.update() Add a new tag: tag = eyeD3.Tag() tag.link('/some/file.mp3') # no tag in this file, link returned False tag.header.setVersion(eyeD3.ID3_V2_3) tag.setArtist('Fugazi') tag.update()"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,1936720,8948,4,"I looked the above answers and found out that they are not good for my project because of licensing problems with GPL. And I found out this: PyID3Lib, while that particular python binding release date is old, it uses the ID3Lib, which itself is up to date. Notable to mention is that both are LGPL, and are good to go."
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,10129,10123,10,This will do what you want: signum = status &amp; 0xff exitstatus = (status &amp; 0xff00) &gt;&gt; 8
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,10132,10123,1,"You can unpack the status using bit-shifting and masking operators. low = status &amp; 0x00FF high = (status &amp; 0xFF00) &gt;&gt; 8 I'm not a Python programmer, so I hope got the syntax correct."
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,10148,10123,0,"The folks before me've nailed it, but if you really want it on one line, you can do this: (signum, exitstatus) = (status &amp; 0xFF, (status &gt;&gt; 8) &amp; 0xFF) EDIT: Had it backwards."
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,10213,10123,10,"To answer your general question, you can use bit manipulation techniques: pid, status = os.wait() exitstatus, signum = status &amp; 0xFF, (status &amp; 0xFF00) &gt;&gt; 8 However, there are also built-in functions for interpreting exit status values: pid, status = os.wait() exitstatus, signum = os.WEXITSTATUS( status ), os.WTERMSIG( status ) See also: os.WCOREDUMP() os.WIFCONTINUED() os.WIFSTOPPED() os.WIFSIGNALED() os.WIFEXITED() os.WSTOPSIG()"
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,686128,10123,2,"You can get break your int into a string of unsigned bytes with the struct module: import struct I = 3235830701 # 0xC0DEDBAD s = struct.pack(""&gt;L"", i) # ""&gt;"" = Big-endian, ""&lt;"" = Little-endian print s # '\xc0\xde\xdb\xad' print s[0] # '\xc0' print ord(s[0]) # 192 (which is 0xC0) If you couple this with the array module you can do this more conveniently: import struct I = 3235830701 # 0xC0DEDBAD s = struct.pack(""&gt;L"", i) # ""&gt;"" = Big-endian, ""&lt;"" = Little-endian import array a = array.array(""B"") # B: Unsigned bytes a.fromstring(s) print a # array('B', [192, 222, 219, 173])"
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,687977,10123,2,"exitstatus, signum= divmod(status, 256)"
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,11074,11060,8,"I started writing up a summary of my experience with my own code generator, then went back and re-read your question and found you had already touched upon the same issues yourself, focus on the execution results instead of the code layout/look. Problem is, this is hard to test, the generated code might not be suited to actually run in the environment of the unit test system, and how do you encode the expected results? I've found that you need to break down the code generator into smaller pieces and unit test those. Unit testing a full code generator is more like integration testing than unit testing if you ask me."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,11128,11060,0,"Yes, results are the ONLY thing that matters. The real chore is writing a framework that allows your generated code to run independently... spend your time there."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,11235,11060,0,"If you are running on *nux you might consider dumping the unittest framework in favor of a bash script or makefile. on windows you might consider building a shell app/function that runs the generator and then uses the code (as another process) and unittest that. A third option would be to generate the code and then build an app from it that includes nothing but a unittest. Again you would need a shell script or whatnot to run this for each input. As to how to encode the expected behavior, it occurs to me that it could be done in much the same way as you would for the C++ code just using the generated interface rather than the C++ one."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,11443,11060,4,"Recall that ""unit testing"" is only one kind of testing. You should be able to unit test the internal pieces of your code generator. What you're really looking at here is system level testing (a.k.a. regression testing). It's not just semantics... there are different mindsets, approaches, expectations, etc. It's certainly more work, but you probably need to bite the bullet and set up an end-to-end regression test suite: fixed C++ files -> SWIG interfaces -> python modules -> known output. You really want to check the known input (fixed C++ code) against expected output (what comes out of the final Python program). Checking the code generator results directly would be like diffing object files..."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,70778,11060,0,"Just wanted to point out that you can still achieve fine-grained testing while verifying the results: you can test individual chunks of code by nesting them inside some setup and verification code: int x = 0; GENERATED_CODE assert(x == 100); Provided you have your generated code assembled from smaller chunks, and the chunks do not change frequently, you can exercise more conditions and test a little better, and hopefully avoid having all your tests break when you change specifics of one chunk."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,2870088,11060,0,"Unit testing is just that testing a specific unit. So if you are writing a specification for class A, it is ideal if class A does not have the real concrete versions of class B and C. Ok I noticed afterwards the tag for this question includes C++ / Python, but the principles are the same: public class A : InterfaceA { InterfaceB b; InterfaceC c; public A(InterfaceB b, InterfaceC c) { this._b = b; this._c = c; } public string SomeOperation(string input) { return this._b.SomeOtherOperation(input) + this._c.EvenAnotherOperation(input); } } Because the above System A injects interfaces to systems B and C, you can unit test just system A, without having real functionality being executed by any other system. This is unit testing. Here is a clever manner for approaching a System from creation to completion, with a different When specification for each piece of behaviour: public class When_system_A_has_some_operation_called_with_valid_input : SystemASpecification { private string _actualString; private string _expectedString; private string _input; private string _returnB; private string _returnC; [It] public void Should_return_the_expected_string() { _actualString.Should().Be.EqualTo(this._expectedString); } public override void GivenThat() { var randomGenerator = new RandomGenerator(); this._input = randomGenerator.Generate&lt;string&gt;(); this._returnB = randomGenerator.Generate&lt;string&gt;(); this._returnC = randomGenerator.Generate&lt;string&gt;(); Dep&lt;InterfaceB&gt;().Stub(b =&gt; b.SomeOtherOperation(_input)) .Return(this._returnB); Dep&lt;InterfaceC&gt;().Stub(c =&gt; c.EvenAnotherOperation(_input)) .Return(this._returnC); this._expectedString = this._returnB + this._returnC; } public override void WhenIRun() { this._actualString = Sut.SomeOperation(this._input); } } So in conclusion, a single unit / specification can have multiple behaviours, and the specification grows as you develop the unit / system; and if your system under test depends on other concrete systems within it, watch out."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,3331503,11060,0,"My recommendation would be to figure out a set of known input-output results, such as some simpler cases that you already have in place, and unit test the code that is produced. It's entirely possible that as you change the generator that the exact string that is produced may be slightly different... but what you really care is whether it is interpreted in the same way. Thus, if you test the results as you would test that code if it were your feature, you will find out if it succeeds in the ways you want. Basically, what you really want to know is whether your generator will produce what you expect without physically testing every possible combination (also: impossible). By ensuring that your generator is consistent in the ways you expect, you can feel better that the generator will succeed in ever-more-complex situations. In this way, you can also build up a suite of regression tests (unit tests that need to keep working correctly). This will help you make sure that changes to your generator aren't breaking other forms of code. When you encounter a bug that your unit tests didn't catch, you may want to include it to prevent similar breakage."
12591,6,"Is there a way, when I parse an XML document using lxml, to validate that document against its DTD using an external catalog file? I need to be able to work the fixed attributes defined in a documentâs DTD.",Using an XML catalog with Python's lxml?,13040,12591,1,"Can you give an example? According to the lxml validation docs, lxml can handle DTD validation (specified in the XML doc or externally in code) and system catalogs, which covers most cases I can think of. f = StringIO(""&lt;!ELEMENT b EMPTY&gt;"") dtd = etree.DTD(f) dtd = etree.DTD(external_id = ""-//OASIS//DTD DocBook XML V4.2//EN"")"
12591,6,"Is there a way, when I parse an XML document using lxml, to validate that document against its DTD using an external catalog file? I need to be able to work the fixed attributes defined in a documentâs DTD.",Using an XML catalog with Python's lxml?,36219,12591,0,"It seems that lxml does not expose this libxml2 feature, grepping the source only turns up some #defines for the error handling: C:\Dev&gt;grep -ir --include=*.px[id] catalog lxml-2.1.1/src | sed -r ""s/\s+/ /g"" lxml-2.1.1/src/lxml/dtd.pxi: catalog. lxml-2.1.1/src/lxml/xmlerror.pxd: XML_FROM_CATALOG = 20 # The Catalog module lxml-2.1.1/src/lxml/xmlerror.pxd: XML_WAR_CATALOG_PI = 93 # 93 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_MISSING_ATTR = 1650 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_ENTRY_BROKEN = 1651 # 1651 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_PREFER_VALUE = 1652 # 1652 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_NOT_CATALOG = 1653 # 1653 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_RECURSION = 1654 # 1654 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG=20 lxml-2.1.1/src/lxml/xmlerror.pxi:WAR_CATALOG_PI=93 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_MISSING_ATTR=1650 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_ENTRY_BROKEN=1651 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_PREFER_VALUE=1652 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_NOT_CATALOG=1653 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_RECURSION=1654 From the catalog implementation in libxml2 page it seems possible that the 'transparent' handling through installation in /etc/xml/catalog may still work in lxml, but if you need more than that you can always abandon lxml and use the default python bindings, which do expose the catalog functions."
12592,28,"Is it possible to write a doctest unit test that will check that an exception is raised? For example, if I have a function foo(x) that is supposed to raise an exception if x&lt;0, how would I write the doctest for that?",Can you check that an exception is thrown with doctest in Python?,12609,12592,45,Yes. You can do it. The doctest module documentation and Wikipedia has an example of it. &gt;&gt;&gt; x Traceback (most recent call last): ... NameError: name 'x' is not defined
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13399,13396,0,"Depends on the language and what you need to do, a ""map"" as it's called in many languages could be what you're looking for. I don't know C#, but according to this page, .NET 2.0 calls map ""ConvertAll"". The meaning of ""map"" is pretty simple - take a list, and apply a function to each element of it, returning a new list. You may also be looking for ""filter"", which would give you a list of items that satisfy a predicate in another list."
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13403,13396,1,"in Ruby: intArray.select { |x| x &gt; 3 }.each do |x| # do other processing end or if ""other processing"" is a short one-liner: intArray.select { |x| x &gt; 3 }.each { |x| something_that_uses x } lastly, if you want to return a new array containing the results of the processing of those elements greater than 3: intArray.select { |x| x &gt; 3 }.map { |x| do_something_to x }"
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13405,13396,2,"In Python, you have filter and map, which can so what you want: map(lambda x: foo(x + 1) filter(lambda x: x &gt; 3, intArray)) There's also list comprehensions which can do both in one easy statement: [f(x + 1) for x in intArray if x &gt; 3]"
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13406,13396,3,In C# you can apply selective processing on anything that lives inside an IEnumerable like this: intArray.Where(i =&gt; I &gt; 3).ConvertAll(); DoStuff(intArray.Where(i =&gt; I 3)); Etc..
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13435,13396,4,"The increment in the original foreach loop will not affect the contents of the array, the only way to do this remains a for loop: for(int I = 0; I &lt; intArray.Length; ++i) { if(intArray[i] &gt; 3) ++intArray[i]; } Linq is not intended to modify existing collections or sequences. It creates new sequences based on existing ones. It is possible to achieve the above code using Linq, though it is slightly against its purposes: var newArray1 = from I in intArray select ((i &gt; 3) ? (i + 1) : (i)); var newArray2 = intArray.Select(i =&gt; (i &gt; 3) ? (i + 1) : (i)); Using where (or equivalent), as shown in some of the other answers, will exclude any values less than or equal to 3 from the resulting sequence. var intArray = new int[] { 10, 1, 20, 2 }; var newArray = from I in intArray where I &gt; 3 select I + 1; // newArray == { 11, 21 } There is a ForEach method on arrays that will allow you to use a lambda function instead of a foreach block, though for anything more than a method call I would stick with foreach. intArray.ForEach(i =&gt; DoSomething(i));"
13454,9,"I wrote a piece of code to convert PHP's striplashes into valid Python [backslash] escapes: cleaned = stringwithslashes cleaned = cleaned.replace('\\n', '\n') cleaned = cleaned.replace('\\r', '\n') cleaned = cleaned.replace('\\', '') How can I condense it?",Python version of PHP's stripslashes,13456,13454,0,"You can obviously concatenate everything together: cleaned = stringwithslashes.replace(""\\n"",""\n"").replace(""\\r"",""\n"").replace(""\\"","""") Is that what you were after? Or were you hoping for something more terse?"
13454,9,"I wrote a piece of code to convert PHP's striplashes into valid Python [backslash] escapes: cleaned = stringwithslashes cleaned = cleaned.replace('\\n', '\n') cleaned = cleaned.replace('\\r', '\n') cleaned = cleaned.replace('\\', '') How can I condense it?",Python version of PHP's stripslashes,13579,13454,-4,"Python has a built-in escape() function analogous to PHP's addslashes, but no unescape() function (stripslashes), which in my mind is kind of ridiculous. Regular expressions to the rescue (code not tested): p = re.compile( '\\(\\\S)') p.sub('\1',escapedstring) In theory that takes anything of the form \\(not whitespace) and returns \(same char) edit: Upon further inspection, Python regular expressions are broken as all hell; &gt;&gt;&gt; escapedstring 'This is a \\n\\n\\n test' &gt;&gt;&gt; p = re.compile( r'\\(\S)' ) &gt;&gt;&gt; p.sub(r""\1"",escapedstring) 'This is a nnn test' &gt;&gt;&gt; p.sub(r""\\1"",escapedstring) 'This is a \\1\\1\\1 test' &gt;&gt;&gt; p.sub(r""\\\1"",escapedstring) 'This is a \\n\\n\\n test' &gt;&gt;&gt; p.sub(r""\(\1)"",escapedstring) 'This is a \\(n)\\(n)\\(n) test' In conclusion, what the hell, Python."
13454,9,"I wrote a piece of code to convert PHP's striplashes into valid Python [backslash] escapes: cleaned = stringwithslashes cleaned = cleaned.replace('\\n', '\n') cleaned = cleaned.replace('\\r', '\n') cleaned = cleaned.replace('\\', '') How can I condense it?",Python version of PHP's stripslashes,13598,13454,10,"Not totally sure this is what you want, but.. cleaned = stringwithslashes.decode('string_escape')"
13454,9,"I wrote a piece of code to convert PHP's striplashes into valid Python [backslash] escapes: cleaned = stringwithslashes cleaned = cleaned.replace('\\n', '\n') cleaned = cleaned.replace('\\r', '\n') cleaned = cleaned.replace('\\', '') How can I condense it?",Python version of PHP's stripslashes,13608,13454,2,"It sounds like what you want could be reasonably efficiently handled through regular expressions: import re def stripslashes(s): r = re.sub(r""\\(n|r)"", ""\n"", s) r = re.sub(r""\\"", """", r) return r cleaned = stripslashes(stringwithslashes)"
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13844,13791,3,"Well, I think you might have missed the r or miscounted the backslashes... ""\\n"" == r""\n"" &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \\n a test \\r"" &gt;&gt;&gt; p = re.compile( r""[\\][\\](.)"" ) &gt;&gt;&gt; print p.sub( r""\\\1"", mystring ) This is \n a test \r &gt;&gt;&gt; Which, if I understood is what was requested. I suspect the more common request is this: &gt;&gt;&gt; d = {'n':'\n', 'r':'\r', 'f':'\f'} &gt;&gt;&gt; p = re.compile(r""[\\]([nrfv])"") &gt;&gt;&gt; print p.sub(lambda mo: d[mo.group(1)], mystring) This is \ a test \ &gt;&gt;&gt; The interested student should also read Ken Thompson's Reflections on Trusting Trust"", wherein our hero uses a similar example to explain the perils of trusting compilers you haven't bootstrapped from machine code yourself."
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13869,13791,0,"You are being tricked by Python's representation of the result string. The Python expression: 'This is \\n a test \\r' represents the string This is \n a test \r which is I think what you wanted. Try adding 'print' in front of each of your p.sub() calls to print the actual string returned instead of a Python representation of the string. &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; mystring 'This is \\n a test \\r' &gt;&gt;&gt; print mystring This is \n a test \r"
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13882,13791,0,"The idea is that I'll read in an escaped string, and unescape it (a feature notably lacking from Python, which you shouldn't need to resort to regular expressions for in the first place). Unfortunately I'm not being tricked by the backslashes... Another illustrative example: &gt;&gt;&gt; mystring = r""This is \n ridiculous"" &gt;&gt;&gt; print mystring This is \n ridiculous &gt;&gt;&gt; p = re.compile( r""\\(\S)"" ) &gt;&gt;&gt; print p.sub( 'bloody', mystring ) This is bloody ridiculous &gt;&gt;&gt; print p.sub( r'\1', mystring ) This is n ridiculous &gt;&gt;&gt; print p.sub( r'\\1', mystring ) This is \1 ridiculous &gt;&gt;&gt; print p.sub( r'\\\1', mystring ) This is \n ridiculous What I'd like it to print is This is ridiculous"
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13943,13791,7,"Isn't that what Anders' second example does? In 2.5 there's also a string-escape encoding you can apply: &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; mystring.decode('string-escape') 'This is \n a test \r' &gt;&gt;&gt; print mystring.decode('string-escape') This is a test &gt;&gt;&gt;"
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13958,13791,0,"Mark; his second example requires every escaped character thrown into an array initially, which generates a KeyError if the escape sequence happens not to be in the array. It will die on anything but the three characters provided (give \v a try), and enumerating every possible escape sequence every time you want to unescape a string (or keeping a global array) is a really bad solution. Analogous to PHP, that's using preg_replace_callback() with a lambda instead of preg_replace(), which is utterly unnecessary in this situation. I'm sorry if I'm coming off as a dick about it, I'm just utterly frustrated with Python. This is supported by every other regular expression engine I've ever used, and I can't understand why this wouldn't work. Thank you for responding; the string.decode('string-escape') function is precisely what I was looking for initially. If someone has a general solution to the regex backreference problem, feel free to post it and I'll accept that as an answer as well."
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,13875,13857,37,"It's simple: A function that references variables from a containing scope, potentially after flow-of-control has left that scope. That last bit is very useful: &gt;&gt;&gt; def makeConstantAdder(x): ... constant = x ... def adder(y): ... return y + constant ... return adder ... &gt;&gt;&gt; f = makeConstantAdder(12) &gt;&gt;&gt; f(3) 15 &gt;&gt;&gt; g = makeConstantAdder(4) &gt;&gt;&gt; g(3) 7 Note that 12 and 4 have ""disappeared"" inside f and g, respectively, this feature is what make f and g proper closures."
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,13902,13857,6,"I've never heard of transactions being used in the same context as explaining what a closure is and there really aren't any transaction semantics here. It's called a closure because it ""closes over"" the outside variable (constant)--i.e., it's not just a function but an enclosure of the environment where the function was created. In the following example, calling the closure g after changing x will also change the value of x within g, since g closes over x: x = 0 def f(): def g(): return x * 2 return g closure = f() print(closure()) # 0 x = 2 print(closure()) # 4"
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,13906,13857,13,"I like this rough, succinct definition: A function that can refer to environments that are no longer active. I'd add A closure allows you to bind variables into a function without passing them as parameters. Decorators which accept parameters are a common use for closures. Closures are a common implementation mechanism for that sort of ""function factory"". I frequently choose to use closures in the Strategy Pattern when the strategy is modified by data at run-time. In a language that allows anonymous block definition -- e.g., Ruby, C# -- closures can be used to implement (what amount to) novel new control structures. The lack of anonymous blocks is among the limitations of closures in Python."
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,24061,13857,11,"To be honest, I understand closures perfectly well except I've never been clear about what exactly is the thing which is the ""closure"" and what's so ""closure"" about it. I recommend you give up looking for any logic behind the choice of term. Anyway, here's my explanation: def foo(): x = 3 def bar(): print x x = 5 return bar bar = foo() bar() # print 5 A key idea here is that the function object returned from foo retains a hook to the local var 'x' even though 'x' has gone out of scope and should be defunct. This hook is to the var itself, not just the value that var had at the time, so when bar is called, it prints 5, not 3. Also be clear that Python 2.x has limited closure: there's no way I can modify 'x' inside 'bar' because writing 'x = bla' would declare a local 'x' in bar, not assign to 'x' of foo. This is a side-effect of Python's assignment=declaration. To get around this, Python 3.0 introduces the nonlocal keyword: def foo(): x = 3 def bar(): print x def ack(): nonlocal x x = 7 x = 5 return (bar, ack) bar, ack = foo() ack() # modify x of the call to foo bar() # print 7"
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,94543,13857,-3,"The best explanation I ever saw of a closure was to explain the mechanism. It went something like this: Imagine your program stack as a degenerate tree where each node has only one child and the single leaf node is the context of your currently executing procedure. Now relax the constraint that each node can have only one child. If you do this, you can have a construct ('yield') that can return from a procedure without discarding the local context (i.e. it doesn't pop it off the stack when you return). The next time the procedure is invoked, the invocation picks up the old stack (tree) frame and continues executing where it left off."
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,141426,13857,60,"Closure on closures Objects are data with methods attached, closures are functions with data attached. def make_counter(): I = 0 def counter(): # counter() is a closure nonlocal I I += 1 return I return counter c1 = make_counter() c2 = make_counter() print (c1(), c1(), c2(), c2()) # -&gt; 1 2 1 2"
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,473491,13857,2,"Here's a typical use case for closures - callbacks for GUI elements (this would be an alternative to subclassing the button class). For example, you can construct a function that will be called in response to a button press, and ""close"" over the relevant variables in the parent scope that are necessary for processing the click. This way you can wire up pretty complicated interfaces from the same initialization function, building all the dependencies into the closure."
13941,34,"I'd like to have a python program alert me when it has completed its task by making a beep noise. Currently, I use import os and then use a command line speech program to say ""Process complete."" I much rather it be a simple ""bell."" I know that there's a function that can be used in Cocoa apps, NSBeep, but I don't think that has much anything to do with this. I've also tried print(\a) but that didn't work. I'm using a Mac, if you couldn't tell by my Cocoa comment, so that may help. Thanks!","Python Sound (""Bell"")",13949,13941,47,"Have you tried : import sys sys.stdout.write('\a') sys.stdout.flush() That works for me here on Mac OS 10.5 Actually, I think your original attempt works also with a little modification: print('\a') (You just need the single quotes around the character sequence)."
13941,34,"I'd like to have a python program alert me when it has completed its task by making a beep noise. Currently, I use import os and then use a command line speech program to say ""Process complete."" I much rather it be a simple ""bell."" I know that there's a function that can be used in Cocoa apps, NSBeep, but I don't think that has much anything to do with this. I've also tried print(\a) but that didn't work. I'm using a Mac, if you couldn't tell by my Cocoa comment, so that may help. Thanks!","Python Sound (""Bell"")",13959,13941,4,"I had to turn off the ""Silence terminal bell"" option in my active Terminal Profile in iTerm for print('\a') to work. It seemed to work fine by default in Terminal. You can also use the Mac module Carbon.Snd to play the system beep: &gt;&gt;&gt; import Carbon.Snd &gt;&gt;&gt; Carbon.Snd.SysBeep(1) &gt;&gt;&gt; The Carbon modules don't have any documentation, so I had to use help(Carbon.Snd) to see what functions were available. It seems to be a direct interface onto Carbon, so the docs on Apple Developer Connection probably help."
13941,34,"I'd like to have a python program alert me when it has completed its task by making a beep noise. Currently, I use import os and then use a command line speech program to say ""Process complete."" I much rather it be a simple ""bell."" I know that there's a function that can be used in Cocoa apps, NSBeep, but I don't think that has much anything to do with this. I've also tried print(\a) but that didn't work. I'm using a Mac, if you couldn't tell by my Cocoa comment, so that may help. Thanks!","Python Sound (""Bell"")",34482,13941,9,"If you have PyObjC (the Python - Objective-C bridge) installed or are running on OS X 10.5's system python (which ships with PyObjC), you can do from AppKit import NSBeep NSBeep() to play the system alert."
14281,3,I have over a million text files compressed into 40 zip files. I also have a list of about 500 model names of phones. I want to find out the number of times a particular model was mentioned in the text files. Is there any python module which can do a regex match on the files without unzipping it. Is there a simple way to solve this problem without unzipping?,Is there a python module for regex matching in zip files,14304,14281,0,"You could loop through the zip files, reading individual files using the zipfile module and running your regex on those, eliminating to unzip all the files at once. I'm fairly certain that you can't run a regex over the zipped data, at least not meaningfully."
14281,3,I have over a million text files compressed into 40 zip files. I also have a list of about 500 model names of phones. I want to find out the number of times a particular model was mentioned in the text files. Is there any python module which can do a regex match on the files without unzipping it. Is there a simple way to solve this problem without unzipping?,Is there a python module for regex matching in zip files,14314,14281,0,"To access the contents of a zip file you have to unzip it, although the zipfile package makes this fairly easy, as you can unzip each file within an archive individually. Python zipfile module"
14281,3,I have over a million text files compressed into 40 zip files. I also have a list of about 500 model names of phones. I want to find out the number of times a particular model was mentioned in the text files. Is there any python module which can do a regex match on the files without unzipping it. Is there a simple way to solve this problem without unzipping?,Is there a python module for regex matching in zip files,14320,14281,8,"There's nothing that will automatically do what you want. However, there is a python zipfile module that will make this easy to do. Here's how to iterate over the lines in the file. #!/usr/bin/python import zipfile f = zipfile.ZipFile('myfile.zip') for subfile in f.namelist(): print subfile data = f.read(subfile) for line in data.split('\n'): print line"
14281,3,I have over a million text files compressed into 40 zip files. I also have a list of about 500 model names of phones. I want to find out the number of times a particular model was mentioned in the text files. Is there any python module which can do a regex match on the files without unzipping it. Is there a simple way to solve this problem without unzipping?,Is there a python module for regex matching in zip files,41822,14281,0,"Isn't it (at least theoretically) possible, to read in the ZIP's Huffman coding and then translate the regexp into the Huffman code? Might this be more efficient than first de-compressing the data, then running the regexp? (Note: I know it wouldn't be quite that simple: you'd also have to deal with other aspects of the ZIP coding&mdash;file layout, block structures, back-references&mdash;but one imagines this could be fairly lightweight.) EDIT: Also note that it's probably much more sensible to just use the zipfile solution."
14389,21,"I have a script that parses the filenames of TV episodes (show.name.s01e02.avi for example), grabs the episode name (from the www.thetvdb.com API) and automatically renames them into something nicer (Show Name - [01x02].avi) The script works fine, that is until you try and use it on files that have Unicode show-names (something I never really thought about, since all the files I have are English, so mostly pretty-much all fall within [a-zA-Z0-9'\-]) How can I allow the regular expressions to match accented characters and the likes? Currently the regex's config section looks like.. config['valid_filename_chars'] = """"""0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@Â£$%^&amp;*()_+=-[]{}""'.,&lt;&gt;`~? """""" config['valid_filename_chars_regex'] = re.escape(config['valid_filename_chars']) config['name_parse'] = [ # foo_[s01]_[e01] re.compile('''^([%s]+?)[ \._\-]\[[Ss]([0-9]+?)\]_\[[Ee]([0-9]+?)\]?[^\\/]*$'''% (config['valid_filename_chars_regex'])), # foo.1x09* re.compile('''^([%s]+?)[ \._\-]\[?([0-9]+)x([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.s01.e01, foo.s01_e01 re.compile('''^([%s]+?)[ \._\-][Ss]([0-9]+)[\.\- ]?[Ee]([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.103* re.compile('''^([%s]+)[ \._\-]([0-9]{1})([0-9]{2})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.0103* re.compile('''^([%s]+)[ \._\-]([0-9]{2})([0-9]{2,3})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), ]",Regex and unicode,14391,14389,14,"Use a subrange of [\u0000-\uFFFF] for what you want. You can also use the re.UNICODE compile flag. The docs say that if UNICODE is set, \w will match the characters [0-9_] plus whatever is classified as alphanumeric in the Unicode character properties database. See also http://coding.derkeiler.com/Archive/Python/comp.lang.python/2004-05/2560.html."
14389,21,"I have a script that parses the filenames of TV episodes (show.name.s01e02.avi for example), grabs the episode name (from the www.thetvdb.com API) and automatically renames them into something nicer (Show Name - [01x02].avi) The script works fine, that is until you try and use it on files that have Unicode show-names (something I never really thought about, since all the files I have are English, so mostly pretty-much all fall within [a-zA-Z0-9'\-]) How can I allow the regular expressions to match accented characters and the likes? Currently the regex's config section looks like.. config['valid_filename_chars'] = """"""0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@Â£$%^&amp;*()_+=-[]{}""'.,&lt;&gt;`~? """""" config['valid_filename_chars_regex'] = re.escape(config['valid_filename_chars']) config['name_parse'] = [ # foo_[s01]_[e01] re.compile('''^([%s]+?)[ \._\-]\[[Ss]([0-9]+?)\]_\[[Ee]([0-9]+?)\]?[^\\/]*$'''% (config['valid_filename_chars_regex'])), # foo.1x09* re.compile('''^([%s]+?)[ \._\-]\[?([0-9]+)x([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.s01.e01, foo.s01_e01 re.compile('''^([%s]+?)[ \._\-][Ss]([0-9]+)[\.\- ]?[Ee]([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.103* re.compile('''^([%s]+)[ \._\-]([0-9]{1})([0-9]{2})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.0103* re.compile('''^([%s]+)[ \._\-]([0-9]{2})([0-9]{2,3})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), ]",Regex and unicode,14399,14389,0,"\X seems to be available as a generic word-character in some languages, it allows you to match a single character disregarding of how many bytes it takes up. Might be useful."
14389,21,"I have a script that parses the filenames of TV episodes (show.name.s01e02.avi for example), grabs the episode name (from the www.thetvdb.com API) and automatically renames them into something nicer (Show Name - [01x02].avi) The script works fine, that is until you try and use it on files that have Unicode show-names (something I never really thought about, since all the files I have are English, so mostly pretty-much all fall within [a-zA-Z0-9'\-]) How can I allow the regular expressions to match accented characters and the likes? Currently the regex's config section looks like.. config['valid_filename_chars'] = """"""0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@Â£$%^&amp;*()_+=-[]{}""'.,&lt;&gt;`~? """""" config['valid_filename_chars_regex'] = re.escape(config['valid_filename_chars']) config['name_parse'] = [ # foo_[s01]_[e01] re.compile('''^([%s]+?)[ \._\-]\[[Ss]([0-9]+?)\]_\[[Ee]([0-9]+?)\]?[^\\/]*$'''% (config['valid_filename_chars_regex'])), # foo.1x09* re.compile('''^([%s]+?)[ \._\-]\[?([0-9]+)x([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.s01.e01, foo.s01_e01 re.compile('''^([%s]+?)[ \._\-][Ss]([0-9]+)[\.\- ]?[Ee]([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.103* re.compile('''^([%s]+)[ \._\-]([0-9]{1})([0-9]{2})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.0103* re.compile('''^([%s]+)[ \._\-]([0-9]{2})([0-9]{2,3})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), ]",Regex and unicode,14420,14389,4,In Mastering Regular Expressions from Jeffrey Friedl (great book) it is mentioned that you could use \p{Letter} which will match unicode stuff that is considered a letter.
15798,27,I need to validate an XML string (and not a file) against a DTD description file. How can that be done in python?,How do I validate xml against a DTD file in Python,15931,15798,28,"Another good option is lxml's validation which I find quite pleasant to use. A simple example taken from the lxml site: from StringIO import StringIO from lxml import etree dtd = etree.DTD(StringIO(""""""&lt;!ELEMENT foo EMPTY&gt;"""""")) root = etree.XML(""&lt;foo/&gt;"") print(dtd.validate(root)) # True root = etree.XML(""&lt;foo&gt;bar&lt;/foo&gt;"") print(dtd.validate(root)) # False print(dtd.error_log.filter_from_errors()) # &lt;string&gt;:1:0:ERROR:VALID:DTD_NOT_EMPTY: Element foo was declared EMPTY this one has content"
15798,27,I need to validate an XML string (and not a file) against a DTD description file. How can that be done in python?,How do I validate xml against a DTD file in Python,270538,15798,7,"from the examples directory in the libxml2 python bindings: #!/usr/bin/python -u import libxml2 import sys # Memory debug specific libxml2.debugMemory(1) dtd=""""""&lt;!ELEMENT foo EMPTY&gt;"""""" instance=""""""&lt;?xml version=""1.0""?&gt; &lt;foo&gt;&lt;/foo&gt;"""""" dtd = libxml2.parseDTD(None, 'test.dtd') ctxt = libxml2.newValidCtxt() doc = libxml2.parseDoc(instance) ret = doc.validateDtd(ctxt, dtd) if ret != 1: print ""error doing DTD validation"" sys.exit(1) doc.freeDoc() dtd.freeDtd() del dtd del ctxt"
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,16191,16067,1,"In my experience, there are two easy ways to call into C code from Python code. There are other approaches, all of which are more annoying and/or verbose. The first and easiest is to compile a bunch of C code as a separate shared library and then call functions in that library using ctypes. Unfortunately, passing anything other than basic data types is non-trivial. The second easiest way is to write a Python module in C and then call functions in that module. You can pass anything you want to these C functions without having to jump through any hoops. And it's easy to call Python functions or methods from these C functions, as described here: https://docs.python.org/extending/extending.html#calling-python-functions-from-c I don't have enough experience with SWIG to offer intelligent commentary. And while it is possible to do things like pass custom Python objects to C functions through ctypes, or to define new Python classes in C, these things are annoying and verbose and I recommend taking one of the two approaches described above."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,17300,16067,6,"The best way to plan for an eventual transition to compiled code is to write the performance sensitive portions as a module of simple functions in a functional style (stateless and without side effects), which accept and return basic data types. This will provide a one-to-one mapping from your Python prototype code to the eventual compiled code, and will let you use ctypes easily and avoid a whole bunch of headaches. For peak fitting, you'll almost certainly need to use arrays, which will complicate things a little, but is still very doable with ctypes. If you really want to use more complicated data structures, or modify the passed arguments, SWIG or Python's standard C-extension interface will let you do what you want, but with some amount of hassle. For what you're doing, you may also want to check out NumPy, which might do some of the work you would want to push to C, as well as offering some additional help in moving data back and forth between Python and C."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,28467,16067,10,"I haven't used SWIG or SIP, but I find writing Python wrappers with boost.python to be very powerful and relatively easy to use. I'm not clear on what your requirements are for passing types between C/C++ and python, but you can do that easily by either exposing a C++ type to python, or by using a generic boost::python::object argument to your C++ API. You can also register converters to automatically convert python types to C++ types and vice versa. If you plan use boost.python, the tutorial is a good place to start. I have implemented something somewhat similar to what you need. I have a C++ function that accepts a python function and an image as arguments, and applies the python function to each pixel in the image. Image* unary(boost::python::object op, Image&amp; im) { Image* out = new Image(im.width(), im.height(), im.channels()); for(unsigned int i=0; i&lt;im.size(); i++) { (*out)[i] == extract&lt;float&gt;(op(im[i])); } return out; } In this case, Image is a C++ object exposed to python (an image with float pixels), and op is a python defined function (or really any python object with a &#95;&#95;call&#95;&#95; attribute). You can then use this function as follows (assuming unary is located in the called image that also contains Image and a load function): import image im = image.load('somefile.tiff') double_im = image.unary(lambda x: 2.0*x, im) As for using arrays with boost, I personally haven't done this, but I know the functionality to expose arrays to python using boost is available - this might be helpful."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,151006,16067,4,f2py (part of numpy) is a simpler alternative to SWIG and boost.python for wrapping C/Fortran number-crunching code.
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,151084,16067,0,"Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. In C you cannot pass a function as an argument to a function but you can pass a function pointer which is just as good a function. I don't know how much that would help when you are trying to integrate C and Python code but I just wanted to clear up one misconception."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,872600,16067,0,"In addition to the tools above, I can recommend using Pyrex (for creating Python extension modules) or Psyco (as JIT compiler for Python)."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,1661276,16067,33,"Finally a question that I can really put a value answer to :). I have investigated f2py, boost.python, swig, cython and pyrex for my work (PhD in optical measurement techniques). I used swig extensively, boost.python some and pyrex and cython a lot. I also used ctypes. This is my breakdown: Disclaimer: This is my personal experience. I am not involved with any of these projects. swig: does not play well with c++. It should, but name mangling problems in the linking step was a major headache for me on linux &amp; Mac OS X. If you have C code and want it interfaced to python, it is a good solution. I wrapped the GTS for my needs and needed to write basically a C shared library which I could connect to. I would not recommend it. Ctypes: I wrote a libdc1394 (IEEE Camera library) wrapper using ctypes and it was a very straigtforward experience. You can find the code on https://launchpad.net/pydc1394. It is a lot of work to convert headers to python code, but then everything works reliably. This is a good way if you want to interface an external library. Ctypes is also in the stdlib of python, so everyone can use your code right away. This is also a good way to play around with a new lib in python quickly. I can recommend it to interface to external libs. Boost.Python: Very enjoyable. If you already have C++ code of your own that you want to use in python, go for this. It is very easy to translate c++ class structures into python class structures this way. I recommend it if you have c++ code that you need in python. Pyrex/Cython: Use Cython, not Pyrex. Period. Cython is more advanced and more enjoyable to use. Nowadays, I do everything with cython that I used to do with SWIG or Ctypes. It is also the best way if you have python code that runs too slow. The process is absolutely fantastic: you convert your python modules into cython modules, build them and keep profiling and optimizing like it still was python (no change of tools needed). You can then apply as much (or as little) C code mixed with your python code. This is by far faster then having to rewrite whole parts of your application in C; you only rewrite the inner loop. Timings: ctypes has the highest call overhead (~700ns), followed by boost.python (322ns), then directly by swig (290ns). Cython has the lowest call overhead (124ns) and the best feedback where it spends time on (cProfile support!). The numbers are from my box calling a trivial function that returns an integer from an interactive shell; module import overhead is therefore not timed, only function call overhead is. It is therefore easiest and most productive to get python code fast by profiling and using cython. Summary: For your problem, use Cython ;). I hope this rundown will be useful for some people. I'll gladly answer any remaining question. Edit: I forget to mention: for numerical purposes (that is, connection to NumPy) use Cython; they have support for it (because they basically develop cython for this purpose). So this should be another +1 for your decision."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,16875,16861,0,"If you are using a framework like django, the framework can easily do this for you using standard filters. In fact, I'm pretty sure django automatically does it unless you tell it not to. Otherwise, I would recommend using some sort of regex validation before accepting inputs from forms. I don't think there's a silver bullet for your problem, but using the re module, you should be able to construct what you need."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,16929,16861,6,"Jeff Atwood himself described how StackOverflow.com sanitizes user input (in non-language-specific terms) on the Stack Overflow blog: http://blog.stackoverflow.com/2008/06/safe-html-and-xss/ However, as Justin points out, if you use Django templates or something similar then they probably sanitize your HTML output anyway. SQL injection also shouldn't be a concern. All of Python's database libraries (MySQLdb, cx_Oracle, etc) always sanitize the parameters you pass. These libraries are used by all of Python's object-relational mappers (such as Django models), so you don't need to worry about sanitation there either."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,25136,16861,23,"Here is a snippet that will remove all tags not on the white list, and all tag attributes not on the attribues whitelist (so you can't use onclick). It is a modified version of http://www.djangosnippets.org/snippets/205/, with the regex on the attribute values to prevent people from using href=""javascript:..."", and other cases described at http://ha.ckers.org/xss.html. (e.g. &lt;a href=""ja&amp;#x09;vascript:alert('hi')""&gt; or &lt;a href=""ja vascript:alert('hi')""&gt;, etc.) As you can see, it uses the (awesome) BeautifulSoup library. import re from urlparse import urljoin from BeautifulSoup import BeautifulSoup, Comment def sanitizeHtml(value, base_url=None): rjs = r'[\s]*(&amp;#x.{1,7})?'.join(list('javascript:')) rvb = r'[\s]*(&amp;#x.{1,7})?'.join(list('vbscript:')) re_scripts = re.compile('(%s)|(%s)' % (rjs, rvb), re.IGNORECASE) validTags = 'p I strong b u a h1 h2 h3 pre br img'.split() validAttrs = 'href src width height'.split() urlAttrs = 'href src'.split() # Attributes which should have a URL soup = BeautifulSoup(value) for comment in soup.findAll(text=lambda text: isinstance(text, Comment)): # Get rid of comments comment.extract() for tag in soup.findAll(True): if tag.name not in validTags: tag.hidden = True attrs = tag.attrs tag.attrs = [] for attr, val in attrs: if attr in validAttrs: val = re_scripts.sub('', val) # Remove scripts (vbs &amp; js) if attr in urlAttrs: val = urljoin(base_url, val) # Calculate the absolute url tag.attrs.append((attr, val)) return soup.renderContents().decode('utf8') As the other posters have said, pretty much all Python db libraries take care of SQL injection, so this should pretty much cover you."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,25151,16861,4,"I don't do web development much any longer, but when I did, I did something like so: When no parsing is supposed to happen, I usually just escape the data to not interfere with the database when I store it, and escape everything I read up from the database to not interfere with html when I display it (cgi.escape() in python). Chances are, if someone tried to input html characters or stuff, they actually wanted that to be displayed as text anyway. If they didn't, well tough :) In short always escape what can affect the current target for the data. When I did need some parsing (markup or whatever) I usually tried to keep that language in a non-intersecting set with html so I could still just store it suitably escaped (after validating for syntax errors) and parse it to html when displaying without having to worry about the data the user put in there interfering with your html. See also Escaping HTML"
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,93857,16861,12,"The best way to prevent XSS is not to try and filter everything, but rather to simply do HTML Entity encoding. For example, automatically turn &lt; into &amp;lt;. This is the ideal solution assuming you don't need to accept any html input (outside of forum/comment areas where it is used as markup, it should be pretty rare to need to accept HTML); there are so many permutations via alternate encodings that anything but an ultra-restrictive whitelist (a-z,A-Z,0-9 for example) is going to let something through. SQL Injection, contrary to other opinion, is still possible, if you are just building out a query string. For example, if you are just concatenating an incoming parameter onto a query string, you will have SQL Injection. The best way to protect against this is also not filtering, but rather to religiously use parameterized queries and NEVER concatenate user input. This is not to say that filtering isn't still a best practice, but in terms of SQL Injection and XSS, you will be far more protected if you religiously use Parameterize Queries and HTML Entity Encoding."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,248933,16861,18,"Edit: bleach is a wrapper around html5lib which makes it even easier to use as a whitelist-based sanitiser. html5lib comes with a whitelist-based HTML sanitiser - it's easy to subclass it to restrict the tags and attributes users are allowed to use on your site, and it even attempts to sanitise CSS if you're allowing use of the style attribute. Here's now I'm using it in my Stack Overflow clone's sanitize_html utility function: http://code.google.com/p/soclone/source/browse/trunk/soclone/utils/html.py I've thrown all the attacks listed in ha.ckers.org's XSS Cheatsheet (which are handily available in XML format at it after performing Markdown to HTML conversion using python-markdown2 and it seems to have held up ok. The WMD editor component which Stackoverflow currently uses is a problem, though - I actually had to disable JavaScript in order to test the XSS Cheatsheet attacks, as pasting them all into WMD ended up giving me alert boxes and blanking out the page."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,1503641,16861,2,"To sanitize a string input which you want to store to the database (for example a customer name) you need either to escape it or plainly remove any quotes (', "") from it. This effectively prevents classical SQL injection which can happen if you are assembling an SQL query from strings passed by the user. For example (if it is acceptable to remove quotes completely): datasetName = datasetName.replace(""'"","""").replace('""',"""")"
17250,24,"I'm creating an ZIP file with ZipFile in Python 2.5, it works ok so far: import zipfile, os locfile = ""test.txt"" loczip = os.path.splitext (locfile)[0] + "".zip"" zip = zipfile.ZipFile (loczip, ""w"") zip.write (locfile) zip.close() but I couldn't find how to encrypt the files in the ZIP file. I could use system and call PKZIP -s, but I suppose there must be a more ""Pythonic"" way. I'm looking for an open source solution.",Create an encrypted ZIP file in Python,17287,17250,0,"You can use the Chilkat library. It's commercial, but has a free evaluation and seems pretty nice. Here's an example I got from here: import chilkat # Demonstrates how to create a WinZip-compatible 128-bit AES strong encrypted zip zip = chilkat.CkZip() zip.UnlockComponent(""anything for 30-day trial"") zip.NewZip(""strongEncrypted.zip"") # Set the Encryption property = 4, which indicates WinZip compatible AES encryption. zip.put_Encryption(4) # The key length can be 128, 192, or 256. zip.put_EncryptKeyLength(128) zip.SetPassword(""secret"") zip.AppendFiles(""exampleData/*"",True) zip.WriteZip()"
17893,36,"My current setup.py script works okay, but it installs tvnamer.py (the tool) as ""tvnamer.py"" into site-packages or somewhere similar.. Can I make setup.py install tvnamer.py as tvnamer, and/or is there a better way of installing command-line applications?",What's the best way to distribute python command-line tools?,17933,17893,33,"Try the entry_points.console_scripts parameter in the setup() call. As described in the setuptools docs, this should do what I think you want. To reproduce here: from setuptools import setup setup( # other arguments here... entry_points = { 'console_scripts': [ 'foo = package.module:func', 'bar = othermodule:somefunc', ], } )"
19030,2,"I have a bunch of files (TV episodes, although that is fairly arbitrary) that I want to check match a specific naming/organisation scheme.. Currently: I have three arrays of regex, one for valid filenames, one for files missing an episode name, and one for valid paths. Then, I loop though each valid-filename regex, if it matches, append it to a ""valid"" dict, if not, do the same with the missing-ep-name regexs, if it matches this I append it to an ""invalid"" dict with an error code (2:'missing epsiode name'), if it matches neither, it gets added to invalid with the 'malformed name' error code. The current code can be found here I want to add a rule that checks for the presence of a folder.jpg file in each directory, but to add this would make the code substantially more messy in it's current state.. How could I write this system in a more expandable way? The rules it needs to check would be.. File is in the format Show Name - [01x23] - Episode Name.avi or Show Name - [01xSpecial02] - Special Name.avi or Show Name - [01xExtra01] - Extra Name.avi If filename is in the format Show Name - [01x23].avi display it a 'missing episode name' section of the output The path should be in the format Show Name/season 2/the_file.avi (where season 2 should be the correct season number in the filename) each Show Name/season 1/ folder should contain ""folder.jpg"" .any ideas? While I'm trying to check TV episodes, this concept/code should be able to apply to many things.. The only thought I had was a list of dicts in the format: checker = [ { 'name':'valid files', 'type':'file', 'function':check_valid(), # runs check_valid() on all files 'status':0 # if it returns True, this is the status the file gets }",How to check set of files conform to a naming scheme,19389,19030,0,"maybe you should take the approach of defaulting to: ""the filename is correct"" and work from there to disprove that statement: with the fact that you only allow filenames with: 'show name', 'season number x episode number' and 'episode name', you know for certain that these items should be separated by a ""-"" (dash) so you have to have 2 of those for a filename to be correct. if that checks out, you can use your code to check that the show name matches the show name as seen in the parent's parent folder (case insensitive I assume), the season number matches the parents folder numeric value (with or without an extra 0 prepended). if however you don't see the correct amount of dashes you instantly know that there is something wrong and stop before the rest of the tests etc. and separately you can check if the file folder.jpg exists and take the necessary actions. or do that first and filter that file from the rest of the files in that folder."
19030,2,"I have a bunch of files (TV episodes, although that is fairly arbitrary) that I want to check match a specific naming/organisation scheme.. Currently: I have three arrays of regex, one for valid filenames, one for files missing an episode name, and one for valid paths. Then, I loop though each valid-filename regex, if it matches, append it to a ""valid"" dict, if not, do the same with the missing-ep-name regexs, if it matches this I append it to an ""invalid"" dict with an error code (2:'missing epsiode name'), if it matches neither, it gets added to invalid with the 'malformed name' error code. The current code can be found here I want to add a rule that checks for the presence of a folder.jpg file in each directory, but to add this would make the code substantially more messy in it's current state.. How could I write this system in a more expandable way? The rules it needs to check would be.. File is in the format Show Name - [01x23] - Episode Name.avi or Show Name - [01xSpecial02] - Special Name.avi or Show Name - [01xExtra01] - Extra Name.avi If filename is in the format Show Name - [01x23].avi display it a 'missing episode name' section of the output The path should be in the format Show Name/season 2/the_file.avi (where season 2 should be the correct season number in the filename) each Show Name/season 1/ folder should contain ""folder.jpg"" .any ideas? While I'm trying to check TV episodes, this concept/code should be able to apply to many things.. The only thought I had was a list of dicts in the format: checker = [ { 'name':'valid files', 'type':'file', 'function':check_valid(), # runs check_valid() on all files 'status':0 # if it returns True, this is the status the file gets }",How to check set of files conform to a naming scheme,21302,19030,2,"I want to add a rule that checks for the presence of a folder.jpg file in each directory, but to add this would make the code substantially more messy in it's current state.. This doesn't look bad. In fact your current code does it very nicely, and Sven mentioned a good way to do it as well: Get a list of all the files Check for ""required"" files You would just have have add to your dictionary a list of required files: checker = { ... 'required': ['file', 'list', 'for_required'] } As far as there being a better/extensible way to do this? I am not exactly sure. I could only really think of a way to possibly drop the ""multiple"" regular expressions and build off of Sven's idea for using a delimiter. So my strategy would be defining a dictionary as follows (and I'm sorry I don't know Python syntax and I'm a tad to lazy to look it up but it should make sense. The /regex/ is shorthand for a regex): check_dict = { 'delim' : /\-/, 'parts' : [ 'Show Name', 'Episode Name', 'Episode Number' ], 'patterns' : [/valid name/, /valid episode name/, /valid number/ ], 'required' : ['list', 'of', 'files'], 'ignored' : ['.*', 'hidden.txt'], 'start_dir': '/path/to/dir/to/test/' } Split the filename based on the delimiter. Check each of the parts. Because its an ordered list you can determine what parts are missing and if a section doesn't match any pattern it is malformed. Here the parts and patterns have a 1 to 1 ratio. Two arrays instead of a dictionary enforces the order. Ignored and required files can be listed. The . and .. files should probably be ignored automatically. The user should be allowed to input ""globs"" which can be shell expanded. I'm thinking here of svn:ignore properties, but globbing is natural for listing files. Here start_dir would be default to the current directory but if you wanted a single file to run automated testing of a bunch of directories this would be useful. The real loose end here is the path template and along the same lines what path is required for ""valid files"". I really couldn't come up with a solid idea without writing one large regular expression and taking groups from it... to build a template. It felt a lot like writing a TextMate language grammar. But that starts to stray on the ease of use. The real problem was that the path template was not composed of parts, which makes sense but adds complexity. Is this strategy in tune with what you were thinking of?"
19151,321,How would one create an iterative function (or iterator object) in python?,Build a Basic Python Iterator,19152,19151,90,"First of all the itertools module is incredibly useful for all sorts of cases in which an iterator would be useful, but here is all you need to create an iterator in python: yield Isn't that cool? Yield can be used to replace a normal return in a function. It returns the object just the same, but instead of destroying state and exiting, it saves state for when you want to execute the next iteration. Here is an example of it in action pulled directly from the itertools function list: def count(n=0): while True: yield n n += 1 As stated in the functions description (it's the count() function from the itertools module...) , it produces an iterator that returns consecutive integers starting with n. Generator expressions are a whole other can of worms (awesome worms!). They may be used in place of a List Comprehension to save memory (list comprehensions create a list in memory that is destroyed after use if not assigned to a variable, but generator expressions can create a Generator Object... which is a fancy way of saying Iterator). Here is an example of a generator expression definition: gen = (n for n in xrange(0,11)) This is very similar to our iterator definition above except the full range is predetermined to be between 0 and 10. I just found xrange() (suprised I hadn't seen it before...) and added it to the above example. xrange() is an iterable version of range() which has the advantage of not prebuilding the list. It would be very useful if you had a giant corpus of data to iterate over and only had so much memory to do it in."
19151,321,How would one create an iterative function (or iterator object) in python?,Build a Basic Python Iterator,24377,19151,374,"Iterator objects in python conform to the iterator protocol, which basically means they provide two methods: __iter__() and next(). The __iter__ returns the iterator object and is implicitly called at the start of loops. The next() method returns the next value and is implicitly called at each loop increment. next() raises a StopIteration exception when there are no more value to return, which is implicitly captured by looping constructs to stop iterating. Here's a simple example of a counter: class Counter: def __init__(self, low, high): self.current = low self.high = high def __iter__(self): return self def next(self): # Python 3: def __next__(self) if self.current &gt; self.high: raise StopIteration else: self.current += 1 return self.current - 1 for c in Counter(3, 8): print c This will print: 3 4 5 6 7 8 This is easier to write using a generator, as covered in a previous answer: def counter(low, high): current = low while current &lt;= high: yield current current += 1 for c in counter(3, 8): print c The printed output will be the same. Under the hood, the generator object supports the iterator protocol and does something roughly similar to the class Counter. David Mertz's article, Iterators and Simple Generators, is a pretty good introduction."
19339,241,"I have a list of 2-item tuples and I'd like to convert them to 2 lists where the first contains the first item in each tuple and the second list holds the second item. For example: original = [('a', 1), ('b', 2), ('c', 3), ('d', 4)] # and I want to become... result = (['a', 'b', 'c', 'd'], [1, 2, 3, 4]) Is there a builtin function that does that?",A Transpose/Unzip Function in Python (inverse of zip),19343,19339,397,"zip is its own inverse! Provided you use the special * operator. &gt;&gt;&gt; zip(*[('a', 1), ('b', 2), ('c', 3), ('d', 4)]) [('a', 'b', 'c', 'd'), (1, 2, 3, 4)] The way this works is by calling zip with the arguments: zip(('a', 1), ('b', 2), ('c', 3), ('d', 4)) â¦ except the arguments are passed to zip directly (after being converted to a tuple), so there's no need to worry about the number of arguments getting too big."
19339,241,"I have a list of 2-item tuples and I'd like to convert them to 2 lists where the first contains the first item in each tuple and the second list holds the second item. For example: original = [('a', 1), ('b', 2), ('c', 3), ('d', 4)] # and I want to become... result = (['a', 'b', 'c', 'd'], [1, 2, 3, 4]) Is there a builtin function that does that?",A Transpose/Unzip Function in Python (inverse of zip),25193,19339,17,"You could also do result = ([ a for a,b in original ], [ b for a,b in original ]) It should scale better. Especially if Python makes good on not expanding the list comprehensions unless needed. (Incidentally, it makes a 2-tuple (pair) of lists, rather than a list of tuples, like zip does.) If generators instead of actual lists are ok, this would do that: result = (( a for a,b in original ), ( b for a,b in original )) The generators don't munch through the list until you ask for each element, but on the other hand, they do keep references to the original list."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19665,19654,0,"Well, python is a high level language.. its not hard to learn and if the guys already have programming knowledge it should be much easier to learn.. I like django.. I think it should be a nice try to use django .."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19668,19654,4,"If the mandate of the new lead is to put the house in order, the current situation should likely be simplified as much as possible prior. If I had to bring things to order, I wouldn't want to have to manage an ongoing language conversion project on top of everything else, or at least I'd like some choice when initiating the project. When making your recommendation, did you think about the additional managerial complexity that coming into the middle of a conversion would entail?"
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19685,19654,0,"I don't think it's a matter of a programming language as such. What is the proficiency level of PHP in the team you're talking about? Are they doing spaghetti code or using some structured framework like Zend? If this is the first case then I absolutely understand the guy's interest in Python and Django. It this is the latter, it's just a hype."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19692,19654,2,"@darkdog: Using a new language in production code is about more than easy syntax and high-level capability. You want to be familiar with core APIs and feel like you can fix something through logic instead of having to comb through the documentation. I'm not saying transitioning to Python would be a bad idea for this company, but I'm with John--keep things simple during the transition. The new lead will appreciate having a say in such decisions. If you'd really, really, really like to introduce Python, consider writing some extensions or utilities in straight-up Python or in the framework. You won't be upsetting your core initiatives, so it will be a low/no-risk opportunity to prove the merits of a switch."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19700,19654,1,"I think the language itself is not an issue here, as python is really nice high level language with good and easy to find, thorough documentation. From what I've seen, the Django framework is also a great tooklit for web development, giving much the same developer performance boost Rails is touted to give. The real issue is at the maintenance and management level. How will this move fragment the maintenance between PHP and Python code. Is there a need to migrate existing code from one platform to another? What problems will adopting Python and Django solve that you have in your current development workflow and frameworks, etc."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19715,19654,13,"I recently introduced Python to my company, which does consulting work for the Post Office. I did this by waiting until there was a project for which I would be the only programmer, then getting permission to do this new project in Python. I then did another small project in Python with similarly impressive results. In addition, I used Python for all of my small throwaway assignments (""can you parse the stats in these files into a CSV file organized by date and site?"", etc) and had a quick turnaround time on all of them. I also evangelized Python a bit; I went out of my way to NOT be obnoxious about it, but I'd occasionally describe why I liked it so much, talked about the personal projects I use it for in my free time and why it's awesome for me, etc. Eventually we started another project and I convinced everyone to use Python for it. I took care to point everyone to a lot of documentation, including the specific webpages relating to what they were working on, and every time they had a question, I'd explain how to do things properly by explaining the Pythonic approach to things, etc. This has worked really well. However, this might be somewhat different than what you're describing. In my case I started with moderately small projects and Python is only being used for new projects. Also, none of my co-workers were really Perl or PHP gurus; they all knew those languages and had been using them for awhile, but it didn't take much effort for them to become more productive in Python than they'd been before. So if you're talking about new projects with people who currently use PHP but aren't super-experts and don't love that language, then I think switching to Python is a no-brainer. However, if you're talking about working with a large existing PHP code base with a lot of very experienced PHP programmers who are happy with their current setup, then switching languages is probably not a good idea. You're probably somewhere in between, so you'll have to weigh the tradeoffs; hopefully my answer will help you do that."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19943,19654,0,"I love Python and Django, and use both to develop the our core webapps. That said, it's hard to make a business case for switching at this point. Specifically: Any new platform is risky compared to staying with the tried and true You'll have the developer fragmentation you mentioned It's far easier to find PHP programmers than python programmers Moreover, as other posters have mention, if the issue is more with spaghetti code than PHP itself, there are plenty of nice PHP frameworks that could be used to refactor the code. That said, if this developer is excited about python, stopping them outright is probably demoralizing. My suggestion would be to encourage them to develop in python, but not the mission critical parts of the app. Instead they could write some utility scripts, some small internal application that needs doing, etc. In conclusion: I don't recommend switching from PHP, but I do recommend accommodating the developer's interest in some way at work."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19968,19654,1,"It's really all about schedules. To me the break should be with a specific project. If you decide your direction is Django then start new projects with that. Before you start a new project with a new language/framework, either make sure that you have scheduled time to get up to speed in this new direction, or get up to speed before using on new projects. I would avoid going with a tool of the month. Make sure you want it to be your direction and commit some time/resources to learning enough to make a good decision."
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,20065,20063,13,"Use optparse which comes with the standard library. For example: #!/usr/bin/env python import optparse def main(): p = optparse.OptionParser() p.add_option('--person', '-p', default=""world"") options, arguments = p.parse_args() print 'Hello %s' % options.person if __name__ == '__main__': main() Source: Using Python to create UNIX command line tools However as of Python 2.7 optparse is deprecated, see: Why use argparse rather than optparse?"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,20069,20063,14,"Pretty much everybody is using getopt Here is the example code for the doc : import getopt, sys def main(): try: opts, args = getopt.getopt(sys.argv[1:], ""ho:v"", [""help"", ""output=""]) except getopt.GetoptError: # print help information and exit: usage() sys.exit(2) output = None verbose = False for o, a in opts: if o == ""-v"": verbose = True if o in (""-h"", ""--help""): usage() sys.exit() if o in (""-o"", ""--output""): output = a So in a word, here is how it works. You've got two types of options. Those who are receiving arguments, and those who are just like switches. sys.argv is pretty much your char** argv in C. Like in C you skip the first element which is the name of your program and parse only the arguments : sys.argv[1:] Getopt.getopt will parse it according to the rule you give in argument. ""ho:v"" here describes the short arguments : -ONELETTER. The : means that -o accepts one argument. Finally [""help"", ""output=""] describes long arguments ( --MORETHANONELETTER ). The = after output once again means that output accepts one arguments. The result is a list of couple (option,argument) If an option doesn't accept any argument (like --help here) the arg part is an empty string. You then usually want to loop on this list and test the option name as in the example. I hope this helped you."
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,20169,20063,4,"Just in case you might need to, this may help if you need to grab unicode arguments on Win32 (2K, XP etc): from ctypes import * def wmain(argc, argv): print argc for I in argv: print I return 0 def startup(): size = c_int() ptr = windll.shell32.CommandLineToArgvW(windll.kernel32.GetCommandLineW(), byref(size)) ref = c_wchar_p * size.value raw = ref.from_address(ptr) args = [arg for arg in raw] windll.kernel32.LocalFree(ptr) exit(wmain(len(args), args)) startup()"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,20222,20063,2,"I prefer optparse to getopt. It's very declarative: you tell it the names of the options and the effects they should have (e.g., setting a boolean field), and it hands you back a dictionary populated according to your specifications. http://docs.python.org/lib/module-optparse.html"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,26910,20063,85,"This answer suggests optparse which is appropriate for older Python versions. For Python 2.7 and above, argparse replaces optparse. See this answer for more information. As other people pointed out, you are better off going with optparse over getopt. getopt is pretty much a one-to-one mapping of the standard getopt(3) C library functions, and not very easy to use. optparse, while being a bit more verbose, is much better structured and simpler to extend later on. Here's a typical line to add an option to your parser: parser.add_option('-q', '--query', action=""store"", dest=""query"", help=""query string"", default=""spam"") It pretty much speaks for itself; at processing time, it will accept -q or --query as options, store the argument in an attribute called query and has a default value if you don't specify it. It is also self-documenting in that you declare the help argument (which will be used when run with -h/--help) right there with the option. Usually you parse your arguments with: options, args = parser.parse_args() This will, by default, parse the standard arguments passed to the script (sys.argv[1:]) options.query will then be set to the value you passed to the script. You create a parser simply by doing parser = optparse.OptionParser() These are all the basics you need. Here's a complete Python script that shows this: import optparse parser = optparse.OptionParser() parser.add_option('-q', '--query', action=""store"", dest=""query"", help=""query string"", default=""spam"") options, args = parser.parse_args() print 'Query string:', options.query 5 lines of python that show you the basics. Save it in sample.py, and run it once with python sample.py and once with python sample.py --query myquery Beyond that, you will find that optparse is very easy to extend. In one of my projects, I created a Command class which allows you to nest subcommands in a command tree easily. It uses optparse heavily to chain commands together. It's not something I can easily explain in a few lines, but feel free to browse around in my repository for the main class, as well as a class that uses it and the option parser"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,30973,20063,2,"I think the best way for larger projects is optparse, but if you are looking for an easy way, maybe http://werkzeug.pocoo.org/documentation/script is something for you. from werkzeug import script # actions go here def action_foo(name=""""): """"""action foo does foo"""""" pass def action_bar(id=0, title=""default title""): """"""action bar does bar"""""" pass if __name__ == '__main__': script.run() So basically every function action_* is exposed to the command line and a nice help message is generated for free. python foo.py usage: foo.py &lt;action&gt; [&lt;options&gt;] foo.py --help actions: bar: action bar does bar --id integer 0 --title string default title foo: action foo does foo --name string"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,979871,20063,32,The new hip way is argparse for these reasons. argparse > optparse > getopt update: As of py2.7 argparse is part of the standard library and optparse is deprecated.
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,20843,20794,3,"Can I mention testing for hardlinks without python? /bin/test has the FILE1 -ef FILE2 condition that is true when files share an inode. Therefore, something like find . -type f -exec test \{} -ef /path/to/file \; -print works for hard link testing to a specific file. Which brings me to reading man test and the mentions of -L and -h which both work on one file and return true if that file is a symbolic link, however that doesn't tell you if the target is missing. I did find that head -0 FILE1 would return an exit code of 0 if the file can be opened and a 1 if it cannot, which in the case of a symbolic link to a regular file works as a test for whether it's target can be read."
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,20845,20794,1,"I'm not a python guy but it looks like os.readlink()? The logic I would use in perl is to use readlink() to find the target and the use stat() to test to see if the target exists. Edit: I banged out some perl that demos readlink. I believe perl's stat and readlink and python's os.stat() and os.readlink()are both wrappers for the system calls, so this should translate reasonable well as proof of concept code: wembley 0 /home/jj33/swap &gt; cat p my $f = shift; while (my $l = readlink($f)) { print ""$f -&gt; $l\n""; $f = $l; } if (!-e $f) { print ""$f doesn't exist\n""; } wembley 0 /home/jj33/swap &gt; ls -l | grep ^l lrwxrwxrwx 1 jj33 users 17 Aug 21 14:30 link -&gt; non-existant-file lrwxrwxrwx 1 root users 31 Oct 10 2007 mm -&gt; ../systems/mm/20071009-rewrite// lrwxrwxrwx 1 jj33 users 2 Aug 21 14:34 mmm -&gt; mm/ wembley 0 /home/jj33/swap &gt; perl p mm mm -&gt; ../systems/mm/20071009-rewrite/ wembley 0 /home/jj33/swap &gt; perl p mmm mmm -&gt; mm mm -&gt; ../systems/mm/20071009-rewrite/ wembley 0 /home/jj33/swap &gt; perl p link link -&gt; non-existant-file non-existant-file doesn't exist wembley 0 /home/jj33/swap &gt;"
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,20848,20794,11,"os.lstat() may be helpful. If lstat() succeeds and stat() fails, then it's probably a broken link."
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,20859,20794,2,"os.path You may try using realpath() to get what the symlink points to, then trying to determine if it's a valid file using is file. (I'm not able to try that out at the moment, so you'll have to play around with it and see what you get)"
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,26957,20794,18,"A common Python saying is that it's easier to ask forgiveness than permission. While I'm not a fan of this statement in real life, it does apply in a lot of cases. Usually you want to avoid code that chains two system calls on the same file, because you never know what will happen to the file in between your two calls in your code. A typical mistake is to write something like: if os.path.exists(path): os.unlink(path) The second call (os.unlink) may fail if something else deleted it after your if test, raise an Exception, and stop the rest of your function from executing. (You might think this doesn't happen in real life, but we just fished another bug like that out of our codebase last week - and it was the kind of bug that left a few programmers scratching their head and claiming 'Heisenbug' for the last few months) So, in your particular case, I would probably do: try: os.stat(path) except OSError, e: if e.errno == errno.ENOENT: print 'path %s does not exist or is a broken symlink' % path else: raise e The annoyance here is that stat returns the same error code for a symlink that just isn't there and a broken symlink. So, I guess you have no choice than to break the atomicity, and do something like if not os.path.exists(os.readlink(path)): print 'path %s is a broken symlink' % path"
20927,6,"I've got two models: Message and Attachment. Each attachment is attached to a specific message, using a ForeignKey on the Attachment model. Both models have an auto_now DateTimeField called updated. I'm trying to make it so that when any attachment is saved, it also sets the updated field on the associated message to now. Here's my code: def save(self): super(Attachment, self).save() self.message.updated = self.updated Will this work, and if you can explain it to me, why? If not, how would I accomplish this?",updating an auto_now DateTimeField in a parent model w/ Django,20983,20927,5,You would also need to then save the message. Then it that should work.
20927,6,"I've got two models: Message and Attachment. Each attachment is attached to a specific message, using a ForeignKey on the Attachment model. Both models have an auto_now DateTimeField called updated. I'm trying to make it so that when any attachment is saved, it also sets the updated field on the associated message to now. Here's my code: def save(self): super(Attachment, self).save() self.message.updated = self.updated Will this work, and if you can explain it to me, why? If not, how would I accomplish this?",updating an auto_now DateTimeField in a parent model w/ Django,72359,20927,1,"DateTime fields with auto_now are automatically updated upon calling save(), so you do not need to update them manually. Django will do this work for you."
21454,65,How do I go about specifying and using an ENUM in a Django model?,Specifying a mySQL ENUM in a Django model,21468,21454,75,"From the Django documentation: MAYBECHOICE = ( ('y', 'Yes'), ('n', 'No'), ('u', 'Unknown'), ) And you define a charfield in your model : married = models.CharField(max_length=1, choices=MAYBECHOICE) You can do the same with integer fields if you don't like to have letters in your db. In that case, rewrite your choices: MAYBECHOICE = ( (0, 'Yes'), (1, 'No'), (2, 'Unknown'), )"
21454,65,How do I go about specifying and using an ENUM in a Django model?,Specifying a mySQL ENUM in a Django model,33932,21454,26,"Using the choices parameter won't use the ENUM db type; it will just create a VARCHAR or INTEGER, depending on whether you use choices with a CharField or IntegerField. Generally, this is just fine. If it's important to you that the ENUM type is used at the database level, you have three options: Use ""./manage.py sql appname"" to see the SQL Django generates, manually modify it to use the ENUM type, and run it yourself. If you create the table manually first, ""./manage.py syncdb"" won't mess with it. If you don't want to do this manually every time you generate your DB, put some custom SQL in appname/sql/modelname.sql to perform the appropriate ALTER TABLE command. Create a custom field type and define the db_type method appropriately. With any of these options, it would be your responsibility to deal with the implications for cross-database portability. In option 2, you could use database-backend-specific custom SQL to ensure your ALTER TABLE is only run on MySQL. In option 3, your db_type method would need to check the database engine and set the db column type to a type that actually exists in that database. UPDATE: Since the migrations framework was added in Django 1.7, options 1 and 2 above are entirely obsolete. Option 3 was always the best option anyway. The new version of options 1/2 would involve a complex custom migration using SeparateDatabaseAndState -- but really you want option 3."
21454,65,How do I go about specifying and using an ENUM in a Django model?,Specifying a mySQL ENUM in a Django model,334932,21454,6,If you really want to use your databases ENUM type: Use Django 1.x Recognize your application will only work on some databases. Puzzle through this documentation page:http://docs.djangoproject.com/en/dev/howto/custom-model-fields/#howto-custom-model-fields Good luck!
21454,65,How do I go about specifying and using an ENUM in a Django model?,Specifying a mySQL ENUM in a Django model,1530858,21454,31,"from django.db import models class EnumField(models.Field): """""" A field class that maps to MySQL's ENUM type. Usage: class Card(models.Model): suit = EnumField(values=('Clubs', 'Diamonds', 'Spades', 'Hearts')) c = Card() c.suit = 'Clubs' c.save() """""" def __init__(self, *args, **kwargs): self.values = kwargs.pop('values') kwargs['choices'] = [(v, v) for v in self.values] kwargs['default'] = self.values[0] super(EnumField, self).__init__(*args, **kwargs) def db_type(self): return ""enum({0})"".format( ','.join(""'%s'"" % v for v in self.values) )"
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,21937,21934,8,"I think the article ""Java theory and practice: A brief history of garbage collection"" from IBM should help explain some of the questions you have."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,21964,21934,40,"There are drawbacks of using reference counting. One of the most mentioned is circular references: Suppose A references B, B references C and C references B. If A were to drop its reference to B, both B and C will still have a reference count of 1 and won't be deleted with traditional reference counting. CPython (reference counting is not part of python itself, but part of the C implementation thereof) catches circular references with a separate garbage collection routine that it runs periodically... Another drawback: Reference counting can make execution slower. Each time an object is referenced and dereferenced, the interpreter/VM must check to see if the count has gone down to 0 (and then deallocate if it did). Garbage Collection does not need to do this. Also, Garbage Collection can be done in a separate thread (though it can be a bit tricky). On machines with lots of RAM and for processes that use memory only slowly, you might not want to be doing GC at all! Reference counting would be a bit of a drawback there in terms of performance..."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,22219,21934,11,"Darren Thomas gives a good answer. However, one big difference between the Java and Python approaches is that with reference counting in the common case (no circular references) objects are cleaned up immediately rather than at some indeterminate later date. For example, I can write sloppy, non-portable code in CPython such as def parse_some_attrs(fname): return open(fname).read().split(""~~~"")[2:4] and the file descriptor for that file I opened will be cleaned up immediately because as soon as the reference to the open file goes away, the file is garbage collected and the file descriptor is freed. Of course, if I run Jython or IronPython or possibly PyPy, then the garbage collector won't necessarily run until much later; possibly I'll run out of file descriptors first and my program will crash. So you SHOULD be writing code that looks like def parse_some_attrs(fname): with open(fname) as f: return f.read().split(""~~~"")[2:4] but sometimes people like to rely on reference counting to always free up their resources because it can sometimes make your code a little shorter. I'd say that the best garbage collector is the one with the best performance, which currently seems to be the Java-style generational garbage collectors that can run in a separate thread and has all these crazy optimizations, etc. The differences to how you write your code should be negligible and ideally non-existent."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,23703,21934,2,"The latest Sun Java VM actually have multiple GC algorithms which you can tweak. The Java VM specifications intentionally omitted specifying actual GC behaviour to allow different (and multiple) GC algorithms for different VMs. For example, for all the people who dislike the ""stop-the-world"" approach of the default Sun Java VM GC behaviour, there are VM such as IBM's WebSphere Real Time which allows real-time application to run on Java. Since the Java VM spec is publicly available, there is (theoretically) nothing stopping anyone from implementing a Java VM that uses CPython's GC algorithm."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,46780,21934,2,"Reference counting is particularly difficult to do efficiently in a multi-threaded environment. I don't know how you'd even start to do it without getting into hardware assisted transactions or similar (currently) unusual atomic instructions. Reference counting is easy to implement. JVMs have had a lot of money sunk into competing implementations, so it shouldn't be surprising that they implement very good solutions to very difficult problems. However, it's becoming increasingly easy to target your favourite language at the JVM."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,74327,21934,5,"Garbage collection is faster (more time efficient) than reference counting, if you have enough memory. For example, a copying gc traverses the ""live"" objects and copies them to a new space, and can reclaim all the ""dead"" objects in one step by marking a whole memory region. This is very efficient, if you have enough memory. Generational collections use the knowledge that ""most objects die young""; often only a few percent of objects have to be copied. [This is also the reason why gc can be faster than malloc/free] Reference counting is much more space efficient than garbage collection, since it reclaims memory the very moment it gets unreachable. This is nice when you want to attach finalizers to objects (e.g. to close a file once the File object gets unreachable). A reference counting system can work even when only a few percent of the memory is free. But the management cost of having to increment and decrement counters upon each pointer assignment cost a lot of time, and some kind of garbage collection is still needed to reclaim cycles. So the trade-off is clear: if you have to work in a memory-constrained environment, or if you need precise finalizers, use reference counting. If you have enough memory and need the speed, use garbage collection."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,196487,21934,22,"Actually reference counting and the strategies used by the Sun JVM are all different types of garbage collection algorithms. There are two broad approaches for tracking down dead objects: tracing and reference counting. In tracing the GC starts from the ""roots"" - things like stack references, and traces all reachable (live) objects. Anything that can't be reached is considered dead. In reference counting each time a reference is modified the object's involved have their count updated. Any object whose reference count gets set to zero is considered dead. With basically all GC implementations there are trade offs but tracing is usually good for high through put (i.e. fast) operation but has longer pause times (larger gaps where the UI or program may freeze up). Reference counting can operate in smaller chunks but will be slower overall. It may mean less freezes but poorer performance overall. Additionally a reference counting GC requires a cycle detector to clean up any objects in a cycle that won't be caught by their reference count alone. Perl 5 didn't have a cycle detector in its GC implementation and could leak memory that was cyclic. Research has also been done to get the best of both worlds (low pause times, high throughput): http://cs.anu.edu.au/~Steve.Blackburn/pubs/papers/urc-oopsla-2003.pdf"
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,1604520,21934,1,"Late in the game, but I think one significant rationale for RC in python is its simplicity. See this email by Alex Martelli, for example. (I could not find a link outside google cache, the email date from 13th october 2005 on python list)."
21961,3,"&gt;&gt;&gt; import time &gt;&gt;&gt; time.strptime(""01-31-2009"", ""%m-%d-%Y"") (2009, 1, 31, 0, 0, 0, 5, 31, -1) &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233378000.0 &gt;&gt;&gt; 60*60*24 # seconds in a day 86400 &gt;&gt;&gt; 1233378000.0 / 86400 14275.208333333334 time.mktime should return the number of seconds since the epoch. Since I'm giving it a time at midnight and the epoch is at midnight, shouldn't the result be evenly divisible by the number of seconds in a day?",Why does this python date/time conversion seem wrong?,21973,21961,1,"mktime(...) mktime(tuple) -&gt; floating point number Convert a time tuple in local time to seconds since the Epoch. local time... fancy that. The time tuple: The other representation is a tuple of 9 integers giving local time. The tuple items are: year (four digits, e.g. 1998) month (1-12) day (1-31) hours (0-23) minutes (0-59) seconds (0-59) weekday (0-6, Monday is 0) Julian day (day in the year, 1-366) DST (Daylight Savings Time) flag (-1, 0 or 1) If the DST flag is 0, the time is given in the regular time zone; if it is 1, the time is given in the DST time zone; if it is -1, mktime() should guess based on the date and time. Incidentally, we seem to be 6 hours apart: &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233356400.0 &gt;&gt;&gt; (1233378000.0 - 1233356400)/(60*60) 6.0"
21961,3,"&gt;&gt;&gt; import time &gt;&gt;&gt; time.strptime(""01-31-2009"", ""%m-%d-%Y"") (2009, 1, 31, 0, 0, 0, 5, 31, -1) &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233378000.0 &gt;&gt;&gt; 60*60*24 # seconds in a day 86400 &gt;&gt;&gt; 1233378000.0 / 86400 14275.208333333334 time.mktime should return the number of seconds since the epoch. Since I'm giving it a time at midnight and the epoch is at midnight, shouldn't the result be evenly divisible by the number of seconds in a day?",Why does this python date/time conversion seem wrong?,21974,21961,0,"Interesting. I don't know, but I did try this: &gt;&gt;&gt; now = time.mktime((2008, 8, 22, 11 ,17, -1, -1, -1, -1)) &gt;&gt;&gt; tomorrow = time.mktime((2008, 8, 23, 11 ,17, -1, -1, -1, -1)) &gt;&gt;&gt; tomorrow - now 86400.0 which is what you expected. My guess? Maybe some time correction was done since the epoch. This could be only a few seconds, something like a leap year. I think I heard something like this before, but can't remember exactly how and when it is done..."
21961,3,"&gt;&gt;&gt; import time &gt;&gt;&gt; time.strptime(""01-31-2009"", ""%m-%d-%Y"") (2009, 1, 31, 0, 0, 0, 5, 31, -1) &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233378000.0 &gt;&gt;&gt; 60*60*24 # seconds in a day 86400 &gt;&gt;&gt; 1233378000.0 / 86400 14275.208333333334 time.mktime should return the number of seconds since the epoch. Since I'm giving it a time at midnight and the epoch is at midnight, shouldn't the result be evenly divisible by the number of seconds in a day?",Why does this python date/time conversion seem wrong?,21975,21961,7,"Short answer: Because of timezones. The Epoch is in UTC. For example, I'm on IST (Irish Stsandard Time) or GMT+1. time.mktime() is relative to my timezone, so on my system this refers to &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233360000.0 Because you got the result 1233378000, that would suggest that you're 5 hours behind me &gt;&gt;&gt; (1233378000 - 1233360000) / (60*60) 5 Have a look at the time.gmtime() function which works off UTC."
21961,3,"&gt;&gt;&gt; import time &gt;&gt;&gt; time.strptime(""01-31-2009"", ""%m-%d-%Y"") (2009, 1, 31, 0, 0, 0, 5, 31, -1) &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233378000.0 &gt;&gt;&gt; 60*60*24 # seconds in a day 86400 &gt;&gt;&gt; 1233378000.0 / 86400 14275.208333333334 time.mktime should return the number of seconds since the epoch. Since I'm giving it a time at midnight and the epoch is at midnight, shouldn't the result be evenly divisible by the number of seconds in a day?",Why does this python date/time conversion seem wrong?,22021,21961,1,"Phil's answer really solved it, but I'll elaborate a little more. Since the epoch is in UTC, if I want to compare other times to the epoch, I need to interpret them as UTC as well. &gt;&gt;&gt; calendar.timegm((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233360000 &gt;&gt;&gt; 1233360000 / (60*60*24) 14275 By converting the time tuple to a timestamp treating is as UTC time, I get a number which is evenly divisible by the number of seconds in a day. I can use this to convert a date to a days-from-the-epoch representation which is what I'm ultimately after."
22059,4,"I was wondering how as semantic service like Open Calais figures out the names of companies, or people, tech concepts, keywords, etc. from a piece of text. Is it because they have a large database that they match the text against? How would a service like Zemanta know what images to suggest to a piece of text for instance?","How do content discovery engines, like Zemanta and Open Calais work?",23041,22059,0,"Open Calais probably use language parsing technology and language statics to guess which words or phrases are Names, Places, Companies, etc. Then, it is just another step to do some kind of search for those entities and return meta data. Zementa probably does something similar, but matches the phrases against meta-data attached to images in order to acquire related results. It certainly isn't easy."
22059,4,"I was wondering how as semantic service like Open Calais figures out the names of companies, or people, tech concepts, keywords, etc. from a piece of text. Is it because they have a large database that they match the text against? How would a service like Zemanta know what images to suggest to a piece of text for instance?","How do content discovery engines, like Zemanta and Open Calais work?",35667,22059,7,"I'm not familiar with the specific services listed, but the field of natural language processing has developed a number of techniques that enable this sort of information extraction from general text. As Sean stated, once you have candidate terms, it's not to difficult to search for those terms with some of the other entities in context and then use the results of that search to determine how confident you are that the term extracted is an actual entity of interest. OpenNLP is a great project if you'd like to play around with natural language processing. The capabilities you've named would probably be best accomplished with Named Entity Recognizers (NER) (algorithms that locate proper nouns, generally, and sometimes dates as well) and/or Word Sense Disambiguation (WSD) (eg: the word 'bank' has different meanings depending on it's context, and that can be very important when extracting information from text. Given the sentences: ""the plane banked left"", ""the snow bank was high"", and ""they robbed the bank"" you can see how dissambiguation can play an important part in language understanding) Techniques generally build on each other, and NER is one of the more complex tasks, so to do NER successfully, you will generally need accurate tokenizers (natural language tokenizers, mind you -- statistical approaches tend to fare the best), string stemmers (algorithms that conflate similar words to common roots: so words like informant and informer are treated equally), sentence detection ('Mr. Jones was tall.' is only one sentence, so you can't just check for punctuation), part-of-speech taggers (POS taggers), and WSD. There is a python port of (parts of) OpenNLP called NLTK (http://nltk.sourceforge.net) but I don't have much experience with it yet. Most of my work has been with the Java and C# ports, which work well. All of these algorithms are language-specific, of course, and they can take significant time to run (although, it is generally faster than reading the material you are processing). Since the state-of-the-art is largely based on statistical techniques, there is also a considerable error rate to take into account. Furthermore, because the error rate impacts all the stages, and something like NER requires numerous stages of processing, (tokenize -> sentence detect -> POS tag -> WSD -> NER) the error rates compound."
22059,4,"I was wondering how as semantic service like Open Calais figures out the names of companies, or people, tech concepts, keywords, etc. from a piece of text. Is it because they have a large database that they match the text against? How would a service like Zemanta know what images to suggest to a piece of text for instance?","How do content discovery engines, like Zemanta and Open Calais work?",821663,22059,9,"Michal Finkelstein from OpenCalais here. First, thanks for your interest. I'll reply here but I also encourage you to read more on OpenCalais forums; there's a lot of information there including - but not limited to: http://opencalais.com/tagging-information http://opencalais.com/how-does-calais-learn Also feel free to follow us on Twitter (@OpenCalais) or to email us at team@opencalais.com Now to the answer: OpenCalais is based on a decade of research and development in the fields of Natural Language Processing and Text Analytics. We support the full ""NLP Stack"" (as we like to call it): From text tokenization, morphological analysis and POS tagging, to shallow parsing and identifying nominal and verbal phrases. Semantics come into play when we look for Entities (a.k.a. Entity Extraction, Named Entity Recognition). For that purpose we have a sophisticated rule-based system that combines discovery rules as well as lexicons/dictionaries. This combination allows us to identify names of companies/persons/films, etc., even if they don't exist in any available list. For the most prominent entities (such as people, companies) we also perform anaphora resolution, cross-reference and name canonization/normalization at the article level, so we'll know that 'John Smith' and 'Mr. Smith', for example, are likely referring to the same person. So the short answer to your question is - no, it's not just about matching against large databases. Events/Facts are really interesting because they take our discovery rules one level deeper; we find relations between entities and label them with the appropriate type, for example M&amp;As (relations between two or more companies), Employment Changes (relations between companies and people), and so on. Needless to say, Event/Fact extraction is not possible for systems that are based solely on lexicons. For the most part, our system is tuned to be precision-oriented, but we always try to keep a reasonable balance between accuracy and entirety. By the way there are some cool new metadata capabilities coming out later this month so stay tuned. Regards, Michal"
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,22157,22149,0,Python stores Unicode as UTF-16. str() will return the UTF-8 representation of the UTF-16 string.
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,22168,22149,-1,"From Wikipedia on UTF-8: UTF-8 (8-bit UCS/Unicode Transformation Format) is a variable-length character encoding for Unicode. It is able to represent any character in the Unicode standard, yet the initial encoding of byte codes and character assignments for UTF-8 is backwards compatible with ASCII. For these reasons, it is steadily becoming the preferred encoding for e-mail, web pages[1], and other places where characters are stored or streamed. So, it's anywhere between one and four bytes depending on which character you wish to represent within the realm of Unicode. From Wikipedia on Unicode: In computing, Unicode is an industry standard allowing computers to consistently represent and manipulate text expressed in most of the world's writing systems. So it's able to represent most (but not all) of the world's writing systems. I hope this helps :)"
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,22206,22149,-2,"so what is a ""Unicode string"" in Python? Python 'knows' that your string is Unicode. Hence if you do regex on it, it will know which is character and which is not etc, which is really helpful. If you did a strlen it will also give the correct result. As an example if you did string count on Hello, you will get 5 (even if it's Unicode). But if you did a string count of a foreign word and that string was not a Unicode string than you will have much larger result. Pythong uses the information form the Unicode Character Database to identify each character in the Unicode String. Hope that helps."
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,22208,22149,8,"Meanwhile, I did a refined research to verify what the internal representation in Python is, and also what its limits are. ""The Truth About Unicode In Python"" is a very good article which cites directly from the Python developers. Apparently, internal representation is either UCS-2 or UCS-4 depending on a compile-time switch. So Jon, it's not UTF-16, but your answer put me on the right track anyway, thanks."
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,522827,22149,45,"what is a ""Unicode string"" in Python? Does that mean UCS-2? Unicode strings in Python are stored internally either as UCS-2 (fixed-length 16-bit representation, almost the same as UTF-16) or UCS-4/UTF-32 (fixed-length 32-bit representation). It's a compile-time option; on Windows it's always UTF-16 whilst many Linux distributions set UTF-32 (âwide modeâ) for their versions of Python. You are generally not supposed to care: you will see Unicode code-points as single elements in your strings and you won't know whether they're stored as two or four bytes. If you're in a UTF-16 build and you need to handle characters outside the Basic Multilingual Plane you'll be Doing It Wrong, but that's still very rare, and users who really need the extra characters should be compiling wide builds. plain wrong, or is it? Yes, it's quite wrong. To be fair I think that tutorial is rather old; it probably pre-dates wide Unicode strings, if not Unicode 3.1 (the version that introduced characters outside the Basic Multilingual Plane). There is an additional source of confusion stemming from Windows's habit of using the term âUnicodeâ to mean, specifically, the UTF-16LE encoding that NT uses internally. People from Microsoftland may often copy this somewhat misleading habit."
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,22624,22617,103,"Formatting in Python is done via the string formatting (%) operator: ""%02d:%02d:%02d"" % (hours, minutes, seconds) /Edit: There's also strftime."
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,22630,22617,3,"You can use C style string formatting: ""%d:%d:d"" % (hours, minutes, seconds) See here, especially: https://web.archive.org/web/20120415173443/http://diveintopython3.ep.io/strings.html"
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,24962,22617,0,"str() in python on an integer will not print any decimal places. If you have a float that you want to ignore the decimal part, then you can use str(int(floatValue)). Perhaps the following code will demonstrate: &gt;&gt;&gt; str(5) '5' &gt;&gt;&gt; int(8.7) 8"
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,2550630,22617,74,"Starting in Python 2.6, there is an alternative: the str.format() method. Here are some examples using the existing string format operator (%): &gt;&gt;&gt; ""Name: %s, age: %d"" % ('John', 35) 'Name: John, age: 35' &gt;&gt;&gt; I = 45 &gt;&gt;&gt; 'dec: %d/oct: %#o/hex: %#X' % (i, i, i) 'dec: 45/oct: 055/hex: 0X2D' &gt;&gt;&gt; ""MM/DD/YY = %02d/%02d/%02d"" % (12, 7, 41) 'MM/DD/YY = 12/07/41' &gt;&gt;&gt; 'Total with tax: $%.2f' % (13.00 * 1.0825) 'Total with tax: $14.07' &gt;&gt;&gt; d = {'web': 'user', 'page': 42} &gt;&gt;&gt; 'http://xxx.yyy.zzz/%(web)s/%(page)d.html' % d 'http://xxx.yyy.zzz/user/42.html' Here are the equivalent snippets but using str.format(): &gt;&gt;&gt; ""Name: {0}, age: {1}"".format('John', 35) 'Name: John, age: 35' &gt;&gt;&gt; I = 45 &gt;&gt;&gt; 'dec: {0}/oct: {0:#o}/hex: {0:#X}'.format(i) 'dec: 45/oct: 0o55/hex: 0X2D' &gt;&gt;&gt; ""MM/DD/YY = {0:02d}/{1:02d}/{2:02d}"".format(12, 7, 41) 'MM/DD/YY = 12/07/41' &gt;&gt;&gt; 'Total with tax: ${0:.2f}'.format(13.00 * 1.0825) 'Total with tax: $14.07' &gt;&gt;&gt; d = {'web': 'user', 'page': 42} &gt;&gt;&gt; 'http://xxx.yyy.zzz/{web}/{page}.html'.format(**d) 'http://xxx.yyy.zzz/user/42.html' Like Python 2.6+, all Python 3 releases (so far) understand how to do both. I shamelessly ripped this stuff straight out of my hardcore Python intro book and the slides for the Intro+Intermediate Python courses I offer from time-to-time. :-)"
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,3336493,22617,0,"If you have a value that includes a decimal, but the decimal value is negligible (ie: 100.0) and try to int that, you will get an error. It seems silly, but calling float first fixes this. str(int(float([variable])))"
22676,492,"I have a small utility that I use to download a MP3 from a website on a schedule and then builds/updates a podcast XML file which I've obviously added to iTunes. The text processing that creates/updates the XML file is written in Python. I use wget inside a Windows .bat file to download the actual MP3 however. I would prefer to have the entire utility written in Python though. I struggled though to find a way to actually down load the file in Python, thus why I resorted to wget. So, how do I download the file using Python?",How do I download a file over HTTP using Python?,22682,22676,286,"In Python 2, use urllib2 which comes with the standard library. import urllib2 response = urllib2.urlopen('http://www.example.com/') html = response.read() This is the most basic way to use the library, minus any error handling. You can also do more complex stuff such as changing headers. The documentation can be found here."
22676,492,"I have a small utility that I use to download a MP3 from a website on a schedule and then builds/updates a podcast XML file which I've obviously added to iTunes. The text processing that creates/updates the XML file is written in Python. I use wget inside a Windows .bat file to download the actual MP3 however. I would prefer to have the entire utility written in Python though. I struggled though to find a way to actually down load the file in Python, thus why I resorted to wget. So, how do I download the file using Python?",How do I download a file over HTTP using Python?,22721,22676,118,"import urllib2 mp3file = urllib2.urlopen(""http://www.example.com/songs/mp3.mp3"") with open('test.mp3','wb') as output: output.write(mp3file.read()) The wb in open('test.mp3','wb') opens a file (and erases any existing file) in binary mode so you can save data with it instead of just text."
22676,492,"I have a small utility that I use to download a MP3 from a website on a schedule and then builds/updates a podcast XML file which I've obviously added to iTunes. The text processing that creates/updates the XML file is written in Python. I use wget inside a Windows .bat file to download the actual MP3 however. I would prefer to have the entire utility written in Python though. I struggled though to find a way to actually down load the file in Python, thus why I resorted to wget. So, how do I download the file using Python?",How do I download a file over HTTP using Python?,22723,22676,9,"I agree with Corey, urllib2 is more complete than urllib and should likely be the module used if you want to do more complex things, but to make the answers more complete, urllib is a simpler module if you want just the basics: import urllib response = urllib.urlopen('http://www.example.com/sound.mp3') mp3 = response.read() Will work fine. Or, if you don't want to deal with the ""response"" object you can call read() directly: import urllib mp3 = urllib.urlopen('http://www.example.com/sound.mp3').read()"
22676,492,"I have a small utility that I use to download a MP3 from a website on a schedule and then builds/updates a podcast XML file which I've obviously added to iTunes. The text processing that creates/updates the XML file is written in Python. I use wget inside a Windows .bat file to download the actual MP3 however. I would prefer to have the entire utility written in Python though. I struggled though to find a way to actually down load the file in Python, thus why I resorted to wget. So, how do I download the file using Python?",How do I download a file over HTTP using Python?,22776,22676,759,"One more, using urlretrieve: import urllib urllib.urlretrieve (""http://www.example.com/songs/mp3.mp3"", ""mp3.mp3"") (for Python 3+ use 'import urllib.request' and urllib.request.urlretrieve) Yet another one, with a ""progressbar"" import urllib2 url = ""http://download.thinkbroadband.com/10MB.zip"" file_name = url.split('/')[-1] u = urllib2.urlopen(url) f = open(file_name, 'wb') meta = u.info() file_size = int(meta.getheaders(""Content-Length"")[0]) print ""Downloading: %s Bytes: %s"" % (file_name, file_size) file_size_dl = 0 block_sz = 8192 while True: buffer = u.read(block_sz) if not buffer: break file_size_dl += len(buffer) f.write(buffer) status = r""%10d [%3.2f%%]"" % (file_size_dl, file_size_dl * 100. / file_size) status = status + chr(8)*(len(status)+1) print status, f.close()"
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,23414,23397,0,Possibly a version of spawn() for python? http://en.wikipedia.org/wiki/Spawn_(operating_system)
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,23422,23397,4,"Have a look at the process management functions in the os module. There are function for starting new processes in many different ways, both synchronously and asynchronously. I should note also that Windows doesn't provide functionality that is exactly like fork() on other systems. To do multiprocessing on Windows, you will need to use the threading module."
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,23510,23397,3,"In addition to the process management code in the os module that Greg pointed out, you should also take a look at the threading module: https://docs.python.org/library/threading.html from threading import Thread def separate_computations(x, y): print sum(x for I in range(y)) # really expensive multiplication Thread(target=separate_compuations, args=[57, 83]).start() print ""I'm continuing while that other function runs in another thread!"""
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,25117,23397,2,You might also like using the processing module (http://pypi.python.org/pypi/processing). It has lot's of functionality for writing parallel systems with the same API as the threading module...
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,52191,23397,2,"The Threading example from Eli will run the thread, but not do any of the work after that line. I'm going to look into the processing module and the subprocess module. I think the com method I'm running needs to be in another process, not just in another thread."
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,170387,23397,10,"fork() has in fact been duplicated in Windows, under Cygwin, but it's pretty hairy. The fork call in Cygwin is particularly interesting because it does not map well on top of the Win32 API. This makes it very difficult to implement correctly. See the The Cygwin User's Guide for a description of this hack."
23907,34,"Basically I want to get the number of lines-of-code in the repository after each commit. The only (really crappy) ways I have found is to use git filter-branch to run ""wc -l *"", and a script that run git reset --hard on each commit, then ran wc -l To make it a bit clearer, when the tool is run, it would output the lines of code of the very first commit, then the second and so on.. This is what I want the tool to output (as an example): me@something:~/$ gitsloc --branch master 10 48 153 450 1734 1542 I've played around with the ruby 'git' library, but the closest I found was using the .lines() method on a diff, which seems like it should give the added lines (but does not.. it returns 0 when you delete lines for example) require 'rubygems' require 'git' total = 0 g = Git.open(working_dir = '/Users/dbr/Desktop/code_projects/tvdb_api') last = nil g.log.each do |cur| diff = g.diff(last, cur) total = total + diff.lines puts total last = cur end",How can I graph the Lines of Code history for git repo?,24190,23907,4,"The first thing that jumps to mind is the possibility of your git history having a nonlinear history. You might have difficulty determining a sensible sequence of commits. Having said that, it seems like you could keep a log of commit ids and the corresponding lines of code in that commit. In a post-commit hook, starting from the HEAD revision, work backwards (branching to multiple parents if necessary) until all paths reach a commit that you've already seen before. That should give you the total lines of code for each commit id. Does that help any? I have a feeling that I've misunderstood something about your question."
23907,34,"Basically I want to get the number of lines-of-code in the repository after each commit. The only (really crappy) ways I have found is to use git filter-branch to run ""wc -l *"", and a script that run git reset --hard on each commit, then ran wc -l To make it a bit clearer, when the tool is run, it would output the lines of code of the very first commit, then the second and so on.. This is what I want the tool to output (as an example): me@something:~/$ gitsloc --branch master 10 48 153 450 1734 1542 I've played around with the ruby 'git' library, but the closest I found was using the .lines() method on a diff, which seems like it should give the added lines (but does not.. it returns 0 when you delete lines for example) require 'rubygems' require 'git' total = 0 g = Git.open(working_dir = '/Users/dbr/Desktop/code_projects/tvdb_api') last = nil g.log.each do |cur| diff = g.diff(last, cur) total = total + diff.lines puts total last = cur end",How can I graph the Lines of Code history for git repo?,35664,23907,22,"You may get both added and removed lines with git log, like: git log --shortstat --reverse --pretty=oneline From this, you can write a similar script to the one you did using this info. In python: #!/usr/bin/python """""" Display the per-commit size of the current git branch. """""" import subprocess import re import sys def main(argv): git = subprocess.Popen([""git"", ""log"", ""--shortstat"", ""--reverse"", ""--pretty=oneline""], stdout=subprocess.PIPE) out, err = git.communicate() total_files, total_insertions, total_deletions = 0, 0, 0 for line in out.split('\n'): if not line: continue if line[0] != ' ': # This is a description line hash, desc = line.split("" "", 1) else: # This is a stat line data = re.findall( ' (\d+) files changed, (\d+) insertions\(\+\), (\d+) deletions\(-\)', line) files, insertions, deletions = ( int(x) for x in data[0] ) total_files += files total_insertions += insertions total_deletions += deletions print ""%s: %d files, %d lines"" % (hash, total_files, total_insertions - total_deletions) if __name__ == '__main__': sys.exit(main(sys.argv))"
23907,34,"Basically I want to get the number of lines-of-code in the repository after each commit. The only (really crappy) ways I have found is to use git filter-branch to run ""wc -l *"", and a script that run git reset --hard on each commit, then ran wc -l To make it a bit clearer, when the tool is run, it would output the lines of code of the very first commit, then the second and so on.. This is what I want the tool to output (as an example): me@something:~/$ gitsloc --branch master 10 48 153 450 1734 1542 I've played around with the ruby 'git' library, but the closest I found was using the .lines() method on a diff, which seems like it should give the added lines (but does not.. it returns 0 when you delete lines for example) require 'rubygems' require 'git' total = 0 g = Git.open(working_dir = '/Users/dbr/Desktop/code_projects/tvdb_api') last = nil g.log.each do |cur| diff = g.diff(last, cur) total = total + diff.lines puts total last = cur end",How can I graph the Lines of Code history for git repo?,2854506,23907,22,"You might also consider gitstats, which generates this graph as an html file."
23907,34,"Basically I want to get the number of lines-of-code in the repository after each commit. The only (really crappy) ways I have found is to use git filter-branch to run ""wc -l *"", and a script that run git reset --hard on each commit, then ran wc -l To make it a bit clearer, when the tool is run, it would output the lines of code of the very first commit, then the second and so on.. This is what I want the tool to output (as an example): me@something:~/$ gitsloc --branch master 10 48 153 450 1734 1542 I've played around with the ruby 'git' library, but the closest I found was using the .lines() method on a diff, which seems like it should give the added lines (but does not.. it returns 0 when you delete lines for example) require 'rubygems' require 'git' total = 0 g = Git.open(working_dir = '/Users/dbr/Desktop/code_projects/tvdb_api') last = nil g.log.each do |cur| diff = g.diff(last, cur) total = total + diff.lines puts total last = cur end",How can I graph the Lines of Code history for git repo?,3180919,23907,9,http://github.com/ITikhonov/git-loc worked right out of the box for me.
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,24199,24193,2,"I recall that in previous versions of VS, there was a way to add custom build steps to the build process. I used that a lot to do exactly the kind of automated code generation you describe. I imagine the custom build step feature is still there in 2008."
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,24236,24193,1,I don't understand what you are trying to do here. Are you trying to execute a Python script that generates a C# file and then compile that with the project? Or are you trying to compile a Python script to C#?
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,24248,24193,1,"OK, I see. Well, as far as I know there isn't any code generator for Python. There is a good introduction on how to roll your own here. Actually, that's quite an under-used part of the environment, I suppose it's so because it needs you to use the IDE to compile the project, as it'd seem only the IDE knows about these ""generators"", but MSBuild ignores them."
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,222427,24193,3,I think Cog does what you want.
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,223387,24193,1,"I dug through my old bookmarks (I love Del.icio.us!) and found this article: Code Generation with Python, Cog, and Nant. Keep in mind that anything you can do in NAnt can probably be done in MSBuild as well. This should be enough to get you started."
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,24939,24931,0,"In which context are you asking? Are you trying to capture the output from a program you start on the command line? if so, then this is how to execute it: somescript.py | your-capture-program-here and to read the output, just read from standard input. If, on the other hand, you're executing that script or cmd.exe or similar from within your program, and want to wait until the script/program has finished, and capture all its output, then you need to look at the library calls you use to start that external program, most likely there is a way to ask it to give you some way to read the output and wait for completion."
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,24942,24931,1,You want subprocess. Look specifically at Popen in 17.1.1 and communicate in 17.1.2.
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,24949,24931,9,"If you are talking about the python interpreter or CMD.exe that is the 'parent' of your script then no, it isn't possible. In every POSIX-like system (now you're running Windows, it seems, and that might have some quirk I don't know about, YMMV) each process has three streams, standard input, standard output and standard error. Bu default (when running in a console) these are directed to the console, but redirection is possible using the pipe notation: python script_a.py | python script_b.py This ties the standard output stream of script a to the standard input stream of script B. Standard error still goes to the console in this example. See the article on standard streams on Wikipedia. If you're talking about a child process, you can launch it from python like so (stdin is also an option if you want two way communication): import subprocess # Of course you can open things other than python here :) process = subprocess.Popen([""python"", ""main.py""], stdout=subprocess.PIPE, stderr=subprocess.PIPE) x = process.stderr.readline() y = process.stdout.readline() process.wait() See the Python subprocess module for information on managing the process. For communication, the process.stdin and process.stdout pipes are considered standard file objects. For use with pipes, reading from standard input as lassevk suggested you'd do something like this: import sys x = sys.stderr.readline() y = sys.stdin.readline() sys.stdin and sys.stdout are standard file objects as noted above, defined in the sys module. You might also want to take a look at the pipes module. Reading data with readline() as in my example is a pretty naÃ¯ve way of getting data though. If the output is not line-oriented or indeterministic you probably want to look into polling which unfortunately does not work in windows, but I'm sure there's some alternative out there."
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,29169,24931,3,"Actually, you definitely can, and it's beautiful, ugly, and crazy at the same time! You can replace sys.stdout and sys.stderr with StringIO objects that collect the output. Here's an example, save it as evil.py: import sys import StringIO s = StringIO.StringIO() sys.stdout = s print ""hey, this isn't going to stdout at all!"" print ""where is it ?"" sys.stderr.write('It actually went to a StringIO object, I will show you now:\n') sys.stderr.write(s.getvalue()) When you run this program, you will see that: nothing went to stdout (where print usually prints to) the first string that gets written to stderr is the one starting with 'It' the next two lines are the ones that were collected in the StringIO object Replacing sys.stdout/err like this is an application of what's called monkeypatching. Opinions may vary whether or not this is 'supported', and it is definitely an ugly hack, but it has saved my bacon when trying to wrap around external stuff once or twice. Tested on Linux, not on Windows, but it should work just as well. Let me know if it works on Windows!"
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,3378965,24931,4,"I think I can point you to a good answer for the first part of your question. 1.&nbsp;&nbsp;Is it possible to capture Python interpreter's output from a Python script? The answer is ""yes"", and personally I like the following lifted from the examples in the PEP 343 -- The ""with"" Statement document. from contextlib import contextmanager import sys @contextmanager def stdout_redirected(new_stdout): saved_stdout = sys.stdout sys.stdout = new_stdout try: yield None finally: sys.stdout.close() sys.stdout = saved_stdout And used like this: with stdout_redirected(open(""filename.txt"", ""w"")): print ""Hello world"" A nice aspect of it is that it can be applied selectively around just a portion of a script's execution, rather than its entire extent, and stays in effect even when unhandled exceptions are raised within its context. If you re-open the file in append-mode after its first use, you can accumulate the results into a single file: with stdout_redirected(open(""filename.txt"", ""w"")): print ""Hello world"" print ""screen only output again"" with stdout_redirected(open(""filename.txt"", ""a"")): print ""Hello world2"" Of course, the above be also be extended to also redirect sys.stderr to the same or another file. Also see this answer to a related question."
25116,41,"In Python you can use StringIO for a file-like buffer for character data. Memory-mapped file basically does similar thing for binary data, but it requires a file that is used as the basis. Does Python have a file object that is intended for binary data and is memory only, equivalent to Java's ByteArrayOutputStream? The use-case I have is I want to create a ZIP file in memory, and ZipFile requires a file-like object.",Binary buffer in Python,25123,25116,3,"Look at the struct package: https://docs.python.org/library/struct.html, it allows you to interpret strings as packed binary data. Not sure if this will completely answer your question but you can use struct.unpack() to convert binary data to python objects. import struct f = open(filename, ""rb"") s = f.read(8) x, y = struct.unpack("">hl"", s) int this example, the "">"" tells to read big-endian the ""h"" reads a 2-byte short, and the ""l"" is for a 4-byte long. you can obviously change these to whatever you need to read out of the binary data..."
25116,41,"In Python you can use StringIO for a file-like buffer for character data. Memory-mapped file basically does similar thing for binary data, but it requires a file that is used as the basis. Does Python have a file object that is intended for binary data and is memory only, equivalent to Java's ByteArrayOutputStream? The use-case I have is I want to create a ZIP file in memory, and ZipFile requires a file-like object.",Binary buffer in Python,25180,25116,24,"As long as you don't try to put any unicode data into your StringIO and you are careful NOT to use cStringIO you should be fine. According to the StringIO documentation, as long as you keep to either unicode or 8-bits everything works as expected. Presumably, StringIO does something special when someone does a f.write(u""asdf"") (which ZipFile does not do, to my knowledge). Anyway; import zipfile import StringIO s = StringIO.StringIO() z = zipfile.ZipFile(s, ""w"") z.write(""test.txt"") z.close() f = file(""x.zip"", ""w"") f.write(s.getvalue()) s.close() f.close() works just as expected, and there's no difference between the file in the resulting archive and the original file. If you know of a particular case where this approach does not work, I'd be most interested to hear about it :)"
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,25761,25661,1,You may be interested in this message thread. Looks like they recommend against it.
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,28935,25661,7,"I've never attempted it myself, but hearing plenty about other people who've tried, it's not a road you want to go down. There is the alternative of putting the gui in pygame itself. There are plenty of gui toolkits built specifically for pygame that you could use. Most of them are rather unfinished, but there are 2 big, actively maintained ones: PGU and OcempGUI. The full list on the pygame site is here."
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,31950,25661,1,"PyGame works much better when it can manage its own window, or even better, use the whole screen. GTK has flexible enough widgets to allow creation of a drawing area. This page may help, though, if you want to try it."
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,88457,25661,0,"I tried doing this myself a while ago, and I never got it to work perfectly. Actually I never got it to work at all under Windows, as it kept crashing the entire OS and I ran out of patience. I continued to use it though as it was only important it ran on Linux, and was only a small project. I'd strongly recommend you investigate alternatives. It always felt like a nasty hack, and made me feel dirty."
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,199288,25661,0,"There's a simple solution that might work for you. Write the PyGTK stuff and PyGame stuff as separate applications. Then from the PyGTK application call the PyGame application, using os.system to call the PyGame application. If you need to share data between the two then either use a database, pipes or IPC."
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,341525,25661,1,"http://faq.pygtk.org/index.py?file=faq23.042.htp&amp;req=show mentions it all: You need to create a drawing area and set the environment variable SDL_WINDOWID after it's realized: import os import gobject import gtk import pygame WINX = 400 WINY = 200 window = gtk.Window() window.connect('delete-event', gtk.main_quit) window.set_resizable(False) area = gtk.DrawingArea() area.set_app_paintable(True) area.set_size_request(WINX, WINY) window.add(area) area.realize() # Force SDL to write on our drawing area os.putenv('SDL_WINDOWID', str(area.window.xid)) # We need to flush the XLib event loop otherwise we can't # access the XWindow which set_mode() requires gtk.gdk.flush() pygame.init() pygame.display.set_mode((WINX, WINY), 0, 0) screen = pygame.display.get_surface() image_surface = pygame.image.load('foo.png') screen.blit(image_surface, (0, 0)) gobject.idle_add(pygame.display.update) window.show_all() while gtk.event_pending(): # pygame/SDL event processing goes here gtk.main_iteration(False)"
25807,30,"If I have Python code class A(): pass class B(): pass class C(A, B): pass and I have class C, is there a way to iterate through it's super classed (A and B)? Something like pseudocode: &gt;&gt;&gt; magicGetSuperClasses(C) (&lt;type 'A'&gt;, &lt;type 'B'&gt;) One solution seems to be inspect module and getclasstree function. def magicGetSuperClasses(cls): return [o[0] for o in inspect.getclasstree([cls]) if type(o[0]) == type] but is this a ""Pythonian"" way to achieve the goal?",Python super class reflection,25815,25807,36,"C.__bases__ is an array of the super classes, so you could implement your hypothetical function like so: def magicGetSuperClasses(cls): return cls.__bases__ But I imagine it would be easier to just reference cls.__bases__ directly in most cases."
25807,30,"If I have Python code class A(): pass class B(): pass class C(A, B): pass and I have class C, is there a way to iterate through it's super classed (A and B)? Something like pseudocode: &gt;&gt;&gt; magicGetSuperClasses(C) (&lt;type 'A'&gt;, &lt;type 'B'&gt;) One solution seems to be inspect module and getclasstree function. def magicGetSuperClasses(cls): return [o[0] for o in inspect.getclasstree([cls]) if type(o[0]) == type] but is this a ""Pythonian"" way to achieve the goal?",Python super class reflection,35111,25807,11,"@John: Your snippet doesn't work -- you are returning the class of the base classes (which are also known as metaclasses). You really just want cls.__bases__: class A: pass class B: pass class C(A, B): pass c = C() # Instance assert C.__bases__ == (A, B) # Works assert c.__class__.__bases__ == (A, B) # Works def magicGetSuperClasses(clz): return tuple([base.__class__ for base in clz.__bases__]) assert magicGetSuperClasses(C) == (A, B) # Fails Also, if you're using Python 2.4+ you can use generator expressions instead of creating a list (via []), then turning it into a tuple (via tuple). For example: def get_base_metaclasses(cls): """"""Returns the metaclass of all the base classes of cls."""""" return tuple(base.__class__ for base in clz.__bases__) That's a somewhat confusing example, but genexps are generally easy and cool. :)"
25807,30,"If I have Python code class A(): pass class B(): pass class C(A, B): pass and I have class C, is there a way to iterate through it's super classed (A and B)? Something like pseudocode: &gt;&gt;&gt; magicGetSuperClasses(C) (&lt;type 'A'&gt;, &lt;type 'B'&gt;) One solution seems to be inspect module and getclasstree function. def magicGetSuperClasses(cls): return [o[0] for o in inspect.getclasstree([cls]) if type(o[0]) == type] but is this a ""Pythonian"" way to achieve the goal?",Python super class reflection,552862,25807,4,"The inspect module was a good start, use the getmro function: Return a tuple of class clsâs base classes, including cls, in method resolution order. No class appears more than once in this tuple. ... &gt;&gt;&gt; class A: pass &gt;&gt;&gt; class B: pass &gt;&gt;&gt; class C(A, B): pass &gt;&gt;&gt; import inspect &gt;&gt;&gt; inspect.getmro(C)[1:] (&lt;class __main__.A at 0x8c59f2c&gt;, &lt;class __main__.B at 0x8c59f5c&gt;) The first element of the returned tuple is C, you can just disregard it."
25807,30,"If I have Python code class A(): pass class B(): pass class C(A, B): pass and I have class C, is there a way to iterate through it's super classed (A and B)? Something like pseudocode: &gt;&gt;&gt; magicGetSuperClasses(C) (&lt;type 'A'&gt;, &lt;type 'B'&gt;) One solution seems to be inspect module and getclasstree function. def magicGetSuperClasses(cls): return [o[0] for o in inspect.getclasstree([cls]) if type(o[0]) == type] but is this a ""Pythonian"" way to achieve the goal?",Python super class reflection,553927,25807,2,if you need to know to order in which super() would call the classes you can use C.__mro__ and don't need inspect therefore.
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",26611,26595,223,"is always returns True if it compares the same object instance Whereas == is ultimately determined by the __eq__() method i.e. >>> class foo(object): def __eq__(self, other): return True >>> f = foo() >>> f == None True >>> f is None False"
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",26626,26595,46,"You may want to read this object identity and equivalence. The statement 'is' is used for object identity, it checks if objects refer to the same instance (same address in memory). And the '==' statement refers to equality (same value)."
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",26654,26595,3,"For None there shouldn't be a difference between equality (==) and identity (is). The NoneType probably returns identity for equality. Since None is the only instance you can make of NoneType (I think this is true), the two operations are the same. In the case of other types this is not always the case. For example: list1 = [1, 2, 3] list2 = [1, 2, 3] if list1==list2: print ""Equal"" if list1 is list2: print ""Same"" This would print ""Equal"" since lists have a comparison operation that is not the default returning of identity."
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",26963,26595,4,"@Jason: I recommend using something more along the lines of if foo: #foo isn't None else: #foo is None I don't like using ""if foo:"" unless foo truly represents a boolean value (i.e. 0 or 1). If foo is a string or an object or something else, ""if foo:"" may work, but it looks like a lazy shortcut to me. If you're checking to see if x is None, say ""if x is None:""."
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",28067,26595,21,"A word of caution: if foo: # do something Is not exactly the same as: if x is not None: # do something The former is a boolean value test and can evaluate to false in different contexts. There are a number of things that represent false in a boolean value tests for example empty containers, boolean values. None also evaluates to false in this situation but other things do too."
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",585491,26595,12,(ob1 is ob2) equal to (id(ob1) == id(ob2))
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",2932590,26595,10,"The reason foo is None is the preferred way is that you might be handling an object that defines its own __eq__, and that defines the object to be equal to None. So, always use foo is None if you need to see if it is infact None."
26706,5,"I'm a bit perplexed by drag and drop in wxPython (but perhaps this questions pertains to drag and drop in other GUI frameworks as well). The frameworks provides a couple of callbacks (OnEnter and OnDragOver) that purportedly allow me to inform the system whether the current mouse position is a valid place to drop whatever it is that is being dragged. From these methods I can return wx.DragNone, wx.DragCopy, etc. What baffles me is that from within these methods I am not allowed to call GetData, which means I am not allowed to examine the data that the user is dragging. If I cannot see the data, how am I supposed to know whether it is OK for the user to drop here?",wxpython: How do I examine dragged data in OnDragOver?,26707,26706,1,"One solution, which is a hack of limited usefulness, is when a drag is initiated, store the dragged data in a global or static reference somewhere. This way, in the OnEnter and OnDragOver handlers, it is possible to get a reference to the data being dragged. This is of course only useful for drags within the same application (the same instance of the application, actually)."
26706,5,"I'm a bit perplexed by drag and drop in wxPython (but perhaps this questions pertains to drag and drop in other GUI frameworks as well). The frameworks provides a couple of callbacks (OnEnter and OnDragOver) that purportedly allow me to inform the system whether the current mouse position is a valid place to drop whatever it is that is being dragged. From these methods I can return wx.DragNone, wx.DragCopy, etc. What baffles me is that from within these methods I am not allowed to call GetData, which means I am not allowed to examine the data that the user is dragging. If I cannot see the data, how am I supposed to know whether it is OK for the user to drop here?",wxpython: How do I examine dragged data in OnDragOver?,139047,26706,1,There is no way to see dragged data in OnEnter and OnDragOver methods. The only solution I found is to store the dragged item in some instance variable that is then readable inside these methods.
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,27600,27567,2,"Are you looking for Python specific translation, or just the general ""how do you compile some code to bytecode""? If the latter is your case, check the LLVM tutorial. I especially find chapter two, which teaches you to write a compiler for your own language, interesting."
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,42689,27567,4,"This document seems to go into quite a bit of detail (and I think a complete description is out of scope for a stackoverflow answer): http://codespeak.net/pypy/dist/pypy/doc/translation.html The general idea of translating from one language to another isn't particularly revolutionary, but it has only recently been gaining popularity / applicability in ""real-world"" applications. GWT does this with Java (generating Javascript) and there is a library for translating Haskell into various other languages as well (called YHC)"
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,98313,27567,3,"If you want some hand-on examples, PyPy's Getting Started document has a section titled ""Trying out the translator""."
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,1041655,27567,3,"PyPy translator is in general, not intended for more public use. We use it for translating our own python interpreter (including JIT and GCs, both written in RPython, this restricted subset of Python). The idea is that with good JIT and GC, you'll be able to speedups even without knowing or using PyPy's translation toolchain (and more importantly, without restricting yourself to RPython). Cheers, fijal"
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,1041857,27567,1,"It looks like something absolutely revolutionary from simply reading the description, As far as I know, PyPy is novel in the sense that it is the first system expressly designed for implementing languages. Other tools exist to help with much of the very front end, such as parser generators, or for the very back end, such as code generation, but not much existed for connecting the two."
28165,10,"Python has this wonderful way of handling string substitutions using dictionaries: &gt;&gt;&gt; 'The %(site)s site %(adj)s because it %(adj)s' % {'site':'Stackoverflow', 'adj':'rocks'} 'The Stackoverflow site rocks because it rocks' I love this because you can specify a value once in the dictionary and then replace it all over the place in the string. I've tried to achieve something similar in PHP using various string replace functions but everything I've come up with feels awkward. Does anybody have a nice clean way to do this kind of string substitution in PHP? Edit Here's the code from the sprintf page that I liked best. &lt;?php function sprintf3($str, $vars, $char = '%') { $tmp = array(); foreach($vars as $k =&gt; $v) { $tmp[$char . $k . $char] = $v; } return str_replace(array_keys($tmp), array_values($tmp), $str); } echo sprintf3( 'The %site% site %adj% because it %adj%', array('site'=&gt;'Stackoverflow', 'adj'=&gt;'rocks')); ?&gt;",Does PHP have an equivalent to this type of Python string substitution?,28199,28165,1,"Some of the user-contributed notes and functions in PHP's documentation for sprintf come quite close. Note: search the page for ""sprintf2""."
28165,10,"Python has this wonderful way of handling string substitutions using dictionaries: &gt;&gt;&gt; 'The %(site)s site %(adj)s because it %(adj)s' % {'site':'Stackoverflow', 'adj':'rocks'} 'The Stackoverflow site rocks because it rocks' I love this because you can specify a value once in the dictionary and then replace it all over the place in the string. I've tried to achieve something similar in PHP using various string replace functions but everything I've come up with feels awkward. Does anybody have a nice clean way to do this kind of string substitution in PHP? Edit Here's the code from the sprintf page that I liked best. &lt;?php function sprintf3($str, $vars, $char = '%') { $tmp = array(); foreach($vars as $k =&gt; $v) { $tmp[$char . $k . $char] = $v; } return str_replace(array_keys($tmp), array_values($tmp), $str); } echo sprintf3( 'The %site% site %adj% because it %adj%', array('site'=&gt;'Stackoverflow', 'adj'=&gt;'rocks')); ?&gt;",Does PHP have an equivalent to this type of Python string substitution?,28247,28165,4,"function subst($str, $dict){ return preg_replace(array_map(create_function('$a', 'return ""/%\\($a\\)s/"";'), array_keys($dict)), array_values($dict), $str); } You call it like so: echo subst('The %(site)s site %(adj)s because it %(adj)s', array('site'=&gt;'Stackoverflow', 'adj'=&gt;'rocks'));"
28165,10,"Python has this wonderful way of handling string substitutions using dictionaries: &gt;&gt;&gt; 'The %(site)s site %(adj)s because it %(adj)s' % {'site':'Stackoverflow', 'adj':'rocks'} 'The Stackoverflow site rocks because it rocks' I love this because you can specify a value once in the dictionary and then replace it all over the place in the string. I've tried to achieve something similar in PHP using various string replace functions but everything I've come up with feels awkward. Does anybody have a nice clean way to do this kind of string substitution in PHP? Edit Here's the code from the sprintf page that I liked best. &lt;?php function sprintf3($str, $vars, $char = '%') { $tmp = array(); foreach($vars as $k =&gt; $v) { $tmp[$char . $k . $char] = $v; } return str_replace(array_keys($tmp), array_values($tmp), $str); } echo sprintf3( 'The %site% site %adj% because it %adj%', array('site'=&gt;'Stackoverflow', 'adj'=&gt;'rocks')); ?&gt;",Does PHP have an equivalent to this type of Python string substitution?,28349,28165,3,"@Marius I don't know if it's faster, but you can do it without regexes: function subst($str, $dict) { foreach ($dict AS $key, $value) { $str = str_replace($key, $value, $str); } return $str; }"
28369,3,"I'm looking for a ""safe"" eval function, to implement spreadsheet-like calculations (using numpy/scipy). The functionality to do this (the rexec module) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is this Python Cookbok recipe, ""safe_eval"". Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives? EDIT: I just discovered RestrictedPython, which is part of Zope. Any opinions on this are welcome.","Is ""safe_eval"" really safe?",28436,28369,2,"Writing your own parser could be fun! It might be a better option because people are expecting to use the familiar spreadsheet syntax (Excel, etc) and not Python when they're entering formulas. I'm not familiar with safe_eval but I would imagine that anything like this certainly has the potential for exploitation."
28369,3,"I'm looking for a ""safe"" eval function, to implement spreadsheet-like calculations (using numpy/scipy). The functionality to do this (the rexec module) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is this Python Cookbok recipe, ""safe_eval"". Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives? EDIT: I just discovered RestrictedPython, which is part of Zope. Any opinions on this are welcome.","Is ""safe_eval"" really safe?",29390,28369,1,"Although that code looks quite secure, I've always held the opinion that any sufficiently motivated person could break it given adequate time. I do think it will take quite a bit of determination to get through that, but I'm relatively sure it could be done."
28369,3,"I'm looking for a ""safe"" eval function, to implement spreadsheet-like calculations (using numpy/scipy). The functionality to do this (the rexec module) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is this Python Cookbok recipe, ""safe_eval"". Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives? EDIT: I just discovered RestrictedPython, which is part of Zope. Any opinions on this are welcome.","Is ""safe_eval"" really safe?",31964,28369,0,"Daniel, Jinja implements a sandboxe environment that may or may not be useful to you. From what I remember, it doesn't yet ""comprehend"" list comprehensions. Sanbox info"
28369,3,"I'm looking for a ""safe"" eval function, to implement spreadsheet-like calculations (using numpy/scipy). The functionality to do this (the rexec module) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is this Python Cookbok recipe, ""safe_eval"". Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives? EDIT: I just discovered RestrictedPython, which is part of Zope. Any opinions on this are welcome.","Is ""safe_eval"" really safe?",32028,28369,1,"Depends on your definition of safe I suppose. A lot of the security depends on what you pass in and what you are allowed to pass in the context. For instance, if a file is passed in, I can open arbitrary files: &gt;&gt;&gt; names['f'] = open('foo', 'w+') &gt;&gt;&gt; safe_eval.safe_eval(""baz = type(f)('baz', 'w+')"", names) &gt;&gt;&gt; names['baz'] &lt;open file 'baz', mode 'w+' at 0x413da0&gt; Furthermore, the environment is very restricted (you cannot pass in modules), thus, you can't simply pass in a module of utility functions like re or random. On the other hand, you don't need to write your own parser, you could just write your own evaluator for the python ast: &gt;&gt;&gt; import compiler &gt;&gt;&gt; ast = compiler.parse(""print 'Hello world!'"") That way, hopefully, you could implement safe imports. The other idea is to use Jython or IronPython and take advantage of Java/.Net sandboxing capabilities."
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28563,28559,2,"Maybe it's not terribly idiomatic, but I'd be inclined to go with x = next() while x != END: do_something_with_x x = next() ... but that's because I find that sort of thing easy to read"
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28566,28559,1,"What are you trying to do here? If you're iterating over a list, you can use for e in L where e is the element and L is the list. If you're filtering a list, you can use list comprehensions (i.e. [ e for e in L if e % 2 == 0 ] to get all the even numbers in a list)."
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28568,28559,5,"It depends a bit what you want to do. To match your example as far as possible, I would make next a generator and iterate over it: def next(): for num in range(10): yield num for x in next(): print x"
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28580,28559,1,"If you need to do this more than once, the pythonic way would use an iterator for x in iternext(): do_something_with_x where iternext would be defined using something like (explicit is better than implicit!): def iternext(): x = next() while x != END: yield x x = next()"
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28714,28559,4,"Short answer: there's no way to do inline variable assignment in a while loop in Python. Meaning that I cannot say: while x=next(): // do something here! Since that's not possible, there are a number of ""idiomatically correct"" ways of doing this: while 1: x = next() if x != END: // Blah else: break Obviously, this is kind of ugly. You can also use one of the ""iterator"" approaches listed above, but, again, that may not be ideal. Finally, you can use the ""pita pocket"" approach that I actually just found while googling: class Pita( object ): __slots__ = ('pocket',) marker = object() def __init__(self, v=marker): if v is not self.marker: self.pocket = v def __call__(self, v=marker): if v is not self.marker: self.pocket = v return self.pocket Now you can do: p = Pita() while p( next() ) != END: // do stuff with p.pocket! Thanks for this question; learning about the __call__ idiom was really cool! :) EDIT: I'd like to give credit where credit is due. The 'pita pocket' idiom was found here"
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28780,28559,1,"Can you provide more information about what you're trying to accomplish? It's not clear to me why you can't just say for x in everything(): ... and have the everything function return everything, instead of writing a next function to just return one thing at a time. Generators can even do this quite efficiently."
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),426415,28559,14,"@Mark Harrison's answer: for x in iter(next_, END): .... Here's an excerpt from Python's documentation: iter(o[, sentinel]) Return an iterator object. ...(snip)... If the second argument, sentinel, is given, then o must be a callable object. The iterator created in this case will call o with no arguments for each call to its next() method; if the value returned is equal to sentinel, StopIteration will be raised, otherwise the value will be returned."
28668,8,"My job would be easier, or at least less tedious if I could come up with an automated way (preferably in a Python script) to extract useful information from a FileMaker Pro database. I am working on Linux machine and the FileMaker database is on the same LAN running on an OS X machine. I can log into the webby interface from my machine. I'm quite handy with SQL, and if somebody could point me to some FileMaker plug-in that could give me SQL access to the data within FileMaker, I would be pleased as punch. Everything I've found only goes the other way: Having FileMaker get data from SQL sources. Not useful. It's not my first choice, but I'd use Perl instead of Python if there was a Perl-y solution at hand. Note: XML/XSLT services (as suggested by some folks) are only available on FM Server, not FM Pro. Otherwise, that would probably be the best solution. ODBC is turning out to be extremely difficult to even get working. There is absolutely zero feedback from FM when you set it up so you have to dig through /var/log/system.log and parse obscure error messages. Conclusion: I got it working by running a python script locally on the machine that queries the FM database through the ODBC connections. The script is actually a TCPServer that accepts socket connections from other systems on the LAN, runs the queries, and returns the data through the socket connection. I had to do this to bypass the fact that FM Pro only accepts ODBC connections locally (FM server is required for external connections).",Best way to extract data from a FileMaker Pro database in a script?,28692,28668,5,"It has been a really long time since I did anything with FileMaker Pro, but I know that it does have capabilities for an ODBC (and JDBC) connection to be made to it (however, I don't know how, or if, that translates to the linux/perl/python world though). This article shows how to share/expose your FileMaker data via ODBC &amp; JDBC: Sharing FileMaker Pro data via ODBC or JDBC From there, if you're able to create an ODBC/JDBC connection you could query out data as needed."
28668,8,"My job would be easier, or at least less tedious if I could come up with an automated way (preferably in a Python script) to extract useful information from a FileMaker Pro database. I am working on Linux machine and the FileMaker database is on the same LAN running on an OS X machine. I can log into the webby interface from my machine. I'm quite handy with SQL, and if somebody could point me to some FileMaker plug-in that could give me SQL access to the data within FileMaker, I would be pleased as punch. Everything I've found only goes the other way: Having FileMaker get data from SQL sources. Not useful. It's not my first choice, but I'd use Perl instead of Python if there was a Perl-y solution at hand. Note: XML/XSLT services (as suggested by some folks) are only available on FM Server, not FM Pro. Otherwise, that would probably be the best solution. ODBC is turning out to be extremely difficult to even get working. There is absolutely zero feedback from FM when you set it up so you have to dig through /var/log/system.log and parse obscure error messages. Conclusion: I got it working by running a python script locally on the machine that queries the FM database through the ODBC connections. The script is actually a TCPServer that accepts socket connections from other systems on the LAN, runs the queries, and returns the data through the socket connection. I had to do this to bypass the fact that FM Pro only accepts ODBC connections locally (FM server is required for external connections).",Best way to extract data from a FileMaker Pro database in a script?,36852,28668,3,"You'll need the FileMaker Pro installation CD to get the drivers. This document details the process for FMP 9 - it is similar for versions 7.x and 8.x as well. Versions 6.x and earlier are completely different and I wouldn't bother trying (xDBC support in those previous versions is ""minimal"" at best). FMP 9 supports SQL-92 standard syntax (mostly). Note that rather than querying tables directly you query using the ""table occurrence"" name which serves as a table alias of sorts. If the data tables are stored in multiple files it is possible to create a single FMP file with table occurrences/aliases pointing to those data tables. There's an ""undocumented feature"" where such a file must have a table defined in it as well and that table ""related"" to any other table on the relationships graph (doesn't matter which one) for ODBC access to work. Otherwise your queries will always return no results. The PDF document details all of the limitations of using the xDBC interface FMP provides. Performance of simple queries is reasonably fast, ymmv. I have found the performance of queries specifying the ""LIKE"" operator to be less than stellar. FMP also has an XML/XSLT interface that you can use to query FMP data over an HTTP connection. It also provides a PHP class for accessing and using FMP data in web applications."
28668,8,"My job would be easier, or at least less tedious if I could come up with an automated way (preferably in a Python script) to extract useful information from a FileMaker Pro database. I am working on Linux machine and the FileMaker database is on the same LAN running on an OS X machine. I can log into the webby interface from my machine. I'm quite handy with SQL, and if somebody could point me to some FileMaker plug-in that could give me SQL access to the data within FileMaker, I would be pleased as punch. Everything I've found only goes the other way: Having FileMaker get data from SQL sources. Not useful. It's not my first choice, but I'd use Perl instead of Python if there was a Perl-y solution at hand. Note: XML/XSLT services (as suggested by some folks) are only available on FM Server, not FM Pro. Otherwise, that would probably be the best solution. ODBC is turning out to be extremely difficult to even get working. There is absolutely zero feedback from FM when you set it up so you have to dig through /var/log/system.log and parse obscure error messages. Conclusion: I got it working by running a python script locally on the machine that queries the FM database through the ODBC connections. The script is actually a TCPServer that accepts socket connections from other systems on the LAN, runs the queries, and returns the data through the socket connection. I had to do this to bypass the fact that FM Pro only accepts ODBC connections locally (FM server is required for external connections).",Best way to extract data from a FileMaker Pro database in a script?,51132,28668,2,"If your leaning is to Python, you may be interested in checking out the Python Wrapper for Filemaker. It provides two way access to the Filemaker data via Filemaker's built-in XML services. You can find some quite thorough information on this at: http://code.google.com/p/pyfilemaker/"
28796,52,"I have a bunch of classes I want to rename. Some of them have names that are small and that name is reused in other class names, where I don't want that name changed. Most of this lives in Python code, but we also have some XML code that references class names. Simple search and replace only gets me so far. In my case, I want to rename AdminAction to AdminActionPlug and AdminActionLogger to AdminActionLoggerPlug, so the first one's search-and-replace would also hit the second, wrongly. Does anyone have experience with Python refactoring tools ? Bonus points if they can fix class names in the XML documents too.",What refactoring tools do you use for Python?,29347,28796,-18,"Most editors support the ""whole word"" search option. It's usually a checkbox in the search dialog, and what it does is only match the search term if it has leading and trailing spaces, dots, and most other delimiters. It will probably work in your case."
28796,52,"I have a bunch of classes I want to rename. Some of them have names that are small and that name is reused in other class names, where I don't want that name changed. Most of this lives in Python code, but we also have some XML code that references class names. Simple search and replace only gets me so far. In my case, I want to rename AdminAction to AdminActionPlug and AdminActionLogger to AdminActionLoggerPlug, so the first one's search-and-replace would also hit the second, wrongly. Does anyone have experience with Python refactoring tools ? Bonus points if they can fix class names in the XML documents too.",What refactoring tools do you use for Python?,29770,28796,43,"In the meantime, I've tried it two tools that have some sort of integration with vim. The first is Rope, a python refactoring library that comes with a Vim (and emacs) plug-in. I tried it for a few renames, and that definitely worked as expected. It allowed me to preview the refactoring as a diff, which is nice. It is a bit text-driven, but that's alright for me, just takes longer to learn. The second is Bicycle Repair Man which I guess wins points on name. Also plugs into vim and emacs. Haven't played much with it yet, but I remember trying it a long time ago. Haven't played with both enough yet, or tried more types of refactoring, but I will do some more hacking with them."
28796,52,"I have a bunch of classes I want to rename. Some of them have names that are small and that name is reused in other class names, where I don't want that name changed. Most of this lives in Python code, but we also have some XML code that references class names. Simple search and replace only gets me so far. In my case, I want to rename AdminAction to AdminActionPlug and AdminActionLogger to AdminActionLoggerPlug, so the first one's search-and-replace would also hit the second, wrongly. Does anyone have experience with Python refactoring tools ? Bonus points if they can fix class names in the XML documents too.",What refactoring tools do you use for Python?,1813244,28796,4,"Your IDE can support refactorings !! Check it Eric, Eclipse, WingIDE have build in tools for refactorings (Rename including). And that are very safe refactorings - if something can go wrong IDE wont do ref. Also consider adding few unit test to ensure your code did not suffer during refactorings."
28961,7,"I have a medium sized application that runs as a .net web-service which I do not control, and I want to create a loose pythonic API above it to enable easy scripting. I wanted to know what is the best/most practical solution for using web-services in python. Edit: I need to consume a complex soap WS and I have no control over it.",What's the best way to use web services in python?,31926,28961,3,"If I have to expose APIs, I prefer doing it as JSON. Python has excellent support for JSON objects (JSON Objects are infact python dictionaries)"
28961,7,"I have a medium sized application that runs as a .net web-service which I do not control, and I want to create a loose pythonic API above it to enable easy scripting. I wanted to know what is the best/most practical solution for using web-services in python. Edit: I need to consume a complex soap WS and I have no control over it.",What's the best way to use web services in python?,322393,28961,1,"Jython and IronPython give access to great Java &amp; .NET SOAP libraries. If you need CPython, ZSI has been flaky for me, but it could be possible to use a tool like Robin to wrap a good C++ SOAP library such as gSOAP or Apache Axis C++"
29243,14,"Here is my sample code: from xml.dom.minidom import * def make_xml(): doc = Document() node = doc.createElement('foo') node.innerText = 'bar' doc.appendChild(node) return doc if __name__ == '__main__': make_xml().writexml(sys.stdout) when I run the above code I get this: &lt;?xml version=""1.0"" ?&gt; &lt;foo/&gt; I would like to get: &lt;?xml version=""1.0"" ?&gt; &lt;foo&gt;bar&lt;/foo&gt; I just guessed that there was an innerText property, it gives no compiler error, but does not seem to work... how do I go about creating a text node?",How do I create an xml document in python,29255,29243,8,"Setting an attribute on an object won't give a compile-time or a run-time error, it will just do nothing useful if the object doesn't access it (i.e. ""node.noSuchAttr = 'bar'"" would also not give an error). Unless you need a specific feature of minidom, I would look at ElementTree: import sys from xml.etree.cElementTree import Element, ElementTree def make_xml(): node = Element('foo') node.text = 'bar' doc = ElementTree(node) return doc if __name__ == '__main__': make_xml().write(sys.stdout)"
29243,14,"Here is my sample code: from xml.dom.minidom import * def make_xml(): doc = Document() node = doc.createElement('foo') node.innerText = 'bar' doc.appendChild(node) return doc if __name__ == '__main__': make_xml().writexml(sys.stdout) when I run the above code I get this: &lt;?xml version=""1.0"" ?&gt; &lt;foo/&gt; I would like to get: &lt;?xml version=""1.0"" ?&gt; &lt;foo&gt;bar&lt;/foo&gt; I just guessed that there was an innerText property, it gives no compiler error, but does not seem to work... how do I go about creating a text node?",How do I create an xml document in python,29262,29243,8,"@Daniel Thanks for the reply, I also figured out how to do it with the minidom (I'm not sure of the difference between the ElementTree vs the minidom) from xml.dom.minidom import * def make_xml(): doc = Document(); node = doc.createElement('foo') node.appendChild(doc.createTextNode('bar')) doc.appendChild(node) return doc if __name__ == '__main__': make_xml().writexml(sys.stdout) I swear I tried this before posting my question..."
29243,14,"Here is my sample code: from xml.dom.minidom import * def make_xml(): doc = Document() node = doc.createElement('foo') node.innerText = 'bar' doc.appendChild(node) return doc if __name__ == '__main__': make_xml().writexml(sys.stdout) when I run the above code I get this: &lt;?xml version=""1.0"" ?&gt; &lt;foo/&gt; I would like to get: &lt;?xml version=""1.0"" ?&gt; &lt;foo&gt;bar&lt;/foo&gt; I just guessed that there was an innerText property, it gives no compiler error, but does not seem to work... how do I go about creating a text node?",How do I create an xml document in python,29264,29243,3,"I found a pretty verbose tutorial on the minidom method Here's a tutorial for the etree method. It's much nicer to read, and seems quite simple. It also goes over parsing of xml (briefly)"
29562,23,"I wrote a quick program in python to add a gtk GUI to a cli program. I was wondering how I can create an installer using distutils. Since it's just a GUI frontend for a command line app it only works in *nix anyway so I'm not worried about it being cross platform. my main goal is to create a .deb package for debian/ubuntu users, but I don't understand make/configure files. I've primarily been a web developer up until now. Thanks for your help! edit: Does anyone know of a project that uses distutils so I could see it in action and, you know, actually try building it? Here are a few useful links Ubuntu Python Packaging Guide This Guide is very helpful. I don't know how I missed it during my initial wave of gooling. It even walks you through packaging up an existing python application The Ubuntu MOTU Project This is the official package maintaining project at ubuntu. Anyone can join, and there are lots of tutorials and info about creating packages, of all types, which include the above 'python packaging guide'. ""Python distutils to deb?"" - Ars Technica Forum discussion According to this conversation, you can't just use distutils. It doesn't follow the debian packaging format (or something like that). I guess that's why you need dh_make as seen in the Ubuntu Packaging guide ""A bdist_deb command for distutils This one has some interesting discussion (it's also how I found the ubuntu guide) about concatenating a zip-file and a shell script to create some kind of universal executable (anything with python and bash that is). weird. Let me know if anyone finds more info on this practice because I've never heard of it. Description of the deb format and how distutils fit in - python mailing list",Python distutils - does anyone know how to use it?,29575,29562,13,"See the distutils simple example. That's basically what it is like, except real install scripts usually contain a bit more information. I have not seen any that are fundamentally more complicated, though. In essence, you just give it a list of what needs to be installed. Sometimes you need to give it some mapping dicts since the source and installed trees might not be the same. Here is a real-life (anonymized) example: #!/usr/bin/python from distutils.core import setup setup (name = 'Initech Package 3', description = ""Services and libraries ABC, DEF"", author = ""That Guy, Initech Ltd"", author_email = ""that.guy@initech.com"", version = '1.0.5', package_dir = {'Package3' : 'site-packages/Package3'}, packages = ['Package3', 'Package3.Queries'], data_files = [ ('/etc/Package3', ['etc/Package3/ExternalResources.conf']) ])"
29562,23,"I wrote a quick program in python to add a gtk GUI to a cli program. I was wondering how I can create an installer using distutils. Since it's just a GUI frontend for a command line app it only works in *nix anyway so I'm not worried about it being cross platform. my main goal is to create a .deb package for debian/ubuntu users, but I don't understand make/configure files. I've primarily been a web developer up until now. Thanks for your help! edit: Does anyone know of a project that uses distutils so I could see it in action and, you know, actually try building it? Here are a few useful links Ubuntu Python Packaging Guide This Guide is very helpful. I don't know how I missed it during my initial wave of gooling. It even walks you through packaging up an existing python application The Ubuntu MOTU Project This is the official package maintaining project at ubuntu. Anyone can join, and there are lots of tutorials and info about creating packages, of all types, which include the above 'python packaging guide'. ""Python distutils to deb?"" - Ars Technica Forum discussion According to this conversation, you can't just use distutils. It doesn't follow the debian packaging format (or something like that). I guess that's why you need dh_make as seen in the Ubuntu Packaging guide ""A bdist_deb command for distutils This one has some interesting discussion (it's also how I found the ubuntu guide) about concatenating a zip-file and a shell script to create some kind of universal executable (anything with python and bash that is). weird. Let me know if anyone finds more info on this practice because I've never heard of it. Description of the deb format and how distutils fit in - python mailing list",Python distutils - does anyone know how to use it?,29839,29562,2,"Most Python programs will use distutils. Django is a one - see http://code.djangoproject.com/svn/django/trunk/setup.py You should also read the documentation, as it's very comprehensive and has some good examples."
29562,23,"I wrote a quick program in python to add a gtk GUI to a cli program. I was wondering how I can create an installer using distutils. Since it's just a GUI frontend for a command line app it only works in *nix anyway so I'm not worried about it being cross platform. my main goal is to create a .deb package for debian/ubuntu users, but I don't understand make/configure files. I've primarily been a web developer up until now. Thanks for your help! edit: Does anyone know of a project that uses distutils so I could see it in action and, you know, actually try building it? Here are a few useful links Ubuntu Python Packaging Guide This Guide is very helpful. I don't know how I missed it during my initial wave of gooling. It even walks you through packaging up an existing python application The Ubuntu MOTU Project This is the official package maintaining project at ubuntu. Anyone can join, and there are lots of tutorials and info about creating packages, of all types, which include the above 'python packaging guide'. ""Python distutils to deb?"" - Ars Technica Forum discussion According to this conversation, you can't just use distutils. It doesn't follow the debian packaging format (or something like that). I guess that's why you need dh_make as seen in the Ubuntu Packaging guide ""A bdist_deb command for distutils This one has some interesting discussion (it's also how I found the ubuntu guide) about concatenating a zip-file and a shell script to create some kind of universal executable (anything with python and bash that is). weird. Let me know if anyone finds more info on this practice because I've never heard of it. Description of the deb format and how distutils fit in - python mailing list",Python distutils - does anyone know how to use it?,31225,29562,1,"distutils really isn't all that difficult once you get the hang of it. It's really just a matter of putting in some meta-information (program name, author, version, etc) and then selecting what files you want to include. For example, here's a sample distutils setup.py module from a decently complex python library: Kamaelia setup.py Note that this doesn't deal with any data files or or whatnot, so YMMV. On another note, I agree that the distutils documentation is probably some of python's worst documentation. It is extremely inclusive in some areas, but neglects some really important information in others."
29562,23,"I wrote a quick program in python to add a gtk GUI to a cli program. I was wondering how I can create an installer using distutils. Since it's just a GUI frontend for a command line app it only works in *nix anyway so I'm not worried about it being cross platform. my main goal is to create a .deb package for debian/ubuntu users, but I don't understand make/configure files. I've primarily been a web developer up until now. Thanks for your help! edit: Does anyone know of a project that uses distutils so I could see it in action and, you know, actually try building it? Here are a few useful links Ubuntu Python Packaging Guide This Guide is very helpful. I don't know how I missed it during my initial wave of gooling. It even walks you through packaging up an existing python application The Ubuntu MOTU Project This is the official package maintaining project at ubuntu. Anyone can join, and there are lots of tutorials and info about creating packages, of all types, which include the above 'python packaging guide'. ""Python distutils to deb?"" - Ars Technica Forum discussion According to this conversation, you can't just use distutils. It doesn't follow the debian packaging format (or something like that). I guess that's why you need dh_make as seen in the Ubuntu Packaging guide ""A bdist_deb command for distutils This one has some interesting discussion (it's also how I found the ubuntu guide) about concatenating a zip-file and a shell script to create some kind of universal executable (anything with python and bash that is). weird. Let me know if anyone finds more info on this practice because I've never heard of it. Description of the deb format and how distutils fit in - python mailing list",Python distutils - does anyone know how to use it?,4189217,29562,2,I found the following tutorial to be very helpful. It's shorter than the distutils documentation and explains how to setup a typical project step by step.
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,30591,29856,1,"Not sure I entirely understand your question, but can't you simply build and install a 64 bit version and then create symbolic links so that /Library/Python/2.5 and below point to your freshly built version of python?"
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,31331,29856,0,"Essentially, yes. I was not sure you could do it like that (current version does not do it like that). When using the python install script, however, there is no option (that I can find) to specify where to put directories and files (eg --prefix). I was hoping to match the current layout of python related files so as to avoid 'polluting' my machine with redundant files."
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,31384,29856,1,"Personally, I wouldn't worry about it until you see a problem. Messing with the default python install on a *Nix system can cause more trouble than it's worth. I can say from personal experience that you never truly understand what python has done for the nix world until you have a problem with it. You can also add a second python installation, but that also causes more problems than it's worth IMO. So I suppose the best question to start out with would be why exactly do you want to use the 64 bit version of python?"
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,31425,29856,0,"The short answer is because I can. The long answer, expanding on what the OP said, is to be more compatible with apache and mysql/postgresql. They are all 64bit (apache is a fat binary with ppc, ppc64 x86 and x86 and x86_64, the others just straight 64bit). Mysqldb and mod_python wont compile unless they are all running the same architecture. Yes I could run them all in 32bit (and have in the past) but this is much more work then compiling one program. EDIT: You pretty much convinced though to just let the installer do its thing and update the PATH to reflect this."
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,31765,29856,1,"Hyposaurus, It is possible to have multiple versions of Python installed simultaneously. Installing two versions in parallel solves your problem and helps avoid the problems laid out by Jason Baker above. The easiest way, and the way I recommend, is to use MacPorts, which will install all its software separately. By default, for example, everything is installed in /opt/local Another method is to simply download the source and compile with a specified prefix. Note that this method doesn't modify your PATH environment variable, so you'll need to do that yourself if you want to avoid typing the fully qualified path to the python executable each time ./configure --prefix=/usr/local/python64 make sudo make install Then you can simply point your Apache install at the new version using mod_python's PythonInterpreter directive"
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",31358,31340,18,"Below is a basic threading sample. It will spawn 20 threads; each thread will output its thread number. Run it and observe the order in which they print. import threading class Foo (threading.Thread): def __init__(self,x): self.__x = x threading.Thread.__init__(self) def run (self): print str(self.__x) for x in xrange(20): Foo(x).start() As you have hinted at Python threads are implemented through time-slicing. This is how they get the ""parallel"" effect. In my example my Foo class extends thread, I then implement the run method, which is where the code that you would like to run in a thread goes. To start the thread you call start() on the thread object, which will automatically invoke the run method... Of course, this is just the very basics. You will eventually want to learn about semaphores, mutexes, and locks for thread synchronization and message passing."
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",31372,31340,32,"Python's a fairly easy language to thread in, but there are caveats. The biggest thing you need to know about is the Global Interpreter Lock. This allows only one thread to access the interpreter. This means two things: 1) you rarely ever find yourself using a lock statement in python and 2) if you want to take advantage of multi-processor systems, you have to use separate processes. EDIT: I should also point out that you can put some of the code in C/C++ if you want to get around the GIL as well. Thus, you need to re-consider why you want to use threads. If you want to parallelize your app to take advantage of dual-core architecture, you need to consider breaking your app up into multiple processes. If you want to improve responsiveness, you should CONSIDER using threads. There are other alternatives though, namely microthreading. There are also some frameworks that you should look into: stackless python greenlets gevent monocle"
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",31398,31340,41,"Yes, because of the Global Interpreter Lock (GIL) there can only run one thread at a time. Here are some links with some insights about this: http://www.artima.com/weblogs/viewpost.jsp?thread=214235 http://smoothspan.wordpress.com/2007/09/14/guido-is-right-to-leave-the-gil-in-python-not-for-multicore-but-for-utility-computing/ From the last link an interesting quote: Let me explain what all that means. Threads run inside the same virtual machine, and hence run on the same physical machine. Processes can run on the same physical machine or in another physical machine. If you architect your application around threads, youâve done nothing to access multiple machines. So, you can scale to as many cores are on the single machine (which will be quite a few over time), but to really reach web scales, youâll need to solve the multiple machine problem anyway. If you want to use multi core, pyprocessing defines an process based API to do real parallelization. The PEP also includes some interesting benchmarks."
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",31552,31340,9,Use threads in python if the individual workers are doing I/O bound operations. If you are trying to scale across multiple cores on a machine either find a good IPC framework for python or pick a different language.
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",1197151,31340,1,"Try to remember that the GIL is set to poll around every so often in order to do show the appearance of multiple tasks. This setting can be fine tuned, but I offer the suggestion that there should be work that the threads are doing or lots of context switches are going to cause problems. I would go so far as to suggest multiple parents on processors and try to keep like jobs on the same core(s)."
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,32125,32044,23,"I think the canonical answer is: ""Don't"". What you should probably do instead is unravel the thing in your view code, so it's just a matter of iterating over (in|de)dents in the template. I think I'd do it by appending indents and dedents to a list while recursing through the tree and then sending that ""travelogue"" list to the template. (the template would then insert &lt;li&gt; and &lt;/li&gt; from that list, creating the recursive structure with ""understanding"" it.) I'm also pretty sure recursively including template files is really a wrong way to do it..."
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,32857,32044,18,"this might be way more than you need, but there is a django module called 'mptt' - this stores a hierarchical tree structure in an sql database, and includes templates for display in the view code. you might be able to find something useful there. here's the link : django-mptt"
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,41550,32044,-2,"I had a similar issue, however I had first implemented the solution using JavaScript, and just afterwards considered how I would have done the same thing in django templates. I used the serializer utility to turn a list off models into json, and used the json data as a basis for my hierarchy."
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,48262,32044,9,Django has a built in template helper for this exact scenario: https://docs.djangoproject.com/en/dev/ref/templates/builtins/#unordered-list
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,957761,32044,7,I had the same problem and I wrote a template tag. I know there are other tags like this out there but I needed to learn to make custom tags anyway :) I think it turned out pretty well. Read the docstring for usage instructions. github.com/skid/django-recurse
32385,6,"This is something that I think would be very useful. Basically, I'd like there to be a way to edit Python source programmatically without requiring human intervention. There are a couple of things I would like to do with this: Edit the configuration of Python apps that use source modules for configuration. Set up a ""template"" so that I can customize a Python source file on the fly. This way, I can set up a ""project"" system on an open source app I'm working on and allow certain files to be customized. I could probably write something that can do this myself, but I can see that opening up a lot of ""devil's in the details"" type issues. Are there any ways to do this currently, or am I just going to have to bite the bullet and implement it myself?",Programmatically editing Python source,32402,32385,2,Python's standard library provides pretty good facilities for working with Python source; note the tokenize and parser modules.
32385,6,"This is something that I think would be very useful. Basically, I'd like there to be a way to edit Python source programmatically without requiring human intervention. There are a couple of things I would like to do with this: Edit the configuration of Python apps that use source modules for configuration. Set up a ""template"" so that I can customize a Python source file on the fly. This way, I can set up a ""project"" system on an open source app I'm working on and allow certain files to be customized. I could probably write something that can do this myself, but I can see that opening up a lot of ""devil's in the details"" type issues. Are there any ways to do this currently, or am I just going to have to bite the bullet and implement it myself?",Programmatically editing Python source,33325,32385,0,I had the same issue and I simply opened the file and did some replace: then reload the file in the Python interpreter. This works fine and is easy to do. Otherwise AFAIK you have to use some conf objects.
32385,6,"This is something that I think would be very useful. Basically, I'd like there to be a way to edit Python source programmatically without requiring human intervention. There are a couple of things I would like to do with this: Edit the configuration of Python apps that use source modules for configuration. Set up a ""template"" so that I can customize a Python source file on the fly. This way, I can set up a ""project"" system on an open source app I'm working on and allow certain files to be customized. I could probably write something that can do this myself, but I can see that opening up a lot of ""devil's in the details"" type issues. Are there any ways to do this currently, or am I just going to have to bite the bullet and implement it myself?",Programmatically editing Python source,35786,32385,0,"Most of these kinds of things can be determined programatically in Python, using modules like sys, os, and the special identifier which tells you where you are in the filesystem path. It's important to keep in mind that when a module is first imported it will execute everything in the file-scope, which is important for developing system-dependent behaviors. For example, the os module basically determines what operating system you're using on import and then adjusts its implementation accordingly (by importing another module corresponding to Linux, OSX, Windows, etc.). There's a lot of power in this feature and something along these lines is probably what you're looking for. :) [Edit] I've also used socket.gethostname() in some rare, hackish instances. ;)"
32404,165,"I am sketching the architecture for a set of programs that share various interrelated objects stored in a database. I want one of the programs to act as a service which provides a higher level interface for operations on these objects, and the other programs to access the objects through that service. I am currently aiming for Python and the Django framework as the technologies to implement that service with. I'm pretty sure I figure how to demonize the Python program in Linux. However, it is an optional spec item that the system should support Windows. I have little experience with Windows programming and no experience at all with Windows services. Is it possible to run a Python programs as a Windows service (i. e. run it automatically without user login)? I won't necessarily have to implement this part, but I need a rough idea how it would be done in order to decide whether to design along these lines. Edit: Thanks for all the answers so far, they are quite comprehensive. I would like to know one more thing: How is Windows aware of my service? Can I manage it with the native Windows utilities? Basically, what is the equivalent of putting a start/stop script in /etc/init.d?","Is it possible to run a Python script as a service in Windows? If possible, how?",32440,32404,169,"Yes you can. I do it using the pythoncom libraries that come included with ActivePython or can be installed with pywin32 (Python for Windows extensions). This is a basic skeleton for a simple service: import win32serviceutil import win32service import win32event import servicemanager import socket class AppServerSvc (win32serviceutil.ServiceFramework): _svc_name_ = ""TestService"" _svc_display_name_ = ""Test Service"" def __init__(self,args): win32serviceutil.ServiceFramework.__init__(self,args) self.hWaitStop = win32event.CreateEvent(None,0,0,None) socket.setdefaulttimeout(60) def SvcStop(self): self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING) win32event.SetEvent(self.hWaitStop) def SvcDoRun(self): servicemanager.LogMsg(servicemanager.EVENTLOG_INFORMATION_TYPE, servicemanager.PYS_SERVICE_STARTED, (self._svc_name_,'')) self.main() def main(self): pass if __name__ == '__main__': win32serviceutil.HandleCommandLine(AppServerSvc) Your code would go in the main() method, usually with some kind of infinite loop that might be interrumped by checking a flag, that you set in the SvcStop method"
32404,165,"I am sketching the architecture for a set of programs that share various interrelated objects stored in a database. I want one of the programs to act as a service which provides a higher level interface for operations on these objects, and the other programs to access the objects through that service. I am currently aiming for Python and the Django framework as the technologies to implement that service with. I'm pretty sure I figure how to demonize the Python program in Linux. However, it is an optional spec item that the system should support Windows. I have little experience with Windows programming and no experience at all with Windows services. Is it possible to run a Python programs as a Windows service (i. e. run it automatically without user login)? I won't necessarily have to implement this part, but I need a rough idea how it would be done in order to decide whether to design along these lines. Edit: Thanks for all the answers so far, they are quite comprehensive. I would like to know one more thing: How is Windows aware of my service? Can I manage it with the native Windows utilities? Basically, what is the equivalent of putting a start/stop script in /etc/init.d?","Is it possible to run a Python script as a service in Windows? If possible, how?",597750,32404,19,"There are a couple alternatives for installing as a service virtually any Windows executable. Method 1: Use instsrv and srvany from rktools.exe For Windows Home Server or Windows Server 2003 (works with WinXP too), the Windows Server 2003 Resource Kit Tools comes with utilities that can be used in tandem for this, called instsrv.exe and srvany.exe. See this Microsoft KB article KB137890 for details on how to use these utils. For Windows Home Server, there is a great user friendly wrapper for these utilities named aptly ""Any Service Installer"". Method 2: Use ServiceInstaller for Windows NT There is another alternative using ServiceInstaller for Windows NT (download-able here) with python instructions available. Contrary to the name, it works with both Windows 2000 and Windows XP as well. Here are some instructions for how to install a python script as a service. Installing a Python script Run ServiceInstaller to create a new service. (In this example, it is assumed that python is installed at c:\python25) Service Name : PythonTest Display Name : PythonTest Startup : Manual (or whatever you like) Dependencies : (Leave blank or fill to fit your needs) Executable : c:\python25\python.exe Arguments : c:\path_to_your_python_script\test.py Working Directory : c:\path_to_your_python_script After installing, open the Control Panel's Services applet, select and start the PythonTest service. After my initial answer, I noticed there were closely related Q&amp;A already posted on SO. See also: Can I run a Python script as a service (in Windows)? How? How do I make Windows aware of a service I have written in Python?"
32899,111,"I have some kind of test data and want to create an unit test for each item. My first idea was to do it like this: import unittest l = [[""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""]] class TestSequence(unittest.TestCase): def testsample(self): for name, a,b in l: print ""test"", name self.assertEqual(a,b) if __name__ == '__main__': unittest.main() The downside of this is that it handles all data in one test. I would like to generate one test for each item on the fly. Any suggestions?",How to generate dynamic (parametrized) unit tests in python?,32939,32899,75,"I use something like this: import unittest l = [[""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""]] class TestSequense(unittest.TestCase): pass def test_generator(a, b): def test(self): self.assertEqual(a,b) return test if __name__ == '__main__': for t in l: test_name = 'test_%s' % t[0] test = test_generator(t[1], t[2]) setattr(TestSequense, test_name, test) unittest.main() The nose-parameterized package can be used to automate this process: from nose_parameterized import parameterized class TestSequence(unittest.TestCase): @parameterized.expand([ [""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""], ]) def test_sequence(self, name, a, b): self.assertEqual(a,b) Which will generate the tests: test_sequence_0_foo (__main__.TestSequence) ... ok test_sequence_1_bar (__main__.TestSequence) ... FAIL test_sequence_2_lee (__main__.TestSequence) ... ok ====================================================================== FAIL: test_sequence_1_bar (__main__.TestSequence) ---------------------------------------------------------------------- Traceback (most recent call last): File ""/usr/local/lib/python2.7/site-packages/nose_parameterized/parameterized.py"", line 233, in &lt;lambda&gt; standalone_func = lambda *a: func(*(a + p.args), **p.kwargs) File ""x.py"", line 12, in test_sequence self.assertEqual(a,b) AssertionError: 'a' != 'b'"
32899,111,"I have some kind of test data and want to create an unit test for each item. My first idea was to do it like this: import unittest l = [[""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""]] class TestSequence(unittest.TestCase): def testsample(self): for name, a,b in l: print ""test"", name self.assertEqual(a,b) if __name__ == '__main__': unittest.main() The downside of this is that it handles all data in one test. I would like to generate one test for each item on the fly. Any suggestions?",How to generate dynamic (parametrized) unit tests in python?,34094,32899,48,"The nose testing framework supports this. Example (the code below is the entire contents of the file containing the test): param_list = [('a', 'a'), ('a', 'b'), ('b', 'b')] def test_generator(): for params in param_list: yield check_em, params[0], params[1] def check_em(a, b): assert a == b The output of the nosetests command: > nosetests -v testgen.test_generator('a', 'a') ... ok testgen.test_generator('a', 'b') ... FAIL testgen.test_generator('b', 'b') ... ok ====================================================================== FAIL: testgen.test_generator('a', 'b') ---------------------------------------------------------------------- Traceback (most recent call last): File ""/usr/lib/python2.5/site-packages/nose-0.10.1-py2.5.egg/nose/case.py"", line 203, in runTest self.test(*self.arg) File ""testgen.py"", line 7, in check_em assert a == b AssertionError ---------------------------------------------------------------------- Ran 3 tests in 0.006s FAILED (failures=1)"
32899,111,"I have some kind of test data and want to create an unit test for each item. My first idea was to do it like this: import unittest l = [[""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""]] class TestSequence(unittest.TestCase): def testsample(self): for name, a,b in l: print ""test"", name self.assertEqual(a,b) if __name__ == '__main__': unittest.main() The downside of this is that it handles all data in one test. I would like to generate one test for each item on the fly. Any suggestions?",How to generate dynamic (parametrized) unit tests in python?,810127,32899,6,"You would benefit from trying the TestScenarios library. testscenarios provides clean dependency injection for python unittest style tests. This can be used for interface testing (testing many implementations via a single test suite) or for classic dependency injection (provide tests with dependencies externally to the test code itself, allowing easy testing in different situations)."
33475,1,"I need to launch a server on the remote machine and retrieve the port number that the server process is lsitening on. When invoked, the server will listen on a random port and output the port number on stderr. I want to automate the process of logging on to the remote machine, launching the process, and retrieving the port number. I wrote a Python script called ""invokejob.py"" that lives on the remote machine to act as a wrapper that invokes the job and then returns the port number, it looks like this: import re, subprocess executable = ... # Name of executable regex = ... # Regex to extract the port number from the output p = subprocess.Popen(executable, bufsize=1, # line buffered stderr=subprocess.PIPE ) s = p.stderr.readline() port = re.match(regex).groups()[0] print port If I log in interactively, this script works: $ ssh remotehost.example.com Last login: Thu Aug 28 17:31:18 2008 from localhost $ ./invokejob.py 63409 $ exit logout Connection to remotehost.example.com closed. (Note: successful logout, it did not hang). However, if I try to invoke it from the command-line, it just hangs: $ ssh remotehost.example.com invokejob.py Does anybody know why it hangs in the second case, and what I can do to avoid this? Note that I need to retrieve the output of the program, so I can't just use the ssh ""-f"" flag or redirect standard output.","ssh hangs when command invoked directly, but exits cleanly when run interactive",33486,33475,3,"s = p.stderr.readline() I suspect it's the above line. When you invoke a command directly through ssh, you don't get your full pty (assuming Linux), and thus no stderr to read from. When you log in interactively, stdin, stdout, and stderr are set up for you, and so your script works."
33475,1,"I need to launch a server on the remote machine and retrieve the port number that the server process is lsitening on. When invoked, the server will listen on a random port and output the port number on stderr. I want to automate the process of logging on to the remote machine, launching the process, and retrieving the port number. I wrote a Python script called ""invokejob.py"" that lives on the remote machine to act as a wrapper that invokes the job and then returns the port number, it looks like this: import re, subprocess executable = ... # Name of executable regex = ... # Regex to extract the port number from the output p = subprocess.Popen(executable, bufsize=1, # line buffered stderr=subprocess.PIPE ) s = p.stderr.readline() port = re.match(regex).groups()[0] print port If I log in interactively, this script works: $ ssh remotehost.example.com Last login: Thu Aug 28 17:31:18 2008 from localhost $ ./invokejob.py 63409 $ exit logout Connection to remotehost.example.com closed. (Note: successful logout, it did not hang). However, if I try to invoke it from the command-line, it just hangs: $ ssh remotehost.example.com invokejob.py Does anybody know why it hangs in the second case, and what I can do to avoid this? Note that I need to retrieve the output of the program, so I can't just use the ssh ""-f"" flag or redirect standard output.","ssh hangs when command invoked directly, but exits cleanly when run interactive",33673,33475,0,"what if you do the following: ssh &lt;remote host&gt; '&lt;your command&gt; ;&lt;your regexp using awk or something&gt;' For example ssh &lt;remote host&gt; '&lt;your program&gt;; ps aux | awk \'/root/ {print $2}\'' This will connect to , execute and then print each PSID for any user root or any process with root in its description. I have used this method for running all kinds of commands on remote machines. The catch is to wrap the command(s) you wish to execute in single quotation marks (') and to separate each command with a semi-colon (;)."
33475,1,"I need to launch a server on the remote machine and retrieve the port number that the server process is lsitening on. When invoked, the server will listen on a random port and output the port number on stderr. I want to automate the process of logging on to the remote machine, launching the process, and retrieving the port number. I wrote a Python script called ""invokejob.py"" that lives on the remote machine to act as a wrapper that invokes the job and then returns the port number, it looks like this: import re, subprocess executable = ... # Name of executable regex = ... # Regex to extract the port number from the output p = subprocess.Popen(executable, bufsize=1, # line buffered stderr=subprocess.PIPE ) s = p.stderr.readline() port = re.match(regex).groups()[0] print port If I log in interactively, this script works: $ ssh remotehost.example.com Last login: Thu Aug 28 17:31:18 2008 from localhost $ ./invokejob.py 63409 $ exit logout Connection to remotehost.example.com closed. (Note: successful logout, it did not hang). However, if I try to invoke it from the command-line, it just hangs: $ ssh remotehost.example.com invokejob.py Does anybody know why it hangs in the second case, and what I can do to avoid this? Note that I need to retrieve the output of the program, so I can't just use the ssh ""-f"" flag or redirect standard output.","ssh hangs when command invoked directly, but exits cleanly when run interactive",33873,33475,0,"@Ben Collins I think you're right about stderr being an issue. I am pretty sure it's blocking on the readline() call. In the end, I gave up and decided to use the pxssh module from pexpect to automate my interaction with an ssh session. @Misha M Unfortunately, the semi-colon trick doesn't work here: it blocks on executing my program."
33534,10,"I'm trying to extend some ""base"" classes in Python: class xlist (list): def len(self): return len(self) def add(self, *args): self.extend(args) return None class xint (int): def add(self, value): self += value return self x = xlist([1,2,3]) print x.len() ## &gt;&gt;&gt; 3 ok print x ## &gt;&gt;&gt; [1,2,3] ok x.add (4, 5, 6) print x ## &gt;&gt;&gt; [1,2,3,4,5,6] ok x = xint(10) print x ## &gt;&gt;&gt; 10 ok x.add (2) print x ## &gt;&gt;&gt; 10 # Not ok (#1) print type(x) ## &gt;&gt;&gt; &lt;class '__main__.xint'&gt; ok x += 5 print type(x) ## &gt;&gt;&gt; &lt;type 'int'&gt; # Not ok (#2) It works fine in the list case because the append method modifies the object ""in place"", without returning it. But in the int case, the add method doesn't modify the value of the external x variable. I suppose that's fine in the sense that self is a local variable in the add method of the class, but this is preventing me from modifying the initial value assigned to the instance of the class. Is it possible to extend a class this way or should I define a class property with the base type and map all the needed methods to this property?",Extending base classes in Python,33556,33534,0,"Ints are immutable and you can't modify them in place, so you should go with option #2 (because option #1 is impossible without some trickery)."
33534,10,"I'm trying to extend some ""base"" classes in Python: class xlist (list): def len(self): return len(self) def add(self, *args): self.extend(args) return None class xint (int): def add(self, value): self += value return self x = xlist([1,2,3]) print x.len() ## &gt;&gt;&gt; 3 ok print x ## &gt;&gt;&gt; [1,2,3] ok x.add (4, 5, 6) print x ## &gt;&gt;&gt; [1,2,3,4,5,6] ok x = xint(10) print x ## &gt;&gt;&gt; 10 ok x.add (2) print x ## &gt;&gt;&gt; 10 # Not ok (#1) print type(x) ## &gt;&gt;&gt; &lt;class '__main__.xint'&gt; ok x += 5 print type(x) ## &gt;&gt;&gt; &lt;type 'int'&gt; # Not ok (#2) It works fine in the list case because the append method modifies the object ""in place"", without returning it. But in the int case, the add method doesn't modify the value of the external x variable. I suppose that's fine in the sense that self is a local variable in the add method of the class, but this is preventing me from modifying the initial value assigned to the instance of the class. Is it possible to extend a class this way or should I define a class property with the base type and map all the needed methods to this property?",Extending base classes in Python,33563,33534,5,"int is a value type, so each time you do an assignment, (e.g. both instances of += above), it doesn't modify the object you have on the heap, but replaces the reference with one of the result of the right hand side of the assignment (i.e. an int) list isn't a value type, so it isn't bound by the same rules. this page has more details on the differences: http://docs.python.org/ref/objects.html IMO, yes, you should define a new class that keeps an int as an instance variable"
33534,10,"I'm trying to extend some ""base"" classes in Python: class xlist (list): def len(self): return len(self) def add(self, *args): self.extend(args) return None class xint (int): def add(self, value): self += value return self x = xlist([1,2,3]) print x.len() ## &gt;&gt;&gt; 3 ok print x ## &gt;&gt;&gt; [1,2,3] ok x.add (4, 5, 6) print x ## &gt;&gt;&gt; [1,2,3,4,5,6] ok x = xint(10) print x ## &gt;&gt;&gt; 10 ok x.add (2) print x ## &gt;&gt;&gt; 10 # Not ok (#1) print type(x) ## &gt;&gt;&gt; &lt;class '__main__.xint'&gt; ok x += 5 print type(x) ## &gt;&gt;&gt; &lt;type 'int'&gt; # Not ok (#2) It works fine in the list case because the append method modifies the object ""in place"", without returning it. But in the int case, the add method doesn't modify the value of the external x variable. I suppose that's fine in the sense that self is a local variable in the add method of the class, but this is preventing me from modifying the initial value assigned to the instance of the class. Is it possible to extend a class this way or should I define a class property with the base type and map all the needed methods to this property?",Extending base classes in Python,33663,33534,22,"Your two xint examples don't work for two different reasons. The first doesn't work because self += value is equivalent to self = self + value which just reassigns the local variable self to a different object (an integer) but doesn't change the original object. You can't really get this &gt;&gt;&gt; x = xint(10) &gt;&gt;&gt; x.add(2) to work with a subclass of int since integers are immutable. To get the second one to work you can define an __add__ method, like so: class xint(int): def __add__(self, value): return xint(int.__add__(self, value)) &gt;&gt;&gt; x = xint(10) &gt;&gt;&gt; type(x) &lt;class '__main__.xint'&gt; &gt;&gt;&gt; x += 3 &gt;&gt;&gt; x 13 &gt;&gt;&gt; type(x) &lt;class '__main__.xint'&gt;"
33978,117,"How would you go about finding out how much memory is being used by an object? I know it is possible to find out how much is used by a block of code, but not by an instantiated object (anytime during its life), which is what I want.",Find out how much memory is being used by an object in Python,34011,33978,3,"I haven't any personal experience with either of the following, but a simple search for a ""Python [memory] profiler"" yield: PySizer, ""a memory profiler for Python,"" found at http://pysizer.8325.org/. However the page seems to indicate that the project hasn't been updated for a while, and refers to... Heapy, ""support[ing] debugging and optimization regarding memory related issues in Python programs,"" found at http://guppy-pe.sourceforge.net/#Heapy. Hope that helps."
33978,117,"How would you go about finding out how much memory is being used by an object? I know it is possible to find out how much is used by a block of code, but not by an instantiated object (anytime during its life), which is what I want.",Find out how much memory is being used by an object in Python,35645,33978,67,"There's no easy way to find out the memory size of a python object. One of the problems you may find is that Python objects - like lists and dicts - may have references to other python objects (in this case, what would your size be? The size containing the size of each object or not?). There are some pointers overhead and internal structures related to object types and garbage collection. Finally, some python objects have non-obvious behaviors. For instance, lists reserve space for more objects than they have, most of the time; dicts are even more complicated since they can operate in different ways (they have a different implementation for small number of keys and sometimes they over allocate entries). There is a big chunk of code (and an updated big chunk of code) out there to try to best approximate the size of a python object in memory. There's also some simpler approximations. But they will always be approximations. You may also want to check some old description about PyObject (the internal C struct that represents virtually all python objects)."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34024,34020,-2,"I've used it in several applications and have never had nor heard of threading being anything other than 100% reliable, as long as you know its limits. You can't spawn 1000 threads at the same time and expect your program to run properly on Windows, however you can easily write a worker pool and just feed it 1000 operations, and keep everything nice and under control."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34031,34020,3,"As far as I know there are no real bugs, but the performance when threading in cPython is really bad (compared to most other threading implementations, but usually good enough if all most of the threads do is block) due to the GIL (Global Interpreter Lock), so really it is implementation specific rather than language specific. Jython, for example, does not suffer from this due to using the Java thread model. See this post on why it is not really feasible to remove the GIL from the cPython implementation, and this for some practical elaboration and workarounds. Do a quick google for ""Python GIL"" for more information."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34060,34020,43,"Python threads are good for concurrent I/O programming. Threads are swapped out of the CPU as soon as they block waiting for input from file, network, etc. This allows other Python threads to use the CPU while others wait. This would allow you to write a multi-threaded web server or web crawler, for example. However, Python threads are serialized by the GIL when they enter interpreter core. This means that if two threads are crunching numbers, only one can run at any given moment. It also means that you can't take advantage of multi-core or multi-processor architectures. There are solutions like running multiple Python interpreters concurrently, using a C based threading library. This is not for the faint of heart and the benefits might not be worth the trouble. Let's hope for an all Python solution in a future release."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34078,34020,7,"The GIL (Global Interpreter Lock) might be a problem, but the API is quite OK. Try out the excellent processing module, which implements the Threading API for separate processes. I am using that right now (albeit on OS X, have yet to do some testing on Windows) and am really impressed. The Queue class is really saving my bacon in terms of managing complexity! EDIT: it seemes the processing module is being included in the standard library as of version 2.6 (import multiprocessing). Joy!"
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34782,34020,13,"The standard implementation of Python (generally known as CPython as it is written in C) uses OS threads, but since there is the Global Interpreter Lock, only one thread at a time is allowed to run Python code. But within those limitations, the threading libraries are robust and widely used. If you want to be able to use multiple CPU cores, there are a few options. One is to use multiple python interpreters concurrently, as mentioned by others. Another option is to use a different implementation of Python that does not use a GIL. The two main options are Jython and IronPython. Jython is written in Java, and is now fairly mature, though some incompatibilities remain. For example, the web framework Django does not run perfectly yet, but is getting closer all the time. Jython is great for thread safety, comes out better in benchmarks and has a cheeky message for those wanting the GIL. IronPython uses the .NET framework and is written in C#. Compatibility is reaching the stage where Django can run on IronPython (at least as a demo) and there are guides to using threads in IronPython."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,576667,34020,1,"If you want to code in python and get great threading support, you might want to check out IronPython or Jython. Since the python code in IronPython and Jython run on the .NET CLR and Java VM respectively, they enjoy the great threading support built into those libraries. In addition to that, IronPython doesn't have the GIL, an issue that prevents CPython threads from taking full advantage of multi-core architectures."
34079,44,What's the best way to specify a proxy with username and password for an http connection in python?,How to specify an authenticated proxy for a python http connection?,34116,34079,53,"This works for me: import urllib2 proxy = urllib2.ProxyHandler({'http': 'http:// username:password@proxyurl:proxyport'}) auth = urllib2.HTTPBasicAuthHandler() opener = urllib2.build_opener(proxy, auth, urllib2.HTTPHandler) urllib2.install_opener(opener) conn = urllib2.urlopen('http://python.org') return_str = conn.read()"
34079,44,What's the best way to specify a proxy with username and password for an http connection in python?,How to specify an authenticated proxy for a python http connection?,35443,34079,8,"The best way of going through a proxy that requires authentication is using urllib2 to build a custom url opener, then using that to make all the requests you want to go through the proxy. Note in particular, you probably don't want to embed the proxy password in the url or the python source code (unless it's just a quick hack). import urllib2 def get_proxy_opener(proxyurl, proxyuser, proxypass, proxyscheme=""http""): password_mgr = urllib2.HTTPPasswordMgrWithDefaultRealm() password_mgr.add_password(None, proxyurl, proxyuser, proxypass) proxy_handler = urllib2.ProxyHandler({proxyscheme: proxyurl}) proxy_auth_handler = urllib2.ProxyBasicAuthHandler(password_mgr) return urllib2.build_opener(proxy_handler, proxy_auth_handler) if __name__ == ""__main__"": import sys if len(sys.argv) &gt; 4: url_opener = get_proxy_opener(*sys.argv[1:4]) for url in sys.argv[4:]: print url_opener.open(url).headers else: print ""Usage:"", sys.argv[0], ""proxy user pass fetchurls..."" In a more complex program, you can seperate these components out as appropriate (for instance, only using one password manager for the lifetime of the application). The python documentation has more examples on how to do complex things with urllib2 that you might also find useful."
34079,44,What's the best way to specify a proxy with username and password for an http connection in python?,How to specify an authenticated proxy for a python http connection?,142324,34079,3,"Or if you want to install it, so that it is always used with urllib2.urlopen (so you don't need to keep a reference to the opener around): import urllib2 url = 'www.proxyurl.com' username = 'user' password = 'pass' password_mgr = urllib2.HTTPPasswordMgrWithDefaultRealm() # None, with the ""WithDefaultRealm"" password manager means # that the user/pass will be used for any realm (where # there isn't a more specific match). password_mgr.add_password(None, url, username, password) auth_handler = urllib2.HTTPBasicAuthHandler(password_mgr) opener = urllib2.build_opener(auth_handler) urllib2.install_opener(opener) print urllib2.urlopen(""http://www.example.com/folder/page.html"").read()"
34079,44,What's the best way to specify a proxy with username and password for an http connection in python?,How to specify an authenticated proxy for a python http connection?,3942980,34079,11,Setting an environment var named http_proxy like this: http://username:password@proxy_url:port
34209,1,"In the transition to newforms admin I'm having difficulty figuring out how specify core=False for ImageFields. I get the following error: TypeError: __init__() got an unexpected keyword argument 'core' [Edit] However, by just removing the core argument I get a ""This field is required."" error in the admin interface on attempted submission. How does one accomplish what core=False is meant to do using newforms admin?",Django ImageField core=False in newforms admin,34391,34209,2,"This is simple. I started getting this problems a few revisions ago. Basically, just remove the ""core=True"" parameter in the ImageField in the models, and then follow the instructions here to convert to what the newforms admin uses."
34209,1,"In the transition to newforms admin I'm having difficulty figuring out how specify core=False for ImageFields. I get the following error: TypeError: __init__() got an unexpected keyword argument 'core' [Edit] However, by just removing the core argument I get a ""This field is required."" error in the admin interface on attempted submission. How does one accomplish what core=False is meant to do using newforms admin?",Django ImageField core=False in newforms admin,35089,34209,3,The core attribute isn't used anymore. From Brian Rosner's Blog: You can safely just remove any and all core arguments. They are no longer used. newforms-admin now provides a nice delete checkbox for exisiting instances in inlines.
34209,1,"In the transition to newforms admin I'm having difficulty figuring out how specify core=False for ImageFields. I get the following error: TypeError: __init__() got an unexpected keyword argument 'core' [Edit] However, by just removing the core argument I get a ""This field is required."" error in the admin interface on attempted submission. How does one accomplish what core=False is meant to do using newforms admin?",Django ImageField core=False in newforms admin,35633,34209,3,"To get rid of ""This field is required,"" you need to make it not required, by using blank=True (and possibly null=True as well, if it's not a CharField)."
34243,8,"Is there something like the Python descriptor protocol implemented in other languages? It seems like a nice way to increase modularity/encapsulation without bloating your containing class' implementation, but I've never heard of a similar thing in any other languages. Is it likely absent from other languages because of the lookup overhead?",Python descriptor protocol analog in other languages?,34266,34243,4,"I've not heard of a direct equivalent either. You could probably achieve the same effect with macros, especially in a language like Lisp which has extremely powerful macros. I wouldn't be at all surprised if other languages start to incorporate something similar because it is so powerful."
34243,8,"Is there something like the Python descriptor protocol implemented in other languages? It seems like a nice way to increase modularity/encapsulation without bloating your containing class' implementation, but I've never heard of a similar thing in any other languages. Is it likely absent from other languages because of the lookup overhead?",Python descriptor protocol analog in other languages?,48974,34243,0,"Ruby and C# both easily let you create accessors by specifying getter/setter methods for an attribute, much like in Python. However, this isn't designed to naturally let you write the code for these methods in another class the way that Python allows. In practice, I'm not sure how much this matters, since every time I've seen an attribute defined through the descriptor protocol its been implemented in the same class. EDIT: Darn my dyslexia (by which I mean careless reading). For some reason I've always read ""descriptor"" as ""decorator"" and vice versa, even when I'm the one typing both of them. I'll leave my post intact since it has valid information, albeit information which has absolutely nothing to do with the question. The term ""decorator"" itself is actually the name of a design pattern described in the famous ""Design Patterns"" book. The Wikipedia article contains many examples in different programming languages of decorator usage: http://en.wikipedia.org/wiki/Decorator_pattern However, the decorators in that article object-oriented; they have classes implementing a predefined interface which lets another existing class behave differently somehow, etc. Python decorators act in a functional way by replacing a function at runtime with another function, allowing you to effectively modify/replace that function, insert code, etc. This is known in the Java world as Aspect-Oriented programming, and the AspectJ Java compiler lets you do these kinds of things and compile your AspectJ code (which is a superset of Java) into Java bytecode. I'm not familiar enough with C# or Ruby to know what their version of decorators would be."
34328,10,"In another question I posted yesterday, I got very good advice on how a Python script could be run as a service in Windows. What I'm left wondering is: How is Windows aware of the services that can be managed in the native tools (""services"" window in ""administrative tools""). I. e. what is the Windows equivalent of putting a start/stop script in /etc/init.d under Linux?",How do I make Windows aware of a service I have written in Python?,34330,34328,8,"Here is code to install a python-script as a service, written in python :) http://code.activestate.com/recipes/551780/ This post could also help you out: http://essiene.blogspot.com/2005/04/python-windows-services.html"
34328,10,"In another question I posted yesterday, I got very good advice on how a Python script could be run as a service in Windows. What I'm left wondering is: How is Windows aware of the services that can be managed in the native tools (""services"" window in ""administrative tools""). I. e. what is the Windows equivalent of putting a start/stop script in /etc/init.d under Linux?",How do I make Windows aware of a service I have written in Python?,34418,34328,3,"As with most ""aware"" things in Windows, the answer is ""Registry"". Take a look at this Microsoft Knowledge Base article: http://support.microsoft.com/kb/103000 Search for ""A Win32 program that can be started by the Service Controller and that obeys the service control protocol."" This is the kind of service you're interested in. The service registration (contents of KEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services \myservice) carries information about the service, including things like its executable location, what to do when it fails (halt the OS?), what services must be started before this one, what user it runs as. As to service control protocol, main() of your program is supposed to invoke a Windows API call, setting up callbacks for start, stop, pause for your service. What you do in those callbacks is all up to you."
34328,10,"In another question I posted yesterday, I got very good advice on how a Python script could be run as a service in Windows. What I'm left wondering is: How is Windows aware of the services that can be managed in the native tools (""services"" window in ""administrative tools""). I. e. what is the Windows equivalent of putting a start/stop script in /etc/init.d under Linux?",How do I make Windows aware of a service I have written in Python?,34421,34328,0,You can use srvany.exe from Windows NT Resource Kit to create a user defined service that will show up in the admin tools... http://support.microsoft.com/kb/137890 I am using this method to run tracd (a python script / server) for trac. Here are some very clear instructions: http://www.tacktech.com/display.cfm?ttid=197 It does require some registry editing (very minimal and easy) but will allow you to make any command line / script a windows service.
34328,10,"In another question I posted yesterday, I got very good advice on how a Python script could be run as a service in Windows. What I'm left wondering is: How is Windows aware of the services that can be managed in the native tools (""services"" window in ""administrative tools""). I. e. what is the Windows equivalent of putting a start/stop script in /etc/init.d under Linux?",How do I make Windows aware of a service I have written in Python?,259438,34328,5,"Don't muck with the registry directly. User the SC command-line tool. Namely, SC CREATE DESCRIPTION: SC is a command line program used for communicating with the NT Service Controller and services. USAGE: sc [command] [service name] ... The option has the form ""\\ServerName"" Further help on commands can be obtained by typing: ""sc [command]"" Commands: query-----------Queries the status for a service, or enumerates the status for types of services. queryex---------Queries the extended status for a service, or enumerates the status for types of services. start-----------Starts a service. pause-----------Sends a PAUSE control request to a service. interrogate-----Sends an INTERROGATE control request to a service. continue--------Sends a CONTINUE control request to a service. stop------------Sends a STOP request to a service. config----------Changes the configuration of a service (persistant). description-----Changes the description of a service. failure---------Changes the actions taken by a service upon failure. qc--------------Queries the configuration information for a service. qdescription----Queries the description for a service. qfailure--------Queries the actions taken by a service upon failure. delete----------Deletes a service (from the registry). create----------Creates a service. (adds it to the registry). control---------Sends a control to a service. sdshow----------Displays a service's security descriptor. sdset-----------Sets a service's security descriptor. GetDisplayName--Gets the DisplayName for a service. GetKeyName------Gets the ServiceKeyName for a service. EnumDepend------Enumerates Service Dependencies. The following commands don't require a service name: sc boot------------(ok | bad) Indicates whether the last boot should be saved as the last-known-good boot configuration Lock------------Locks the Service Database QueryLock-------Queries the LockStatus for the SCManager Database EXAMPLE: sc start MyService"
34439,159,"Given a Python object of any kind, is there an easy way to get a list of all methods that this object has? Or, if this is not possible, is there at least an easy way to check if it has a particular method other than simply checking if an error occurs when the method is called?",Finding what methods an object has,34452,34439,188,"It appears you can use this code, replacing 'object' with the object you're interested in:- [method for method in dir(object) if callable(getattr(object, method))] I discovered it at this site, hopefully that should provide some further detail!"
34439,159,"Given a Python object of any kind, is there an easy way to get a list of all methods that this object has? Or, if this is not possible, is there at least an easy way to check if it has a particular method other than simply checking if an error occurs when the method is called?",Finding what methods an object has,34467,34439,78,"You can use the built in dir() function to get a list of all the attributes a module has. Try this at the command line to see how it works. &gt;&gt;&gt; import moduleName &gt;&gt;&gt; dir(moduleName) Also, you can use the hasattr(module_name, ""attr_name"") function to find out if a module has a specific attribute. See the Guide to Python introspection for more information."
34439,159,"Given a Python object of any kind, is there an easy way to get a list of all methods that this object has? Or, if this is not possible, is there at least an easy way to check if it has a particular method other than simply checking if an error occurs when the method is called?",Finding what methods an object has,34472,34439,20,"To check if it has a particular method: hasattr(object,""method"")"
34439,159,"Given a Python object of any kind, is there an easy way to get a list of all methods that this object has? Or, if this is not possible, is there at least an easy way to check if it has a particular method other than simply checking if an error occurs when the method is called?",Finding what methods an object has,34481,34439,11,"On top of the more direct answers, I'd be remiss if I didn't mention iPython. Hit 'tab' to see the available methods, with autocompletion. And once you've found a method, try: help(object.method) to see the pydocs, method signature, etc. Ahh... REPL."
34916,8,"Is there anything similar to rails' scaffolding fo pylons? I've been poking around google, but fofund only this thing caled dbsprockets, which is fine, although probably way to much for my needs. What I really need is a basic CRUD thas is based on the SQLAlchemy model.",Scaffolding in pylons,35110,34916,4,"I hear you, I've followed the Pylons mailing list for a while looking for something similar. There have been some attempts in the past (see AdminPylon and Restin) but none have really kept up with SQLAlchemy's rapidly developing orm api. Since DBSprockets is likely to be incorporated into TurboGears it will likely be maintained. I'd bite the bullet and go with that."
34916,8,"Is there anything similar to rails' scaffolding fo pylons? I've been poking around google, but fofund only this thing caled dbsprockets, which is fine, although probably way to much for my needs. What I really need is a basic CRUD thas is based on the SQLAlchemy model.",Scaffolding in pylons,1056092,34916,6,"The question is super old, but hell: http://code.google.com/p/formalchemy/ Gives you basic crud out of the box, customizable to do even relatively complex things easily, and gives you a drop-in Pylons admin app too (written and customizable with the same api, no magic)."
34916,8,"Is there anything similar to rails' scaffolding fo pylons? I've been poking around google, but fofund only this thing caled dbsprockets, which is fine, although probably way to much for my needs. What I really need is a basic CRUD thas is based on the SQLAlchemy model.",Scaffolding in pylons,1869967,34916,0,"Just updating an old question. DBSprockets has been replaced by sprox which learns a lot of lessons from it and is pretty cool. It isn't quite the throwaway 'scaffolding' that Rails provides, it is more like an agile form generation tool that is highly extensible."
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,35543,35538,7,"XHTML is easy, use lxml. HTML is harder, since there's traditionally not been as much interest in validation among the HTML crowd (run StackOverflow itself through a validator, yikes). The easiest solution would be to execute external applications such as nsgmls or OpenJade, and then parse their output."
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,35562,35538,3,I think that HTML tidy will do what you want. There is a Python binding for it.
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,35572,35538,5,"Try tidylib. You can get some really basic bindings as part of the elementtidy module (builds elementtrees from HTML documents). http://effbot.org/downloads/#elementtidy &gt;&gt;&gt; import _elementtidy &gt;&gt;&gt; xhtml, log = _elementtidy.fixup(""&lt;html&gt;&lt;/html&gt;"") &gt;&gt;&gt; print log line 1 column 1 - Warning: missing &lt;!DOCTYPE&gt; declaration line 1 column 7 - Warning: discarding unexpected &lt;/html&gt; line 1 column 14 - Warning: inserting missing 'title' element Parsing the log should give you pretty much everything you need."
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,646877,35538,11,"Starting with html5, you can try to use html5lib. You can also decide to install the HTML validator locally and create a client to request the validation. Here I had made a program to validate a list of urls in a txt file. I was just checking the HEAD to get the validation status, but if you do a GET you would get the full results. Look at the API of the validator, there are plenty of options for it. import httplib2 import time h = httplib2.Http("".cache"") f = open(""urllistfile.txt"", ""r"") urllist = f.readlines() f.close() for url in urllist: # wait 10 seconds before the next request - be nice with the validator time.sleep(10) resp= {} url = url.strip() urlrequest = ""http://qa-dev.w3.org/wmvs/HEAD/check?doctype=HTML5&amp;uri=""+url try: resp, content = h.request(urlrequest, ""HEAD"") if resp['x-w3c-validator-status'] == ""Abort"": print url, ""FAIL"" else: print url, resp['x-w3c-validator-status'], resp['x-w3c-validator-errors'], resp['x-w3c-validator-warnings'] except: pass"
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,1279293,35538,18,"http://countergram.com/software/pytidylib is a nice python binding for HTML Tidy. Their example: from tidylib import tidy_document document, errors = tidy_document('''&lt;p&gt;f&amp;otilde;o &lt;img src=""bar.jpg""&gt;''', options={'numeric-entities':1}) print document print errors"
35569,6,"It seems like if you want to get the keys of a mapping, you ask for them; otherwise, give me the whole mapping (constituted by a set of key-value pairs). Is there a historical reason for this?",Why does Python's iter() on a mapping return iterkeys() instead of iteritems()?,35582,35569,8,"Check out this thread for a discussion on the reasons behind this behavior (including that Guido likes it, and it's not likely to change)."
35634,6,"Is there a Ruby equivalent for Python's ""is""? It tests whether two objects are identical (i.e. have the same memory location).","Ruby ""is"" equivalent",35635,35634,12,"Use a.equal? b http://www.ruby-doc.org/core/classes/Object.html Unlike ==, the equal? method should never be overridden by subclasses: it is used to determine object identity (that is, a.equal?(b) iff a is the same object as b)."
35634,6,"Is there a Ruby equivalent for Python's ""is""? It tests whether two objects are identical (i.e. have the same memory location).","Ruby ""is"" equivalent",39062,35634,2,"You could also use __id__. This gives you the objects internal ID number, which is always unique. To check if to objects are the same, try a.__id__ = b.__id__ This is how Ruby's standard library does it as far as I can tell (see group_by and others)."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35757,35753,16,"In my opinion python is more than ready for developing complex applications. I see pythons strength more on the server side than writing graphical clients. But have a look at http://www.resolversystems.com/. They develop a whole spreadsheet in python using the .net ironpython port. If you are familiar with eclipse have a look at pydev which provides auto-completion and debugging support for python with all the other eclipse goodies like svn support. The guy developing it has just been bought by aptana, so this will be solid choice for the future. @Marcin Cons: as a dynamic language, has way worse IDE support (proper syntax completion requires static typing, whether explicit in Java or inferred in SML), You are right, that static analysis may not provide full syntax completion for dynamic languages, but I thing pydev gets the job done very well. Further more I have a different development style when programming python. I have always an ipython session open and with one F5 I do not only get the perfect completion from ipython, but object introspection and manipulation as well. But if you want to write second Google or Yahoo, you will be much better with C# or Java. Google just rewrote jaiku to work on top of App Engine, all in python. And as far as I know they use a lot of python inside google too."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35759,35753,11,"I really like python, it's usually my language of choice these days for small (non-gui) stuff that I do on my own. However, for some larger Python projects I've tackled, I'm finding that it's not quite the same as programming in say, C++. I was working on a language parser, and needed to represent an AST in Python. This is certainly within the scope of what Python can do, but I had a bit of trouble with some refactoring. I was changing the representation of my AST and changing methods and classes around a lot, and I found I missed the strong typing that would be available to me in a C++ solution. Python's duck typing was almost too flexible and I found myself adding a lot of assert code to try to check my types as the program ran. And then I couldn't really be sure that everything was properly typed unless I had 100% code coverage testing (which I didn't at the time). Actually, that's another thing that I miss sometimes. It's possible to write syntactically correct code in Python that simply won't run. The compiler is incapable of telling you about it until it actually executes the code, so in infrequently-used code paths such as error handlers you can easily have unseen bugs lurking around. Even code that's as simple as printing an error message with a % format string can fail at runtime because of mismatched types. I haven't used Python for any GUI stuff so I can't comment on that aspect."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35776,35753,8,"Python is considered (among Python programmers :) to be a great language for rapid prototyping. There's not a lot of extraneous syntax getting in the way of your thought processes, so most of the work you do tends to go into the code. (There's far less idioms required to be involved in writing good Python code than in writing good C++.) Given this, most Python (CPython) programmers ascribe to the ""premature optimization is the root of all evil"" philosophy. By writing high-level (and significantly slower) Python code, one can optimize the bottlenecks out using C/C++ bindings when your application is nearing completion. At this point it becomes more clear what your processor-intensive algorithms are through proper profiling. This way, you write most of the code in a very readable and maintainable manner while allowing for speedups down the road. You'll see several Python library modules written in C for this very reason. Most graphics libraries in Python (i.e. wxPython) are just Python wrappers around C++ libraries anyway, so you're pretty much writing to a C++ backend. To address your IDE question, SPE (Stani's Python Editor) is a good IDE that I've used and Eclipse with PyDev gets the job done as well. Both are OSS, so they're free to try! [Edit] @Marcin: Have you had experience writing > 30k LOC in Python? It's also funny that you should mention Google's scalability concerns, since they're Python's biggest supporters! Also a small organization called NASA also uses Python frequently ;) see ""One coder and 17,000 Lines of Code Later""."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35777,35753,19,"You'll find mostly two answers to that &ndash; the religous one (Yes! Of course! It's the best language ever!) and the other religious one (you gotta be kidding me! Python? No... it's not mature enough). I will maybe skip the last religion (Python?! Use Ruby!). The truth, as always, is far from obvious. Pros: it's easy, readable, batteries included, has lots of good libraries for pretty much everything. It's expressive and dynamic typing makes it more concise in many cases. Cons: as a dynamic language, has way worse IDE support (proper syntax completion requires static typing, whether explicit in Java or inferred in SML), its object system is far from perfect (interfaces, anyone?) and it is easy to end up with messy code that has methods returning either int or boolean or object or some sort under unknown circumstances. My take &ndash; I love Python for scripting, automation, tiny webapps and other simple well defined tasks. In my opinion it is by far the best dynamic language on the planet. That said, I would never use it any dynamically typed language to develop an application of substantial size. Say &ndash; it would be fine to use it for Stack Overflow, which has three developers and I guess no more than 30k lines of code. For bigger things &ndash; first your development would be super fast, and then once team and codebase grow things are slowing down more than they would with Java or C#. You need to offset lack of compilation time checks by writing more unittests, refactorings get harder cause you never know what your refacoring broke until you run all tests or even the whole big app, etc. Now &ndash; decide on how big your team is going to be and how big the app is supposed to be once it is done. If you have 5 or less people and the target size is roughly Stack Overflow, go ahead, write in Python. You will finish in no time and be happy with good codebase. But if you want to write second Google or Yahoo, you will be much better with C# or Java. Side-note on C/C++ you have mentioned: if you are not writing performance critical software (say massive parallel raytracer that will run for three months rendering a film) or a very mission critical system (say Mars lander that will fly three years straight and has only one chance to land right or you lose $400mln) do not use it. For web apps, most desktop apps, most apps in general it is not a good choice. You will die debugging pointers and memory allocation in complex business logic."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35838,35753,0,"I know I'm probably stating the obvious, but don't forget that the quality of the development team and their familiarity with the technology will have a major impact on your ability to deliver. If you have a strong team, then it's probably not an issue if they're familiar. But if you have people who are more 9 to 5'rs who aren't familiar with the technology, they will need more support and you'd need to make a call if the productivity gains are worth whatever the cost of that support is."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35841,35753,2,Refactoring is inevitable on larger codebases and the lack of static typing makes this much harder in python than in statically typed languages.
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,36238,35753,4,"One way to judge what python is used for is to look at what products use python at the moment. This wikipedia page has a long list including various web frameworks, content management systems, version control systems, desktop apps and IDEs. As it says here - ""Some of the largest projects that use Python are the Zope application server, YouTube, and the original BitTorrent client. Large organizations that make use of Python include Google, Yahoo!, CERN and NASA. ITA uses Python for some of its components."" So in short, yes, it is ""proper for production use in the development of stand-alone complex applications"". So are many other languages, with various pros and cons. Which is the best language for your particular use case is too subjective to answer, so I won't try, but often the answer will be ""the one your developers know best""."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,259591,35753,28,"We've used IronPython to build our flagship spreadsheet application (40kloc production code - and it's Python, which IMO means loc per feature is low) at Resolver Systems, so I'd definitely say it's ready for production use of complex apps. There are two ways in which this might not be a useful answer to you :-) We're using IronPython, not the more usual CPython. This gives us the huge advantage of being able to use .NET class libraries. I may be setting myself up for flaming here, but I would say that I've never really seen a CPython application that looked ""professional"" - so having access to the WinForms widget set was a huge win for us. IronPython also gives us the advantage of being able to easily drop into C# if we need a performance boost. (Though to be honest we have never needed to do that. All of our performance problems to date have been because we chose dumb algorithms rather than because the language was slow.) Using C# from IP is much easier than writing a C Extension for CPython. We're an Extreme Programming shop, so we write tests before we write code. I would not write production code in a dynamic language without writing the tests first; the lack of a compile step needs to be covered by something, and as other people have pointed out, refactoring without it can be tough. (Greg Hewgill's answer suggests he's had the same problem. On the other hand, I don't think I would write - or especially refactor - production code in any language these days without writing the tests first - but YMMV.) Re: the IDE - we've been pretty much fine with each person using their favourite text editor; if you prefer something a bit more heavyweight then WingIDE is pretty well-regarded."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,263761,35753,4,"Nothing to add to the other answers, besides that if you choose python you must use something like pylint which nobody mentioned so far."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,277490,35753,-1,"I had only one python experience, my trash-cli project. I know that probably some or all problems depends of my inexperience with python. I found frustrating these things: the difficult of finding a good IDE for free the limited support to automatic refactoring Moreover: the need of introduce two level of grouping packages and modules confuses me. it seems to me that there is not a widely adopted code naming convention it seems to me that there are some standard library APIs docs that are incomplete the fact that some standard libraries are not fully object oriented annoys me Although some python coders tell me that they does not have these problems, or they say these are not problems."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,286449,35753,1,"And as far as I know they use a lot of python inside google too. Well i'd hope so, the maker of python still works at google if i'm not mistaken? As for the use of Python, I think it's a great language for stand-alone apps. It's heavily used in a lot of Linux programs, and there are a few nice widget sets out there to aid in the development of GUI's."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,286491,35753,1,"Python is a delight to use. I use it routinely and also write a lot of code for work in C#. There are two drawbacks to writing UI code in Python. one is that there is not a single ui framework that is accepted by the majority of the community. when you write in c# the .NET runtime and class libraries are all meant to work together. With Python every UI library has at's own semantics which are often at odds with the pythonic mindset in which you are trying to write your program. I am not blaming the library writers. I've tried several libraries (wxwidgets, PythonWin[Wrapper around MFC], Tkinter), When doing so I often felt that I was writing code in a language other than Python (despite the fact that it was python) because the libraries aren't exactly pythonic they are a port from another language be it c, c++, tk. So for me I will write UI code in .NET (for me C#) because of the IDE &amp; the consistency of the libraries. But when I can I will write business logic in python because it is more clear and more fun."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,3445481,35753,0,"Try Django or Pylons, write a simple app with both of them and then decide which one suits you best. There are others (like Turbogears or Werkzeug) but those are the most used."
35805,27,"If I create a class A as follows: class A: def __init__(self): self.name = 'A' Inspecting the __dict__ member looks like {'name': 'A'} If however I create a class B: class B: name = 'B' __dict__ is empty. What is the difference between the two, and why doesn't name show up in B's __dict__?",Why is my instance variable not in dict?,35823,35805,38,"B.name is a class attribute, not an instance attribute. It shows up in B.__dict__, but not in b = B(); b.__dict__. The distinction is obscured somewhat because when you access an attribute on an instance, the class dict is a fallback. So in the above example, b.name will give you the value of B.name."
35805,27,"If I create a class A as follows: class A: def __init__(self): self.name = 'A' Inspecting the __dict__ member looks like {'name': 'A'} If however I create a class B: class B: name = 'B' __dict__ is empty. What is the difference between the two, and why doesn't name show up in B's __dict__?",Why is my instance variable not in dict?,39755,35805,11,class A: def _ _init_ _(self): self.name = 'A' a = A() Creates an attribute on the object instance a of type A and it can therefore be found in: a.__dict__ class B: name = 'B' b = B() Creates an attribute on the class B and the attribute can be found in B.__dict__ alternatively if you have an instance b of type B you can see the class level attributes in b.__class__.__dict__
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,35831,35817,3,"I believe that os.system just invokes whatever command shell is configured for the user, so I don't think you can do it in a platform independent way. My command shell could be anything from bash, emacs, ruby, or even quake3. Some of these programs aren't expecting the kind of arguments you are passing to them and even if they did there is no guarantee they do their escaping the same way."
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,35857,35817,44,"This is what I use: def shellquote(s): return ""'"" + s.replace(""'"", ""'\\''"") + ""'"" The shell will always accept a quoted filename and remove the surrounding quotes before passing it to the program in question. Notably, this avoids problems with filenames that contain spaces or any other kind of nasty shell metacharacter. Update: If you are using Python 3.3 or later, use shlex.quote instead of rolling your own."
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,35858,35817,49,"Perhaps you have a specific reason for using os.system(). But if not you should probably be using the subprocess module. You can specify the pipes directly and avoid using the shell. The following is from PEP324: Replacing shell pipe line ------------------------- output=`dmesg | grep hda` ==&gt; p1 = Popen([""dmesg""], stdout=PIPE) p2 = Popen([""grep"", ""hda""], stdin=p1.stdout, stdout=PIPE) output = p2.communicate()[0]"
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,35900,35817,-2,"If you do use the system command, I would try and whitelist what goes into the os.system() call.. For example.. clean_user_input re.sub(""[^a-zA-Z]"", """", user_input) os.system(""ls %s"" % (clean_user_input)) The subprocess module is a better option, and I would recommend trying to avoid using anything like os.system/subprocess wherever possible."
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,847800,35817,101,shlex.quote() does what you want since python 3. (Use pipes.quote to support both python 2 and python 3)
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,1884718,35817,4,"Note that pipes.quote is actually broken in Python 2.5 and Python 3.1 and not safe to use--It doesn't handle zero-length arguments. &gt;&gt;&gt; from pipes import quote &gt;&gt;&gt; args = ['arg1', '', 'arg3'] &gt;&gt;&gt; print 'mycommand %s' % (' '.join(quote(arg) for arg in args)) mycommand arg1 arg3 See Python issue 7476; it has been fixed in Python 2.6 and 3.2 and newer."
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,3851646,35817,1,"The function I use is: def quote_argument(argument): return '""%s""' % ( argument .replace('\\', '\\\\') .replace('""', '\\""') .replace('$', '\\$') .replace('`', '\\`') ) that is: I always enclose the argument in double quotes, and then backslash-quote the only characters special inside double quotes."
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,35978,35948,9,"I'm assuming that the part the doesn't work is {{ user.item }}. Django will be trying a dictionary lookup, but using the string ""item"" and not the value of the item loop variable. Django did the same thing when it resolved {{ user.name }} to the name attribute of the user object, rather than looking for a variable called name. I think you will need to do some preprocessing of the data in your view before you render it in your template."
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,37190,35948,0,shouldn't this: {{ user.item }} be this? {{ item }} there is no user object in the context within that loop....?
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,50425,35948,30,"I found a ""nicer""/""better"" solution for getting variables inside Its not the nicest way, but it works. You install a custom filter into django which gets the key of your dict as a parameter To make it work in google app-engine you need to add a file to your main directory, I called mine *django_hack.py* which contains this little piece of code from google.appengine.ext import webapp register = webapp.template.create_template_register() def hash(h,key): if key in h: return h[key] else: return None register.filter(hash) Now that we have this file, all we need to do is tell the app-engine to use it... we do that by adding this little line to your main file webapp.template.register_template_library('django_hack') and in your template view add this template instead of the usual code {{ user|hash:item }} And its should work perfectly =)"
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,1278623,35948,3,"@Dave Webb (i haven't been rated high enough to comment yet) The dot lookups can be summarized like this: when the template system encounters a dot in a variable name, it tries the following lookups, in this order: * Dictionary lookup (e.e., foo[""bar""]) * Attribute lookup (e.g., foo.bar) * Method call (e.g., foo.bar()) * List-index lookup (e.g., foo[bar]) The system uses the first lookup type that works. Itâs short-circuit logic."
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,3125956,35948,1,"As a replacement for k,v in user.items on Google App Engine using django templates where user = {'a':1, 'b', 2, 'c', 3} {% for pair in user.items %} {% for keyval in pair %} {{ keyval }}{% endfor %}&lt;br&gt; {% endfor %} a 1 b 2 c 3 pair = (key, value) for each dictionary item."
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,3466349,35948,7,"Or you can use the default django system which is used to resolve attributes in tempaltes like this : from django.template import Variable, VariableDoesNotExist @register.filter def hash(object, attr): pseudo_context = { 'object' : object } try: value = Variable('object.%s' % attr).resolve(pseudo_context) except VariableDoesNotExist: value = None return value That just works in your template : {{ user|hash:item }}"
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,35990,35988,47,"How about a dictionary? Something like this: myStruct = {'field1': 'some val', 'field2': 'some val'} Then you can use this to manipulate values: print myStruct['field1'] myStruct['field2'] = 'some other values' And the values don't have to be strings. They can be pretty much any other object."
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,35993,35988,70,"You can use a tuple for a lot of things where you would use a struct in C (something like x,y coordinates or RGB colors for example). For everything else you can use dictionary, or a utility class like this one: &gt;&gt;&gt; class Bunch: ... def __init__(self, **kwds): ... self.__dict__.update(kwds) ... &gt;&gt;&gt; mystruct = Bunch(field1=value1, field2=value2) I think the ""definitive"" discussion is here, in the published version of the Python Cookbook."
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,36033,35988,202,"Use a named tuple, which was added to the collections module in the standard library in Python 2.6. It's also possible to use Raymond Hettinger's named tuple recipe if you need to support Python 2.4. It's nice for your basic example, but also covers a bunch of edge cases you might run into later as well. Your fragment above would be written as: from collections import namedtuple MyStruct = namedtuple(""MyStruct"", ""field1 field2 field3"") The newly created type can be used like this: m = MyStruct(""foo"", ""bar"", ""baz"") Or you can use named arguments: m = MyStruct(field1 = ""foo"", field2 = ""bar"", field3 = ""baz"")"
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,36034,35988,17,"dF: that's pretty cool... I didn't know that I could access the fields in a class using dict. Mark: the situations that I wish I had this are precisely when I want a tuple but nothing as ""heavy"" as a dictionary. You can access the fields of a class using a dictionary because the fields of a class, its methods and all its properties are stored internally using dicts (at least in CPython). ...Which leads us to your second comment. Believing that Python dicts are ""heavy"" is an extremely non-pythonistic concept. And reading such comments kills my Python Zen. That's not good. You see, when you declare a class you are actually creating a pretty complex wrapper around a dictionary - so, if anything, you are adding more overhead than by using a simple dictionary. An overhead which, by the way, is meaningless in any case. If you are working on performance critical applications, use C or something."
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,36061,35988,13,"You can also pass the init parameters to the instance variables by position # Abstract struct class class Struct: def __init__ (self, *argv, **argd): if len(argd): # Update by dictionary self.__dict__.update (argd) else: # Update by position attrs = filter (lambda x: x[0:2] != ""__"", dir(self)) for n in range(len(argv)): setattr(self, attrs[n], argv[n]) # Specific class class Point3dStruct (Struct): x = 0 y = 0 z = 0 pt1 = Point3dStruct() pt1.x = 10 print pt1.x print ""-""*10 pt2 = Point3dStruct(5, 6) print pt2.x, pt2.y print ""-""*10 pt3 = Point3dStruct (x=1, y=2, z=3) print pt3.x, pt3.y, pt3.z print ""-""*10"
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,3761729,35988,56,"Perhaps you are looking for Structs without constructors: class Sample: name = '' average = 0.0 values = None # list cannot be initialized here! s1 = Sample() s1.name = ""sample 1"" s1.values = [] s1.values.append(1) s1.values.append(2) s1.values.append(3) s2 = Sample() s2.name = ""sample 2"" s2.values = [] s2.values.append(4) for v in s1.values: # prints 1,2,3 --&gt; OK. print v print ""***"" for v in s2.values: # prints 4 --&gt; OK. print v"
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,36143,36139,23,list.sort() It really is that simple :)
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,36156,36139,270,"Basic answer: mylist = [""b"", ""C"", ""A""] mylist.sort() This modifies your original list (i.e. sorts in-place). To get a sorted copy of the list, without changing the original, use the sorted() function: for x in sorted(mylist): print x However, the examples above are a bit naive, because they don't take locale into account, and perform a case-sensitive sorting. You can take advantage of the optional parameter key to specify custom sorting order (the alternative, using cmp, is a deprecated solution, as it has to be evaluated multiple times - key is only computed once per element). So, to sort according to the current locale, taking language-specific rules into account (cmp_to_key is a helper function from functools): sorted(mylist, key=cmp_to_key(locale.strcoll)) And finally, if you need, you can specify a custom locale for sorting: import locale locale.setlocale(locale.LC_ALL, 'en_US.UTF-8') # vary depending on your lang/locale assert sorted((u'Ab', u'ad', u'aa'), key=cmp_to_key(locale.strcoll)) == [u'aa', u'Ab', u'ad'] Last note: you will see examples of case-insensitive sorting which use the lower() method - those are incorrect, because they work only for the ASCII subset of characters. Those two are wrong for any non-English data: # this is incorrect! mylist.sort(key=lambda x: x.lower()) # alternative notation, a bit faster, but still wrong mylist.sort(key=str.lower)"
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,36220,36139,6,"But how does this handle language specific sorting rules? Does it take locale into account? No, list.sort() is a generic sorting function. If you want to sort according to the Unicode rules, you'll have to define a custom sort key function. You can try using the pyuca module, but I don't know how complete it is."
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,36395,36139,29,"It is also worth noting the sorted() function: for x in sorted(list): print x This returns a new, sorted version of a list without changing the original list."
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,1640634,36139,13,"The proper way to sort strings is: import locale locale.setlocale(locale.LC_ALL, 'en_US.UTF-8') # vary depending on your lang/locale assert sorted((u'Ab', u'ad', u'aa'), cmp=locale.strcoll) == [u'aa', u'Ab', u'ad'] # Without using locale.strcoll you get: assert sorted((u'Ab', u'ad', u'aa')) == [u'Ab', u'aa', u'ad'] The previous example of mylist.sort(key=lambda x: x.lower()) will work fine for ASCII-only contexts."
36324,4,"I'm trying to use svnmerge.py to merge some files. Under the hood it uses python, and when I use it I get an error - ""The system cannot find the file specified"". Colleagues at work are running the same version of svnmerge.py, and of python (2.5.2, specifically r252:60911) without an issue. I found this link, which describes my problem. Trying what was outlined there, I confirmed Python could find svn (it's in my path): P:\>python Python 2.5.2 (r252:60911, Feb 21 2008, 13:11:45) [MSC v.1310 32 bit (Intel)] on win32 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. >>> import os >>> i,k = os.popen4(""svn --version"") >>> i.close() >>> k.readline() 'svn, version 1.4.2 (r22196)\n' Looking at the svnmerge.py code, though, I noticed for python versions 2.4 and higher it was following a different execution path. Rather than invoking os.popen4() it uses subprocess.Popen(). Trying that reproduces the error: C:\>python Python 2.5.2 (r252:60911, Feb 21 2008, 13:11:45) [MSC v.1310 32 bit (Intel)] on win32 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. >>> import subprocess >>> p = subprocess.Popen(""svn --version"", stdout=subprocess.PIPE, >>> close_fds=False, stderr=subprocess.PIPE) Traceback (most recent call last): File """", line 1, in File ""C:\Python25\lib\subprocess.py"", line 594, in __init__ errread, errwrite) File ""C:\Python25\lib\subprocess.py"", line 816, in _execute_child startupinfo) WindowsError: [Error 2] The system cannot find the file specified >>> For now, I've commented out the 2.4-and-higher specific code, but I'd like to find a proper solution. If it's not obvious, I'm a complete python newbie, but google hasn't helped. Any pointers?","""The system cannot find the file specified"" when invoking subprocess.Popen in python",36327,36324,12,"It's a bug, see the documentation of subprocess.Popen. There either needs to be a ""shell=True"" option, or the first argument needs to be a sequence ['svn', '--version']. As it is now, Popen is looking for an executable named, literally, ""svn --version"" which it doesn't find. I don't know why it would work for your colleagues though, if they are running the same OS and version of Python... FWIW it gives me the same error message on a mac, and either of the two ways I gave fixes it."
36806,5,"I have been sold on mod_wsgi and apache rather than mod_python. I have all the parts installed (django, apache, mod_wsgi) but have run into a problem deploying. I am on osx 10.5 with apache 2.2 and django 1.0b2, mod_wsgi-2.3 My application is called tred. Here are the relevant files: httpd-vhosts (included in httpd-conf) NameVirtualHost tred:80 ServerName tred Alias /admin_media /usr/lib/python2.5/site-packages/django/contrib/admin/media Order allow,deny Allow from all Alias /media /Users/dmg/Sites/tred/media Order allow,deny Allow from all Alias / /Users/dmg/Sites/tred/ Order allow,deny Allow from all WSGIScriptAlias / /Users/dmg/Sites/tred/mod_wsgi-handler.wsgi WSGIDaemonProcess tred user=dmg group=staff processes=1 threads=10 WSGIProcessGroup tred mod_wsgi-handle.wsgi import sys import os sys.path.append(os.path.dirname(os.path.abspath(__file__)) + '/..') os.environ['DJANGO_SETTINGS_MODULE'] = 'tred.settings' import django.core.handlers.wsgi application = django.core.handlers.wsgi.WSGIHandler() When I go to http://tred I get a directory listing rather than the rendered website. I think I have followed the tutorials correctly but it is obviously not right. What can I do to make this work?",Setup django with WSGI and apache,37009,36806,5,What happens if you remove the Alias / directive?
36806,5,"I have been sold on mod_wsgi and apache rather than mod_python. I have all the parts installed (django, apache, mod_wsgi) but have run into a problem deploying. I am on osx 10.5 with apache 2.2 and django 1.0b2, mod_wsgi-2.3 My application is called tred. Here are the relevant files: httpd-vhosts (included in httpd-conf) NameVirtualHost tred:80 ServerName tred Alias /admin_media /usr/lib/python2.5/site-packages/django/contrib/admin/media Order allow,deny Allow from all Alias /media /Users/dmg/Sites/tred/media Order allow,deny Allow from all Alias / /Users/dmg/Sites/tred/ Order allow,deny Allow from all WSGIScriptAlias / /Users/dmg/Sites/tred/mod_wsgi-handler.wsgi WSGIDaemonProcess tred user=dmg group=staff processes=1 threads=10 WSGIProcessGroup tred mod_wsgi-handle.wsgi import sys import os sys.path.append(os.path.dirname(os.path.abspath(__file__)) + '/..') os.environ['DJANGO_SETTINGS_MODULE'] = 'tred.settings' import django.core.handlers.wsgi application = django.core.handlers.wsgi.WSGIHandler() When I go to http://tred I get a directory listing rather than the rendered website. I think I have followed the tutorials correctly but it is obviously not right. What can I do to make this work?",Setup django with WSGI and apache,37218,36806,5,"It works. I have no idea why, but it does. For future reference: It works because Apache processes alias directives in order, and uses the first match. It was always hitting Alias /, which will match anything, before WSGIScriptAlias. From the mod_alias documentation: First, all Redirects are processed before Aliases are processed, and therefore a request that matches a Redirect or RedirectMatch will never have Aliases applied. Second, the Aliases and Redirects are processed in the order they appear in the configuration files, with the first match taking precedence."
36806,5,"I have been sold on mod_wsgi and apache rather than mod_python. I have all the parts installed (django, apache, mod_wsgi) but have run into a problem deploying. I am on osx 10.5 with apache 2.2 and django 1.0b2, mod_wsgi-2.3 My application is called tred. Here are the relevant files: httpd-vhosts (included in httpd-conf) NameVirtualHost tred:80 ServerName tred Alias /admin_media /usr/lib/python2.5/site-packages/django/contrib/admin/media Order allow,deny Allow from all Alias /media /Users/dmg/Sites/tred/media Order allow,deny Allow from all Alias / /Users/dmg/Sites/tred/ Order allow,deny Allow from all WSGIScriptAlias / /Users/dmg/Sites/tred/mod_wsgi-handler.wsgi WSGIDaemonProcess tred user=dmg group=staff processes=1 threads=10 WSGIProcessGroup tred mod_wsgi-handle.wsgi import sys import os sys.path.append(os.path.dirname(os.path.abspath(__file__)) + '/..') os.environ['DJANGO_SETTINGS_MODULE'] = 'tred.settings' import django.core.handlers.wsgi application = django.core.handlers.wsgi.WSGIHandler() When I go to http://tred I get a directory listing rather than the rendered website. I think I have followed the tutorials correctly but it is obviously not right. What can I do to make this work?",Setup django with WSGI and apache,1038110,36806,7,"Note that Alias and WSGIScriptAlias directives do not have the same precedence. Thus, they will not be processed in file order as written. Instead, all Alias directives get precedence over WSGIScriptAlias directives. Thus, it wouldn't have mattered if the Alias for '/' appeared after WSGIScriptAlias, it would still have taken precedence."
36812,2,"Currently, I am writing up a bit of a product-based CMS as my first project. Here is my question. How can I add additional data (products) to my Product model? I have added '/admin/products/add' to my urls.py, but I don't really know where to go from there. How would I build both my view and my template? Please keep in mind that I don't really know all that much Python, and I am very new to Django How can I do this all without using this existing django admin interface.",How do I add data to an existing model in Django?,36818,36812,-1,"Follow the Django tutorial for setting up the ""admin"" part of an application. This will allow you to modify your database. Django Admin Setup Alternatively, you can just connect directly to the database using the standard tools for whatever database type you are using."
36812,2,"Currently, I am writing up a bit of a product-based CMS as my first project. Here is my question. How can I add additional data (products) to my Product model? I have added '/admin/products/add' to my urls.py, but I don't really know where to go from there. How would I build both my view and my template? Please keep in mind that I don't really know all that much Python, and I am very new to Django How can I do this all without using this existing django admin interface.",How do I add data to an existing model in Django?,36827,36812,0,This topic is covered in Django tutorials.
36812,2,"Currently, I am writing up a bit of a product-based CMS as my first project. Here is my question. How can I add additional data (products) to my Product model? I have added '/admin/products/add' to my urls.py, but I don't really know where to go from there. How would I build both my view and my template? Please keep in mind that I don't really know all that much Python, and I am very new to Django How can I do this all without using this existing django admin interface.",How do I add data to an existing model in Django?,36935,36812,7,"You will want to wire your URL to the Django create_object generic view, and pass it either ""model"" (the model you want to create) or ""form_class"" (a customized ModelForm class). There are a number of other arguments you can also pass to override default behaviors. Sample URLconf for the simplest case: from django.conf.urls.defaults import * from django.views.generic.create_update import create_object from my_products_app.models import Product urlpatterns = patterns('', url(r'^admin/products/add/$', create_object, {'model': Product})) Your template will get the context variable ""form"", which you just need to wrap in a &lt;form> tag and add a submit button. The simplest working template (by default should go in ""my_products_app/product_form.html""): &lt;form action=""."" method=""POST""&gt; {{ form }} &lt;input type=""submit"" name=""submit"" value=""add""&gt; &lt;/form&gt; Note that your Product model must have a get_absolute_url method, or else you must pass in the post_save_redirect parameter to the view. Otherwise it won't know where to redirect to after save."
36901,833,"In the following method definitions, what does the * and ** do for param2? def foo(param1, *param2): def bar(param1, **param2):",What does ** (double star) and * (star) do for Python parameters?,36902,36901,9,"From the Python documentation: If there are more positional arguments than there are formal parameter slots, a TypeError exception is raised, unless a formal parameter using the syntax ""*identifier"" is present; in this case, that formal parameter receives a tuple containing the excess positional arguments (or an empty tuple if there were no excess positional arguments). If any keyword argument does not correspond to a formal parameter name, a TypeError exception is raised, unless a formal parameter using the syntax ""**identifier"" is present; in this case, that formal parameter receives a dictionary containing the excess keyword arguments (using the keywords as keys and the argument values as corresponding values), or a (new) empty dictionary if there were no excess keyword arguments."
36901,833,"In the following method definitions, what does the * and ** do for param2? def foo(param1, *param2): def bar(param1, **param2):",What does ** (double star) and * (star) do for Python parameters?,36908,36901,877,"The *args and **kwargs is a common idiom to allow arbitrary number of arguments to functions as described in the section more on defining functions in the Python documentation. The *args will give you all function parameters as a tuple: In [1]: def foo(*args): ...: for a in args: ...: print a ...: ...: In [2]: foo(1) 1 In [4]: foo(1,2,3) 1 2 3 The **kwargs will give you all keyword arguments except for those corresponding to a formal parameter as a dictionary. In [5]: def bar(**kwargs): ...: for a in kwargs: ...: print a, kwargs[a] ...: ...: In [6]: bar(name='one', age=27) age 27 name one Both idioms can be mixed with normal arguments to allow a set of fixed and some variable arguments: def foo(kind, *args, **kwargs): pass Another usage of the *l idiom is to unpack argument lists when calling a function. In [9]: def foo(bar, lee): ...: print bar, lee ...: ...: In [10]: l = [1,2] In [11]: foo(*l) 1 2 In Python 3 it is possible to use *l on the left side of an assignment (Extended Iterable Unpacking): first, *rest = [1,2,3,4] first, *l, last = [1,2,3,4] Also Python 3 adds new semantic (refer PEP 3102): def func(arg1, arg2, arg3='default', *, kwarg1='abc', kwarg2='xyz'): pass Such function accepts only 2 positional arguments, and everything after * can only be passed as keyword argument, not positional one. In Python 2 similar was true for all parameters after *args."
36901,833,"In the following method definitions, what does the * and ** do for param2? def foo(param1, *param2): def bar(param1, **param2):",What does ** (double star) and * (star) do for Python parameters?,36911,36901,89,"The single * means that there can be any number of extra positional arguments. foo() can be invoked like foo(1,2,3,4,5). In the body of foo() param2 is a sequence containing 2-5. The double ** means there can be any number of extra named parameters. bar() can be invoked like bar(1, a=2, b=3). In the body of bar() param2 is a dictionary containing {'a':2, 'b':3 } With the following code: def foo(param1, *param2): print param1 print param2 def bar(param1, **param2): print param1 print param2 foo(1,2,3,4,5) bar(1,a=2,b=3) the output is 1 (2, 3, 4, 5) 1 {'a': 2, 'b': 3}"
36901,833,"In the following method definitions, what does the * and ** do for param2? def foo(param1, *param2): def bar(param1, **param2):",What does ** (double star) and * (star) do for Python parameters?,36926,36901,244,"It's also worth noting that you can use * and ** when calling functions as well. This is a shortcut that allows you to pass multiple arguments to a function directly using either a list/tuple or a dictionary. For example, if you have the following function: def foo(x,y,z): print ""x="" + str(x) print ""y="" + str(y) print ""z="" + str(z) You can do things like: &gt;&gt;&gt; mylist = [1,2,3] &gt;&gt;&gt; foo(*mylist) x=1 y=2 z=3 &gt;&gt;&gt; mydict = {'x':1,'y':2,'z':3} &gt;&gt;&gt; foo(**mydict) x=1 y=2 z=3 &gt;&gt;&gt; mytuple = (1, 2, 3) &gt;&gt;&gt; foo(*mytuple) x=1 y=2 z=3"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,36937,36932,610,"Before PEP 435, Python didn't have an equivalent but you could implement your own. Myself, I like keeping it simple (I've seen some horribly complex examples on the net), something like this ... class Animal: DOG = 1 CAT = 2 x = Animal.DOG In Python 3.4 (PEP 435), you can make Enum the base class. This gets you a little bit of extra functionality, described in the PEP. For example, enum values are distinct from integers. class Animal(Enum): DOG = 1 CAT = 2 print(Animal.DOG) &lt;Animal.DOG: 1&gt; If you don't want to type the values, use the following shortcut: class Animal(Enum): DOG, CAT = range(2)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,36940,36932,17,"Hmmm... I suppose the closest thing to an enum would be a dictionary, defined either like this: months = { 'January': 1, 'February': 2, ... } or months = dict( January=1, February=2, ... ) Then, you can use the symbolic name for the constants like this: mymonth = months['January'] There are other options, like a list of tuples, or a tuple of tuples, but the dictionary is the only one that provides you with a ""symbolic"" (constant string) way to access the value. Edit: I like Alexandru's answer too!"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,37000,36932,42,"Python doesn't have a built-in equivalent to enum, and other answers have ideas for implementing your own (you may also be interested in the over the top version in the Python cookbook). However, in situations where an enum would be called for in C, I usually end up just using simple strings: because of the way objects/attributes are implemented, (C)Python is optimized to work very fast with short strings anyway, so there wouldn't really be any performance benefit to using integers. To guard against typos / invalid values you can insert checks in selected places. ANIMALS = ['cat', 'dog', 'python'] def take_for_a_walk(animal): assert animal in ANIMALS ... (One disadvantage compared to using a class is that you lose the benefit of autocomplete)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,37081,36932,140,"If you need the numeric values, here's the quickest way: dog, cat, rabbit = range(3)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,38092,36932,72,"The typesafe enum pattern which was used in Java pre-JDK 5 has a number of advantages. Much like in Alexandru's answer, you create a class and class level fields are the enum values; however, the enum values are instances of the class rather than small integers. This has the advantage that your enum values don't inadvertently compare equal to small integers, you can control how they're printed, add arbitrary methods if that's useful and make assertions using isinstance: class Animal: def __init__(self, name): self.name = name def __str__(self): return self.name def __repr__(self): return ""&lt;Animal: %s&gt;"" % self Animal.DOG = Animal(""dog"") Animal.CAT = Animal(""cat"") &gt;&gt;&gt; x = Animal.DOG &gt;&gt;&gt; x &lt;Animal: dog&gt; &gt;&gt;&gt; x == 1 False A recent thread on python-dev pointed out there are a couple of enum libraries in the wild, including: flufl.enum lazr.enum ... and the imaginatively named enum"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,38762,36932,13,"davidg recommends using dicts. I'd go one step further and use sets: months = set('January', 'February', ..., 'December') Now you can test whether a value matches one of the values in the set like this: if m in months: like dF, though, I usually just use string constants in place of enums."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,99347,36932,5,"Alexandru's suggestion of using class constants for enums works quite well. I also like to add a dictionary for each set of constants to lookup a human-readable string representation. This serves two purposes: a) it provides a simple way to pretty-print your enum and b) the dictionary logically groups the constants so that you can test for membership. class Animal: TYPE_DOG = 1 TYPE_CAT = 2 type2str = { TYPE_DOG: ""dog"", TYPE_CAT: ""cat"" } def __init__(self, type_): assert type_ in self.type2str.keys() self._type = type_ def __repr__(self): return ""&lt;%s type=%s&gt;"" % ( self.__class__.__name__, self.type2str[self._type].upper())"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,107973,36932,26,"def M_add_class_attribs(attribs): def foo(name, bases, dict_): for v, k in attribs: dict_[k] = v return type(name, bases, dict_) return foo def enum(*names): class Foo(object): __metaclass__ = M_add_class_attribs(enumerate(names)) def __setattr__(self, name, value): # this makes it read-only raise NotImplementedError return Foo() Use it like this: Animal = enum('DOG', 'CAT') Animal.DOG # returns 0 Animal.CAT # returns 1 Animal.DOG = 2 # raises NotImplementedError if you just want unique symbols and don't care about the values, replace this line: __metaclass__ = M_add_class_attribs(enumerate(names)) with this: __metaclass__ = M_add_class_attribs((object(), name) for name in names)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,220537,36932,2,"It's funny, I just had a need for this the other day and I couldnt find an implementation worth using... so I wrote my own: import functools class EnumValue(object): def __init__(self,name,value,type): self.__value=value self.__name=name self.Type=type def __str__(self): return self.__name def __repr__(self):#2.6 only... so change to what ever you need... return '{cls}({0!r},{1!r},{2})'.format(self.__name,self.__value,self.Type.__name__,cls=type(self).__name__) def __hash__(self): return hash(self.__value) def __nonzero__(self): return bool(self.__value) def __cmp__(self,other): if isinstance(other,EnumValue): return cmp(self.__value,other.__value) else: return cmp(self.__value,other)#hopefully their the same type... but who cares? def __or__(self,other): if other is None: return self elif type(self) is not type(other): raise TypeError() return EnumValue('{0.Name} | {1.Name}'.format(self,other),self.Value|other.Value,self.Type) def __and__(self,other): if other is None: return self elif type(self) is not type(other): raise TypeError() return EnumValue('{0.Name} &amp; {1.Name}'.format(self,other),self.Value&amp;other.Value,self.Type) def __contains__(self,other): if self.Value==other.Value: return True return bool(self&amp;other) def __invert__(self): enumerables=self.Type.__enumerables__ return functools.reduce(EnumValue.__or__,(enum for enum in enumerables.itervalues() if enum not in self)) @property def Name(self): return self.__name @property def Value(self): return self.__value class EnumMeta(type): @staticmethod def __addToReverseLookup(rev,value,newKeys,nextIter,force=True): if value in rev: forced,items=rev.get(value,(force,()) ) if forced and force: #value was forced, so just append rev[value]=(True,items+newKeys) elif not forced:#move it to a new spot next=nextIter.next() EnumMeta.__addToReverseLookup(rev,next,items,nextIter,False) rev[value]=(force,newKeys) else: #not forcing this value next = nextIter.next() EnumMeta.__addToReverseLookup(rev,next,newKeys,nextIter,False) rev[value]=(force,newKeys) else:#set it and forget it rev[value]=(force,newKeys) return value def __init__(cls,name,bases,atts): classVars=vars(cls) enums = classVars.get('__enumerables__',None) nextIter = getattr(cls,'__nextitr__',itertools.count)() reverseLookup={} values={} if enums is not None: #build reverse lookup for item in enums: if isinstance(item,(tuple,list)): items=list(item) value=items.pop() EnumMeta.__addToReverseLookup(reverseLookup,value,tuple(map(str,items)),nextIter) else: value=nextIter.next() value=EnumMeta.__addToReverseLookup(reverseLookup,value,(str(item),),nextIter,False)#add it to the reverse lookup, but don't force it to that value #build values and clean up reverse lookup for value,fkeys in reverseLookup.iteritems(): f,keys=fkeys for key in keys: enum=EnumValue(key,value,cls) setattr(cls,key,enum) values[key]=enum reverseLookup[value]=tuple(val for val in values.itervalues() if val.Value == value) setattr(cls,'__reverseLookup__',reverseLookup) setattr(cls,'__enumerables__',values) setattr(cls,'_Max',max([key for key in reverseLookup] or [0])) return super(EnumMeta,cls).__init__(name,bases,atts) def __iter__(cls): for enum in cls.__enumerables__.itervalues(): yield enum def GetEnumByName(cls,name): return cls.__enumerables__.get(name,None) def GetEnumByValue(cls,value): return cls.__reverseLookup__.get(value,(None,))[0] class Enum(object): __metaclass__=EnumMeta __enumerables__=None class FlagEnum(Enum): @staticmethod def __nextitr__(): yield 0 for val in itertools.count(): yield 2**val def enum(name,*args): return EnumMeta(name,(Enum,),dict(__enumerables__=args)) Take it or leave it, it did what I needed it to do :) Use it like: class Air(FlagEnum): __enumerables__=('None','Oxygen','Nitrogen','Hydrogen') class Mammals(Enum): __enumerables__=('Bat','Whale',('Dog','Puppy',1),'Cat') Bool = enum('Bool','Yes',('No',0))"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,505457,36932,14,"What I use: class Enum(object): def __init__(self, names, separator=None): self.names = names.split(separator) for value, name in enumerate(self.names): setattr(self, name.upper(), value) def tuples(self): return tuple(enumerate(self.names)) How to use: &gt;&gt;&gt; state = Enum('draft published retracted') &gt;&gt;&gt; state.DRAFT 0 &gt;&gt;&gt; state.RETRACTED 2 &gt;&gt;&gt; state.FOO Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; AttributeError: 'Enum' object has no attribute 'FOO' &gt;&gt;&gt; state.tuples() ((0, 'draft'), (1, 'published'), (2, 'retracted')) So this gives you integer constants like state.PUBLISHED and the two-tuples to use as choices in Django models."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1529241,36932,101,"The best solution for you would depend on what you require from your fake enum. Simple enum: If you need the enum as only a list of names identifying different items, the solution by Mark Harrison (above) is great: Pen, Pencil, Eraser = range(0, 3) Using a range also allows you to set any starting value: Pen, Pencil, Eraser = range(9, 12) In addition to the above, if you also require that the items belong to a container of some sort, then embed them in a class: class Stationery: Pen, Pencil, Eraser = range(0, 3) To use the enum item, you would now need to use the container name and the item name: stype = Stationery.Pen Complex enum: For long lists of enum or more complicated uses of enum, these solutions will not suffice. You could look to the recipe by Will Ware for Simulating Enumerations in Python published in the Python Cookbook. An online version of that is available here. More info: PEP 354: Enumerations in Python has the interesting details of a proposal for enum in Python and why it was rejected."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1587932,36932,1,"Use the following. TYPE = {'EAN13': u'EAN-13', 'CODE39': u'Code 39', 'CODE128': u'Code 128', 'i25': u'Interleaved 2 of 5',} &gt;&gt;&gt; TYPE.items() [('EAN13', u'EAN-13'), ('i25', u'Interleaved 2 of 5'), ('CODE39', u'Code 39'), ('CODE128', u'Code 128')] &gt;&gt;&gt; TYPE.keys() ['EAN13', 'i25', 'CODE39', 'CODE128'] &gt;&gt;&gt; TYPE.values() [u'EAN-13', u'Interleaved 2 of 5', u'Code 39', u'Code 128'] I used that for Django model choices, and it looks very pythonic. It is not really an Enum, but it does the job."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1695250,36932,1857,"Enums have been added to Python 3.4 as described in PEP 435. It has also been backported to 3.3, 3.2, 3.1, 2.7, 2.6, 2.5, and 2.4 on pypi. For more advanced Enum techniques try the aenum library (2.7, 3.3+, same author as enum34. Code is not perfectly compatible between py2 and py3, e.g. you'll need __order__ in python 2). To use enum34, do $ pip install enum34 To use aenum, do $ pip install aenum Installing enum (no numbers) will install a completely different and incompatible version. from enum import Enum # for enum34, or the stdlib version # from aenum import Enum # for the aenum version Animal = Enum('Animal', 'ant bee cat dog') Animal.ant # returns &lt;Animal.ant: 1&gt; Animal['ant'] # returns &lt;Animal.ant: 1&gt; (string lookup) Animal.ant.name # returns 'ant' (inverse lookup) or equivalently: class Animal(Enum): ant = 1 bee = 2 cat = 3 dog = 4 In earlier versions, one way of accomplishing enums is: def enum(**enums): return type('Enum', (), enums) which is used like so: &gt;&gt;&gt; Numbers = enum(ONE=1, TWO=2, THREE='three') &gt;&gt;&gt; Numbers.ONE 1 &gt;&gt;&gt; Numbers.TWO 2 &gt;&gt;&gt; Numbers.THREE 'three' You can also easily support automatic enumeration with something like this: def enum(*sequential, **named): enums = dict(zip(sequential, range(len(sequential))), **named) return type('Enum', (), enums) and used like so: &gt;&gt;&gt; Numbers = enum('ZERO', 'ONE', 'TWO') &gt;&gt;&gt; Numbers.ZERO 0 &gt;&gt;&gt; Numbers.ONE 1 Support for converting the values back to names can be added this way: def enum(*sequential, **named): enums = dict(zip(sequential, range(len(sequential))), **named) reverse = dict((value, key) for key, value in enums.iteritems()) enums['reverse_mapping'] = reverse return type('Enum', (), enums) This overwrites anything with that name, but it is useful for rendering your enums in output. It will throw KeyError if the reverse mapping doesn't exist. With the first example: &gt;&gt;&gt; Numbers.reverse_mapping['three'] 'THREE'"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1751697,36932,2,"I had need of some symbolic constants in pyparsing to represent left and right associativity of binary operators. I used class constants like this: # an internal class, not intended to be seen by client code class _Constants(object): pass # an enumeration of constants for operator associativity opAssoc = _Constants() opAssoc.LEFT = object() opAssoc.RIGHT = object() Now when client code wants to use these constants, they can import the entire enum using: import opAssoc from pyparsing The enumerations are unique, they can be tested with 'is' instead of '==', they don't take up a big footprint in my code for a minor concept, and they are easily imported into the client code. They don't support any fancy str() behavior, but so far that is in the YAGNI category."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1753340,36932,11,"This is the best one I have seen: ""First Class Enums in Python"" http://code.activestate.com/recipes/413486/ It gives you a class, and the class contains all the enums. The enums can be compared to each other, but don't have any particular value; you can't use them as an integer value. (I resisted this at first because I am used to C enums, which are integer values. But if you can't use it as an integer, you can't use it as an integer by mistake so overall I think it is a win.) Each enum is a unique value. You can print enums, you can iterate over them, you can test that an enum value is ""in"" the enum. It's pretty complete and slick. Edit (cfi): The above link is not Python 3 compatible. Here's my port of enum.py to Python 3: def cmp(a,b): if a &lt; b: return -1 if b &lt; a: return 1 return 0 def Enum(*names): ##assert names, ""Empty enums are not supported"" # &lt;- Don't like empty enums? Uncomment! class EnumClass(object): __slots__ = names def __iter__(self): return iter(constants) def __len__(self): return len(constants) def __getitem__(self, i): return constants[i] def __repr__(self): return 'Enum' + str(names) def __str__(self): return 'enum ' + str(constants) class EnumValue(object): __slots__ = ('__value') def __init__(self, value): self.__value = value Value = property(lambda self: self.__value) EnumType = property(lambda self: EnumType) def __hash__(self): return hash(self.__value) def __cmp__(self, other): # C fans might want to remove the following assertion # to make all enums comparable by ordinal value {;)) assert self.EnumType is other.EnumType, ""Only values from the same enum are comparable"" return cmp(self.__value, other.__value) def __lt__(self, other): return self.__cmp__(other) &lt; 0 def __eq__(self, other): return self.__cmp__(other) == 0 def __invert__(self): return constants[maximum - self.__value] def __nonzero__(self): return bool(self.__value) def __repr__(self): return str(names[self.__value]) maximum = len(names) - 1 constants = [None] * len(names) for i, each in enumerate(names): val = EnumValue(i) setattr(EnumClass, each, val) constants[i] = val constants = tuple(constants) EnumType = EnumClass() return EnumType if __name__ == '__main__': print( '\n*** Enum Demo ***') print( '--- Days of week ---') Days = Enum('Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su') print( Days) print( Days.Mo) print( Days.Fr) print( Days.Mo &lt; Days.Fr) print( list(Days)) for each in Days: print( 'Day:', each) print( '--- Yes/No ---') Confirmation = Enum('No', 'Yes') answer = Confirmation.No print( 'Your answer is not', ~answer)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2182437,36932,270,"Here is one implementation: class Enum(set): def __getattr__(self, name): if name in self: return name raise AttributeError Here is its usage: Animals = Enum([""DOG"", ""CAT"", ""HORSE""]) print(Animals.DOG)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2389722,36932,1,"Following the Java like enum implementation proposed by Aaron Maenpaa, I came out with the following. The idea was to make it generic and parseable. class Enum: #''' #Java like implementation for enums. # #Usage: #class Tool(Enum): name = 'Tool' #Tool.DRILL = Tool.register('drill') #Tool.HAMMER = Tool.register('hammer') #Tool.WRENCH = Tool.register('wrench') #''' name = 'Enum' # Enum name _reg = dict([]) # Enum registered values @classmethod def register(cls, value): #''' #Registers a new value in this enum. # #@param value: New enum value. # #@return: New value wrapper instance. #''' inst = cls(value) cls._reg[value] = inst return inst @classmethod def parse(cls, value): #''' #Parses a value, returning the enum instance. # #@param value: Enum value. # #@return: Value corresp instance. #''' return cls._reg.get(value) def __init__(self, value): #''' #Constructor (only for internal use). #''' self.value = value def __str__(self): #''' #str() overload. #''' return self.value def __repr__(self): #''' #repr() overload. #''' return ""&lt;"" + self.name + "": "" + self.value + ""&gt;"""
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2458660,36932,5,"The enum package from PyPI provides a robust implementation of enums. An earlier answer mentioned PEP 354; this was rejected but the proposal was implemented http://pypi.python.org/pypi/enum. Usage is easy and elegant: &gt;&gt;&gt; from enum import Enum &gt;&gt;&gt; Colors = Enum('red', 'blue', 'green') &gt;&gt;&gt; shirt_color = Colors.green &gt;&gt;&gt; shirt_color = Colors[2] &gt;&gt;&gt; shirt_color &gt; Colors.red True &gt;&gt;&gt; shirt_color.index 2 &gt;&gt;&gt; str(shirt_color) 'green'"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2785738,36932,2,"Why must enumerations be ints? Unfortunately, I can't think of any good looking construct to produce this without changing the Python language, so I'll use strings: class Enumerator(object): def __init__(self, name): self.name = name def __eq__(self, other): if self.name == other: return True return self is other def __ne__(self, other): if self.name != other: return False return self is other def __repr__(self): return 'Enumerator({0})'.format(self.name) def __str__(self): return self.name class Enum(object): def __init__(self, *enumerators): for e in enumerators: setattr(self, e, Enumerator(e)) def __getitem__(self, key): return getattr(self, key) Then again maybe it's even better now that we can naturally test against strings, for the sake of configuration files or other remote input. Example: class Cow(object): State = Enum( 'standing', 'walking', 'eating', 'mooing', 'sleeping', 'dead', 'dying' ) state = State.standing In [1]: from enum import Enum In [2]: c = Cow() In [3]: c2 = Cow() In [4]: c.state, c2.state Out[4]: (Enumerator(standing), Enumerator(standing)) In [5]: c.state == c2.state Out[5]: True In [6]: c.State.mooing Out[6]: Enumerator(mooing) In [7]: c.State['mooing'] Out[7]: Enumerator(mooing) In [8]: c.state = Cow.State.dead In [9]: c.state == c2.state Out[9]: False In [10]: c.state == Cow.State.dead Out[10]: True In [11]: c.state == 'dead' Out[11]: True In [12]: c.state == Cow.State['dead'] Out[11]: True"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2913233,36932,1,"def enum( *names ): ''' Makes enum. Usage: E = enum( 'YOUR', 'KEYS', 'HERE' ) print( E.HERE ) ''' class Enum(): pass for index, name in enumerate( names ): setattr( Enum, name, index ) return Enum"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2976036,36932,1,"I like the Java enum, that's how I do it in Python: def enum(clsdef): class Enum(object): __slots__=tuple([var for var in clsdef.__dict__ if isinstance((getattr(clsdef, var)), tuple) and not var.startswith('__')]) def __new__(cls, *args, **kwargs): if not '_the_instance' in cls.__dict__: cls._the_instance = object.__new__(cls, *args, **kwargs) return cls._the_instance def __init__(self): clsdef.values=lambda cls, e=Enum: e.values() clsdef.valueOf=lambda cls, n, e=self: e.valueOf(n) for ordinal, key in enumerate(self.__class__.__slots__): args=getattr(clsdef, key) instance=clsdef(*args) instance._name=key instance._ordinal=ordinal setattr(self, key, instance) @classmethod def values(cls): if not hasattr(cls, '_values'): cls._values=[getattr(cls, name) for name in cls.__slots__] return cls._values def valueOf(self, name): return getattr(self, name) def __repr__(self): return ''.join(['&lt;class Enum (', clsdef.__name__, ') at ', str(hex(id(self))), '&gt;']) return Enum() Sample use: i=2 @enum class Test(object): A=(""a"",1) B=(""b"",) C=(""c"",2) D=tuple() E=(""e"",3) while True: try: F, G, H, I, J, K, L, M, N, O=[tuple() for _ in range(i)] break; except ValueError: i+=1 def __init__(self, name=""default"", aparam=0): self.name=name self.avalue=aparam All class variables are defined as a tuple, just like the constructor. So far, you can't use named arguments."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,4092436,36932,37,"So, I agree. Let's not enforce type safety in Python, but I would like to protect myself from silly mistakes. So what do we think about this? class Animal(object): values = ['Horse','Dog','Cat'] class __metaclass__(type): def __getattr__(self, name): return self.values.index(name) It keeps me from value-collision in defining my enums. &gt;&gt;&gt; Animal.Cat 2 There's another handy advantage: really fast reverse lookups: def name_of(self, i): return self.values[i]"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,4300343,36932,25,"I prefer to define enums in Python like so: class Animal: class Dog: pass class Cat: pass x = Animal.Dog It's more bug-proof than using integers since you don't have to worry about ensuring that the integers are unique (e.g. if you said Dog = 1 and Cat = 1 you'd be screwed). It's more bug-proof than using strings since you don't have to worry about typos (e.g. x == ""catt"" fails silently, but x == Animal.Catt is a runtime exception)."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",36978,36953,4,"Have a look at the standard module shlex and modify one copy of it to match the syntax you use for your shell, it is a good starting point If you want all the power of a complete solution for lexing/parsing, ANTLR can generate python too."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",37245,36953,3,"I suggest http://www.canonware.com/Parsing/, since it is pure python and you don't need to learn a grammar, but it isn't widely used, and has comparatively little documentation. The heavyweight is ANTLR and PyParsing. ANTLR can generate java and C++ parsers too, and AST walkers but you will have to learn what amounts to a new language."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",107187,36953,23,"I'm a happy user of PLY. It is a pure-Python implementation of Lex &amp; Yacc, with lots of small niceties that make it quite Pythonic and easy to use. Since Lex &amp; Yacc are the most popular lexing &amp; parsing tools and are used for the most projects, PLY has the advantage of standing on giants' shoulders. A lot of knowledge exists online on Lex &amp; Yacc, and you can freely apply it to PLY. PLY also has a good documentation page with some simple examples to get you started. For a listing of lots of Python parsing tools, see this."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",107207,36953,4,"pygments is a source code syntax highlighter written in python. It has lexers and formatters, and may be interesting to peek at the source."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",137207,36953,15,"For medium-complex grammars, PyParsing is brilliant. You can define grammars directly within Python code, no need for code generation: &gt;&gt;&gt; from pyparsing import Word, alphas &gt;&gt;&gt; greet = Word( alphas ) + "","" + Word( alphas ) + ""!"" # &lt;-- grammar defined here &gt;&gt;&gt; hello = ""Hello, World!"" &gt;&gt;&gt;&gt; print hello, ""-&gt;"", greet.parseString( hello ) Hello, World! -&gt; ['Hello', ',', 'World', '!'] (Example taken from the PyParsing home page). With parse actions (functions that are invoked when a certain grammar rule is triggered), you can convert parses directly into abstract syntax trees, or any other representation. There are many helper functions that encapsulate recurring patterns, like operator hierarchies, quoted strings, nesting or C-style comments."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",279733,36953,4,"Here's a few things to get you started (roughly from simplest-to-most-complex, least-to-most-powerful): http://en.wikipedia.org/wiki/Recursive_descent_parser http://en.wikipedia.org/wiki/Top-down_parsing http://en.wikipedia.org/wiki/LL_parser http://effbot.org/zone/simple-top-down-parsing.htm http://en.wikipedia.org/wiki/Bottom-up_parsing http://en.wikipedia.org/wiki/LR_parser http://en.wikipedia.org/wiki/GLR_parser When I learned this stuff, it was in a semester-long 400-level university course. We did a number of assignments where we did parsing by hand; if you want to really understand what's going on under the hood, I'd recommend the same approach. This isn't the book I used, but it's pretty good: Principles of Compiler Design. Hopefully that's enough to get you started :)"
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,37146,37142,1,"Use an interface that runs each response in a separate interpreter, such as mod_wsgi for Python. This lets multi-threading be used without encountering the GIL. EDIT: Apparently, mod_wsgi no longer supports multiple interpreters per process because idiots couldn't figure out how to properly implement extension modules. It still supports running requests in separate processes FastCGI-style, though, so that's apparently the current accepted solution."
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,37153,37142,4,"I'm not totally sure which problem you want so solve, but if you deploy your python/django application via an apache prefork MPM using mod_python apache will start several worker processes for handling different requests. If one request needs so much resources, that you want to use multiple cores have a look at pyprocessing. But I don't think that would be wise."
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,37203,37142,4,"The 'standard' way to do this with rails is to run a ""pack"" of Mongrel instances (ie: 4 copies of the rails application) and then use apache or nginx or some other piece of software to sit in front of them and act as a load balancer. This is probably how it's done with other ruby frameworks such as merb etc, but I haven't used those personally. The OS will take care of running each mongrel on it's own CPU. If you install mod_rails aka phusion passenger it will start and stop multiple copies of the rails process for you as well, so it will end up spreading the load across multiple CPUs/cores in a similar way."
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,190394,37142,1,"In Python and Ruby it is only possible to use multiple cores, is to spawn new (heavyweight) processes. The Java counterparts inherit the possibilities of the Java platform. You could imply use Java threads. That is for example a reason why sometimes (often) Java Application Server like Glassfish are used for Ruby on Rails applications."
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,191257,37142,0,"For Python, the PyProcessing project allows you to program with processes much like you would use threads. It is included in the standard library of the recently released 2.6 version as multiprocessing. The module has many features for establishing and controlling access to shared data structures (queues, pipes, etc.) and support for common idioms (i.e. managers and worker pools)."
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37488,37479,0,"Is what I'm trying to do possible? If so, what am I doing wrong? It's certainly possible. What's wrong is that HTMLDecorator.__init__() doesn't accept parameters. Here's a simple example: def decorator (func): def new_func (): return ""new_func %s"" % func () return new_func @decorator def a (): return ""a"" def b (): return ""b"" print a() # new_func a print decorator (b)() # new_func b"
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37513,37479,0,"@John (37448): Sorry, I might have misled you with the name (bad choice). I'm not really looking for a decorator function, or anything to do with decorators at all. What I'm after is for the html(self) def to use ClassX or ClassY's __repr__. I want this to work without modifying ClassX or ClassY."
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37526,37479,0,"Ah, in that case, perhaps code like this will be useful? It doesn't really have anything to do with decorators, but demonstrates how to pass arguments to a class's initialization function and to retrieve those arguments for later. import cgi class ClassX(object): def __repr__ (self): return ""&lt;class X&gt;"" class HTMLDecorator(object): def __init__ (self, wrapped): self.__wrapped = wrapped def html (self): sep = cgi.escape (repr (self.__wrapped)) return sep.join ((""&lt;H1&gt;"", ""&lt;/H1&gt;"")) inst_x=ClassX() inst_b=True print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_b).html()"
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37544,37479,0,"@John (37479): Very close, but then I lose everything from ClassX. Below is something a collegue gave me that does do the trick, but it's hideous. There has to be a better way. import cgi from math import sqrt class ClassX(object): def __repr__(self): return ""Best Guess"" class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True avoid=""__class__ __init__ __dict__ __weakref__"" class HTMLDecorator(object): def __init__(self,master): self.master = master for attr in dir(self.master): if ( not attr.startswith(""__"") or attr not in avoid.split() and ""attr"" not in attr): self.__setattr__(attr, self.master.__getattribute__(attr)) def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) def length(self): return sqrt(sum(self.__iter__())) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) print wrapped_z.length() inst_z[0] += 70 #wrapped_z[0] += 71 wrapped_z.__setitem__(0,wrapped_z.__getitem__(0)+ 71) print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: &lt;H1&gt;Best Guess&lt;/H1&gt; &lt;H1&gt;&lt;__main__.ClassY object at 0x891df0c&gt;&lt;/H1&gt; 70.0 &lt;H1&gt;[141, 1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225, 256, 289, 324, 361, 400, 441, 484, 529, 576]&lt;/H1&gt; &lt;H1&gt;True&lt;/H1&gt;"
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37571,37479,2,"Very close, but then I lose everything from ClassX. Below is something a collegue gave me that does do the trick, but it's hideous. There has to be a better way. Looks like you're trying to set up some sort of proxy object scheme. That's doable, and there are better solutions than your colleague's, but first consider whether it would be easier to just patch in some extra methods. This won't work for built-in classes like bool, but it will for your user-defined classes: def HTMLDecorator (obj): def html (): sep = cgi.escape (repr (obj)) return sep.join ((""&lt;H1&gt;"", ""&lt;/H1&gt;"")) obj.html = html return obj And here is the proxy version: class HTMLDecorator(object): def __init__ (self, wrapped): self.__wrapped = wrapped def html (self): sep = cgi.escape (repr (self.__wrapped)) return sep.join ((""&lt;H1&gt;"", ""&lt;/H1&gt;"")) def __getattr__ (self, name): return getattr (self.__wrapped, name) def __setattr__ (self, name, value): if not name.startswith ('_HTMLDecorator__'): setattr (self.__wrapped, name, value) return super (HTMLDecorator, self).__setattr__ (name, value) def __delattr__ (self, name): delattr (self.__wraped, name)"
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37619,37479,2,"Both of John's solutions would work. Another option that allows HTMLDecorator to remain very simple and clean is to monkey-patch it in as a base class. This also works only for user-defined classes, not builtin types: import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() class HTMLDecorator: def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) ClassX.__bases__ += (HTMLDecorator,) ClassY.__bases__ += (HTMLDecorator,) print inst_x.html() print inst_y.html() Be warned, though -- monkey-patching like this comes with a high price in readability and maintainability of your code. When you go back to this code a year later, it can become very difficult to figure out how your ClassX got that html() method, especially if ClassX is defined in some other library."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37496,37486,4,How about parsing the HTML data and extracting the data with the help of the parser ? I'd try something like the author described in chapter 8.3 in the Dive Into Python book
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37502,37486,6,"While I agree with Lucas that regular expressions are not all that scary, I still think that you should go with a specialized HTML parser. This is because the HTML standard is hairy enough (especially if you want to parse arbitrarily ""HTML"" pages taken off the Internet) that you would need to write a lot of code to handle the corner cases. It seems that python includes one out of the box. You should also check out the python bindings for TidyLib which can clean up broken HTML, making the success rate of any HTML parsing much higher."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37504,37486,1,"You might need something more complicated than a regular expression. Web pages often have angle brackets that aren't part of a tag, like this: &lt;div&gt;5 &lt; 7&lt;/div&gt; Stripping the tags with regex will return the string ""5 "" and treat &lt; 7&lt;/div&gt; as a single tag and strip it out. I suggest looking for already-written code that does this for you. I did a search and found this: http://zesty.ca/python/scrape.html It also can resolve HTML entities."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37506,37486,15,"Use BeautifulSoup! It's perfect for this, where you have incoming markup of dubious virtue and need to get something reasonable out of it. Just pass in the original text, extract all the string tags, and join them."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37512,37486,38,"Use lxml which is the best xml/html library for python. import lxml.html t = lxml.html.fromstring(""..."") t.text_content() And if you just want to sanitize the html look at the lxml.html.clean module"
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37604,37486,0,"Regular expressions are not scary, but writing your own regexes to strip HTML is a sure path to madness (and it won't work, either). Follow the path of wisdom, and use one of the many good HTML-parsing libraries. Lucas' example is also broken because ""sub"" is not a method of a Python string. You'd have to ""import re"", then call re.sub(pattern, repl, string). But that's neither here nor there, as the correct answer to your question does not involve writing any regexes."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,38646,37486,0,"Looking at the amount of sense people are demonstrating in other answers here, I'd say that using a regex probably isn't the best idea for your situation. Go for something tried and tested, and treat my previous answer as a demonstration that regexes need not be that scary."
37535,21,"I've got a bunch of FoxPro (VFP9) DBF files on my Ubuntu system, is there a library to open these in Python? I only need to read them, and would preferably have access to the memo fields too. Update: Thanks @cnu, I used Yusdi Santoso's dbf.py and it works nicely. One gotcha: The memo file name extension must be lower case, i.e. .fpt, not .FPT which was how the filename came over from Windows.",What's the easiest way to read a FoxPro DBF file from Python?,37553,37535,7,You can try this recipe on Active State. There is also a DBFReader module which you can try. For support for memo fields.
37535,21,"I've got a bunch of FoxPro (VFP9) DBF files on my Ubuntu system, is there a library to open these in Python? I only need to read them, and would preferably have access to the memo fields too. Update: Thanks @cnu, I used Yusdi Santoso's dbf.py and it works nicely. One gotcha: The memo file name extension must be lower case, i.e. .fpt, not .FPT which was how the filename came over from Windows.",What's the easiest way to read a FoxPro DBF file from Python?,37917,37535,16,I prefer dbfpy. It supports both reading and writing of .DBF files and can cope with most variations of the format. It's the only implementation I have found that could both read and write the legacy DBF files of some older systems I have worked with.
37535,21,"I've got a bunch of FoxPro (VFP9) DBF files on my Ubuntu system, is there a library to open these in Python? I only need to read them, and would preferably have access to the memo fields too. Update: Thanks @cnu, I used Yusdi Santoso's dbf.py and it works nicely. One gotcha: The memo file name extension must be lower case, i.e. .fpt, not .FPT which was how the filename came over from Windows.",What's the easiest way to read a FoxPro DBF file from Python?,86420,37535,9,"If you're still checking this, I have a GPL FoxPro-to-PostgreSQL converter at https://github.com/kstrauser/pgdbf . We use it to routinely copy our tables into PostgreSQL for fast reporting."
37535,21,"I've got a bunch of FoxPro (VFP9) DBF files on my Ubuntu system, is there a library to open these in Python? I only need to read them, and would preferably have access to the memo fields too. Update: Thanks @cnu, I used Yusdi Santoso's dbf.py and it works nicely. One gotcha: The memo file name extension must be lower case, i.e. .fpt, not .FPT which was how the filename came over from Windows.",What's the easiest way to read a FoxPro DBF file from Python?,578444,37535,5,Check out http://groups.google.com/group/python-dbase It currently supports dBase III and Visual Foxpro 6.0 db files... not sure if the file layout change in VFP 9 or not...
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,38254,38238,22,Alternative constructors are the classic example.
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,38276,38238,142,"Class methods are for when you need to have methods that aren't specific to any particular instance, but still involve the class in some way. The most interesting thing about them is that they can be overridden by subclasses, something that's simply not possible in Java's static methods or Python's module-level functions. If you have a class MyClass, and a module-level function that operates on MyClass (factory, dependency injection stub, etc), make it a classmethod. Then it'll be available to subclasses."
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,38287,38238,4,"Honestly? I've never found a use for staticmethod or classmethod. I've yet to see an operation that can't be done using a global function or an instance method. It would be different if python used private and protected members more like Java does. In Java, I need a static method to be able to access an instance's private members to do stuff. In Python, that's rarely necessary. Usually, I see people using staticmethods and classmethods when all they really need to do is use python's module-level namespaces better."
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,38303,38238,53,"Factory methods (alternative constructors) are indeed a classic example of class methods. Basically, class methods are suitable anytime you would like to have a method which naturally fits into the namespace of the class, but is not associated with a particular instance of the class. As an example, in the excellent unipath module: Current directory Path.cwd() Return the actual current directory; e.g., Path(""/tmp/my_temp_dir""). This is a class method. .chdir() Make self the current directory. As the current directory is process wide, the cwd method has no particular instance with which it should be associated. However, changing the cwd to the directory of a given Path instance should indeed be an instance method. Hmmm... as Path.cwd() does indeed return a Path instance, I guess it could be considered to be a factory method..."
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,2311096,38238,5,"I used to work with PHP and recently I was asking myself, whats going on with this classmethod? Python manual is very technical and very short in words so it wont help with understanding that feature. I was googling and googling and I found answer -> http://code.anjanesh.net/2007/12/python-classmethods.html. If you are lazy to click it. My explanation is shorter and below. :) in PHP (maybe not all of you know PHP, but this language is so straight forward that everybody should understand what I'm talking about) we have static variables like this: class A { static protected $inner_var = null; static public function echoInnerVar() { echo self::$inner_var.""\n""; } static public function setInnerVar($v) { self::$inner_var = $v; } } class B extends A { } A::setInnerVar(10); B::setInnerVar(20); A::echoInnerVar(); B::echoInnerVar(); The output will be in both cases 20. However in python we can add @classmethod decorator and thus it is possible to have output 10 and 20 respectively. Example: class A(object): inner_var = 0 @classmethod def setInnerVar(cls, value): cls.inner_var = value @classmethod def echoInnerVar(cls): print cls.inner_var class B(A): pass A.setInnerVar(10) B.setInnerVar(20) A.echoInnerVar() B.echoInnerVar() Smart, ain't?"
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,2807576,38238,23,"I recently wanted a very light-weight logging class that would output varying amounts of output depending on the logging level that could be programmatically set. But I didn't want to instantiate the class every time I wanted to output a debugging message or error or warning. But I also wanted to encapsulate the functioning of this logging facility and make it reusable without the declaration of any globals. So I used class variables and the @classmethod decorator to achieve this. With my simple Logging class, I could do the following: Logger._level = Logger.DEBUG Then, in my code, if I wanted to spit out a bunch of debugging information, I simply had to code Logger.debug( ""this is some annoying message I only want to see while debugging"" ) Errors could be out put with Logger.error( ""Wow, something really awful happened."" ) In the ""production"" environment, I can specify Logger._level = Logger.ERROR and now, only the error message will be output. The debug message will not be printed. Here's my class: class Logger : ''' Handles logging of debugging and error messages. ''' DEBUG = 5 INFO = 4 WARN = 3 ERROR = 2 FATAL = 1 _level = DEBUG def __init__( self ) : Logger._level = Logger.DEBUG @classmethod def isLevel( cls, level ) : return cls._level &gt;= level @classmethod def debug( cls, message ) : if cls.isLevel( Logger.DEBUG ) : print ""DEBUG: "" + message @classmethod def info( cls, message ) : if cls.isLevel( Logger.INFO ) : print ""INFO : "" + message @classmethod def warn( cls, message ) : if cls.isLevel( Logger.WARN ) : print ""WARN : "" + message @classmethod def error( cls, message ) : if cls.isLevel( Logger.ERROR ) : print ""ERROR: "" + message @classmethod def fatal( cls, message ) : if cls.isLevel( Logger.FATAL ) : print ""FATAL: "" + message And some code that tests it just a bit: def logAll() : Logger.debug( ""This is a Debug message."" ) Logger.info ( ""This is a Info message."" ) Logger.warn ( ""This is a Warn message."" ) Logger.error( ""This is a Error message."" ) Logger.fatal( ""This is a Fatal message."" ) if __name__ == '__main__' : print ""Should see all DEBUG and higher"" Logger._level = Logger.DEBUG logAll() print ""Should see all ERROR and higher"" Logger._level = Logger.ERROR logAll()"
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,3504391,38238,3,"Class methods provide a ""semantic sugar"" (don't know if this term is widely used) - or ""semantic convenience"". Example: you got a set of classes representing objects. You might want to have the class method ""all"" or ""find"" to write ""User.all()"" ou ""User.find(firstname='Guido')"". That could be done using module level functions of course..."
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,3521920,38238,37,"Think about it this way: normal methods are useful to hide the details of dispatch: you can type myobj.foo() without worrying about whether the foo() method is implemented by the myobj object's class or one of its parent classes. Class methods are exactly analogous to this, but with the class object instead: they let you call MyClass.foo() without having to worry about whether foo() is implemented specially by MyClass because it needed its own specialized version, or whether it is letting its parent class handle the call. Class methods are essential when you are doing set-up or computation that precedes the creation of an actual instance, because until the instance exists you obviously cannot use the instance as the dispatch point for your method calls. A good example can be viewed in the SQLAlchemy source code; take a look at the dbapi() class method at the following link: https://github.com/zzzeek/sqlalchemy/blob/ab6946769742602e40fb9ed9dde5f642885d1906/lib/sqlalchemy/dialects/mssql/pymssql.py#L47 You can see that the dbapi() method, which a database backend uses to import the vendor-specific database library it needs on-demand, is a class method because it needs to run before instances of a particular database connection start getting created â but that it cannot be a simple function or static function, because they want it to be able to call other, supporting methods that might similarly need to be written more specifically in subclasses than in their parent class. And if you dispatch to a function or static class, then you ""forget"" and lose the knowledge about which class is doing the initializing."
38435,2,"Given an Oracle table created using the following: CREATE TABLE Log(WhenAdded TIMESTAMP(6) WITH TIME ZONE); Using the Python ODBC module from its Win32 extensions (from the win32all package), I tried the following: import dbi, odbc connection = odbc.odbc(""Driver=Oracle in OraHome92;Dbq=SERVER;Uid=USER;Pwd=PASSWD"") cursor = connection.cursor() cursor.execute(""SELECT WhenAdded FROM Log"") results = cursor.fetchall() When I run this, I get the following: Traceback (most recent call last): ... results = cursor.fetchall() dbi.operation-error: [Oracle][ODBC][Ora]ORA-00932: inconsistent datatypes: expected %s got %s in FETCH The other data types I've tried (VARCHAR2, BLOB) do not cause this problem. Is there a way of retrieving timestamps?",Retrieving an Oracle timestamp using Python's Win32 ODBC module,38442,38435,1,"My solution to this, that I hope can be bettered, is to use Oracle to explicitly convert the TIMESTAMP into a string: cursor.execute(""SELECT TO_CHAR(WhenAdded, 'YYYY-MM-DD HH:MI:SSAM') FROM Log"") This works, but isn't portable. I'd like to use the same Python script against a SQL Server database, so an Oracle-specific solution (such as TO_CHAR) won't work."
38435,2,"Given an Oracle table created using the following: CREATE TABLE Log(WhenAdded TIMESTAMP(6) WITH TIME ZONE); Using the Python ODBC module from its Win32 extensions (from the win32all package), I tried the following: import dbi, odbc connection = odbc.odbc(""Driver=Oracle in OraHome92;Dbq=SERVER;Uid=USER;Pwd=PASSWD"") cursor = connection.cursor() cursor.execute(""SELECT WhenAdded FROM Log"") results = cursor.fetchall() When I run this, I get the following: Traceback (most recent call last): ... results = cursor.fetchall() dbi.operation-error: [Oracle][ODBC][Ora]ORA-00932: inconsistent datatypes: expected %s got %s in FETCH The other data types I've tried (VARCHAR2, BLOB) do not cause this problem. Is there a way of retrieving timestamps?",Retrieving an Oracle timestamp using Python's Win32 ODBC module,38718,38435,2,"I believe this is a bug in the Oracle ODBC driver. Basically, the Oracle ODBC driver does not support the TIMESTAMP WITH (LOCAL) TIME ZONE data types, only the TIMESTAMP data type. As you have discovered, one workaround is in fact to use the TO_CHAR method. In your example you are not actually reading the time zone information. If you have control of the table you could convert it to a straight TIMESTAMP column. If you don't have control over the table, another solution may be to create a view that converts from TIMESTAMP WITH TIME ZONE to TIMESTAMP via a string - sorry, I don't know if there is a way to convert directly from TIMESTAMP WITH TIME ZONE to TIMESTAMP."
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38513,38508,7,Returning a tuple is the usual way to do this in Python.
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38514,38508,14,"Return a tuple. def f(x): # do stuff return (True, modified_string) success, modified_string = f(something)"
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38516,38508,105,"def f(in_str): out_str = in_str.upper() return True, out_str # Creates tuple automatically succeeded, b = f(""a"") # Automatic tuple unpacking"
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38524,38508,27,"Why not throw an exception if the operation wasn't successful? Personally, I tend to be of the opinion that if you need to return more than one value from a function, you should reconsider if you're doing things the right way or use an object. But more directly to the point, if you throw an exception, you're forcing them to deal with the problem. If you try to return a value that indicates failure, it's very well possible somebody could not check the value and end up with some potentially hard to debug errors."
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38760,38508,3,"Throwing an exception for failure is one good way to proceed, and if you're returning a lot of different values, you can return a tuple. For the specific case you're citing, I often take an intermediate approach: return the modified string on success, and return None on failure. I'm enough of an unreconstructed C programmer to want to return a NULL pointer to char on failure. If I were writing a routine to be used as part of a larger library and consumed by other developers, I'd throw an exception on failure. When I'm eating my own dogfood, I'll probably return different types and test on return."
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,38916,38601,141,"The growing complexity of this answer over time, and the many hacks required, probably ought to caution you against doing this at all. It's relying on undocumented internal implementation details of the admin, is likely to break again in future versions of Django, and is no easier to implement than just finding another JS calendar widget and using that. That said, here's what you have to do if you're determined to make this work: Define your own ModelForm subclass for your model (best to put it in forms.py in your app), and tell it to use the AdminDateWidget / AdminTimeWidget / AdminSplitDateTime (replace 'mydate' etc with the proper field names from your model): from django import forms from my_app.models import Product from django.contrib.admin import widgets class ProductForm(forms.ModelForm): class Meta: model = Product def __init__(self, *args, **kwargs): super(ProductForm, self).__init__(*args, **kwargs) self.fields['mydate'].widget = widgets.AdminDateWidget() self.fields['mytime'].widget = widgets.AdminTimeWidget() self.fields['mydatetime'].widget = widgets.AdminSplitDateTime() Change your URLconf to pass 'form_class': ProductForm instead of 'model': Product to the generic create_object view (that'll mean ""from my_app.forms import ProductForm"" instead of ""from my_app.models import Product"", of course). In the head of your template, include {{ form.media }} to output the links to the Javascript files. And the hacky part: the admin date/time widgets presume that the i18n JS stuff has been loaded, and also require core.js, but don't provide either one automatically. So in your template above {{ form.media }} you'll need: &lt;script type=""text/javascript"" src=""/my_admin/jsi18n/""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/media/admin/js/core.js""&gt;&lt;/script&gt; You may also wish to use the following admin CSS (thanks Alex for mentioning this): &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/forms.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/base.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/global.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/widgets.css""/&gt; This implies that Django's admin media (ADMIN_MEDIA_PREFIX) is at /media/admin/ - you can change that for your setup. Ideally you'd use a context processor to pass this values to your template instead of hardcoding it, but that's beyond the scope of this question. This also requires that the URL /my_admin/jsi18n/ be manually wired up to the django.views.i18n.javascript_catalog view (or null_javascript_catalog if you aren't using I18N). You have to do this yourself instead of going through the admin application so it's accessible regardless of whether you're logged into the admin (thanks Jeremy for pointing this out). Sample code for your URLconf: (r'^my_admin/jsi18n', 'django.views.i18n.javascript_catalog'), Lastly, if you are using Django 1.2 or later, you need some additional code in your template to help the widgets find their media: {% load adminmedia %} /* At the top of the template. */ /* In the head section of the template. */ &lt;script type=""text/javascript""&gt; window.__admin_media_prefix__ = ""{% filter escapejs %}{% admin_media_prefix %}{% endfilter %}""; &lt;/script&gt; Thanks lupefiasco for this addition."
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,72284,38601,57,"As the solution is hackish, I think using your own date/time widget with some JavaScript is more feasible."
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,408230,38601,10,"Yep, I ended up overriding the /admin/jsi18n/ url. Here's what I added in my urls.py. Make sure it's above the /admin/ url (r'^admin/jsi18n', i18n_javascript), And here is the i18n_javascript function I created. from django.contrib import admin def i18n_javascript(request): return admin.site.i18n_javascript(request)"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,719583,38601,6,"Complementing the answer by Carl Meyer, I would like to comment that you need to put that header in some valid block (inside the header) within your template. {% block extra_head %} &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/forms.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/base.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/global.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/widgets.css""/&gt; &lt;script type=""text/javascript"" src=""/admin/jsi18n/""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/media/admin/js/core.js""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/media/admin/js/admin/RelatedObjectLookups.js""&gt;&lt;/script&gt; {{ form.media }} {% endblock %}"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,1392329,38601,8,"I find myself referencing this post a lot, and found that the documentation defines a slightly less hacky way to override default widgets. (No need to override the ModelForm's __init__ method) However, you still need to wire your JS and CSS appropriately as Carl mentions. forms.py from django import forms from my_app.models import Product from django.contrib.admin import widgets class ProductForm(forms.ModelForm): mydate = forms.DateField(widget=widgets.AdminDateWidget) mytime = forms.TimeField(widget=widgets.AdminTimeWidget) mydatetime = forms.DateTimeField(widget=widgets.AdminSplitDateTime) class Meta: model = Product Reference Field Types to find the default form fields."
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,1833247,38601,1,"Updated solution and workaround for SplitDateTime with required=False: forms.py from django import forms class SplitDateTimeJSField(forms.SplitDateTimeField): def __init__(self, *args, **kwargs): super(SplitDateTimeJSField, self).__init__(*args, **kwargs) self.widget.widgets[0].attrs = {'class': 'vDateField'} self.widget.widgets[1].attrs = {'class': 'vTimeField'} class AnyFormOrModelForm(forms.Form): date = forms.DateField(widget=forms.TextInput(attrs={'class':'vDateField'})) time = forms.TimeField(widget=forms.TextInput(attrs={'class':'vTimeField'})) timestamp = SplitDateTimeJSField(required=False,) form.html &lt;script type=""text/javascript"" src=""/admin/jsi18n/""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/admin_media/js/core.js""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/admin_media/js/calendar.js""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/admin_media/js/admin/DateTimeShortcuts.js""&gt;&lt;/script&gt; urls.py (r'^admin/jsi18n/', 'django.views.i18n.javascript_catalog'),"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,2396907,38601,3,"The below will also work as a last resort if the above failed class PaymentsForm(forms.ModelForm): class Meta: model = Payments def __init__(self, *args, **kwargs): super(PaymentsForm, self).__init__(*args, **kwargs) self.fields['date'].widget = SelectDateWidget() Same as class PaymentsForm(forms.ModelForm): date = forms.DateField(widget=SelectDateWidget()) class Meta: model = Payments put this in your forms.py from django.forms.extras.widgets import SelectDateWidget"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,2716963,38601,4,"I finally managed to get this widget working on the dev server, only to have it break on deployment. I finally decided it wasn't worth shoehorning into my site, and wrote my own widget. It's not as flexible, but it will probably work well for many: http://www.copiesofcopies.org/webl/?p=81"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,2818128,38601,9,"Starting in Django 1.2 RC1, if you're using the Django admin date picker widge trick, the following has to be added to your template, or you'll see the calendar icon url being referenced through ""/missing-admin-media-prefix/"". {% load adminmedia %} /* At the top of the template. */ /* In the head section of the template. */ &lt;script type=""text/javascript""&gt; window.__admin_media_prefix__ = ""{% filter escapejs %}{% admin_media_prefix %}{% endfilter %}""; &lt;/script&gt;"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,3284874,38601,5,"(I'm trying to comment on people suggesting to roll their own Calendar widget, but either I don't see the comment button, or I don't have enough rep.) What happened to DRY? I think it would be best to re-use the admin widget, but perhaps it should be separated from admin, and easier to use. Thanks for this information anyways."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,38989,38987,25,"x = {'a':1, 'b': 2} y = {'b':10, 'c': 11} z = dict(x.items() + y.items()) print z For items with keys in both dictionaries ('b'), you can control which one ends up in the output by putting that one last."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,38990,38987,1292,"In your case, what you can do is: z = dict(x.items() + y.items()) This will, as you want it, put the final dict in z, and make the value for key b be properly overridden by the second (y) dict's value: &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = dict(x.items() + y.items()) &gt;&gt;&gt; z {'a': 1, 'c': 11, 'b': 10} If you use Python 3, it is only a little more complicated. To create z: &gt;&gt;&gt; z = dict(list(x.items()) + list(y.items())) &gt;&gt;&gt; z {'a': 1, 'c': 11, 'b': 10}"
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,39437,38987,472,An alternative: z = x.copy() z.update(y)
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,39858,38987,209,"Another, more concise, option: z = dict(x, **y) Note: this has become a popular answer, but it is important to point out that if y has any non-string keys, the fact that this works at all is an abuse of a CPython implementation detail, and it does not work in Python 3, or in PyPy, IronPython, or Jython. Also, Guido is not a fan. So I can't recommend this technique for forward-compatible or cross-implementation portable code, which really means it should be avoided entirely."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,44512,38987,63,"I wanted something similar, but with the ability to specify how the values on duplicate keys were merged, so I hacked this out (but did not heavily test it). Obviously this is not a single expression, but it is a single function call. def merge(d1, d2, merge_fn=lambda x,y:y): """""" Merges two dictionaries, non-destructively, combining values on duplicate keys as defined by the optional merge function. The default behavior replaces the values in d1 with corresponding values in d2. (There is no other generally applicable merge strategy, but often you'll have homogeneous types in your dicts, so specifying a merge technique can be valuable.) Examples: &gt;&gt;&gt; d1 {'a': 1, 'c': 3, 'b': 2} &gt;&gt;&gt; merge(d1, d1) {'a': 1, 'c': 3, 'b': 2} &gt;&gt;&gt; merge(d1, d1, lambda x,y: x+y) {'a': 2, 'c': 6, 'b': 4} """""" result = dict(d1) for k,v in d2.iteritems(): if k in result: result[k] = merge_fn(result[k], v) else: result[k] = v return result"
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,49492,38987,136,"This probably won't be a popular answer, but you almost certainly do not want to do this. If you want a copy that's a merge, then use copy (or deepcopy, depending on what you want) and then update. The two lines of code are much more readable - more Pythonic - than the single line creation with .items() + .items(). Explicit is better than implicit. In addition, when you use .items() (pre Python 3.0), you're creating a new list that contains the items from the dict. If your dictionaries are large, then that is quite a lot of overhead (two large lists that will be thrown away as soon as the merged dict is created). update() can work more efficiently, because it can run through the second dict item-by-item. In terms of time: &gt;&gt;&gt; timeit.Timer(""dict(x, **y)"", ""x = dict(zip(range(1000), range(1000)))\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000) 15.52571702003479 &gt;&gt;&gt; timeit.Timer(""temp = x.copy()\ntemp.update(y)"", ""x = dict(zip(range(1000), range(1000)))\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000) 15.694622993469238 &gt;&gt;&gt; timeit.Timer(""dict(x.items() + y.items())"", ""x = dict(zip(range(1000), range(1000)))\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000) 41.484580039978027 IMO the tiny slowdown between the first two is worth it for the readability. In addition, keyword arguments for dictionary creation was only added in Python 2.3, whereas copy() and update() will work in older versions."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,228366,38987,86,"In a follow-up answer, you asked about the relative performance of these two alternatives: z1 = dict(x.items() + y.items()) z2 = dict(x, **y) On my machine, at least (a fairly ordinary x86_64 running Python 2.5.2), alternative z2 is not only shorter and simpler but also significantly faster. You can verify this for yourself using the timeit module that comes with Python. Example 1: identical dictionaries mapping 20 consecutive integers to themselves: % python -m timeit -s 'x=y=dict((i,i) for I in range(20))' 'z1=dict(x.items() + y.items())' 100000 loops, best of 3: 5.67 usec per loop % python -m timeit -s 'x=y=dict((i,i) for I in range(20))' 'z2=dict(x, **y)' 100000 loops, best of 3: 1.53 usec per loop z2 wins by a factor of 3.5 or so. Different dictionaries seem to yield quite different results, but z2 always seems to come out ahead. (If you get inconsistent results for the same test, try passing in -r with a number larger than the default 3.) Example 2: non-overlapping dictionaries mapping 252 short strings to integers and vice versa: % python -m timeit -s 'from htmlentitydefs import codepoint2name as x, name2codepoint as y' 'z1=dict(x.items() + y.items())' 1000 loops, best of 3: 260 usec per loop % python -m timeit -s 'from htmlentitydefs import codepoint2name as x, name2codepoint as y' 'z2=dict(x, **y)' 10000 loops, best of 3: 26.9 usec per loop z2 wins by about a factor of 10. That's a pretty big win in my book! After comparing those two, I wondered if z1's poor performance could be attributed to the overhead of constructing the two item lists, which in turn led me to wonder if this variation might work better: from itertools import chain z3 = dict(chain(x.iteritems(), y.iteritems())) A few quick tests, e.g. % python -m timeit -s 'from itertools import chain; from htmlentitydefs import codepoint2name as x, name2codepoint as y' 'z3=dict(chain(x.iteritems(), y.iteritems()))' 10000 loops, best of 3: 66 usec per loop lead me to conclude that z3 is somewhat faster than z1, but not nearly as fast as z2. Definitely not worth all the extra typing. This discussion is still missing something important, which is a performance comparison of these alternatives with the ""obvious"" way of merging two lists: using the update method. To try to keep things on an equal footing with the expressions, none of which modify x or y, I'm going to make a copy of x instead of modifying it in-place, as follows: z0 = dict(x) z0.update(y) A typical result: % python -m timeit -s 'from htmlentitydefs import codepoint2name as x, name2codepoint as y' 'z0=dict(x); z0.update(y)' 10000 loops, best of 3: 26.9 usec per loop In other words, z0 and z2 seem to have essentially identical performance. Do you think this might be a coincidence? I don't.... In fact, I'd go so far as to claim that it's impossible for pure Python code to do any better than this. And if you can do significantly better in a C extension module, I imagine the Python folks might well be interested in incorporating your code (or a variation on your approach) into the Python core. Python uses dict in lots of places; optimizing its operations is a big deal. You could also write this as z0 = x.copy() z0.update(y) as Tony does, but (not surprisingly) the difference in notation turns out not to have any measurable effect on performance. Use whichever looks right to you. Of course, he's absolutely correct to point out that the two-statement version is much easier to understand."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,3936548,38987,39,"The best version I could think while not using copy would be: from itertools import chain x = {'a':1, 'b': 2} y = {'b':10, 'c': 11} dict(chain(x.iteritems(), y.iteritems())) It's faster than dict(x.items() + y.items()) but not as fast as n = copy(a); n.update(b), at least on CPython. This version also works in Python 3 if you change iteritems() to items(), which is automatically done by the 2to3 tool. Personally I like this version best because it describes fairly good what I want in a single functional syntax. The only minor problem is that it doesn't make completely obvious that values from y takes precedence over values from x, but I don't believe it's difficult to figure that out."
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,39089,39086,2,"Create a new file, copy lines from the old to the new, and do the replacing before you write the lines to the new file."
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,39110,39086,111,"I guess something like this should do it. It basically writes the content to a new file and replaces the old file with the new file: from tempfile import mkstemp from shutil import move from os import remove, close def replace(file_path, pattern, subst): #Create temp file fh, abs_path = mkstemp() with open(abs_path,'w') as new_file: with open(file_path) as old_file: for line in old_file: new_file.write(line.replace(pattern, subst)) close(fh) #Remove original file remove(file_path) #Move new file move(abs_path, file_path)"
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,39113,39086,8,"As lassevk suggests, write out the new file as you go, here is some example code: fin = open(""a.txt"") fout = open(""b.txt"", ""wt"") for line in fin: fout.write( line.replace('foo', 'bar') ) fin.close() fout.close()"
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,290494,39086,182,"The shortest way would probably be to use the fileinput module. For example, the following adds line numbers to a file, in-place: import fileinput for line in fileinput.input(""test.txt"", inplace=True): print ""%d: %s"" % (fileinput.filelineno(), line), What happens here is: The original file is moved to a backup file The standard output is redirected to the original file within the loop Thus any print statements write back into the original file fileinput has more bells and whistles. For example, it can be used to automatically operate on all files in sys.args[1:], without your having to iterate over them explicitly. Starting with Python 3.2 it also provides a convenient context manager for use in a with statement. While fileinput is great for throwaway scripts, I would be wary of using it in real code because admittedly it's not very readable or familiar. In real (production) code it's worthwhile to spend just a few more lines of code to make the process explicit and thus make the code readable. There are two options: The file is not overly large, and you can just read it wholly to memory. Then close the file, reopen it in writing mode and write the modified contents back. The file is too large to be stored in memory; you can move it over to a temporary file and open that, reading it line by line, writing back into the original file. Note that this requires twice the storage."
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,315088,39086,52,"Here's another example that was tested, and will match search &amp; replace patterns: import fileinput import sys def replaceAll(file,searchExp,replaceExp): for line in fileinput.input(file, inplace=1): if searchExp in line: line = line.replace(searchExp,replaceExp) sys.stdout.write(line) Example use: replaceAll(""/fooBar.txt"",""Hello\sWorld!$"",""Goodbye\sWorld."")"
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,1388570,39086,30,"This should work: (inplace editing) import fileinput # Does a list of files, and # redirects STDOUT to the file in question for line in fileinput.input(files, inplace = 1): print line.replace(""foo"", ""bar""),"
39104,12,"I've written a Python package that includes a bsddb database of pre-computed values for one of the more time-consuming computations. For simplicity, my setup script installs the database file in the same directory as the code which accesses the database (on Unix, something like /usr/lib/python2.5/site-packages/mypackage/). How do I store the final location of the database file so my code can access it? Right now, I'm using a hack based on the __file__ variable in the module which accesses the database: dbname = os.path.join(os.path.dirname(__file__), ""database.dat"") It works, but it seems... hackish. Is there a better way to do this? I'd like to have the setup script just grab the final installation location from the distutils module and stuff it into a ""dbconfig.py"" file that gets installed alongside the code that accesses the database.",Finding a file in a Python module distribution,39295,39104,4,"That's probably the way to do it, without resorting to something more advanced like using setuptools to install the files where they belong. Notice there's a problem with that approach, because on OSes with real a security framework (UNIXes, etc.) the user running your script might not have the rights to access the DB in the system directory where it gets installed."
39104,12,"I've written a Python package that includes a bsddb database of pre-computed values for one of the more time-consuming computations. For simplicity, my setup script installs the database file in the same directory as the code which accesses the database (on Unix, something like /usr/lib/python2.5/site-packages/mypackage/). How do I store the final location of the database file so my code can access it? Right now, I'm using a hack based on the __file__ variable in the module which accesses the database: dbname = os.path.join(os.path.dirname(__file__), ""database.dat"") It works, but it seems... hackish. Is there a better way to do this? I'd like to have the setup script just grab the final installation location from the distutils module and stuff it into a ""dbconfig.py"" file that gets installed alongside the code that accesses the database.",Finding a file in a Python module distribution,39659,39104,14,"Try using pkg_resources, which is part of setuptools (and available on all of the pythons I have access to right now): &gt;&gt;&gt; import pkg_resources &gt;&gt;&gt; pkg_resources.resource_ filename(__name__, ""foo.config"") 'foo.config' &gt;&gt;&gt; pkg_resources.resource_filename('tempfile', ""foo.config"") '/usr/lib/python2.4/foo.config' There's more discussion about using pkg_resources to get resources on the eggs page and the pkg_resources page. Also note, where possible it's probably advisable to use pkg_resources.resource_stream or pkg_resources.resource_string because if the package is part of an egg, resource_filename will copy the file to a temporary directory."
39663,25,"I'm reading some MPEG Transport Stream protocol over UDP and it has some funky bitfields in it (length 13 for example). I'm using the ""struct"" library to do the broad unpacking, but is there a simple way to say ""Grab the next 13 bits"" rather than have to hand-tweak the bit manipulation? I'd like something like the way C does bit fields (without having to revert to C). Suggestions?",What is the best way to do Bit Field manipulation in Python?,39760,39663,7,It's an often-asked question. There's an ASPN Cookbook entry on it that has served me in the past. And there is an extensive page of requirements one person would like to see from a module doing this.
39663,25,"I'm reading some MPEG Transport Stream protocol over UDP and it has some funky bitfields in it (length 13 for example). I'm using the ""struct"" library to do the broad unpacking, but is there a simple way to say ""Grab the next 13 bits"" rather than have to hand-tweak the bit manipulation? I'd like something like the way C does bit fields (without having to revert to C). Suggestions?",What is the best way to do Bit Field manipulation in Python?,1086668,39663,25,"The bitstring module is designed to address just this problem. It will let you read, modify and construct data using bits as the basic building blocks. The latest versions are for Python 2.6 or later (including Python 3) but version 1.0 supported Python 2.4 and 2.5 as well. A relevant example for you might be this, which strips out all the null packets from a transport stream (and quite possibly uses your 13 bit field?): from bitstring import Bits, BitStream # Opening from a file means that it won't be all read into memory s = Bits(filename='test.ts') outfile = open('test_nonull.ts', 'wb') # Cut the stream into 188 byte packets for packet in s.cut(188*8): # Take a 13 bit slice and interpret as an unsigned integer PID = packet[11:24].uint # Write out the packet if the PID doesn't indicate a 'null' packet if PID != 8191: # The 'bytes' property converts back to a string. outfile.write(packet.bytes) Here's another example including reading from bitstreams: # You can create from hex, binary, integers, strings, floats, files... # This has a hex code followed by two 12 bit integers s = BitStream('0x000001b3, uint:12=352, uint:12=288') # Append some other bits s += '0b11001, 0xff, int:5=-3' # read back as 32 bits of hex, then two 12 bit unsigned integers start_code, width, height = s.readlist('hex:32, 2*uint:12') # Skip some bits then peek at next bit value s.pos += 4 if s.peek(1): flags = s.read(9) You can use standard slice notation to slice, delete, reverse, overwrite, etc. at the bit level, and there are bit level find, replace, split etc. functions. Different endiannesses are also supported. # Replace every '1' bit by 3 bits s.replace('0b1', '0b001') # Find all occurrences of a bit sequence bitposlist = list(s.findall('0b01000')) # Reverse bits in place s.reverse() The full documentation is here."
39847,2,"I write tools that are used in a shared workspace. Since there are multiple OS's working in this space, we generally use Python and standardize the version that is installed across machines. However, if I wanted to write some things in C, I was wondering if maybe I could have the application wrapped in a Python script, that detected the operating system and fired off the correct version of the C application. Each platform has GCC available and uses the same shell. One idea was to have the C compiled to the users local ~/bin, with timestamp comparison with C code so it is not compiled each run, but only when code is updated. Another was to just compile it for each platform, and have the wrapper script select the proper executable. Is there an accepted/stable process for this? Are there any catches? Are there alternatives (assuming the absolute need to use native C code)? Clarification: Multiple OS's are involved that do not share ABI. Eg. OS X, various Linuxes, BSD etc. I need to be able to update the code in place in shared folders and have the new code working more or less instantaneously. Distributing binary or source packages is less than ideal.",Using C in a shared multi-platform POSIX environment,39865,39847,0,"You know, you should look at static linking. These days, we all have HUGE hard drives, and a few extra megabytes (for carrying around libc and what not) is really not that big a deal anymore. You could also try running your applications in chroot() jails and distributing those."
39847,2,"I write tools that are used in a shared workspace. Since there are multiple OS's working in this space, we generally use Python and standardize the version that is installed across machines. However, if I wanted to write some things in C, I was wondering if maybe I could have the application wrapped in a Python script, that detected the operating system and fired off the correct version of the C application. Each platform has GCC available and uses the same shell. One idea was to have the C compiled to the users local ~/bin, with timestamp comparison with C code so it is not compiled each run, but only when code is updated. Another was to just compile it for each platform, and have the wrapper script select the proper executable. Is there an accepted/stable process for this? Are there any catches? Are there alternatives (assuming the absolute need to use native C code)? Clarification: Multiple OS's are involved that do not share ABI. Eg. OS X, various Linuxes, BSD etc. I need to be able to update the code in place in shared folders and have the new code working more or less instantaneously. Distributing binary or source packages is less than ideal.",Using C in a shared multi-platform POSIX environment,39871,39847,0,"Depending on your mix os OSes, you might be better off creating packages for each class of system. Alternatively, if they all share the same ABI and hardware architecture, you could also compile static binaries."
39847,2,"I write tools that are used in a shared workspace. Since there are multiple OS's working in this space, we generally use Python and standardize the version that is installed across machines. However, if I wanted to write some things in C, I was wondering if maybe I could have the application wrapped in a Python script, that detected the operating system and fired off the correct version of the C application. Each platform has GCC available and uses the same shell. One idea was to have the C compiled to the users local ~/bin, with timestamp comparison with C code so it is not compiled each run, but only when code is updated. Another was to just compile it for each platform, and have the wrapper script select the proper executable. Is there an accepted/stable process for this? Are there any catches? Are there alternatives (assuming the absolute need to use native C code)? Clarification: Multiple OS's are involved that do not share ABI. Eg. OS X, various Linuxes, BSD etc. I need to be able to update the code in place in shared folders and have the new code working more or less instantaneously. Distributing binary or source packages is less than ideal.",Using C in a shared multi-platform POSIX environment,39878,39847,1,"Also, you could use autoconf and distribute your application in source form only. :)"
39847,2,"I write tools that are used in a shared workspace. Since there are multiple OS's working in this space, we generally use Python and standardize the version that is installed across machines. However, if I wanted to write some things in C, I was wondering if maybe I could have the application wrapped in a Python script, that detected the operating system and fired off the correct version of the C application. Each platform has GCC available and uses the same shell. One idea was to have the C compiled to the users local ~/bin, with timestamp comparison with C code so it is not compiled each run, but only when code is updated. Another was to just compile it for each platform, and have the wrapper script select the proper executable. Is there an accepted/stable process for this? Are there any catches? Are there alternatives (assuming the absolute need to use native C code)? Clarification: Multiple OS's are involved that do not share ABI. Eg. OS X, various Linuxes, BSD etc. I need to be able to update the code in place in shared folders and have the new code working more or less instantaneously. Distributing binary or source packages is less than ideal.",Using C in a shared multi-platform POSIX environment,40367,39847,2,"Launching a Python interpreter instance just to select the right binary to run would be much heavier than you need. I'd distribute a shell .rc file which provides aliases. In /shared/bin, you put the various binaries: /shared/bin/toolname-mac, /shared/bin/toolname-debian-x86, /shared/bin/toolname-netbsd-dreamcast, etc. Then, in the common shared shell .rc file, you put the logic to set the aliases according to platform, so that on OSX, it gets alias toolname=/shared/bin/toolname-mac, and so forth. This won't work as well if you're adding new tools all the time, because the users will need to reload the aliases. I wouldn't recommend distributing tools this way, though. Testing and qualifying new builds of the tools should be taking up enough time and effort that the extra time required to distribute the tools to the users is trivial. You seem to be optimizing to reduce the distribution time. Replacing tools that quickly in a live environment is all too likely to result in lengthy and confusing downtime if anything goes wrong in writing and building the tools--especially when subtle cross-platform issues creep in."
39929,5,"What is the easiest way to create and verify PGP/GPG signatures from within a Python application? I can call pgp or gpg using subprocess and parse the output, but I was looking for a way that didn't require an external program to be installed (my application is cross-platform mac/windows/unix).",PGP signatures from Python?,40069,39929,8,I think GPGME and the PyMe Python wrapper should do what you need.
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,39982,39960,4,"Well, I don't think that there is something like that in js. You can always use eval instead of locals(). Like this: eval(s+""()""); You just have to know that actually function foo exists. Edit: Don't use eval:) Use: var functionName=""myFunctionName""; window[functionName]();"
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,39992,39960,0,"AFAIK, no. If you just want to check the existence of a given variable, you can do it by testing for it, something like this: if (foo) foo();"
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,40012,39960,3,"I seem to remember Brendan Eich commented on this in a recent podcast; if I recall correctly, it's not being considered, as it adds unreasonable restrictions to optimization. He compared it to the arguments local in that, while useful for varargs, its very existence removes the ability to guess at what a function will touch just by looking at its definition. BTW: I believe JS did have support for accessing locals through the arguments local at one time - a quick search shows this has been deprecated though."
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,40035,39960,0,"@e-bartek, I think that window[functionName] won't work if you in some closure, and the function name is local to that closure. For example: function foo() { var bar = function () { alert('hello world'); }; var s = 'bar'; window[s](); // this won't work } In this case, s is 'bar', but the function 'bar' only exists inside the scope of the function 'foo'. It is not defined in the window scope. Of course, this doesn't really answer the original question, I just wanted to chime in on this response. I don't believe there is a way to do what the original question asked."
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,40067,39960,0,"@pkaeding Yes, you're right. window[functionName]() doesn't work in this case, but eval does. If I needed something like this, I'd create my own object to keep those functions together. var func = {}; func.bar = ...; var s = ""bar""; func[s]();"
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,40173,39960,13,"locals() - No. globals() - Yes. window is a reference to the global scope, like globals() in python. globals()[""foo""] is the same as: window[""foo""]"
40586,1,"In a try/except block, how do I extract the Oracle error number?",cx_Oracle: how do I get the ORA-xxxxx error number?,40593,40586,9,"try: cursor.execute(""select 1 / 0 from dual"") except cx_Oracle.DatabaseError, exc: error, = exc print ""Code:"", error.code print ""Message:"", error.message This results in the following output: Code: 1476 Message: ORA-01476: divisor is equal to zero"
40705,12,"At the beginning of all my executable Python scripts I put the shebang line: #!/usr/bin/env python I'm running these scripts on a system where env python yields a Python 2.2 environment. My scripts quickly fail because I have a manual check for a compatible Python version: if sys.version_info &lt; (2, 4): raise ImportError(""Cannot run with Python version &lt; 2.4"") I don't want to have to change the shebang line on every executable file, if it's possible; however, I don't have administrative access to the machine to change the result of env python and I don't want to force a particular version, as in: #!/usr/bin/env python2.4 I'd like to avoid this because system may have a newer version than Python 2.4, or may have Python 2.5 but no Python 2.4. What's the elegant solution? [Edit:] I wasn't specific enough in posing the question -- I'd like to let users execute the scripts without manual configuration (e.g. path alteration or symlinking in ~/bin and ensuring your PATH has ~/bin before the Python 2.2 path). Maybe some distribution utility is required to prevent the manual tweaks?",Python deployment and /usr/bin/env portability,40715,40705,8,"""env"" simply executes the first thing it finds in the PATH env var. To switch to different python, prepend the directory for that python's executable to the path before invoking your script."
40705,12,"At the beginning of all my executable Python scripts I put the shebang line: #!/usr/bin/env python I'm running these scripts on a system where env python yields a Python 2.2 environment. My scripts quickly fail because I have a manual check for a compatible Python version: if sys.version_info &lt; (2, 4): raise ImportError(""Cannot run with Python version &lt; 2.4"") I don't want to have to change the shebang line on every executable file, if it's possible; however, I don't have administrative access to the machine to change the result of env python and I don't want to force a particular version, as in: #!/usr/bin/env python2.4 I'd like to avoid this because system may have a newer version than Python 2.4, or may have Python 2.5 but no Python 2.4. What's the elegant solution? [Edit:] I wasn't specific enough in posing the question -- I'd like to let users execute the scripts without manual configuration (e.g. path alteration or symlinking in ~/bin and ensuring your PATH has ~/bin before the Python 2.2 path). Maybe some distribution utility is required to prevent the manual tweaks?",Python deployment and /usr/bin/env portability,40721,40705,2,If you are running the scripts then you can set your PATH variable to point to a private bin directory first: $ mkdir ~/bin $ ln -s `which python2.4` ~/bin/python $ export PATH=~/bin:$PATH Then when you execute your python script it'll use python 2.4. You'll have to change your login scripts to change your PATH. Alternatively run your python script with the explicit interpreter you want: $ /path/to/python2.4 &lt;your script&gt;
40705,12,"At the beginning of all my executable Python scripts I put the shebang line: #!/usr/bin/env python I'm running these scripts on a system where env python yields a Python 2.2 environment. My scripts quickly fail because I have a manual check for a compatible Python version: if sys.version_info &lt; (2, 4): raise ImportError(""Cannot run with Python version &lt; 2.4"") I don't want to have to change the shebang line on every executable file, if it's possible; however, I don't have administrative access to the machine to change the result of env python and I don't want to force a particular version, as in: #!/usr/bin/env python2.4 I'd like to avoid this because system may have a newer version than Python 2.4, or may have Python 2.5 but no Python 2.4. What's the elegant solution? [Edit:] I wasn't specific enough in posing the question -- I'd like to let users execute the scripts without manual configuration (e.g. path alteration or symlinking in ~/bin and ensuring your PATH has ~/bin before the Python 2.2 path). Maybe some distribution utility is required to prevent the manual tweaks?",Python deployment and /usr/bin/env portability,42516,40705,4,"Pretty hackish solution - if your check fails, use this function (which probably could be significantly improved) to determine the best interpreter available, determine if it is acceptable, and if so relaunch your script with os.system or something similar and your sys.argv using the new interpreter. import os import glob def best_python(): plist = [] for I in os.getenv(""PATH"").split("":""): for j in glob.glob(os.path.join(i, ""python2.[0-9]"")): plist.append(os.path.join(i, j)) plist.sort() plist.reverse() if len(plist) == 0: return None return plist[0]"
40705,12,"At the beginning of all my executable Python scripts I put the shebang line: #!/usr/bin/env python I'm running these scripts on a system where env python yields a Python 2.2 environment. My scripts quickly fail because I have a manual check for a compatible Python version: if sys.version_info &lt; (2, 4): raise ImportError(""Cannot run with Python version &lt; 2.4"") I don't want to have to change the shebang line on every executable file, if it's possible; however, I don't have administrative access to the machine to change the result of env python and I don't want to force a particular version, as in: #!/usr/bin/env python2.4 I'd like to avoid this because system may have a newer version than Python 2.4, or may have Python 2.5 but no Python 2.4. What's the elegant solution? [Edit:] I wasn't specific enough in posing the question -- I'd like to let users execute the scripts without manual configuration (e.g. path alteration or symlinking in ~/bin and ensuring your PATH has ~/bin before the Python 2.2 path). Maybe some distribution utility is required to prevent the manual tweaks?",Python deployment and /usr/bin/env portability,42794,40705,0,"@morais: That's an interesting idea, but I think maybe we can take it one step farther. Maybe there's a way to use Ian Bicking's virtualenv to: See if we're running in an acceptable environment to begin with, and if so, do nothing. Check if there exists a version-specific executable on the PATH, i.e. check if python2.x exists for x in reverse(range(4, 10)). If so, re-run the command with the better interpreter. If no better interpreter exists, use virtualenv to try and install a newer version of Python from the older version of Python and get any prerequisite packages. I have no idea if virtualenv is capable of this, so I'll go mess around with it sometime soon. :)"
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,41555,41547,2,If you can hook your authentication into the Django authentication scheme you'll be able to use request.user. I think this should just be a case of calling authenticate() and login() based on the contents of your Cookie. Edit: @Staale - I always use the locals() trick for my context so all my templates can see request and so request.user. If you're not then I guess it wouldn't be so straightforward.
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,41558,41547,18,"In a more general sense of not having to explicitly set variables in each view, it sounds like you want to look at writing your own context processor. From the docs: A context processor has a very simple interface: It's just a Python function that takes one argument, an HttpRequest object, and returns a dictionary that gets added to the template context. Each context processor must return a dictionary."
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,41560,41547,2,"@Dave To use {{user.username}} in my templates, I will then have to use requestcontext rather than just a normal map/hash: http://www.djangoproject.com/documentation/templates_python/#subclassing-context-requestcontext So I guess there are no globals that the template engine checks. But the RequestContext has some prepopulate classes that I can look into to solve my problems. Thanks."
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,269249,41547,31,"@Ryan: Documentation about preprocessors is a bit small @Staale: Adding user to the Context every time one is calling the template in view, DRY Solution is very simple A: In your settings add TEMPLATE_CONTEXT_PROCESSORS = ( 'myapp.processor_file_name.user', ) B: In myapp/processor_file_name.py insert def user(request): if hasattr(request, 'user'): return {'user':request.user } return {} From now on you're able to use user object functionalities in your templates. {{ user.get_full_name }}"
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,1064621,41547,43,"There is no need to write a context processor for the user object if you already have the ""django.core.context_processors.auth"" in TEMPLATE_CONTEXT_PROCESSORS and if you're using RequestContext in your views. if you are using django 1.4 or latest the module has been moved to django.contrib.auth.context_processors.auth"
41562,7,"I've had to do some introspection in python and it wasn't pretty: name = sys._getframe(1).f_code name = ""%s:%d %s()"" %(os.path.split(name.co_filename)[1],name.co_firstlineno,name.co_name) To get something like foo.py:22 bar() blah blah In our debugging output. I'd ideally like to prepend anything to stderr with this sort of information -- Is it possible to change the behaviour of print globally within python?",How do I do monkeypatching in python?,41574,41562,3,"A print statement does its IO through ""sys.stdout.write"" so you can override sys.stdout if you want to manipulate the print stream."
41562,7,"I've had to do some introspection in python and it wasn't pretty: name = sys._getframe(1).f_code name = ""%s:%d %s()"" %(os.path.split(name.co_filename)[1],name.co_firstlineno,name.co_name) To get something like foo.py:22 bar() blah blah In our debugging output. I'd ideally like to prepend anything to stderr with this sort of information -- Is it possible to change the behaviour of print globally within python?",How do I do monkeypatching in python?,41921,41562,1,The python inspect module makes this a lot easier and cleaner.
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41707,41701,13,"I'd say that a dictionary is definitely the best way to do it. It's easily extensible, allows you to give each value a sensible name, and Python has a lot of built-in language features for using and manipulating dictionaries. If you need to add more fields later, all you need to change is the code that converts the tuple to a dictionary and the code that actually makes use of the new values. For example: job={} job['jobid'], job['label'], job['username']=&lt;querycode&gt;"
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41709,41701,0,"With a tuple it will always be a hassle to add or change fields. You're right that a dictionary will be much better. If you want something with slightly friendlier syntax you might want to take a look at the answers this question about a simple 'struct-like' object. That way you can pass around an object, say job, and access its fields even more easily than a tuple or dict: job.jobId, job.username = jobId, username"
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41721,41701,3,"Perhaps this is overkill for your case, but I would be tempted to create a ""Job"" class that takes the tuple as its constructor argument and has respective properties on it. I'd then pass instances of this class around instead."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41723,41701,2,"I would use a dictionary. You can convert the tuple to a dictionary this way: values = &lt;querycode&gt; keys = [""jobid"", ""label"", ""username""] job = dict([[keys[i], values [i]] for I in xrange(len(values ))]) This will first create an array [[""jobid"", val1], [""label"", val2], [""username"", val3]] and then convert that to a dictionary. If the result order or count changes, you just need to change the list of keys to match the new result. PS still fresh on Python myself, so there might be better ways off doing this."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41730,41701,-2,"How about this: class TypedTuple: def __init__(self, fieldlist, items): self.fieldlist = fieldlist self.items = items def __getattr__(self, field): return self.items[self.fieldlist.index(field)] You could then do: j = TypedTuple([""jobid"", ""label"", ""username""], job) print j.jobid It should be easy to swap self.fieldlist.index(field) with a dictionary lookup later on... just edit your __init__ method! Something like Staale does."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41846,41701,13,"@Staale There is a better way: job = dict(zip(keys, values))"
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,387242,41701,2,"An old question, but since no one mentioned it I'll add this from the Python Cookbook: Recipe 81252: Using dtuple for Flexible Query Result Access This recipe is specifically designed for dealing with database results, and the dtuple solution allows you to access the results by name OR index number. This avoids having to access everything by subscript which is very difficult to maintain, as noted in your question."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,1144246,41701,5,"This is an old question, but... I'd suggest using a named tuple in this situation: collections.namedtuple This is the part, in particular, that you'd find useful: Subclassing is not useful for adding new, stored fields. Instead, simply create a new named tuple type from the _fields attribute."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,2609123,41701,0,"If you're using the MySQLdb package, you can set up your cursor objects to return dicts instead of tuples. import MySQLdb, MySQLdb.cursors conn = MySQLdb.connect(..., cursorclass=MySQLdb.cursors.DictCursor) cur = conn.cursor() # a DictCursor cur2 = conn.cursor(cursorclass=MySQLdb.cursors.Cursor) # a ""normal"" tuple cursor"
41969,6,"I want to open a folder window, in the appropriate file manager, from within a cross-platform (windows/mac/linux) Python application. On OSX, I can open a window in the finder with os.system('open ""%s""' % foldername) and on Windows with os.startfile(foldername) What about unix/linux? Is there a standard way to do this or do I have to special case gnome/kde/etc and manually run the appropriate application (nautilus/konqueror/etc)? This looks like something that could be specified by the freedesktop.org folks (a python module, similar to webbrowser, would also be nice!).",Standard way to open a folder window in linux?,41999,41969,0,"this would probably have to be done manually, or have as a config item since there are many file managers that users may want to use. Providing a way for command options as well. There might be an function that launches the defaults for kde or gnome in their respective toolkits but I haven't had reason to look for them."
41969,6,"I want to open a folder window, in the appropriate file manager, from within a cross-platform (windows/mac/linux) Python application. On OSX, I can open a window in the finder with os.system('open ""%s""' % foldername) and on Windows with os.startfile(foldername) What about unix/linux? Is there a standard way to do this or do I have to special case gnome/kde/etc and manually run the appropriate application (nautilus/konqueror/etc)? This looks like something that could be specified by the freedesktop.org folks (a python module, similar to webbrowser, would also be nice!).",Standard way to open a folder window in linux?,42039,41969,0,"You're going to have to do this based on the running window manager. OSX and Windows have a (defacto) standard way because there is only one choice. You shouldn't need to specify the exact filemanager application, though, this should be possible to do through the wm. I know Gnome does, and it's important to do this in KDE since there are two possible file managers (Konqueror/Dolphin) that may be in use. I agree that this would be a good thing for freedesktop.org to standardize, although I doubt it will happen unless someone steps up and volunteers to do it. EDIT: I wasn't aware of xdg-open. Good to know!"
41969,6,"I want to open a folder window, in the appropriate file manager, from within a cross-platform (windows/mac/linux) Python application. On OSX, I can open a window in the finder with os.system('open ""%s""' % foldername) and on Windows with os.startfile(foldername) What about unix/linux? Is there a standard way to do this or do I have to special case gnome/kde/etc and manually run the appropriate application (nautilus/konqueror/etc)? This looks like something that could be specified by the freedesktop.org folks (a python module, similar to webbrowser, would also be nice!).",Standard way to open a folder window in linux?,42046,41969,7,"os.system('xdg-open ""%s""' % foldername) xdg-open can be used for files/urls also"
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42048,42034,32,"Tuples are used whenever you want to return multiple results from a function. Since they're immutable, they can be used as keys for a dictionary (lists can't)."
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42049,42034,2,I find them useful when you always deal with two or more objects as a set.
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42050,42034,1,"A list can always replace a tuple, with respect to functionality (except, apparently, as keys in a dict). However, a tuple can make things go faster. The same is true for, for example, immutable strings in Java -- when will you ever need to be unable to alter your strings? Never! I just read a decent discussion on limiting what you can do in order to make better programs; Why Why Functional Programming Matters Matters"
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42052,42034,14,"Tuples make good dictionary keys when you need to combine more than one piece of data into your key and don't feel like making a class for it. a = {} a[(1,2,""bob"")] = ""hello!"" a[(""Hello"",""en-US"")] = ""Hi There!"" I've used this feature primarily to create a dictionary with keys that are coordinates of the vertices of a mesh. However, in my particular case, the exact comparison of the floats involved worked fine which might not always be true for your purposes [in which case I'd probably convert your incoming floats to some kind of fixed-point integer]"
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42055,42034,1,A tuple is useful for storing multiple values.. As you note a tuple is just like a list that is immutable - e.g. once created you cannot add/remove/swap elements. One benefit of being immutable is that because the tuple is fixed size it allows the run-time to perform certain optimizations. This is particularly beneficial when a tupple is used in the context of a return value or a parameter to a function.
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42060,42034,2,"Tuples and lists have the same uses in general. Immutable data types in general have many benefits, mostly about concurrency issues. So, when you have lists that are not volatile in nature and you need to guarantee that no consumer is altering it, you may use a tuple. Typical examples are fixed data in an application like company divisions, categories, etc. If this data change, typically a single producer rebuilts the tuple."
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,48414,42034,7,"I like this explanation. Basically, you should use tuples when there's a constant structure (the 1st position always holds one type of value and the second another, and so forth), and lists should be used for lists of homogeneous values. Of course there's always exceptions, but this is a good general guideline."
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,51200,42034,0,"In addition to the places where they're syntactically required like the string % operation and for multiple return values, I use tuples as a form of lightweight classes. For example, suppose you have an object that passes out an opaque cookie to a caller from one method which is then passed into another method. A tuple is a good way to pack multiple values into that cookie without having to define a separate class to contain them. I try to be judicious about this particular use, though. If the cookies are used liberally throughout the code, it's better to create a class because it helps document their use. If they are only used in one place (e.g. one pair of methods) then I might use a tuple. In any case, because it's Python you can start with a tuple and then change it to an instance of a custom class without having to change any code in the caller."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,42485,42482,2,Open Office has an API
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,42492,42482,0,"If it is Word 2007 docx, you could unzip it and parse the XML files that are contained inside."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,43301,42482,2,"Using the OpenOffice API, and Python, and Andrew Pitonyak's excellent online macro book I managed to do this. Section 7.16.4 is the place to start. One other tip to make it work without needing the screen at all is to use the Hidden property: RO = PropertyValue('ReadOnly', 0, True, 0) Hidden = PropertyValue('Hidden', 0, True, 0) xDoc = desktop.loadComponentFromURL( docpath,""_blank"", 0, (RO, Hidden,) ) Otherwise the document flicks up on the screen (probably on the webserver console) when you open it."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,43364,42482,8,"I use catdoc or antiword for this, whatever gives the result that is the easiest to parse. I have embedded this in python functions, so it is easy to use from the parsing system (which is written in python). import os def doc_to_text_catdoc(filename): (fi, fo, fe) = os.popen3('catdoc -w ""%s""' % filename) fi.close() retval = fo.read() erroroutput = fe.read() fo.close() fe.close() if not erroroutput: return retval else: raise OSError(""Executing the command caused an error: %s"" % erroroutput) # similar doc_to_text_antiword() The -w switch to catdoc turns off line wrapping, BTW."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,1387028,42482,1,"For docx files, check out the Python script docx2txt available at http://cobweb.ecn.purdue.edu/~kak/distMisc/docx2txt for extracting the plain text from a docx document."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,1979931,42482,14,"(Same answer as extracting text from MS word files in python) Use the native Python docx module which I made this week. Here's how to extract all the text from a doc: document = opendocx('Hello world.docx') # This location is where most document content lives docbody = document.xpath('/w:document/w:body', namespaces=wordnamespaces)[0] # Extract all text print getdocumenttext(document) See Python DocX site 100% Python, no COM, no .net, no Java, no parsing serialized XML with regexs, no crap."
42581,31,"The Python docs say: re.MULTILINE: When specified, the pattern character '^' matches at the beginning of the string and at the beginning of each line (immediately following each newline)... By default, '^' matches only at the beginning of the string... So what's going on when I get the following unexpected result? &gt;&gt;&gt; import re &gt;&gt;&gt; s = """"""// The quick brown fox. ... // Jumped over the lazy dog."""""" &gt;&gt;&gt; re.sub('^//', '', s, re.MULTILINE) ' The quick brown fox.\n// Jumped over the lazy dog.'",Python re.sub MULTILINE caret match,42597,42581,75,"Look at the definition of re.sub: sub(pattern, repl, string[, count]) The 4th argument is the count, you are using re.MULTILINE (which is 8) as the count, not as a flag. You have to compile your regex if you wish to use flags. re.sub(re.compile('^//', re.MULTILINE), '', s) A flags argument was added in Python 2.7, so the full definition is now: re.sub(pattern, repl, string[, count, flags]) Which means that: re.sub('^//', '', s, flags=re.MULTILINE) works."
42581,31,"The Python docs say: re.MULTILINE: When specified, the pattern character '^' matches at the beginning of the string and at the beginning of each line (immediately following each newline)... By default, '^' matches only at the beginning of the string... So what's going on when I get the following unexpected result? &gt;&gt;&gt; import re &gt;&gt;&gt; s = """"""// The quick brown fox. ... // Jumped over the lazy dog."""""" &gt;&gt;&gt; re.sub('^//', '', s, re.MULTILINE) ' The quick brown fox.\n// Jumped over the lazy dog.'",Python re.sub MULTILINE caret match,2517216,42581,6,"re.sub('(?m)^//', '', s)"
42950,306,"Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month? If the standard library doesn't support that, does the dateutil package support this?",Get Last Day of the Month in Python,42997,42950,43,"EDIT: See @Blair Conrad's answer for a cleaner solution &gt;&gt;&gt; import datetime &gt;&gt;&gt; datetime.date (2000, 2, 1) - datetime.timedelta (days = 1) datetime.date(2000, 1, 31) &gt;&gt;&gt;"
42950,306,"Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month? If the standard library doesn't support that, does the dateutil package support this?",Get Last Day of the Month in Python,43088,42950,32,"EDIT: see my other answer. It has a better implementation than this one, which I leave here just in case someone's interested in seeing how one might ""roll your own"" calculator. @John Millikin gives a good answer, with the added complication of calculating the first day of the next month. The following isn't particularly elegant, but to figure out the last day of the month that any given date lives in, you could try: def last_day_of_month(date): if date.month == 12: return date.replace(day=31) return date.replace(month=date.month+1, day=1) - datetime.timedelta(days=1) &gt;&gt;&gt; last_day_of_month(datetime.date(2002, 1, 17)) datetime.date(2002, 1, 31) &gt;&gt;&gt; last_day_of_month(datetime.date(2002, 12, 9)) datetime.date(2002, 12, 31) &gt;&gt;&gt; last_day_of_month(datetime.date(2008, 2, 14)) datetime.date(2008, 2, 29)"
42950,306,"Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month? If the standard library doesn't support that, does the dateutil package support this?",Get Last Day of the Month in Python,43663,42950,552,"I didn't notice this earlier when I was looking at the documentation for the calendar module, but a method called monthrange provides this information: monthrange(year, month) &nbsp;&nbsp;&nbsp;&nbsp;Returns weekday of first day of the month and number of days in month, for the specified year and month. &gt;&gt;&gt; import calendar &gt;&gt;&gt; calendar.monthrange(2002,1) (1, 31) &gt;&gt;&gt; calendar.monthrange(2008,2) (4, 29) &gt;&gt;&gt; calendar.monthrange(2100,2) (0, 28) so: calendar.monthrange(year, month)[1] seems like the simplest way to go. Just to be clear, monthrange supports leap years as well: &gt;&gt;&gt; from calendar import monthrange &gt;&gt;&gt; monthrange(2012, 2) (2, 29) My previous answer still works, but is clearly suboptimal."
42950,306,"Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month? If the standard library doesn't support that, does the dateutil package support this?",Get Last Day of the Month in Python,356535,42950,10,"Another solution would be to do something like this: from datetime import datetime def last_day_of_month(year, month): """""" Work out the last day of the month """""" last_days = [31, 30, 29, 28, 27] for I in last_days: try: end = datetime(year, month, i) except ValueError: continue else: return end.date() return None And use the function like this: &gt;&gt;&gt; &gt;&gt;&gt; last_day_of_month(2008, 2) datetime.date(2008, 2, 29) &gt;&gt;&gt; last_day_of_month(2009, 2) datetime.date(2009, 2, 28) &gt;&gt;&gt; last_day_of_month(2008, 11) datetime.date(2008, 11, 30) &gt;&gt;&gt; last_day_of_month(2008, 12) datetime.date(2008, 12, 31)"
43099,3,"I'm trying to write a bzr post-commit hook for my private bugtracker, but I'm stuck at the function signature of post_commit(local, master, old_revno, old_revid, new_revno, mew_revid). How can I extract the commit message for the branch from this with bzrlib in Python?",How can I get a commit message from a bzr post-commit hook?,43172,43099,5,"And the answer is like so: def check_commit_msg(local, master, old_revno, old_revid, new_revno, new_revid): branch = local or master revision = branch.repository.get_revision(new_revid) print revision.message local and master are Branch objects, so once you have a revision, it's easy to extract the message."
43290,22,"In Django's template language, you can use {% url [viewname] [args] %} to generate a URL to a specific view with parameters. How can you programatically do the same in Python code? What I need is to create a list of menu items where each item has name, URL, and an active flag (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.",How to generate urls in django,43312,43290,32,"If you need to use something similar to the {% url %} template tag in your code, Django provides the django.core.urlresolvers.reverse(). The reverse function has the following signature: reverse(viewname, urlconf=None, args=None, kwargs=None) https://docs.djangoproject.com/en/dev/ref/urlresolvers/"
43290,22,"In Django's template language, you can use {% url [viewname] [args] %} to generate a URL to a specific view with parameters. How can you programatically do the same in Python code? What I need is to create a list of menu items where each item has name, URL, and an active flag (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.",How to generate urls in django,55734,43290,8,"I'm using two different approaches in my models.py. The first is the permalink decorator: from django.db.models import permalink def get_absolute_url(self): """"""Construct the absolute URL for this Item."""""" return ('project.app.views.view_name', [str(self.id)]) get_absolute_url = permalink(get_absolute_url) You can also call reverse directly: from django.core.urlresolvers import reverse def get_absolute_url(self): """"""Construct the absolute URL for this Item."""""" return reverse('project.app.views.view_name', None, [str(self.id)])"
43290,22,"In Django's template language, you can use {% url [viewname] [args] %} to generate a URL to a specific view with parameters. How can you programatically do the same in Python code? What I need is to create a list of menu items where each item has name, URL, and an active flag (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.",How to generate urls in django,72249,43290,4,"Be aware that using reverse() requires that your urlconf module is 100% error free and can be processed - iow no ViewDoesNotExist errors or so, or you get the dreaded NoReverseMatch exception (errors in templates usually fail silently resulting in None)."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,43331,43315,32,"Not currently, currently the only languages available to access the iPhone SDK are C/C++, Objective C and Swift. There is no technical reason why this could not change in the future but I wouldn't hold your breath for this happening in the short term. That said, Objective-C and Swift really are not too scary... 2016 edit Javascript with NativeScript framework is available to use now."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,43358,43315,51,"You can use PyObjC on the iPhone as well, due to the excellent work by Jay Freeman (saurik). See iPhone Applications in Python. Note that this requires a jailbroken iPhone at the moment."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,145071,43315,5,The iPhone SDK agreement is also rather vague about whether you're even allowed to run scripting languages (outside of a WebView's Javascript). My reading is that it is OK - as long as none of the scripts you execute are downloaded from the network (so pre-installed and user-edited scripts seem to be OK). IANAL etc etc.
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,739098,43315,1,"You can do this with PyObjC, with a jailbroken phone of course. But if you want to get it into the App Store, they will not allow it because it ""interprets code."" However, you may be able to use Shed Skin, although I'm not aware of anyone doing this. I can't think of any good reason to do this though, as you lose dynamic typing, and might as well use ObjC."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,2005197,43315,0,"The only significant ""external"" language for iPhone development that I'm aware of with semi-significant support in terms of frameworks and compatibility is MonoTouch, a C#/.NET environment for developing on the iPhone."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,2167033,43315,22,"Yes you can. You write your code in tinypy (which is restricted Python), then use tinypy to convert it to C++, and finally compile this with XCode into a native iPhone app. Phil Hassey has published a game called Elephants! using this approach. Here are more details, http://www.philhassey.com/blog/2009/12/23/elephants-is-free-on-the-app-store/"
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,2637228,43315,20,"An update to the iOS Developer Agreement means that you can use whatever you like, as long as you meet the developer guidelines. Section 3.3.1, which restricted what developers could use for iOS development, has been entirely removed. Source: http://daringfireball.net/2010/09/app_store_guidelines"
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,2768536,43315,2,"Technically, as long as the interpreted code ISN'T downloaded (excluding JavaScript), the app may be approved. Rhomobiles ""Rhodes"" framework does just that, bundling mobile Ruby, a lightweight version of Rails, and your app for distribution via the app-store. Because both the interpreter and the interpreted code are packaged into the final application - Apple doesn't find it objectionable. http://rhomobile.com/products/rhodes/ Even after the latest apple press release - rhodes apps (mobile ruby) are still viable on the app-store. I'd find it hard to believe that tinyPy or pyObjC wouldn't find a place if there is a willing developer community."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,3684714,43315,21,"It seems this is now something developers are allowed to do: the iOS Developer Agreement was changed yesterday and appears to have been ammended in a such a way as to make embedding a Python interpretter in your application legal: SECTION 3.3.2 â INTERPRETERS Old: 3.3.2 An Application may not itself install or launch other executable code by any means, including without limitation through the use of a plug-in architecture, calling other frameworks, other APIs or otherwise. Unless otherwise approved by Apple in writing, no interpreted code may be downloaded or used in an Application except for code that is interpreted and run by Appleâs Documented APIs and built-in interpreter(s). Notwithstanding the foregoing, with Appleâs prior written consent, an Application may use embedded interpreted code in a limited way if such use is solely for providing minor features or functionality that are consistent with the intended and advertised purpose of the Application. New: 3.3.2 An Application may not download or install executable code. Interpreted code may only be used in an Application if all scripts, code and interpreters are packaged in the Application and not downloaded. The only exception to the foregoing is scripts and code downloaded and run by Appleâs built-in WebKit framework."
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,43386,43368,3,You should have a look at django and especially its newforms and admin modules. The newforms module provides a nice possibility to do server side validation with automated generation of error messages/pages for the user. Adding ajax validation is also possible
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,43414,43368,1,"I believe that Django models does not support composite primary keys (see documentation). But perhaps you can use SQLAlchemy in Django? A google search indicates that you can. I have not used Django, so I don't know. I suggest you take a look at: ToscaWidgets DBSprockets, including DBMechanic Catwalk. Catwalk is an application for TurboGears 1.0 that uses SQLObject, not SQLAlchemy. Also check out this blog post and screencast. FastData. Also uses SQLObject. formalchemy Rum I do not have any deep knowledge of any of the projects above. I am just in the process of trying to add something similar to one of my own applications as what the original question mentions. The above list is simply a list of interesting projects that I have stumbled across. As to web application frameworks for Python, I recommend TurboGears 2. Not that I have any experience with any of the other frameworks, I just like TurboGears... If the original question's author finds a solution that works well, please update or answer this thread."
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,48284,43368,1,TurboGears currently uses SQLObject by default but you can use it with SQLAlchemy. They are saying that the next major release of TurboGears (1.1) will use SQLAlchemy by default.
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,48479,43368,1,"I know that you specificity ask for a framework but I thought I would let you know about what I get up to here. I have just undergone converting my company's web application from a custom in-house ORM layer into sqlAlchemy so I am far from an expert but something that occurred to me was that sqlAlchemy has types for all of the attributes it maps from the database so why not use that to help output the right html onto the page. So we use sqlAlchemy for the back end and Cheetah templates for the front end but everything in between is basically our own still. We have never managed to find a framework that does exactly what we want without compromise and prefer to get all the bits that work right for us and write the glue our selves. Step 1. For each data type sqlAlchemy.types.INTEGER etc. Add an extra function toHtml (or many maybe toHTMLReadOnly, toHTMLAdminEdit whatever) and just have that return the template for the html, now you don't even have to care what data type your displaying if you just want to spit out a whole table you can just do (as a cheetah template or what ever your templating engine is). Step 2 &lt;table&gt; &lt;tr&gt; #for $field in $dbObject.c: &lt;th&gt;$field.name&lt;/th&gt; #end for &lt;/tr&gt; &lt;tr&gt; #for $field in dbObject.c: &lt;td&gt;$field.type.toHtml($field.name, $field.value)&lt;/td&gt; #end for &lt;/tr&gt; &lt;/table&gt; Using this basic method and stretching pythons introspection to its potential, in an afternoon I managed to make create read update and delete code for our whole admin section of out database, not yet with the polish of django but more then good enough for my needs. Step 3 Discovered the need for a third step just on Friday, wanted to upload files which as you know needs more then just the varchar data types default text box. No sweat, I just overrode the rows class in my table definition from VARCHAR to FilePath(VARCHAR) where the only difference was FilePath had a different toHtml method. Worked flawlessly. All that said, if there is a shrink wrapped one out there that does just what you want, use that. Disclaimer: This code was written from memory after midnight and probably wont produce a functioning web page."
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,198348,43368,5,"web2py does most of what you ask: Based on a field type and its validators it will render the field with the appropriate widget. You can override with db.table.field.widget=... and use a third party widget. web2py has js to blocks the user from entering a non-integer in a integer field or a non-double in a double field. time, date and datetime fields have their own pickers. These js validation work with (not instead) of server side validation. There is IS_EMPTY_OR(...) validator. The DAL prevents SQL injections since everthing is escaped when goes in the DB. web2py prevents XSS because in {{=variable}}, 'variable' is escaped unless specified otherwise {{=XML(variable)}} or {{=XML(variable,sanitize=True)}} Error messages are arguments of validators for example db.table.field.requires=IS_NOT_EMPTY(error_message=T('hey! write something in here')) T is for internationalization."
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,43588,43580,53,"The mimetypes module in the standard library will determine/guess the MIME type from a file extension. If users are uploading files the HTTP post will contain the MIME type of the file alongside the data. For example, Django makes this data available as an attribute of the UploadedFile object."
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,43616,43580,5,"You didn't state what web server you were using, but Apache has a nice little module called Mime Magic which it uses to determine the type of a file when told to do so. It reads some of the file's content and tries to figure out what type it is based on the characters found. And as Dave Webb Mentioned the MimeTypes Module under python will work, provided an extension is handy. Alternatively, if you are sitting on a UNIX box you can use sys.popen('file -i ' + fileName, mode='r') to grab the MIME type. Windows should have an equivalent command, but I'm unsure as to what it is."
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,1662074,43580,8,"in python 2.6: mime = subprocess.Popen(""/usr/bin/file --mime PATH"", shell=True, \ stdout=subprocess.PIPE).communicate()[0]"
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,2133843,43580,39,"More reliable way than to use the mimetypes library would be to use the python-magic package. import magic m = magic.open(magic.MAGIC_MIME) m.load() m.file(""/tmp/document.pdf"") This would be equivalent to using file(1). On Django one could also make sure that the MIME type matches that of UploadedFile.content_type."
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,2753385,43580,111,"The python-magic method suggested by toivotuo is outdated. Python-magic's current trunk is at Github and based on the readme there, finding the MIME-type, is done like this. # For MIME types &gt;&gt;&gt; import magic &gt;&gt;&gt; mime = magic.Magic(mime=True) &gt;&gt;&gt; mime.from_file(""testdata/test.pdf"") 'application/pdf' &gt;&gt;&gt;"
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,43736,43709,2,"If you've never done any CGI programming before I think it would be worth doing one project - perhaps just a sample play site just for yourself - using the DIY approach. You'll learn a lot more about how all the various parts work than you would by using a framework. This will help in you design and debug and so on all your future web applications however you write them. Personally I now use Django. The real benefit is very fast application deployment. The object relational mapping gets things moving fast and the template library is a joy to use. Also the admin interface gives you basic CRUD screens for all your objects so you don't need to write any of the ""boring"" stuff. The downside of using an ORM based solution is that if you do want to handcraft some SQL, say for performance reasons, it much harder than it would have been otherwise, although still very possible."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,43753,43709,7,"If you decide to go with a framework that is WSGI-based (for instance TurboGears), I would recommend you go through the excellent article Another Do-It-Yourself Framework by Ian Bicking. In the article, he builds a simple web application framework from scratch. Also, check out the video Creating a web framework with WSGI by Kevin Dangoor. Dangoor is the founder of the TurboGears project."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,43773,43709,17,"CGI is great for low-traffic websites, but it has some performance problems for anything else. This is because every time a request comes in, the server starts the CGI application in its own process. This is bad for two reasons: 1) Starting and stopping a process can take time and 2) you can't cache anything in memory. You can go with FastCGI, but I would argue that you'd be better off just writing a straight WSGI app if you're going to go that route (the way WSGI works really isn't a whole heck of a lot different from CGI). Other than that, your choices are for the most part how much you want the framework to do. You can go with an all singing, all dancing framework like Django or Pylons. Or you can go with a mix-and-match approach (use something like CherryPy for the HTTP stuff, SQLAlchemy for the database stuff, paste for deployment, etc). I should also point out that most frameworks will also let you switch different components out for others, so these two approaches aren't necessarily mutually exclusive. Personally, I dislike frameworks that do too much magic for me and prefer the mix-and-match technique, but I've been told that I'm also completely insane. :) How much web programming experience do you have? If you're a beginner, I say go with Django. If you're more experienced, I say to play around with the different approaches and techniques until you find the right one."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,43835,43709,12,"The simplest web program is a CGI script, which is basically just a program whose standard output is redirected to the web browser making the request. In this approach, every page has its own executable file, which must be loaded and parsed on every request. This makes it really simple to get something up and running, but scales badly both in terms of performance and organization. So when I need a very dynamic page very quickly that won't grow into a larger system, I use a CGI script. One step up from this is embedding your Python code in your HTML code, such as with PSP. I don't think many people use this nowadays, since modern template systems have made this pretty obsolete. I worked with PSP for awhile and found that it had basically the same organizational limits as CGI scripts (every page has its own file) plus some whitespace-related annoyances from trying to mix whitespace-ignorant HTML with whitespace-sensitive Python. The next step up is very simple web frameworks such as web.py, which I've also used. Like CGI scripts, it's very simple to get something up and running, and you don't need any complex configuration or automatically generated code. Your own code will be pretty simple to understand, so you can see what's happening. However, it's not as feature-rich as other web frameworks; last time I used it, there was no session tracking, so I had to roll my own. It also has ""too much magic behavior"" to quote Guido (""upvars(), bah""). Finally, you have feature-rich web frameworks such as Django. These will require a bit of work to get simple Hello World programs working, but every major one has a great, well-written tutorial (especially Django) to walk you through it. I highly recommend using one of these web frameworks for any real project because of the convenience and features and documentation, etc. Ultimately you'll have to decide what you prefer. For example, frameworks all use template languages (special code/tags) to generate HTML files. Some of them such as Cheetah templates let you write arbitrary Python code so that you can do anything in a template. Others such as Django templates are more restrictive and force you to separate your presentation code from your program logic. It's all about what you personally prefer. Another example is URL handling; some frameworks such as Django have you define the URLs in your application through regular expressions. Others such as CherryPy automatically map your functions to urls by your function names. Again, this is a personal preference. I personally use a mix of web frameworks by using CherryPy for my web server stuff (form parameters, session handling, url mapping, etc) and Django for my object-relational mapping and templates. My recommendation is to start with a high level web framework, work your way through its tutorial, then start on a small personal project. I've done this with all of the technologies I've mentioned and it's been really beneficial. Eventually you'll get a feel for what you prefer and become a better web programmer (and a better programmer in general) in the process."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,44638,43709,1,"OK, rails is actually pretty good, but there is just a little bit too much magic going on in there (from the Ruby world I would much prefer merb to rails). I personally use Pylons, and am pretty darn happy. I'd say (compared to django), that pylons allows you to interchange ints internal parts easier than django does. The downside is that you will have to write more stuff all by youself (like the basic CRUD). Pros of using a framework: get stuff done quickly (and I mean lighning fast once you know the framework) everything is compying to standards (which is probably not that easy to achieve when rolling your own) easier to get something working (lots of tutorials) without reading gazillion articles and docs Cons: you learn less harder to replace parts (not that much of an issue in pylons, more so with django) harder to tweak some low-level stuff (like the above mentioned SQLs) From that you can probably devise what they are good for :-) Since you get all the code it is possible to tweak it to fit even the most bizzare situations (pylons supposedly work on the Google app engine now...)."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,87048,43709,4,"If you want to go big, choose Django and you are set. But if you want just to learn, roll your own framework using already mentioned WebOb - this can be really fun and I am sure you'll learn much more (plus you can use components you like: template system, url dispatcher, database layer, sessions, et caetera). In last 2 years I built few large sites using Django and all I can say, Django will fill 80% of your needs in 20% of time. Remaining 20% of work will take 80% of the time, no matter which framework you'd use."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,222159,43709,3,"It's always worth doing something the hard way - once - as a learning exercise. Once you understand how it works, pick a framework that suits your application, and use that. You don't need to reinvent the wheel once you understand angular velocity. :-) It's also worth making sure that you have a fairly robust understanding of the programming language behind the framework before you jump in -- trying to learn both Django and Python at the same time (or Ruby and Rails, or X and Y), can lead to even more confusion. Write some code in the language first, then add the framework. We learn to develop, not by using tools, but by solving problems. Run into a few walls, climb over, and find some higher walls!"
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,1209580,43709,2,"If you are using Python you should not start with CGI, instead start with WSGI (and you can use wsgiref.handlers.CGIHandler to run your WSGI script as a CGI script. The result is something that is basically as low-level as CGI (which might be useful in an educational sense, but will also be somewhat annoying), but without having to write to an entirely outdated interface (and binding your application to a single process model). If you want a less annoying, but similarly low-level interface, using WebOb would provide that. You would be implementing all the logic, and there will be few dark corners that you won't understand, but you won't have to spend time figuring out how to parse HTTP dates (they are weird!) or parse POST bodies. I write applications this way (without any other framework) and it is entirely workable. As a beginner, I'd advise this if you were interested in understanding what frameworks do, because it is inevitable you will be writing your own mini framework. OTOH, a real framework will probably teach you good practices of application design and structure. To be a really good web programmer, I believe you need to try both seriously; you should understand everything a framework does and not be afraid of its internals, but you should also spend time in a thoughtful environment someone else designed (i.e., an existing framework) and understand how that structure helps you."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,1873745,43709,1,"For smaller projects, rolling your own is fairly easy. Especially as you can simply import a templating engine like Genshi and get alot happening quite quickly and easily. Sometimes it's just quicker to use a screwdriver than to go looking for the power drill. Full blown frameworks provide alot more power, but do have to be installed and setup first before you can leverage that power. For larger projects, this is a negligible concern, but for smaller projects this might wind up taking most of your time - especially if the framework is unfamiliar."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43780,43775,9,Your Python interpreter is correct. One (stupid) way of calculating a modulus is to subtract or add the modulus until the resulting value is between 0 and (modulus â 1). e.g.: 13 mod 5 = (13 â 5) mod 5 = (13 â 10) mod 5 = 3 or in your case: â2 mod 5 = (â2 + 5) mod 5 = 3
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43781,43775,0,"Well, -2 divided by 5 would be 0 with a remainder of 3. I don't believe that should be very platform dependent, but I've seen stranger things."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43782,43775,0,"It is indeed 3. In modular arithmetic, a modulus is simply the remainder of a division, and the remainder of -2 divided by 5 is 3."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43783,43775,11,The result of the modulus operation on negatives seems to be programming language dependent and here is a listing http://en.wikipedia.org/wiki/Modulo_operation
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43785,43775,4,"Well, 0 % 5 should be 0, right? -1 % 5 should be 4 because that's the next allowed digit going in the reverse direction (i.e., it can't be 5, since that's out of range). And following along by that logic, -2 must be 3. The easiest way to think of how it will work is that you keep adding or subtracting 5 until the number falls between 0 (inclusive) and 5 (exclusive). I'm not sure about machine dependence - I've never seen an implementation that was, but I can't say it's never done."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43794,43775,15,"By the way: most programming languages would disagree with Python and give the result -2. Depending on the interpretation of modulus this is correct. However, the most agreed-upon mathematical definition states that the modulus of a and b is the (strictly positive) rest r of the division of a / b. More precisely, 0 &lt;= r &lt; b by definition."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43799,43775,0,"The result depends on the language. Python returns the sign of the divisor, where for example c# returns the sign of the dividend (ie. -2 % 5 returns -2 in c#)."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43837,43775,0,One explanation might be that negative numbers are stored using 2's complement. When the python interpreter tries to do the modulo operation it converts to unsigned value. As such instead of doing (-2) % 5 it actually computes 0xFFFF_FFFF_FFFF_FFFD % 5 which is 3.
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43863,43775,4,"As explained in other answers, there are many choices for a modulo operation with negative values. In general different languages (and different machine architectures) will give a different result. According to the Python reference manual, The modulo operator always yields a result with the same sign as its second operand (or zero); the absolute value of the result is strictly smaller than the absolute value of the second operand. is the choice taken by Python. Basically modulo is defined so that this always holds: x == (x/y)*y + (x%y) so it makes sense that (-2)%5 = -2 - (-2/5)*5 = 3"
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43916,43775,0,"Be careful not to rely on this mod behavior in C/C++ on all OSes and architectures. If I recall correctly, I tried to rely on C/C++ code like float x2 = x % n; to keep x2 in the range from 0 to n-1 but negative numbers crept in when I would compile on one OS, but things would work fine on another OS. This made for an evil time debugging since it only happened half the time!"
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,3224825,43775,5,"Like the documentation says in Binary arithmetic operations, Python assures that: The integer division and modulo operators are connected by the following identity: x == (x/y)*y + (x%y). Integer division and modulo are also connected with the built-in function divmod(): divmod(x, y) == (x/y, x%y). And truly, &gt;&gt;&gt; divmod(-2, 5) (-1, 3). Another way to visualize the uniformity of this method is to calculate divmod for a small sequence of numbers: &gt;&gt;&gt; for number in xrange(-10, 10): ... print divmod(number, 5) ... (-2, 0) (-2, 1) (-2, 2) (-2, 3) (-2, 4) (-1, 0) (-1, 1) (-1, 2) (-1, 3) (-1, 4) (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (1, 0) (1, 1) (1, 2) (1, 3) (1, 4)"
44084,31,"That's it. If you want to document a function or a class, you put a string just after the definition. For instance: def foo(): """"""This function does nothing."""""" pass But what about a module? How can I document what a file.py does?",How do I document a module in Python?,44094,44084,5,"It's easy, you just add a docstring at the top of the module."
44084,31,"That's it. If you want to document a function or a class, you put a string just after the definition. For instance: def foo(): """"""This function does nothing."""""" pass But what about a module? How can I document what a file.py does?",How do I document a module in Python?,44095,44084,33,"For the packages, you can document it in __init__.py. For the modules, you can add a docstring simply in the module file. All the information is here: http://www.python.org/dev/peps/pep-0257/"
44084,31,"That's it. If you want to document a function or a class, you put a string just after the definition. For instance: def foo(): """"""This function does nothing."""""" pass But what about a module? How can I document what a file.py does?",How do I document a module in Python?,44098,44084,6,You do it the exact same way. Put a string in as the first statement in the module.
44352,15,"In Python, given a module X and a class Y, how can I iterate or generate a list of all subclasses of Y that exist in module X?",Iterate over subclasses of a given class in a given module,44381,44352,9,"Here's one way to do it: import inspect def get_subclasses(mod, cls): """"""Yield the classes in module ``mod`` that inherit from ``cls``"""""" for name, obj in inspect.getmembers(mod): if hasattr(obj, ""__bases__"") and cls in obj.__bases__: yield obj"
44352,15,"In Python, given a module X and a class Y, how can I iterate or generate a list of all subclasses of Y that exist in module X?",Iterate over subclasses of a given class in a given module,44403,44352,1,"Given the module foo.py class foo(object): pass class bar(foo): pass class baz(foo): pass class grar(Exception): pass def find_subclasses(module, clazz): for name in dir(module): o = getattr(module, name) try: if issubclass(o, clazz): yield name, o except TypeError: pass &gt;&gt;&gt; import foo &gt;&gt;&gt; list(foo.find_subclasses(foo, foo.foo)) [('bar', &lt;class 'foo.bar'&gt;), ('baz', &lt;class 'foo.baz'&gt;), ('foo', &lt;class 'foo.foo'&gt;)] &gt;&gt;&gt; list(foo.find_subclasses(foo, object)) [('bar', &lt;class 'foo.bar'&gt;), ('baz', &lt;class 'foo.baz'&gt;), ('foo', &lt;class 'foo.foo'&gt;), ('grar', &lt;class 'foo.grar'&gt;)] &gt;&gt;&gt; list(foo.find_subclasses(foo, Exception)) [('grar', &lt;class 'foo.grar'&gt;)]"
44352,15,"In Python, given a module X and a class Y, how can I iterate or generate a list of all subclasses of Y that exist in module X?",Iterate over subclasses of a given class in a given module,47032,44352,4,"Can I suggest that neither of the answers from Chris AtLee and zacherates fulfill the requirements? I think this modification to zacerates answer is better: def find_subclasses(module, clazz): for name in dir(module): o = getattr(module, name) try: if (o != clazz) and issubclass(o, clazz): yield name, o except TypeError: pass The reason I disagree with the given answers is that the first does not produce classes that are a distant subclass of the given class, and the second includes the given class."
44352,15,"In Python, given a module X and a class Y, how can I iterate or generate a list of all subclasses of Y that exist in module X?",Iterate over subclasses of a given class in a given module,408465,44352,19,"Although Quamrana's suggestion works fine, there are a couple of possible improvements I'd like to suggest to make it more pythonic. They rely on using the inspect module from the standard library. You can avoid the getattr call by using inspect.getmembers() The try/catch can be avoided by using inspect.isclass() With those, you can reduce the whole thing to a single list comprehension if you like: def find_subclasses(module, clazz): return [ cls for name, cls in inspect.getmembers(module) if inspect.isclass(cls) and issubclass(cls, clazz) ]"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44781,44778,333,"myList = ['a','b','c','d'] myString = "","".join(myList ) This won't work if the list contains numbers. As Ricardo Reyes suggested, if it contains non-string types (such as integers, floats, bools, None) then do: myList = ','.join(map(str, myList))"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44788,44778,42,"Why the map/lambda magic? Doesn't this work? &gt;&gt;&gt;foo = [ 'a', 'b', 'c' ] &gt;&gt;&gt;print "","".join(foo) a,b,c &gt;&gt;&gt;print "","".join([]) &gt;&gt;&gt;print "","".join(['a']) a Edit: @mark-biek points out the case for numbers. Perhaps the list comprehension: &gt;&gt;&gt;','.join([str(x) for x in foo]) is more ""pythonic"". Edit2: Thanks for the suggestions. I'll use the generator rather than the list comprehension in the future. &gt;&gt;&gt;','.join(str(x) for x in foo)"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44791,44778,10,"Don't you just want: "","".join(l) Obviously it gets more complicated if you need to quote/escape commas etc in the values. In that case I would suggest looking at the csv module in the standard library: https://docs.python.org/library/csv.html"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44794,44778,2,"Unless I'm missing something, ','.join(foo) should do what you're asking for. &gt;&gt;&gt; ','.join(['']) '' &gt;&gt;&gt; ','.join(['s']) 's' &gt;&gt;&gt; ','.join(['a','b','c']) 'a,b,c' (edit: and as jmanning2k points out, ','.join([str(x) for x in foo]) is safer and quite Pythonic, though the resulting string will be difficult to parse if the elements can contain commas -- at that point, you need the full power of the csv module, as Douglas points out in his answer.)"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44878,44778,5,"@jmanning2k using a list comprehension has the downside of creating a new temporary list. The better solution would be using itertools.imap which returns an iterator from itertools import imap l = [1, ""foo"", 4 ,""bar""] "","".join(imap(str, l))"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,46233,44778,6,"@Peter Hoffmann Using generator expressions has the benefit of also producing an iterator but saves importing itertools. Furthermore, list comprehensions are generally preferred to map, thus, I'd expect generator expressions to be preferred to imap. &gt;&gt;&gt; l = [1, ""foo"", 4 ,""bar""] &gt;&gt;&gt; "","".join(str(bit) for bit in l) '1,foo,4,bar'"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,65255,44778,2,"l=['a', 1, 'b', 2] print str(l)[1:-1] Output: ""'a', 1, 'b', 2"""
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,156851,44778,5,"Here is a alternative solution in Python 3.0 which allows non-string list items: &gt;&gt;&gt; alist = ['a', 1, (2, 'b')] a standard way &gt;&gt;&gt; "", "".join(map(str, alist)) ""a, 1, (2, 'b')"" the alternative solution &gt;&gt;&gt; import io &gt;&gt;&gt; s = io.StringIO() &gt;&gt;&gt; print(*alist, file=s, sep=', ', end='') &gt;&gt;&gt; s.getvalue() ""a, 1, (2, 'b')"" NOTE: The space after comma is intentional."
44834,409,"I have been using Python more and more, and I keep seeing the variable __all__ set in different __init__.py files. Can someone explain what this does?",Can someone explain all in Python?,44842,44834,198,It's a list of public objects of that module. It overrides the default of hiding everything that begins with an underscore.
44834,409,"I have been using Python more and more, and I keep seeing the variable __all__ set in different __init__.py files. Can someone explain what this does?",Can someone explain all in Python?,44843,44834,43,"From (An Unofficial) Python Reference Wiki: The public names defined by a module are determined by checking the module's namespace for a variable named __all__; if defined, it must be a sequence of strings which are names defined or imported by that module. The names given in __all__ are all considered public and are required to exist. If __all__ is not defined, the set of public names includes all names found in the module's namespace which do not begin with an underscore character (""_""). __all__ should contain the entire public API. It is intended to avoid accidentally exporting items that are not part of the API (such as library modules which were imported and used within the module)."
44834,409,"I have been using Python more and more, and I keep seeing the variable __all__ set in different __init__.py files. Can someone explain what this does?",Can someone explain all in Python?,64130,44834,483,"Linked to, but not explicitly mentioned here, is exactly when __all__ is used. It is a list of strings defining what symbols in a module will be exported when from &lt;module&gt; import * is used on the module. For example, the following code in a foo.py explicitly exports the symbols bar and baz: __all__ = ['bar', 'baz'] waz = 5 bar = 10 def baz(): return 'baz' These symbols can then be imported like so: from foo import * print bar print baz # The following will trigger an exception, as ""waz"" is not exported by the module print waz If the __all__ above is commented out, this code will then execute to completion, as the default behaviour of import * is to import all symbols that do not begin with an underscore, from the given namespace. Reference: https://docs.python.org/3.5/tutorial/modules.html#importing-from-a-package NOTE: __all__ affects the from &lt;module&gt; import * behavior only. Members that are not mentioned in __all__ are still accessible from outside the module and can be imported with from &lt;module&gt; import &lt;member&gt;."
44834,409,"I have been using Python more and more, and I keep seeing the variable __all__ set in different __init__.py files. Can someone explain what this does?",Can someone explain all in Python?,2838800,44834,76,"It also changes what pydoc will show: module1.py a = ""A"" b = ""B"" c = ""C"" module2.py __all__ = ['a', 'b'] a = ""A"" b = ""B"" c = ""C"" $ pydoc module1 Help on module module1: NAME module1 FILE module1.py DATA a = 'A' b = 'B' c = 'C' $ pydoc module2 Help on module module2: NAME module2 FILE module2.py DATA __all__ = ['a', 'b'] a = 'A' b = 'B' I declare __all__ in all my modules, as well as underscore internal details, these really help when using things you've never used before in live interpreter sessions."
45013,1,"I know, I would have thought the answer was obviously ""no"" as well, but I am experiencing a strange situation where when I view my site from our staging server it appears slightly larger than when I view it from my local dev server. I have used Charles to confirm that all of the content -- the HTML, the images, the CSS, the javascript, everything is the same. The ONLY difference in the traffic is that (because the local site is served from the Django development mode server) the response headers look like this: HTTP/1.0 200 OK Server WSGIServer/0.1 Python/2.5.2 Date Thu, 04 Sep 2008 23:56:10 GMT Vary Cookie Content-Length 2301 Content-Type text/html; charset=utf-8 Whereas on the staging server (where Django is running inside Apache) the headers look like this: HTTP/1.1 200 OK Date Thu, 04 Sep 2008 23:56:06 GMT Server Apache/2.2.8 (Ubuntu) mod_python/3.3.1 Python/2.5.2 PHP/5.2.4-2ubuntu5 with Suhosin-Patch Vary Cookie Content-Length 2301 Content-Type text/html; charset=utf-8 So, as far as I can tell the only differences are HTTP/1.1 vs HTTP/1.0, the server identifer (Apache vs WSGIServer) and the order of the Date/Server headers. To elaborate a bit further on the differences in appearance, basically it appears as if the version of the site on the staging server is ""zoomed in"" by about 10%. For example, the primary logo which dominates our home page is 220 pixels wide but when server from our staging server shows up as 245 pixels wide. Everything else on the page, (other images, text, spacing, etc) is also proportionately larger. This is all in Firefox 3. I don't have any other browsers available to test with at the moment. Has anyone else encountered any bizarre behavior anything like this before? I am at a loss.",Can the HTTP version or headers affect the visual appearance of a web page?,45016,45013,8,Have you tried View -> Zoom -> Reset on both sites?
45122,35,"Say I have the following file structure: app/ app.py controllers/ __init__.py project.py plugin.py If app/controllers/project.py defines a class Project, app.py would import it like this: from app.controllers.project import Project I'd like to just be able to do: from app.controllers import Project How would this be done?","Python packages - import by class, not file",45126,45122,71,"You need to put from project import Project in controllers/__init__.py. Note that when Absolute imports become the default (Python 2.7?), you will want to add a dot before the module name (to avoid collisions with a top-level model named project), i.e., from .project import Project"
45228,14,"I've been unable to find a source for this information, short of looking through the Python source code myself to determine how the objects work. Does anyone know where I could find this online?",Where can I find the time and space complexity of the built-in sequence types in Python,45245,45228,2,"If your asking what I think your asking, you can find them Here... page 476 and on. It's written around optimization techniques for Python; It's mostly Big-O notation of time efficiencies not much memory."
45228,14,"I've been unable to find a source for this information, short of looking through the Python source code myself to determine how the objects work. Does anyone know where I could find this online?",Where can I find the time and space complexity of the built-in sequence types in Python,45538,45228,12,"Raymond D. Hettinger does an excellent talk (slides) about Python's built-in collections called 'Core Python Containers - Under the Hood'. The version I saw focussed mainly on set and dict, but list was covered too. There are also some photos of the pertinent slides from EuroPython in a blog. Here is a summary of my notes on list: Stores items as an array of pointers. Subscript costs O(1) time. Append costs amortized O(1) time. Insert costs O(n) time. Tries to avoid memcpy when growing by over-allocating. Many small lists will waste a lot of space, but large lists never waste more than about 12.5% to overallocation. Some operations pre-size. Examples given were range(n), map(), list(), [None] * n, and slicing. When shrinking, the array is realloced only when it is wasting 50% of space. pop is cheap."
45228,14,"I've been unable to find a source for this information, short of looking through the Python source code myself to determine how the objects work. Does anyone know where I could find this online?",Where can I find the time and space complexity of the built-in sequence types in Python,46201,45228,16,Checkout the TimeComplexity page on the py dot org wiki. It covers set/dicts/lists/etc at least as far as time complexity goes.
45500,7,If possible I want to catch pressure sensitive input from a Wacom tablet in Python. Are there any Python libraries available that can do this?,Wacom tablet Python interface,45564,45500,3,"You could perhaps take a look at the software described here. It is a gnome applet, written in Python. From the web site: ""The gnome wacom applet is a small gnome panel applet that shows how much pressure is being applied to your wacom tablet by the current device. Clicking on the panel icon brings up a dialog allowing you to select a different device and check what pressure and tilt information is being recieved from it. This dialog also contains a small drawing test area to give your pen a quick test."" Google is your friend"
45507,11,"I'm looking to create favicon.ico files programatically from Python, but PIL only has support for reading ico files.",Is there a Python library for generating .ico files?,45519,45507,6,"Perhaps the following would work: Generate your icon image using PIL Convert the image to .ico format using the python interface to ImageMagick, PythonMagick I have not tried this approach. The ImageMagick convert command line program was able to convert a .png file to .ico format, so at least ImageMagick supports the .ico format."
45507,11,"I'm looking to create favicon.ico files programatically from Python, but PIL only has support for reading ico files.",Is there a Python library for generating .ico files?,45520,45507,2,"I don't know if this applies for all cases, but on WinXP an .ico can be a bmp of size 16x16, 32x32 or 64x64. Just change the extension to ico from bmp and you're ready to go."
45507,11,"I'm looking to create favicon.ico files programatically from Python, but PIL only has support for reading ico files.",Is there a Python library for generating .ico files?,45832,45507,6,"According to Wikipedia modern browsers can handle favicons in PNG format, so maybe you could just generate that? Alternatively the ICO article describes the format..."
45540,5,"Iâve writen a little python script that just pops up a message box containing the text passed on the command line. I want to pop it up only when the window âresulting from a previous callâ is not open. from Tkinter import * import tkMessageBox root = Tk() root.withdraw() # TODO not if a window with this title exists tkMessageBox.showinfo(""Key you!"", "" "".join(sys.argv[1:])) Any idea how to check that?",How to know whether a window with a given title is already open in Tk?,46205,45540,1,"I believe you want: if 'normal' != root.state(): tkMessageBox.showinfo(""Key you!"", "" "".join(sys.argv[1:]))"
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,46028,45954,3,"I don't know of any, but if all else fails you could use ctypes to directly use libdwarf, libelf or libbfd."
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,510623,45954,4,You should give Construct a try. It is very useful to parse binary data into python objects. There is even an example for the ELF32 file format.
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,1352742,45954,3,"I've been developing a DWARF parser using Construct. Currently fairly rough, and parsing is slow. But I thought I should at least let you know. It may suit your needs, with a bit of work. I've got the code in Mercurial, hosted at bitbucket: http://bitbucket.org/cmcqueen1975/pythondwarf/ http://bitbucket.org/cmcqueen1975/construct/ (necessary modifications to Construct library) Construct is a very interesting library. DWARF is a complex format (as I'm discovering) and pushes Construct to its limits I think."
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,3023558,45954,2,hachior is another library for parsing binary data
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,3647010,45954,8,"You might be interested in the DWARF library from pydevtools: &gt;&gt;&gt; from bintools.dwarf import DWARF &gt;&gt;&gt; dwarf = DWARF('test/test') &gt;&gt;&gt; dwarf.get_loc_by_addr(0x8048475) ('/home/emilmont/Workspace/dbg/test/main.c', 36, 0)"
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,47201,47198,4,"I've not seen a system with less than 2.3 installed for some time. Mostly 2.4+ is installed by default for most OS I use now. 2.3 is just on an older Solaris machine. Linux distros tend to have 2.4+, as does OS X. IIRC, 2.4 has a lot of the features 2.5 does, but usable only with from __future__ import *"
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,47208,47198,6,"As python is in kind of an transition phase towards python 3 with breaking backward compatibility I don't think it is a good idea to go python 3 only. Based on the time line there will be at least one or two following releases of the 2.x series after 2.6/3.0 in october. Beside not having python 3 available on your target platforms, it will take some time until important external python libraries will be ported and usable on python 3. So as Matthew suggests staying at 2.4/2.5 and keeping the transition plan to python 3 in mind is a solid choice."
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,47264,47198,1,"You can use different versions of python on each machine. Coding something new, I would not use anything less than python2.5. You can do apt-get install python2.5 on stock debian stable. For windows, don't really worry about it. It's very easy to install the python2.5 msi. If the users can't be bothered to do that, you can deploy an executable with py2exe (so simple) and build an installer with inno setup (again simple) then it will behave like a standard windows application and will use its own python dlls, so no need to have python installed. Like Peter said: keep in mind the transition to 3.0 but don't build on it yet."
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,48175,47198,1,"Python 2.3, or 2.2 if you can live without the many modules that were added (e.g. datetime, csv, logging, optparse, zipimport), aren't using SSL, and are willing to add boilerplate for True/False. 2.4 added decorators. generator expressions, reversed(), sorted(), and the subprocess and decimal modules. Although these are all nice, it's easy to write Pythonic code without them (assuming that your project wouldn't make heavy use of them). 2.5 added with, relative imports, better 64 bit support, and quite a bit of speed. You could live without all of those easily enough. 2.6 isn't released (although it's very close), so while it might appeal to developers, it doesn't have the compatibility you're after. Take a look at the release notes for 2.3, 2.4, 2.5, and the upcoming 2.6 (use http://www.python.org/download/releases/2.Y/highlights/ where 'Y' is the minor version). FWIW, for SpamBayes we support 2.2 and above (2.2 requires installing the email package separately). This isn't overly taxing, but the 2.3 additions are useful enough and 2.3 old enough that we'll probably drop 2.2 before long."
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,2036609,47198,0,"If the project is going to be mainstream and will be run on Linux the only sensible choise is 2.4 - just because it is a pain to get anything else installed as default on Enterprise Linuxes. In any case, any modern OS will/can have 2.4 or newer."
47207,7,"Can I print out a url /admin/manage/products/add of a certain view in a template? Here is the rule I want to create a link for (r'^manage/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), I would like to have /manage/products/add in a template without hardcoding it. How can I do this? Edit: I am not using the default admin (well, I am but it is at another url), this is my own",Django: Print url of view without hardcoding the url,47212,47207,2,If you use named url patterns you can do the follwing in your template {% url create_object %}
47207,7,"Can I print out a url /admin/manage/products/add of a certain view in a template? Here is the rule I want to create a link for (r'^manage/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), I would like to have /manage/products/add in a template without hardcoding it. How can I do this? Edit: I am not using the default admin (well, I am but it is at another url), this is my own",Django: Print url of view without hardcoding the url,47213,47207,0,The preferred way of creating the URL is by adding a get_absolute_url method to your model classes. You can hardcode the path there so you at least get closer to following the KISS philosophy. You can go further by utilizing the permalink decorator that figures the path based on the urls configuration. You can read more in the django documentation here.
47207,7,"Can I print out a url /admin/manage/products/add of a certain view in a template? Here is the rule I want to create a link for (r'^manage/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), I would like to have /manage/products/add in a template without hardcoding it. How can I do this? Edit: I am not using the default admin (well, I am but it is at another url), this is my own",Django: Print url of view without hardcoding the url,47304,47207,15,"You can use get_absolute_url, but that will only work for a particular object. Since your object hasn't been created yet, it won't work in this case. You want to use named URL patterns. Here's a quick intro: Change the line in your urls.py to: (r'^manage/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}, ""create-product""), Then, in your template you use this to display the URL: {% url create-product %} If you're using Django 1.5 or higher you need this: {% url 'create-product' %} You can do some more powerful things with named URL patterns, they're very handy. Note that they are only in the development version (and also 1.0)."
47253,22,"I work in a windows environment and would prefer to deploy code to IIS. At the same time I would like to code in python. Having read that IIS can run fastCGI application, I went to the IIS site where it describes in detail how to get PHP up and running but not much about anything else. Does anyone have experience getting a Python framework running under IIS using something other that plain old CGI? If so can you explain to direct me to some instructions on setting this up?",How do you set up a python wsgi server under IIS?,47266,47253,20,There shouldn't be any need to use FastCGI. There exists a ISAPI extension for WSGI.
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,47744,47701,0,"What platform are you attempting this on? Most debuggers allow you to attach to a running process by using the process id. You can either output the process id via logging or using something like Task Manager. Once that is achieved it will be possible to inspect individual threads and their call stacks. EDIT: I don't have any experience with GNU Debugger (GDB), which is cross platform, however I found this link and it may start you on the right path. It explains how to add debug symbols (handy for reading stack traces) and how to instruct gdb to attach to a running python process."
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,56510,47701,8,"Yeah, gdb is good for lower level debugging. You can change threads with the thread command. e.g (gdb) thr 2 [Switching to thread 2 (process 6159 thread 0x3f1b)] (gdb) backtrace .... You could also check out Python specific debuggers like Winpdb, or pydb. Both platform independent."
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,59179,47701,3,"If you mean the pydb, there is no way to do it. There was some effort in that direction: see the svn commit, but it was abandoned. Supposedly winpdb supports it."
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,277800,47701,3,"My experience debugging multi-threaded programs in PyDev (Eclipse on Windows XP) is, threads created using thread.start_new_thread could not be hooked, but thread created using threading.Thread could be hooked. Hope the information is helpful."
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,550795,47701,6,"You can attach a debugger to a multi-threaded Python process, but you need to do it at the C level. To make sense of what's going on, you need the Python interpreter to be compiled with symbols. If you don't have one, you need to download source from python.org and build it yourself: ./configure --prefix=/usr/local/pydbg make OPT=-g sudo make install sudo ln -s /usr/local/pydbg/bin/python /usr/local/bin/dbgpy Make sure your workload is running on that version of the interpreter. You can then attach to it with GDB at any time. The Python folks have included a sample "".gdbinit"" in their Misc directory, which has some useful macros. However it's broken for multi-threaded debugging (!). You need to replace lines like this while $pc &lt; Py_Main || $pc &gt; Py_GetArgcArgv with the following: while ($pc &lt; Py_Main || $pc &gt; Py_GetArgcArgv) &amp;&amp; ($pc &lt; t_bootstrap || $pc &gt; thread_PyThread_start_new_thread) Otherwise commands like pystack won't terminate on threads other than the main thread. With this stuff in place, you can do stuff like gdb&gt; attach &lt;PID&gt; gdb&gt; info threads gdb&gt; thread &lt;N&gt; gdb&gt; bt gdb&gt; pystack gdb&gt; detach and see what's going on. Kind of. You can parse what the objects are with the ""pyo"" macro. Chris has some examples on his blog. Good luck. (Shoutout for Dan's blog for some key information for me, notably the threading fix!)"
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,553633,47701,12,"Use Winpdb. It is a platform independent graphical GPL Python debugger with support for remote debugging over a network, multiple threads, namespace modification, embedded debugging, encrypted communication and is up to 20 times faster than pdb. Features: GPL license. Winpdb is Free Software. Compatible with CPython 2.3 through 2.6 and Python 3000 Compatible with wxPython 2.6 through 2.8 Platform independent, and tested on Ubuntu Gutsy and Windows XP. User Interfaces: rpdb2 is console based, while winpdb requires wxPython 2.6 or later."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,47792,47789,59,"Use list comprehensions when the result needs to be iterated over multiple times, or where speed is paramount. Use generator expressions where the range is large or infinite."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,47793,47789,89,"Iterating over the generator expression or the list comprehension will do the same thing. However, the list comprehension will create the entire list in memory first while the generator expression will create the items on the fly, so you are able to use it for very large (and also infinite!) sequences."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,47826,47789,168,"John's answer is good (that list comprehensions are better when you want to iterate over something multiple times). However, it's also worth noting that you should use a list if you want to use any of the list methods. For example, the following code won't work: def gen(): return (something for something in get_some_stuff()) print gen()[:2] # generators don't support indexing or slicing print [5,6] + gen() # generators can't be added to lists Basically, use a generator expression if all you're doing is iterating once. If you want to store and use the generated results, then you're probably better off with a list comprehension. Since performance is the most common reason to choose one over the other, my advice is to not worry about it and just pick one; if you find that your program is running too slowly, then and only then should you go back and worry about tuning your code."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,53255,47789,3,"Sometimes you can get away with the tee function from itertools, it returns multiple iterators for the same generator that can be used independently."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,189840,47789,34,"The benefit of a generator expression is that it uses less memory since it doesn't build the whole list at once. Generator expressions are best used when the list is an intermediary, such as summing the results, or creating a dict out of the results. For example: sum(x*2 for x in xrange(256)) dict( ((k, some_func(k) for k in some_list_of_keys) ) The advantage there is that the list isn't completely generated, and thus little memory is used (and should also be faster) You should, though, use list comprehensions when the desired final product is a list. You are not going to save any memeory using generator expressions, since you want the generated list. You also get the benefit of being able to use any of the list functions like sorted or reversed. For example: reversed( [x*2 for x in xrange(256)] )"
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,52136,47801,1,I don't think AuthKit is actively maintained anymore. It does use the Paste (http://pythonpaste.org) libs though for things like HTTP Basic/Digest authentication. I would probably go ahead and take a look at the source for some inspiration and then use the Paste tools if you want to use HTTP authentication. There is also OpenID which is very easy to setup. The python-openid libs have an excellent example that is easy to translate to WSGI for wrapping a Pylons app. You can look at an example: http://ionrock.org/hg/brightcontent-main/file/d87b7dcc606c/brightcontent/plugins/openidauth.py
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,61614,47801,1,"This actually got me interested:Check out this mailing on the pylons list. So AuthKit is being developed, and I will follow the book and get back on the results."
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,139574,47801,2,"Ok, another update on the subject. It seems that the cheeseshop template is broken. I've followed the chapter you linked in the post and it seems that authkit is working fine. There are some caveats: sqlalchemy has to be in 0.5 version authkit has to be the dev version from svn (easy_install authkit==dev) I managed to get it working fine."
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,255183,47801,0,Check out this tutorial: http://wiki.pylonshq.com/display/pylonscookbook/AuthKit+0.4+UsersFromDatabase+with+SQLAlchemy+0.4+and+SQLAlchemyManager
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,948216,47801,3,I gave up on authkit and rolled my own: http://tonylandis.com/openid-db-authentication-in-pylons-is-easy-with-rpx/
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,47956,47953,29,"From the Python Enterprise Application Kit community: ""Eggs are to Pythons as Jars are to Java..."" Python eggs are a way of bundling additional information with a Python project, that allows the project's dependencies to be checked and satisfied at runtime, as well as allowing projects to provide plugins for other projects. There are several binary formats that embody eggs, but the most common is '.egg' zipfile format, because it's a convenient one for distributing projects. All of the formats support including package-specific data, project-wide metadata, C extensions, and Python code. The primary benefits of Python Eggs are: They enable tools like the ""Easy Install"" Python package manager .egg files are a ""zero installation"" format for a Python package; no build or install step is required, just put them on PYTHONPATH or sys.path and use them (may require the runtime installed if C extensions or data files are used) They can include package metadata, such as the other eggs they depend on They allow ""namespace packages"" (packages that just contain other packages) to be split into separate distributions (e.g. zope., twisted., peak.* packages can be distributed as separate eggs, unlike normal packages which must always be placed under the same parent directory. This allows what are now huge monolithic packages to be distributed as separate components.) They allow applications or libraries to specify the needed version of a library, so that you can e.g. require(""Twisted-Internet>=2.0"") before doing an import twisted.internet. They're a great format for distributing extensions or plugins to extensible applications and frameworks (such as Trac, which uses eggs for plugins as of 0.9b1), because the egg runtime provides simple APIs to locate eggs and find their advertised entry points (similar to Eclipse's ""extension point"" concept). There are also other benefits that may come from having a standardized format, similar to the benefits of Java's ""jar"" format."
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,47957,47953,2,.egg files are basically a nice way to deploy your python application. You can think of it as something like .jar files for Java. More info here.
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,47958,47953,3,Eggs are a pretty good way to distribute python apps. Think of it as a platform independent .deb file that will install all dependencies and whatnot. The advantage is that it's easy to use for the end user. The disadvantage are that it can be cumbersome to package your app up as a .egg file. You should also offer an alternative means of installation in addition to .eggs. There are some people who don't like using eggs because they don't like the idea of a software program installing whatever software it wants. These usually tend to be sysadmin types.
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,137903,47953,1,"Whatever you do, do not stop distributing your application, also, as a tarball, as that is the easiest packagable format for operating systems with a package sysetem."
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,138090,47953,1,"For simple Python programs, you probably don't need to use eggs. Distributing the raw .py files should suffice; it's like distributing source files for GNU/Linux. You can also use the various OS ""packagers"" (like py2exe or py2app) to create .exe, .dmg, or other files for different operating systems. More complex programs, e.g. Django, pretty much require eggs due to the various modules and dependencies required."
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,197811,47953,3,"One egg by itself is not better than a proper source release. The good part is the dependency handling. Like debian or rpm packages, you can say you depend on other eggs and they'll be installed automatically (through pypi.python.org). A second comment: the egg format itself is a binary packaged format. Normal python packages that consist of just python code are best distributed as ""source releases"", so ""python setup.py sdist"" which result in a .tar.gz. These are also commonly called ""eggs"" when uploaded to pypi. Where you need binary eggs: when you're bundling some C code extension. You'll need several binary eggs (a 32bit unix one, a windows one, etc.) then."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,48136,48123,12,"Use GtkBuilder instead of Glade, it's integrated into Gtk itself instead of a separate library. The main benefit of Glade is that it's much, much easier to create the interface. It's a bit more work to connect signal handlers, but I've never felt that matters much."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,48734,48123,19,"I would say that it depends: if you find that using Glade you can build the apps you want or need to make than that's absolutely fine. If however you actually want to learn how GTK works or you have some non-standard UI requirements you will have to dig into GTK internals (which are not that complicated). Personally I'm usually about 5 minutes into a rich client when I need some feature or customization that is simply impossible through a designer such as Glade or Stetic. Perhaps it's just me. Nevertheless it is still useful for me to bootstrap window design using a graphical tool. My recommendation: if making rich clients using GTK is going to be a significant part of your job/hobby then learn GTK as well since you will need to write that code someday. P.S. I personally find Stetic to be superior to Glade for design work, if a little bit more unstable."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,54313,48123,5,"Glade is very useful for creating interfaces, it means you can easily change the GUI without doing much coding. You'll find that if you want to do anything useful (e.g. build a treeview) you will have to get familiar with various parts of the GTK documentation - in practice finding a good tutorial/examples."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,106889,48123,4,"I started out using glade, but soon moved to just doing everything in code. Glade is nice for simple things, and it's good when you're learning how GTK organizes the widgets (how things are packed, etc). Constructing everything in code, however, you have much more flexibility. Plus, you don't have the glade dependency."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,107959,48123,4,"I usually start with Glade until I come to a point where it doesn't have the features I need, e.g. creating a wizard. As long as I'm using the standard widgets that Glade provides, there's really no reason to hand-code the GUI. The more comfortable I become with how Glade formats the code, the better my hand-coding becomes. Not to mention, it's real easy to use Glade to make the underlying framework so you don't have to worry about all the initializations."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,199167,48123,1,"For quick and simple screens I use Glade. But for anything that needs finer levels of control, I create a custom classes for what I actually need (this is important, because it's too easy to get carried away with generalisations). With a skinny applications specific classes, I can rapidly change the look and feel application wide from a single place. Rather like using CSS to mantain consistency for web sites."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,305667,48123,2,"I recommend using Glade for rapid development, but not for learning. Why? because some times you will need to tune up some widgets in order to work as you want they to work, and if you don't really know/understand the properties attributes of every widget then you will be in troubles."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,524614,48123,4,"If you're writing a traditional GUI application which reuses a lot of standard components from GTK+ (buttons, labels, containers etc.) I'd personally go with Glade + Kiwi (a convenience framework for building GTK+ GUI applications). The single greatest advantage to using Glade is that it greatly reduces layout/packing code. Here's an extremely simply example which already shows the issues with manually laying out a GUI (without using any helper functions): container = gtk.HBox() label = gtk.Label(str=""test"") container.add(label) For more examples take a look here. Even if you're writing a complicated custom widget you can always create a placeholder in Glade and replace that after instantiation. It shouldn't be all too long now for the Glade team to release a new version of the designer (3.6.0). This new version will add support for GtkBuilder, which replaces libglade (the actual library that transforms the Glade XML files into a widget tree). The new Glade designer also once again adds support for defining catalogs (sets of widgets) in Python, so you can easily add your own custom widgets."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,751707,48123,1,"Personally I would recommend coding it out instead of using Glade. I'm still learning python and pyGtk but I will say that writing out the UI by hand gave me a lot of insight on how things work under the hood. Once you have it learned I'd say to give glade, or other UI designers a try but definitely learn how to do it the ""hard"" way first."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,2149087,48123,1,"First, start to put this in perspective. You will be using GTK. This is a huge C library built in 1993 using the best traditions of 1970s coding style. It was built to help implement the GIMP, a Photoshop competitor wanna-be with user interface blunders of legend. A typical gui field might have forty or more parameters, mostly repetitive, having getters and setters. There will be pain. The GTK itself manages a complete dynamic type system in C using GObject. This makes debugging a special joy that requires manually walking through arrays of pointers to methods full of generic argument lists with implicit inheritance. You will also be jumping through Pango libraries when you least expect it, e.g., using a Pango constant for where in a label the ellipsis go when the page is small. Expect more pain. By now, you are probably vowing to wrap all your GTK interactions in a Model-View-Controller architecture specific to your application. This is good. Using Glade, or gtkBuilder, or Stetic, will help coral the huge coupling problem of forty parameters to a function. Glade provides a basic GUI builder to drag and drop components together. The parameters and inherited parameters are somewhat separated out. The output of Glade is .glade XML file which you will then read in, attach your callbacks (""signal handlers"") to identically named functions, and query or update the in-memory version of that XML to get widgets that you then use pyGTK to manipulate. Glade itself is a creaky and not well maintained. Using pyGTK gives you annoyingly fine grained control in order to build your GUI. This will be verbose, copy-and-paste code. Each attribute will be a separate function call. The attribute setter does not return anything, so chaining the calls is out of the question. Usually, your IDE will give only minimal help on what functions mean and you will be constantly referring to DevHelp or some other tool. One would almost expect GTK GUIs were meant to fail."
48176,5,You can embed the IPython shell inside of your application so that it launches the shell in the foreground. Is there a way to embed a telnet server in a python app so that you can telnet to a certain port and launch a remote IPython shell? Any tips for redirecting the input/output streams for IPython or how to hook it up to a telnet server library or recommendations for other libraries that could be used to implement this are much appreciated.,Embedding a remote Python shell in an application,48214,48176,2,"Python includes a telnet client, but not a telnet server. You can implement a telnet server using Twisted. Here's an example. As for hooking these things together, that's up to you."
48176,5,You can embed the IPython shell inside of your application so that it launches the shell in the foreground. Is there a way to embed a telnet server in a python app so that you can telnet to a certain port and launch a remote IPython shell? Any tips for redirecting the input/output streams for IPython or how to hook it up to a telnet server library or recommendations for other libraries that could be used to implement this are much appreciated.,Embedding a remote Python shell in an application,48266,48176,0,I think you should base your server class on the SocketServer class from the standard library. You'll need to write a RequestHandler to read and echo input but a lot of the heavy lifting is already done for you. You can use the ThreadingMixIn to make the server multi-threaded very easily.
48176,5,You can embed the IPython shell inside of your application so that it launches the shell in the foreground. Is there a way to embed a telnet server in a python app so that you can telnet to a certain port and launch a remote IPython shell? Any tips for redirecting the input/output streams for IPython or how to hook it up to a telnet server library or recommendations for other libraries that could be used to implement this are much appreciated.,Embedding a remote Python shell in an application,55654,48176,1,"Use Twisted Manhole. Docs are a bit lacking, but it's easy enough to set up a telnet-based remote server and it comes with a GTK-based GUI. Main Twisted site twisted.manhole API docs"
48176,5,You can embed the IPython shell inside of your application so that it launches the shell in the foreground. Is there a way to embed a telnet server in a python app so that you can telnet to a certain port and launch a remote IPython shell? Any tips for redirecting the input/output streams for IPython or how to hook it up to a telnet server library or recommendations for other libraries that could be used to implement this are much appreciated.,Embedding a remote Python shell in an application,1764950,48176,0,Try to use xmlrpc namespace
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,48467,48458,1,"I am not entirely up to date on the latest best practices, et cetera when it comes to code layout, but when I did my first GAE application, I used something along your second option, where the code and templates are next to eachother. There was two reasons for this - one, it kept the code and template nearby, and secondly, I had the directory structure layout mimic that of the website - making it (for me) a bit easier too remember where everything was."
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,67533,48458,5,"I think the first option is considered the best practice. And make the code folder your first package. The Rietveld project developed by Guido van Rossum is a very good model to learn from. Have a look at it: http://code.google.com/p/rietveld With regard to Django 1.0, I suggest you start using the Django trunk code instead of the GAE built in django port. Again, have a look at how it's done in Rietveld."
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,70271,48458,96,"First, I would suggest you have a look at ""Rapid Development with Python, Django, and Google App Engine"" GvR describes a general/standard project layout on page 10 of his slide presentation. Here I'll post a slightly modified version of the layout/structure from that page. I pretty much follow this pattern myself. You also mentioned you had trouble with packages. Just make sure each of your sub folders has an __init__.py file. It's ok if its empty. Boilerplate files These hardly vary between projects app.yaml: direct all non-static requests to main.py main.py: initialize app and send it all requests Project lay-out static/*: static files; served directly by App Engine myapp/*.py: app-specific python code views.py, models.py, tests.py, __init__.py, and more templates/*.html: templates (or myapp/templates/*.html) Here are some code examples that may help as well: main.py import wsgiref.handlers from google.appengine.ext import webapp from myapp.views import * application = webapp.WSGIApplication([ ('/', IndexHandler), ('/foo', FooHandler) ], debug=True) def main(): wsgiref.handlers.CGIHandler().run(application) myapp/views.py import os import datetime import logging import time from google.appengine.api import urlfetch from google.appengine.ext.webapp import template from google.appengine.api import users from google.appengine.ext import webapp from models import * class IndexHandler(webapp.RequestHandler): def get(self): date = ""foo"" # Do some processing template_values = {'data': data } path = os.path.join(os.path.dirname(__file__) + '/../templates/', 'main.html') self.response.out.write(template.render(path, template_values)) class FooHandler(webapp.RequestHandler): def get(self): #logging.debug(""start of handler"") myapp/models.py from google.appengine.ext import db class SampleModel(db.Model): I think this layout works great for new and relatively small to medium projects. For larger projects I would suggest breaking up the views and models to have their own sub-folders with something like: Project lay-out static/: static files; served directly by App Engine js/*.js images/*.gif|png|jpg css/*.css myapp/: app structure models/*.py views/*.py tests/*.py templates/*.html: templates"
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,153862,48458,14,"My usual layout looks something like this: app.yaml index.yaml request.py - contains the basic WSGI app lib __init__.py - common functionality, including a request handler base class controllers - contains all the handlers. request.yaml imports these. templates all the django templates, used by the controllers model all the datastore model classes static static files (css, images, etc). Mapped to /static by app.yaml I can provide examples of what my app.yaml, request.py, lib/init.py, and sample controllers look like, if this isn't clear."
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,3105295,48458,2,I like webpy so I've adopted it as templating framework on Google App Engine. My package folders are typically organized like this: app.yaml application.py index.yaml /app /config /controllers /db /lib /models /static /docs /images /javascripts /stylesheets test/ utility/ views/ Here is an example.
48562,7,"I was wondering if anyone here had some experience writing this type of script and if they could give me some pointers. I would like to modify this script to validate that the check-in file does not have a Carriage Return in the EOL formatting. The EOL format is CR LF in Windows and LF in Unix. When a User checks-in code with the Windows format. It does not compile in Unix anymore. I know this can be done on the client side but I need to have this validation done on the server side. To achieve this, I need to do the following: 1) Make sure the file I check is not a binary, I dont know how to do this with svnlook, should I check the mime:type of the file? The Red Book does not indicate this clearly or I must have not seen it. 2) I would like to run the dos2unix command to validate that the file has the correct EOL format. I would compare the output of the dos2unix command against the original file. If there is a diff between both, I give an error message to the client and cancel the check-in. I would like your comments/feedback on this approach.",How do I implement a pre-commit hook script in SVN that calls dos2unix to validate checked-in file,48575,48562,1,"What exactly are you trying to do? Of course, there are numerous places to learn about svn pre-commit hooks (e.g. here , here, and in the Red Book) but it depends what you're trying to do and what is available on your system. Can you be more specific?"
48562,7,"I was wondering if anyone here had some experience writing this type of script and if they could give me some pointers. I would like to modify this script to validate that the check-in file does not have a Carriage Return in the EOL formatting. The EOL format is CR LF in Windows and LF in Unix. When a User checks-in code with the Windows format. It does not compile in Unix anymore. I know this can be done on the client side but I need to have this validation done on the server side. To achieve this, I need to do the following: 1) Make sure the file I check is not a binary, I dont know how to do this with svnlook, should I check the mime:type of the file? The Red Book does not indicate this clearly or I must have not seen it. 2) I would like to run the dos2unix command to validate that the file has the correct EOL format. I would compare the output of the dos2unix command against the original file. If there is a diff between both, I give an error message to the client and cancel the check-in. I would like your comments/feedback on this approach.",How do I implement a pre-commit hook script in SVN that calls dos2unix to validate checked-in file,50507,48562,4,I think you can avoid a commit hook script in this case by using the svn:eol-style property as described in the SVNBook: End-of-Line Character Sequences Subversion Properties This way SVN can worry about your line endings for you. Good luck!
48777,2,"I'm trying to get Google AppEngine to work on my Debian box and am getting the following error when I try to access my page: &lt;type 'exceptions.ImportError'&gt;: No module named core.exceptions The same app works fine for me when I run it on my other Ubuntu box, so I know it's not a problem with the app itself. However, I need to get it working on this Debian box. It originally had python 2.4 but after AppEngine complained about it I installed the python2.5 and python2.5-dev packages (to no avail). I saw on this Google Group post that it may be due to the version of AppEngine and just to reinstall it, but that didn't work. Any ideas? Edit 1: Also tried uninstalling python2.4 and 2.5 then reinstalling 2.5, which also didn't work. Edit 2: Turns out when I made AppEngine into a CVS project it didn't add the core directory into my project, so when I checked it out there literally was no module named core.exceptions. Re-downloading that folder resolved the problem.",Python: No module named core.exceptions,48806,48777,4,core.exceptions is part of django; what version of django do you have installed? The AppEngine comes with the appropriate version for whatever release you've downloaded (in the lib/django directory). It can be installed by going to that directory and running python setup.py install
49137,18,I would like to call python script files from my c++ program. I am not sure that the people I will distribute to will have python installed. Basically I'm looking for a .lib file that I can use that has an Apache like distribution license.,Calling python from a c++ program for distribution,49148,49137,15,Boost has a python interface library which could help you. Boost.Python
49137,18,I would like to call python script files from my c++ program. I am not sure that the people I will distribute to will have python installed. Basically I'm looking for a .lib file that I can use that has an Apache like distribution license.,Calling python from a c++ program for distribution,49319,49137,1,Embeding the Python interpreter inside your C++ app will let you run Python programs using your application run Python scripts. It will also make it easier possible for those scripts to call C++ functions in your application. If this is what you want then the Boost library mentioned previously may be what you want to make it easier to create the link. In the past I have used SWIG to generate Python interfaces to C++ code. It was not clear from your question whether you wanted the Python scripts to call your C++ program or whether you just wanted the C++ to call Python. Many of the Python functions use modules which are not built into the Python interpreter. If your Python scripts call these functions then you will either need to have your users install Python or include the python runtime files with your application. It will depend on what modules you import in you Python scripts.
49137,18,I would like to call python script files from my c++ program. I am not sure that the people I will distribute to will have python installed. Basically I'm looking for a .lib file that I can use that has an Apache like distribution license.,Calling python from a c++ program for distribution,49439,49137,1,"Boost is probably the best choice, however if you're wanting something that's more standalone, and if this is for use with Windows (which seems feasible given that they are the people least likely to have Python installed), then you can use py2exe to create a DLL with entry points suitable for COM objects. You can then interface with the library via COM. (Obviously this is not at all useful as a cross-platform solution)."
49137,18,I would like to call python script files from my c++ program. I am not sure that the people I will distribute to will have python installed. Basically I'm looking for a .lib file that I can use that has an Apache like distribution license.,Calling python from a c++ program for distribution,328451,49137,32,"I would like to call python script files from my c++ program. This means that you want to embed Python in your C++ application. As mentioned in Embedding Python in Another Application: Embedding Python is similar to extending it, but not quite. The difference is that when you extend Python, the main program of the application is still the Python interpreter, while if you embed Python, the main program may have nothing to do with Python â instead, some parts of the application occasionally call the Python interpreter to run some Python code. I suggest that you first go through Embedding Python in Another Application. Then refer the following examples Embedding Python in C/C++: Part I Embedding Python in C/C++: Part II Embedding Python in Multi-Threaded C/C++ Applications If you like Boost.Python, you may visit the following links: Embedding Python with Boost.Python Part 1"
49164,13,How do I turn a python program into an .egg file?,How do I turn a python program into an .egg file?,49169,49164,9,"Setuptools is the software that creates .egg files. It's an extension of the distutils package in the standard library. The process involves creating a setup.py file, then python setup.py bdist_egg creates an .egg package."
49164,13,How do I turn a python program into an .egg file?,How do I turn a python program into an .egg file?,49175,49164,3,"Also, if you need to get an .egg package off a single .py file app, check this link: EasyInstall - Packaging others projects as eggs."
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,49514,49307,5,"If I'm not mistaken the zip function you use in python creates a pair of the items found in list1 and list2. Basically it still is a for loop with the addition that it will retrieve the data from the two seperate lists for you, instead that you have to do it yourself. So maybe your best option is to use a standard for loop like this: for i=1:length(a) c(i) = a(i) + b(i); end or whatever you have to do with the data. If you really are talking about parallel computing then you should take a look at the Parallel Computing Toolbox for matlab, and more specifically at parfor"
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,51137,49307,3,"Tested only in octave... (no matlab license). Variations of arrayfun() exist, check the documentation. #!/usr/bin/octave -qf function result = dostuff(my_ten, my_one) result = my_ten + my_one endfunction tens = [ 10 20 30 ]; ones = [ 1 2 3]; x = arrayfun(@dostuff, tens, ones); x Yields... x = 11 22 33"
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,65903,49307,12,"If x and y are column vectors, you can do: for i=[x';y'] # do stuff with i(1) and i(2) end (with row vectors, just use x and y). Here is an example run: &gt;&gt; x=[1 ; 2; 3;] x = 1 2 3 &gt;&gt; y=[10 ; 20; 30;] y = 10 20 30 &gt;&gt; for i=[x';y'] disp(['size of I = ' num2str(size(i)) ', i(1) = ' num2str(i(1)) ', i(2) = ' num2str(i(2))]) end size of I = 2 1, i(1) = 1, i(2) = 10 size of I = 2 1, i(1) = 2, i(2) = 20 size of I = 2 1, i(1) = 3, i(2) = 30 &gt;&gt;"
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,80737,49307,1,"I second mattiast's answer. But, to dig a little deeper, is there no way to vectorize what you're trying to accomplish and avoid the iterative for loop? Perhaps with more details about what goes on inside the loop we could help vectorize the solution..."
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,138886,49307,1,"for loops in MATLAB used to be slow, but this is not true anymore. So Vectorizing is not always the miracle solution. just use the profiler, and tic and toc functions to help you identify possible bottlenecks"
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,218618,49307,1,"I would recommend to join the two arrays for the computation: % assuming you have column vectors a and b x = [a b]; for I = 1:length(a) % do stuff with one row... x(i,:); end This will work great if your functions can work with vectors. Then again, many functions can even work with matrices, so you wouldn't even need the loop."
49455,1,"Although the PDF specification is available from Adobe, it's not exactly the simplest document to read through. PDF allows documents to be encrypted so that either a user password and/or an owner password is required to do various things with the document (display, print, etc). A common use is to lock a PDF so that end users can read it without entering any password, but a password is required to do anything else. I'm trying to parse PDFs that are locked in this way (to get the same privileges as you would get opening them in any reader). Using an empty string as the user password doesn't work, but it seems (section 3.5.2 of the spec) that there has to be a user password to create the hash for the admin password. What I would like is either an explanation of how to do this, or any code that I can read (ideally Python, C, or C++, but anything readable will do) that does this so that I can understand what I'm meant to be doing. Standalone code, rather than reading through (e.g.) the gsview source, would be best.","How does one decrypt a PDF with an owner password, but no user password?",49485,49455,1,"A plugin for GSview for viewing encrypted PDFs is here. If this works for you, you may be able to look at the source."
49455,1,"Although the PDF specification is available from Adobe, it's not exactly the simplest document to read through. PDF allows documents to be encrypted so that either a user password and/or an owner password is required to do various things with the document (display, print, etc). A common use is to lock a PDF so that end users can read it without entering any password, but a password is required to do anything else. I'm trying to parse PDFs that are locked in this way (to get the same privileges as you would get opening them in any reader). Using an empty string as the user password doesn't work, but it seems (section 3.5.2 of the spec) that there has to be a user password to create the hash for the admin password. What I would like is either an explanation of how to do this, or any code that I can read (ideally Python, C, or C++, but anything readable will do) that does this so that I can understand what I'm meant to be doing. Standalone code, rather than reading through (e.g.) the gsview source, would be best.","How does one decrypt a PDF with an owner password, but no user password?",107838,49455,1,"If I remember correctly, there is a fixed padding string of 32 (?) bytes to apply to any password. All passwords need to be 32 bytes at the start of computing the encryption key, either by truncating or adding some of those padding bytes. If no user password was set you simply have to pad with all 32 bytes of the string, i.e. use the 32 padding bytes as the starting point for computing the encryption key. I have to admit it's been a while since I've done this, I do remember that the encryption part of the PDF is an absolute mess as it got changed significantly in nearly every revision, requiring you to cope with a lot of cases to handle all PDF's. Good luck."
49455,1,"Although the PDF specification is available from Adobe, it's not exactly the simplest document to read through. PDF allows documents to be encrypted so that either a user password and/or an owner password is required to do various things with the document (display, print, etc). A common use is to lock a PDF so that end users can read it without entering any password, but a password is required to do anything else. I'm trying to parse PDFs that are locked in this way (to get the same privileges as you would get opening them in any reader). Using an empty string as the user password doesn't work, but it seems (section 3.5.2 of the spec) that there has to be a user password to create the hash for the admin password. What I would like is either an explanation of how to do this, or any code that I can read (ideally Python, C, or C++, but anything readable will do) that does this so that I can understand what I'm meant to be doing. Standalone code, rather than reading through (e.g.) the gsview source, would be best.","How does one decrypt a PDF with an owner password, but no user password?",110110,49455,0,xpdf is probably a good reference implementation for this sort of problem. I have successfully used them to open encrypted pdfs before.
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,49828,49824,15,"I think this pair of articles by Philip J. Eby does a great job discussing the differences between the two languages (mostly about philosophy/mentality rather than specific language features). Python is Not Java Java is Not Python, either"
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,49837,49824,4,"One key difference in Python is significant whitespace. This puts a lot of people off - me too for a long time - but once you get going it seems natural and makes much more sense than ;s everywhere. From a personal perspective, Python has the following benefits over Java: No Checked Exceptions Optional Arguments Much less boilerplate and less verbose generally Other than those, this page on the Python Wiki is a good place to look with lots of links to interesting articles."
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,49911,49824,3,"With Jython you can have both. It's only at Python 2.2, but still very useful if you need an embedded interpreter that has access to the Java runtime."
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,49953,49824,40,"List comprehensions. I often find myself filtering/mapping lists, and being able to say [line.replace(""spam"",""eggs"") for line in open(""somefile.txt"") if line.startswith(""nee"")] is really nice. Functions are first class objects. They can be passed as parameters to other functions, defined inside other function, and have lexical scope. This makes it really easy to say things like people.sort(key=lambda p: p.age) and thus sort a bunch of people on their age without having to define a custom comparator class or something equally verbose. Everything is an object. Java has basic types which aren't objects, which is why many classes in the standard library define 9 different versions of functions (for boolean, byte, char, double, float, int, long, Object, short). Array.sort is a good example. Autoboxing helps, although it makes things awkward when something turns out to be null. Properties. Python lets you create classes with read-only fields, lazily-generated fields, as well as fields which are checked upon assignment to make sure they're never 0 or null or whatever you want to guard against, etc.' Default and keyword arguments. In Java if you want a constructor that can take up to 5 optional arguments, you must define 6 different versions of that constructor. And there's no way at all to say Student(name=""Eli"", age=25) Functions can only return 1 thing. In Python you have tuple assignment, so you can say spam, eggs = nee() but in Java you'd need to either resort to mutable out parameters or have a custom class with 2 fields and then have two additional lines of code to extract those fields. Built-in syntax for lists and dictionaries. Operator Overloading. Generally better designed libraries. For example, to parse an XML document in Java, you say Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(""test.xml""); and in Python you say doc = parse(""test.xml"") Anyway, I could go on and on with further examples, but Python is just overall a much more flexible and expressive language. It's also dynamically typed, which I really like, but which comes with some disadvantages. Java has much better performance than Python and has way better tool support. Sometimes those things matter a lot and Java is the better language than Python for a task; I continue to use Java for some new projects despite liking Python a lot more. But as a language I think Python is superior for most things I find myself needing to accomplish."
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,51512,49824,2,"Apart from what Eli Courtwright said: I find iterators in Python more concise. You can use for I in something, and it works with pretty much everything. Yeah, Java has gotten better since 1.5, but for example you can iterate through a string in python with this same construct. Introspection: In python you can get at runtime information about an object or a module about its symbols, methods, or even its docstrings. You can also instantiate them dynamically. Java has some of this, but usually in Java it takes half a page of code to get an instance of a class, whereas in Python it is about 3 lines. And as far as I know the docstrings thing is not available in Java"
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,49929,49926,0,"There is a program called SciLab that is a MATLAB clone. I haven't used it at all, but it is open source and might have the function you are looking for."
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,49930,49926,3,GNU Octave is another MATLAB clone that might have what you need.
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,50041,49926,0,"I don't know if it's in there, but there's a python distribution called Enthought that might have what you're looking for. It was designed specifically for data analysis has over 60 additional libraries."
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,70798,49926,13,"The open source Python package,SciPy, has quite a large set of optimization routines including some for multivariable problems with constraints (which is what fmincon does I believe). Once you have SciPy installed type the following at the Python command prompt help(scipy.optimize) The resulting document is extensive and includes the following which I believe might be of use to you. Constrained Optimizers (multivariate) fmin_l_bfgs_b -- Zhu, Byrd, and Nocedal's L-BFGS-B constrained optimizer (if you use this please quote their papers -- see help) fmin_tnc -- Truncated Newton Code originally written by Stephen Nash and adapted to C by Jean-Sebastien Roy. fmin_cobyla -- Constrained Optimization BY Linear Approximation"
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,196806,49926,22,"Is your problem convex? Linear? Non-linear? I agree that SciPy.optimize will probably do the job, but fmincon is a sort of bazooka for solving optimization problems, and you'll be better off if you can confine it to one of the categories below (in increasing level of difficulty to solve efficiently) Linear Program (LP) Quadratic Program (QP) Convex Quadratically-Constrained Quadratic Program (QCQP) Second Order Cone Program (SOCP) Semidefinite Program (SDP) Non-Linear Convex Problem Non-Convex Problem There are also combinatoric problems such as Mixed-Integer Linear Programs (MILP), but you didn't mention any sort of integrality constraints, suffice to say that they fall into a different class of problems. The CVXOpt package will be of great use to you if your problem is convex. If your problem is not convex, you need to choose between finding a local solution or the global solution. Many convex solvers 'sort of' work in a non-convex domain. Finding a good approximation to the global solution would require some form Simulated Annealing or Genetic Algorithm. Finding the global solution will require an enumeration of all local solutions or a combinatorial strategy such as Branch and Bound."
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,444167,49926,1,"Have a look at http://www.aemdesign.com/downloadfsqp.htm. There you will find C code which provides the same functionality as fmincon. (However, using a different algorithm. You can read the manual if you are interested in the details.) It's open source but not under GPL."
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,765053,49926,3,For numerical optimization in Python you may take a look at OpenOpt solvers: http://openopt.org/NLP http://openopt.org/Problems
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,1856211,49926,12,"Python optimization software: OpenOpt http://openopt.org (this one is numpy-based as you wish, with automatic differentiation by FuncDesigner) Pyomo https://software.sandia.gov/trac/coopr/wiki/Package/pyomo CVXOPT http://abel.ee.ucla.edu/cvxopt/ NLPy http://nlpy.sourceforge.net/"
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,50413,50394,0,"Another way to do it is to use urllib2 module to parse some other page's whois service (many sites like that exist). But that seems like even more of a hack that what you do now, and would give you a dependency on whatever whois site you chose, which is bad. I hate to say it, but unless you want to re-implement whois in your program (which would be re-inventing the wheel), running whois on the OS and parsing the output (ie what you are doing now) seems like the right way to do it."
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,50423,50394,0,"Parsing another webpage woulnd't be as bad (assuming their html woulnd't be very bad), but it would actually tie me to them - if they're down, I'm down :) Actually I found some old project on sourceforge: rwhois.py. What scares me a bit is that their last update is from 2003. But, it might seem as a good place to start reimplementation of what I do right now... Well, I felt obligued to post the link to this project anyway, just for further reference."
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,55385,50394,4,"There's nothing wrong with using a command line utility to do what you want. If you put a nice wrapper around the service, you can implement the internals however you want! For example: class Whois(object): _whois_by_query_cache = {} def __init__(self, query): """"""Initializes the instance variables to defaults. See :meth:`lookup` for details on how to submit the query."""""" self.query = query self.domain = None # ... other fields. def lookup(self): """"""Submits the `whois` query and stores results internally."""""" # ... implementation Now, whether or not you roll your own using urllib, wrap around a command line utility (like you're doing), or import a third party library and use that (like you're saying), this interface stays the same. This approach is generally not considered ugly at all -- sometimes command utilities do what you want and you should be able to leverage them. If speed ends up being a bottleneck, your abstraction makes the process of switching to a native Python implementation transparent to your client code. Practicality beats purity -- that's what's Pythonic. :)"
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,68218,50394,1,"I don't know if gwhois does something special with the server output; however, you can plainly connect to the whois server on port whois (43), send your query, read all the data in the reply and parse them. To make life a little easier, you could use the telnetlib.Telnet class (even if the whois protocol is much simpler than the telnet protocol) instead of plain sockets. The tricky parts: which whois server will you ask? RIPE, ARIN, APNIC, LACNIC, AFRINIC, JPNIC, VERIO etc LACNIC could be a useful fallback, since they tend to reply with useful data to requests outside of their domain. what are the exact options and arguments for each whois server? some offer help, others don't. In general, plain domain names work without any special options."
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,2408136,50394,0,import socket socket.gethostbyname_ex('url.com') if it returns a gaierror you know know it's not registered with any DNS
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,2410537,50394,0,"here is a ready-to-use solution that works for me; written for Python 3.1 (when backporting to Py2.x, take special care of the bytes / Unicode text distinctions). your single point of access is the method DRWHO.whois(), which expects a domain name to be passed in; it will then try to resolve the name using the provider configured as DRWHO.whois_providers[ '*' ] (a more complete solution could differentiate providers according to the top level domain). DRWHO.whois() will return a dictionary with a single entry text, which contains the response text sent back by the WHOIS server. Again, a more complete solution would then try and parse the text (which must be done separately for each provider, as there is no standard format) and return a more structured format (e.g., set a flag available which specifies whether or not the domain looks available). have fun! ########################################################################## import asyncore as _sys_asyncore from asyncore import loop as _sys_asyncore_loop import socket as _sys_socket ########################################################################## class _Whois_request( _sys_asyncore.dispatcher_with_send, object ): # simple whois requester # original code by Frederik Lundh #----------------------------------------------------------------------- whoisPort = 43 #----------------------------------------------------------------------- def __init__(self, consumer, host, provider ): _sys_asyncore.dispatcher_with_send.__init__(self) self.consumer = consumer self.query = host self.create_socket( _sys_socket.AF_INET, _sys_socket.SOCK_STREAM ) self.connect( ( provider, self.whoisPort, ) ) #----------------------------------------------------------------------- def handle_connect(self): self.send( bytes( '%s\r\n' % ( self.query, ), 'utf-8' ) ) #----------------------------------------------------------------------- def handle_expt(self): self.close() # connection failed, shutdown self.consumer.abort() #----------------------------------------------------------------------- def handle_read(self): # get data from server self.consumer.feed( self.recv( 2048 ) ) #----------------------------------------------------------------------- def handle_close(self): self.close() self.consumer.close() ########################################################################## class _Whois_consumer( object ): # original code by Frederik Lundh #----------------------------------------------------------------------- def __init__( self, host, provider, result ): self.texts_as_bytes = [] self.host = host self.provider = provider self.result = result #----------------------------------------------------------------------- def feed( self, text ): self.texts_as_bytes.append( text.strip() ) #----------------------------------------------------------------------- def abort(self): del self.texts_as_bytes[:] self.finalize() #----------------------------------------------------------------------- def close(self): self.finalize() #----------------------------------------------------------------------- def finalize( self ): # join bytestrings and decode them (witha a guessed encoding): text_as_bytes = b'\n'.join( self.texts_as_bytes ) self.result[ 'text' ] = text_as_bytes.decode( 'utf-8' ) ########################################################################## class DRWHO: #----------------------------------------------------------------------- whois_providers = { '~isa': 'DRWHO/whois-providers', '*': 'whois.opensrs.net', } #----------------------------------------------------------------------- def whois( self, domain ): R = {} provider = self._get_whois_provider( '*' ) self._fetch_whois( provider, domain, R ) return R #----------------------------------------------------------------------- def _get_whois_provider( self, top_level_domain ): providers = self.whois_providers R = providers.get( top_level_domain, None ) if R is None: R = providers[ '*' ] return R #----------------------------------------------------------------------- def _fetch_whois( self, provider, domain, pod ): #..................................................................... consumer = _Whois_consumer( domain, provider, pod ) request = _Whois_request( consumer, domain, provider ) #..................................................................... _sys_asyncore_loop() # loops until requests have been processed #========================================================================= DRWHO = DRWHO() domain = 'example.com' whois = DRWHO.whois( domain ) print( whois[ 'text' ] )"
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,4078336,50394,8,"Look at this: http://code.google.com/p/pywhois/ pywhois - Python module for retrieving WHOIS information of domains Goal: - Create a simple importable Python module which will produce parsed WHOIS data for a given domain. - Able to extract data for all the popular TLDs (com, org, net, ...) - Query a WHOIS server directly instead of going through an intermediate web service like many others do. - Works with Python 2.4+ and no external dependencies Example: &gt;&gt;&gt; import pywhois &gt;&gt;&gt; w = pywhois.whois('google.com') &gt;&gt;&gt; w.expiration_date ['14-sep-2011'] &gt;&gt;&gt; w.emails ['contact-admin@google.com', 'dns-admin@google.com', 'dns-admin@google.com', 'dns-admin@google.com'] &gt;&gt;&gt; print w ..."
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50502,50499,11,"It's not entirely clear what you mean by ""the filepath of the file that is currently running within the process"". sys.argv[0] usually contains the location of the script that was invoked by the Python interpreter. Check the sys documentation for more details. As @Tim and @Pat Notz have pointed out, the __file__ attribute provides access to the file from which the module was loaded, if it was loaded from a file"
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50505,50499,5,I think it's just __file__ Sounds like you may also want to checkout the inspect module.
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50521,50499,7,The __file__ attribute works for both the file containing the main execution code as well as imported modules. See https://web.archive.org/web/20090918095828/http://pyref.infogami.com/__file__
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50905,50499,168,"p1.py: execfile(""p2.py"") p2.py: import inspect, os print inspect.getfile(inspect.currentframe()) # script filename (usually with path) print os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe()))) # script directory"
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50986,50499,3,"You can use inspect.stack() import inspect,os inspect.stack()[0] =&gt; (&lt;frame object at 0x00AC2AC0&gt;, 'g:\\Python\\Test\\_GetCurrentProgram.py', 15, '&lt;module&gt;', ['print inspect.stack()[0]\n'], 0) os.path.abspath (inspect.stack()[0][1]) =&gt; 'g:\\Python\\Test\\_GetCurrentProgram.py'"
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,1955163,50499,260,__file__ as others have said. You may want to use: os.path.realpath(__file__)
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,1992378,50499,4,import sys print sys.path[0] this would print the path of the currently executing script
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,2345265,50499,30,"The suggestions marked as best are all true if your script consists of only one file. If you want to find out the name of the executable (i.e. the root file passed to the python interpreter for the current program) from a file that may be imported as a module, you need to do this (let's assume this is in a file named foo.py): import inspect print inspect.stack()[-1][1] Because the last thing ([-1]) on the stack is the first thing that went into it (stacks are LIFO/FILO data structures). Then in file bar.py if you import foo it'll print bar.py, rather than foo.py, which would be the value of all of these: __file__ inspect.getfile(inspect.currentframe()) inspect.stack()[0][1]"
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,2665888,50499,4,import sys print sys.argv[0]
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,50668,50568,25,"The filesystem backend is only worth looking at if you're not going to use a database for any other part of your system. If you are using a database then the filesystem backend has nothing to recommend it. The memcache backend is much quicker than the database backend, but you run the risk of a session being purged and some of your session data being lost. If you're a really, really high traffic website and code carefully so you can cope with losing a session then use memcache. If you're not using a database use the file system cache, but the default database backend is the best, safest and simplest option in almost all cases."
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,51511,50568,19,"I'm no Django expert, so this answer is about session stores generally. Downvote if I'm wrong. Performance and Scalability Choice of session store has an effect on performance and scalability. This should only be a big problem if you have a very popular application. Both database and filesystem session stores are (usually) backed by disks so you can have a lot of sessions cheaply (because disks are cheap), but requests will often have to wait for the data to be read (because disks are slow). Memcached sessions use RAM, so will cost more to support the same number of concurrent sessions (because RAM is expensive), but may be faster (because RAM is fast). Filesystem sessions are tied to the box where your application is running, so you can't load balance between multiple application servers if your site gets huge. Database and memcached sessions let you have multiple application servers talking to a shared session store. Simplicity Choice of session store will also impact how easy it is to deploy your site. Changing away from the default will cost some complexity. Memcached and RDBMSs both have their own complexities, but your application is probably going to be using an RDBMS anyway. Unless you have a very popular application, simplicity should be the larger concern. Bonus Another approach is to store session data in cookies (all of it, not just an ID). This has the advantage that the session store automatically scales with the number of users, but it has disadvantages too. You (or your framework) need to be careful to stop users forging session data. You also need to keep each session small because the whole thing will be sent with every request."
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,100464,50568,3,"One thing that has to be considered when choosing session backend is ""how often session data is modified""? Even sites with moderate traffic will suffer if session data is modified on each request, making many database trips to store and retrieve data. In my previous work we used memcache as session backend exclusively and it worked really well. Our administrative team put really great effort in making two special memcached instances stable as a rock, but after bit of twiddling with initial setup, we did not have any interrupts of session backends operations."
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,326046,50568,1,"If the database have a DBA that isn't you, you may not be allowed to use a database-backed session (it being a front-end matter only). Until django supports easily merging data from several databases, so that you can have frontend-specific stuff like sessions and user-messages (the messages in django.contrib.auth are also stored in the db) in a separate db, you need to keep this in mind."
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,1939548,50568,9,"As of Django 1.1 you can use the cached_db session back end. This stores the session in the cache (only use with memcached), and writes it back to the DB. If it has fallen out of the cache, it will be read from the DB. Although this is slower than just using memcached for storing the session, it adds persistence to the session. For more information, see: Django Docs: Using Cached Sessions"
50923,4,How do you create a weak reference to an object in Python?,How do you create a weak reference to an object in Python?,50929,50923,10,"&gt;&gt;&gt; import weakref &gt;&gt;&gt; class Object: ... pass ... &gt;&gt;&gt; o = Object() &gt;&gt;&gt; r = weakref.ref(o) &gt;&gt;&gt; # if the reference is still active, r() will be o, otherwise None &gt;&gt;&gt; do_something_with_o(r()) See the wearkref module docs for more details. You can also use weakref.proxy to create an object that proxies o. Will throw ReferenceError if used when the referent is no longer referenced."
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,51015,51010,1,"It seems that this isn't supported, since there wouldn't be a good way to deal with overflows in datetime.time. I know this isn't an answer directly, but maybe someone with more python experience than me can take this a little further. For more info, see this: http://bugs.python.org/issue3250"
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,51023,51010,5,"You could transform both into timedelta objects and subtract these from each other, which will take care to of the carry-overs. For example: &gt;&gt;&gt; import datetime as dt &gt;&gt;&gt; t1 = dt.time(23, 5, 5, 5) &gt;&gt;&gt; t2 = dt.time(10, 5, 5, 5) &gt;&gt;&gt; dt1 = dt.timedelta(hours=t1.hour, minutes=t1.minute, seconds=t1.second, microseconds=t1.microsecond) &gt;&gt;&gt; dt2 = dt.timedelta(hours=t2.hour, minutes=t2.minute, seconds=t2.second, microseconds=t2.microsecond) &gt;&gt;&gt; print(dt1-dt2) 13:00:00 &gt;&gt;&gt; print(dt2-dt1) -1 day, 11:00:00 &gt;&gt;&gt; print(abs(dt2-dt1)) 13:00:00 Negative timedelta objects in Python get a negative day field, with the other fields positive. You could check beforehand: comparison works on both time objects and timedelta objects: &gt;&gt;&gt; dt2 &lt; dt1 True &gt;&gt;&gt; t2 &lt; t1 True"
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,51029,51010,-2,"Firstly, note that a datetime.time is a time of day, independent of a given day, and so the different between any two datetime.time values is going to be less than 24 hours. One approach is to convert both datetime.time values into comparable values (such as milliseconds), and find the difference. t1, t2 = datetime.time(...), datetime.time(...) t1_ms = (t1.hour*60*60 + t1.minute*60 + t1.second)*1000 + t1.microsecond t2_ms = (t2.hour*60*60 + t2.minute*60 + t2.second)*1000 + t2.microsecond delta_ms = max([t1_ms, t2_ms]) - min([t1_ms, t2_ms]) It's a little lame, but it works."
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,51042,51010,16,"Also a little silly, but you could try picking an arbitrary day and embedding each time in it, using datetime.datetime.combine, then subtracting: &gt;&gt;&gt; import datetime &gt;&gt;&gt; t1 = datetime.time(2,3,4) &gt;&gt;&gt; t2 = datetime.time(18,20,59) &gt;&gt;&gt; dummydate = datetime.date(2000,1,1) &gt;&gt;&gt; datetime.datetime.combine(dummydate,t2) - datetime.datetime.combine(dummydate,t1) datetime.timedelta(0, 58675)"
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,108599,51010,3,Python has pytz (http://pytz.sourceforge.net) module which can be used for arithmetic of 'time' objects. It takes care of DST offsets as well. The above page has a number of examples that illustrate the usage of pytz.
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,108603,51010,-1,Retrieve the times in milliseconds and then do the subtraction.
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,263451,51010,-3,Environment.TickCount seems to work well if you need something quick. int start = Environment.TickCount ...DoSomething() int elapsedtime = Environment.TickCount - start Jon
51212,41,"I am writing a little application to download files over http (as, for example, described here). I also want to include a little download progress indicator showing the percentage of the download progress. Here is what I came up with: sys.stdout.write(rem_file + ""..."") urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""%2d%%"" % percent) sys.stdout.write(""\b\b\b"") sys.stdout.flush() Output: MyFileName... 9% Any other ideas or recommendations to do this? One thing that's somewhat annoying is the blinking cursor in the terminal on the first digit of the percentage. Is there a way to prevent this? Is there a way to hide the cursor? EDIT: Here a better alternative using a global variable for the filename in dlProgress and the '\r' code: global rem_file # global variable to be used in dlProgress urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""\r"" + rem_file + ""...%d%%"" % percent) sys.stdout.flush() Output: MyFileName...9% And the cursor shows up at the END of the line. Much better.",How to write a download progress indicator in Python?,51214,51212,4,"If you use the curses package, you have much greater control of the console. It also comes at a higher cost in code complexity and is probably unnecessary unless you are developing a large console-based app. For a simple solution, you can always put the spinning wheel at the end of the status messge (the sequence of characters |, \, -, / which actually looks nice under blinking cursor."
51212,41,"I am writing a little application to download files over http (as, for example, described here). I also want to include a little download progress indicator showing the percentage of the download progress. Here is what I came up with: sys.stdout.write(rem_file + ""..."") urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""%2d%%"" % percent) sys.stdout.write(""\b\b\b"") sys.stdout.flush() Output: MyFileName... 9% Any other ideas or recommendations to do this? One thing that's somewhat annoying is the blinking cursor in the terminal on the first digit of the percentage. Is there a way to prevent this? Is there a way to hide the cursor? EDIT: Here a better alternative using a global variable for the filename in dlProgress and the '\r' code: global rem_file # global variable to be used in dlProgress urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""\r"" + rem_file + ""...%d%%"" % percent) sys.stdout.flush() Output: MyFileName...9% And the cursor shows up at the END of the line. Much better.",How to write a download progress indicator in Python?,51218,51212,13,"You might also try: sys.stdout.write(""\r%2d%%"" % percent) sys.stdout.flush() Using a single carriage return at the beginning of your string rather than several backspaces. Your cursor will still blink, but it'll blink after the percent sign rather than under the first digit, and with one control character instead of three you may get less flicker."
51212,41,"I am writing a little application to download files over http (as, for example, described here). I also want to include a little download progress indicator showing the percentage of the download progress. Here is what I came up with: sys.stdout.write(rem_file + ""..."") urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""%2d%%"" % percent) sys.stdout.write(""\b\b\b"") sys.stdout.flush() Output: MyFileName... 9% Any other ideas or recommendations to do this? One thing that's somewhat annoying is the blinking cursor in the terminal on the first digit of the percentage. Is there a way to prevent this? Is there a way to hide the cursor? EDIT: Here a better alternative using a global variable for the filename in dlProgress and the '\r' code: global rem_file # global variable to be used in dlProgress urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""\r"" + rem_file + ""...%d%%"" % percent) sys.stdout.flush() Output: MyFileName...9% And the cursor shows up at the END of the line. Much better.",How to write a download progress indicator in Python?,51239,51212,16,"There's a text progress bar library for python at http://pypi.python.org/pypi/progressbar/2.2 that you might find useful: This library provides a text mode progressbar. This is tipically used to display the progress of a long running operation, providing a visual clue that processing is underway. The ProgressBar class manages the progress, and the format of the line is given by a number of widgets. A widget is an object that may display diferently depending on the state of the progress. There are three types of widget: - a string, which always shows itself; - a ProgressBarWidget, which may return a diferent value every time it's update method is called; and - a ProgressBarWidgetHFill, which is like ProgressBarWidget, except it expands to fill the remaining width of the line. The progressbar module is very easy to use, yet very powerful. And automatically supports features like auto-resizing when available."
51212,41,"I am writing a little application to download files over http (as, for example, described here). I also want to include a little download progress indicator showing the percentage of the download progress. Here is what I came up with: sys.stdout.write(rem_file + ""..."") urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""%2d%%"" % percent) sys.stdout.write(""\b\b\b"") sys.stdout.flush() Output: MyFileName... 9% Any other ideas or recommendations to do this? One thing that's somewhat annoying is the blinking cursor in the terminal on the first digit of the percentage. Is there a way to prevent this? Is there a way to hide the cursor? EDIT: Here a better alternative using a global variable for the filename in dlProgress and the '\r' code: global rem_file # global variable to be used in dlProgress urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""\r"" + rem_file + ""...%d%%"" % percent) sys.stdout.flush() Output: MyFileName...9% And the cursor shows up at the END of the line. Much better.",How to write a download progress indicator in Python?,704865,51212,0,"For small files you may need to had this lines in order to avoid crazy percentages: sys.stdout.write(""\r%2d%%"" % percent) sys.stdout.flush() Cheers"
51233,44,How can I retrieve the page title of a webpage (title html tag) using Python?,How can I retrieve the page title of a webpage using Python?,51240,51233,44,"I'll always use lxml for such tasks. You could use beautifulsoup as well. import lxml.html t = lxml.html.parse(url) print t.find("".//title"").text"
51233,44,How can I retrieve the page title of a webpage (title html tag) using Python?,How can I retrieve the page title of a webpage using Python?,51242,51233,5,"This is probably overkill for such a simple task, but if you plan to do more than that, then it's saner to start from these tools (mechanize, BeautifulSoup) because they are much easier to use than the alternatives (urllib to get content and regexen or some other parser to parse html) Links: BeautifulSoup mechanize #!/usr/bin/env python #coding:utf-8 from BeautifulSoup import BeautifulSoup from mechanize import Browser #This retrieves the webpage content br = Browser() res = br.open(""https://www.google.com/"") data = res.get_data() #This parses the content soup = BeautifulSoup(data) title = soup.find('title') #This outputs the content :) print title.renderContents()"
51233,44,How can I retrieve the page title of a webpage (title html tag) using Python?,How can I retrieve the page title of a webpage using Python?,51263,51233,10,"The mechanize Browser object has a title() method. So the code from this post can be rewritten as: from mechanize import Browser br = Browser() br.open(""http://www.google.com/"") print br.title()"
51233,44,How can I retrieve the page title of a webpage (title html tag) using Python?,How can I retrieve the page title of a webpage using Python?,51550,51233,54,"Here's a simplified version of @Vinko Vrsalovic's answer: import urllib2 from BeautifulSoup import BeautifulSoup soup = BeautifulSoup(urllib2.urlopen(""https://www.google.com"")) print soup.title.string NOTE: soup.title finds the first title element anywhere in the html document title.string assumes it has only one child node, and that child node is a string For beautifulsoup 4.x, use different import: from bs4 import BeautifulSoup"
51412,11,"Say I have the following methods: def methodA(arg, **kwargs): pass def methodB(arg, *args, **kwargs): pass In methodA I wish to call methodB, passing on the kwargs. However, it seems that if I define methodA as follows, the second argument will be passed on as positional rather than named variable arguments. def methodA(arg, **kwargs): methodB(""argvalue"", kwargs) How do I make sure that the **kwargs in methodA gets passed as **kwargs to methodB?",Passing on named variable arguments in python,51414,51412,1,"Some experimentation and I figured this one out: def methodA(arg, **kwargs): methodB(""argvalue"", **kwargs) Seems obvious now..."
51412,11,"Say I have the following methods: def methodA(arg, **kwargs): pass def methodB(arg, *args, **kwargs): pass In methodA I wish to call methodB, passing on the kwargs. However, it seems that if I define methodA as follows, the second argument will be passed on as positional rather than named variable arguments. def methodA(arg, **kwargs): methodB(""argvalue"", kwargs) How do I make sure that the **kwargs in methodA gets passed as **kwargs to methodB?",Passing on named variable arguments in python,51415,51412,32,"Put the asterisks before the kwargs variable. This makes Python pass the variable (which is assumed to be a dictionary) as keyword arguments. methodB(""argvalue"", **kwargs)"
51412,11,"Say I have the following methods: def methodA(arg, **kwargs): pass def methodB(arg, *args, **kwargs): pass In methodA I wish to call methodB, passing on the kwargs. However, it seems that if I define methodA as follows, the second argument will be passed on as positional rather than named variable arguments. def methodA(arg, **kwargs): methodB(""argvalue"", kwargs) How do I make sure that the **kwargs in methodA gets passed as **kwargs to methodB?",Passing on named variable arguments in python,63943,51412,2,"As an aside: When using functions instead of methods, you could also use functools.partial: import functools def foo(arg, **kwargs): ... bar = functools.partial(foo, ""argvalue"") The last line will define a function ""bar"" that, when called, will call foo with the first argument set to ""argvalue"" and all other functions just passed on: bar(5, myarg=""value"") will call foo(""argvalue"", 5, myarg=""value"") Unfortunately that will not work with methods."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,51505,51502,8,"You could try increasing the indent size, but in general I would just say, relax, it will come with time. I don't think trying to make Python look like C is a very good idea."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,51531,51502,3,"Perhaps the best thing would be to turn on ""show whitespace"" in your editor. Then you would have a visual indication of how far in each line is tabbed (usually a bunch of dots), and it will be more apparent when that changes."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,51551,51502,15,I like to put blank lines around blocks to make control flow more obvious. For example: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged()
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,51570,51502,7,"Rather than focusing on making your existing structures more readable, you should focus on making more logical structures. Make smaller blocks, try not to nest blocks excessively, make smaller functions, and try to think through your code flow more. If you come to a point where you can't quickly determine the structure of your code, you should probably consider refactoring and adding some comments. Code flow should always be immediately apparent -- the more you have to think about it, the less maintainable your code becomes."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,52090,51502,23,"Part of learning a new programming language is learning to read code in that language. A crutch like this may make it easier to read your own code, but it's going to impede the process of learning how to read anyone else's Python code. I really think you'd be better off getting rid of the end of block comments and getting used to normal Python."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,52111,51502,-1,"I would look in to understanding more details about Python syntax. Often times if a piece of code looks odd, there usually is a better way to write it. For example, in the above example: bar = foo if baz else None while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() While it is a small change, it might help the readability. Also, in all honesty, I've never used a while loop, so there is a good change you would end up with a nice concise list comprehension or for loop instead. ;)"
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,3054853,51502,0,"from __future__ import braces Need I say more? :) Seriously, PEP 8, 'Blank lines', Â§4 is the official way to do it."
51520,308,"Given a path such as ""mydir/myfile.txt"", how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with: ""C:/example/cwd/mydir/myfile.txt""",How to get an absolute file path in Python,51523,51520,424,"&gt;&gt;&gt; import os &gt;&gt;&gt; os.path.abspath(""mydir/myfile.txt"")"
51520,308,"Given a path such as ""mydir/myfile.txt"", how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with: ""C:/example/cwd/mydir/myfile.txt""",How to get an absolute file path in Python,51539,51520,32,&gt;&gt;&gt; import os &gt;&gt;&gt; os.path.abspath('mydir/myfile.txt') 'C:\\example\\cwd\\mydir\\myfile.txt' &gt;&gt;&gt;
51520,308,"Given a path such as ""mydir/myfile.txt"", how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with: ""C:/example/cwd/mydir/myfile.txt""",How to get an absolute file path in Python,58417,51520,13,"Better still, install the path.py module, it wraps all the os.path functions and other related functions into methods on an object that can be used wherever strings are used: &gt;&gt;&gt; from path import path &gt;&gt;&gt; path('mydir/myfile.txt').abspath() 'C:\\example\\cwd\\mydir\\myfile.txt' &gt;&gt;&gt;"
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51668,51553,0,I don't think that your results are all that surprising -- if anything it is that Postgres is so fast. Does the Postgres query run faster a second time once it has had a chance to cache the data? To be a little fairer your test for Java and Python should cover the cost of acquiring the data in the first place (ideally loading it off disk). If this performance level is a problem for your application in practice but you need a RDBMS for other reasons then you could look at memcached. You would then have faster cached access to raw data and could do the calculations in code.
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51745,51553,13,"I would say your test scheme is not really useful. To fulfill the db query, the db server goes through several steps: parse the SQL work up a query plan, i. e. decide on which indices to use (if any), optimize etc. if an index is used, search it for the pointers to the actual data, then go to the appropriate location in the data or if no index is used, scan the whole table to determine which rows are needed load the data from disk into a temporary location (hopefully, but not necessarily, memory) perform the count() and avg() calculations So, creating an array in Python and getting the average basically skips all these steps save the last one. As disk I/O is among the most expensive operations a program has to perform, this is a major flaw in the test (see also the answers to this question I asked here before). Even if you read the data from disk in your other test, the process is completely different and it's hard to tell how relevant the results are. To obtain more information about where Postgres spends its time, I would suggest the following tests: Compare the execution time of your query to a SELECT without the aggregating functions (i. e. cut step 5) If you find that the aggregation leads to a significant slowdown, try if Python does it faster, obtaining the raw data through the plain SELECT from the comparison. To speed up your query, reduce disk access first. I doubt very much that it's the aggregation that takes the time. There's several ways to do that: Cache data (in memory!) for subsequent access, either via the db engine's own capabilities or with tools like memcached Reduce the size of your stored data Optimize the use of indices. Sometimes this can mean to skip index use altogether (after all, it's disk access, too). For MySQL, I seem to remember that it's recommended to skip indices if you assume that the query fetches more than 10% of all the data in the table. If your query makes good use of indices, I know that for MySQL databases it helps to put indices and data on separate physical disks. However, I don't know whether that's applicable for Postgres. There also might be more sophisticated problems such as swapping rows to disk if for some reason the result set can't be completely processed in memory. But I would leave that kind of research until I run into serious performance problems that I can't find another way to fix, as it requires knowledge about a lot of little under-the-hood details in your process. Update: I just realized that you seem to have no use for indices for the above query and most likely aren't using any, too, so my advice on indices probably wasn't helpful. Sorry. Still, I'd say that the aggregation is not the problem but disk access is. I'll leave the index stuff in, anyway, it might still have some use."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51817,51553,0,"One other thing that an RDBMS generally does for you is to provide concurrency by protecting you from simultaneous access by another process. This is done by placing locks, and there's some overhead from that. If you're dealing with entirely static data that never changes, and especially if you're in a basically ""single user"" scenario, then using a relational database doesn't necessarily gain you much benefit."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51933,51553,3,"Those are very detailed answers, but they mostly beg the question, how do I get these benefits without leaving Postgres given that the data easily fits into memory, requires concurrent reads but no writes and is queried with the same query over and over again. Is it possible to precompile the query and optimization plan? I would have thought the stored procedure would do this, but it doesn't really help. To avoid disk access it's necessary to cache the whole table in memory, can I force Postgres to do that? I think it's already doing this though, since the query executes in just 200 ms after repeated runs. Can I tell Postgres that the table is read only, so it can optimize any locking code? I think it's possible to estimate the query construction costs with an empty table (timings range from 20-60 ms) I still can't see why the Java/Python tests are invalid. Postgres just isn't doing that much more work (though I still haven't addressed the concurrency aspect, just the caching and query construction) UPDATE: I don't think it's fair to compare the SELECTS as suggested by pulling 350,000 through the driver and serialization steps into Python to run the aggregation, nor even to omit the aggregation as the overhead in formatting and displaying is hard to separate from the timing. If both engines are operating on in memory data, it should be an apples to apples comparison, I'm not sure how to guarantee that's already happening though. I can't figure out how to add comments, maybe I don't have enough reputation?"
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51976,51553,0,You need to increase postgres' caches to the point where the whole working set fits into memory before you can expect to see perfomance comparable to doing it in-memory with a program.
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),52006,51553,8,"Postgres is doing a lot more than it looks like (maintaining data consistency for a start!) If the values don't have to be 100% spot on, or if the table is updated rarely, but you are running this calculation often, you might want to look into Materialized Views to speed it up. (Note, I have not used materialized views in Postgres, they look at little hacky, but might suite your situation). Materialized Views Also consider the overhead of actually connecting to the server and the round trip required to send the request to the server and back. I'd consider 200ms for something like this to be pretty good, A quick test on my oracle server, the same table structure with about 500k rows and no indexes, takes about 1 - 1.5 seconds, which is almost all just oracle sucking the data off disk. The real question is, is 200ms fast enough? -------------- More -------------------- I was interested in solving this using materialized views, since I've never really played with them. This is in oracle. First I created a MV which refreshes every minute. create materialized view mv_so_x build immediate refresh complete START WITH SYSDATE NEXT SYSDATE + 1/24/60 as select count(*),avg(a),avg(b),avg(c),avg(d) from so_x; While its refreshing, there is no rows returned SQL&gt; select * from mv_so_x; no rows selected Elapsed: 00:00:00.00 Once it refreshes, its MUCH faster than doing the raw query SQL&gt; select count(*),avg(a),avg(b),avg(c),avg(d) from so_x; COUNT(*) AVG(A) AVG(B) AVG(C) AVG(D) ---------- ---------- ---------- ---------- ---------- 1899459 7495.38839 22.2905454 5.00276131 2.13432836 Elapsed: 00:00:05.74 SQL&gt; select * from mv_so_x; COUNT(*) AVG(A) AVG(B) AVG(C) AVG(D) ---------- ---------- ---------- ---------- ---------- 1899459 7495.38839 22.2905454 5.00276131 2.13432836 Elapsed: 00:00:00.00 SQL&gt; If we insert into the base table, the result is not immediately viewable view the MV. SQL&gt; insert into so_x values (1,2,3,4,5); 1 row created. Elapsed: 00:00:00.00 SQL&gt; commit; Commit complete. Elapsed: 00:00:00.00 SQL&gt; select * from mv_so_x; COUNT(*) AVG(A) AVG(B) AVG(C) AVG(D) ---------- ---------- ---------- ---------- ---------- 1899459 7495.38839 22.2905454 5.00276131 2.13432836 Elapsed: 00:00:00.00 SQL&gt; But wait a minute or so, and the MV will update behind the scenes, and the result is returned fast as you could want. SQL&gt; / COUNT(*) AVG(A) AVG(B) AVG(C) AVG(D) ---------- ---------- ---------- ---------- ---------- 1899460 7495.35823 22.2905352 5.00276078 2.17647059 Elapsed: 00:00:00.00 SQL&gt; This isn't ideal. for a start, its not realtime, inserts/updates will not be immediately visible. Also, you've got a query running to update the MV whether you need it or not (this can be tune to whatever time frame, or on demand). But, this does show how much faster an MV can make it seem to the end user, if you can live with values which aren't quite upto the second accurate."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),52179,51553,0,"Thanks for the Oracle timings, that's the kind of stuff I'm looking for (disappointing though :-) Materialized views are probably worth considering as I think I can precompute the most interesting forms of this query for most users. I don't think query round trip time should be very high as i'm running the the queries on the same machine that runs Postgres, so it can't add much latency? I've also done some checking into the cache sizes, and it seems Postgres relies on the OS to handle caching, they specifically mention BSD as the ideal OS for this, so I thinking Mac OS ought to be pretty smart about bringing the table into memory. Unless someone has more specific params in mind I think more specific caching is out of my control. In the end I can probably put up with 200 ms response times, but knowing that 7 ms is a possible target makes me feel unsatisfied, as even 20-50 ms times would enable more users to have more up to date queries and get rid of a lots of caching and precomputed hacks. I just checked the timings using MySQL 5 and they are slightly worse than Postgres. So barring some major caching breakthroughs, I guess this is what I can expect going the relational db route. I wish I could up vote some of your answers, but I don't have enough points yet."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),53303,51553,2,"I'm a MS-SQL guy myself, and we'd use DBCC PINTABLE to keep a table cached, and SET STATISTICS IO to see that it's reading from cache, and not disk. I can't find anything on Postgres to mimic PINTABLE, but pg_buffercache seems to give details on what is in the cache - you may want to check that, and see if your table is actually being cached. A quick back of the envelope calculation makes me suspect that you're paging from disk. Assuming Postgres uses 4-byte integers, you have (6 * 4) bytes per row, so your table is a minimum of (24 * 350,000) bytes ~ 8.4MB. Assuming 40 MB/s sustained throughput on your HDD, you're looking at right around 200ms to read the data (which, as pointed out, should be where almost all of the time is being spent). Unless I screwed up my math somewhere, I don't see how it's possible that you are able to read 8MB into your Java app and process it in the times you're showing - unless that file is already cached by either the drive or your OS."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),53333,51553,5,"I retested with MySQL specifying ENGINE = MEMORY and it doesn't change a thing (still 200 ms). Sqlite3 using an in-memory db gives similar timings as well (250 ms). The math here looks correct (at least the size, as that's how big the sqlite db is :-) I'm just not buying the disk-causes-slowness argument as there is every indication the tables are in memory (the postgres guys all warn against trying too hard to pin tables to memory as they swear the OS will do it better than the programmer) To clarify the timings, the Java code is not reading from disk, making it a totally unfair comparison if Postgres is reading from the disk and calculating a complicated query, but that's really besides the point, the DB should be smart enough to bring a small table into memory and precompile a stored procedure IMHO. UPDATE (in response to the first comment below): I'm not sure how I'd test the query without using an aggregation function in a way that would be fair, since if I select all of the rows it'll spend tons of time serializing and formatting everything. I'm not saying that the slowness is due to the aggregation function, it could still be just overhead from concurrency, integrity, and friends. I just don't know how to isolate the aggregation as the sole independent variable."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),53713,51553,1,Are you using TCP to access the Postgres? In that case Nagle is messing with your timing.
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,51663,51658,1,"The os.statvfs() function is a better way to get that information for Unix-like platforms (including OS X). The Python documentation says ""Availability: Unix"" but it's worth checking whether it works on Windows too in your build of Python (ie. the docs might not be up to date). Otherwise, you can use the pywin32 library to directly call the GetDiskFreeSpaceEx function."
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,51675,51658,0,"I Don't know of any cross-platform way to achieve this, but maybe a good workaround for you would be to write a wrapper class that checks the operating system and uses the best method for each. For Windows, there's the GetDiskFreeSpaceEx method in the win32 extensions."
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,53170,51658,-2,"You can use df as a cross-platform way. It is a part of GNU core utilities. These are the core utilities which are expected to exist on every operating system. However, they are not installed on Windows by default (Here, GetGnuWin32 comes in handy). df is a command-line utility, therefore a wrapper required for scripting purposes. For example: from subprocess import PIPE, Popen def free_volume(filename): """"""Find amount of disk space available to the current user (in bytes) on the file system containing filename."""""" stats = Popen([""df"", ""-Pk"", filename], stdout=PIPE).communicate()[0] return int(stats.splitlines()[1].split()[3]) * 1024"
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,1728106,51658,5,"If you dont like to add another dependency you can for windows use ctypes to call the win32 function call directly. import ctypes free_bytes = ctypes.c_ulonglong(0) ctypes.windll.kernel32.GetDiskFreeSpaceExW(ctypes.c_wchar_p(u'c:\\'), None, None, ctypes.pointer(free_bytes)) if free_bytes.value == 0: print 'dont panic'"
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,2372171,51658,58,"import ctypes import os import platform import sys def get_free_space_mb(dirname): """"""Return folder/drive free space (in megabytes)."""""" if platform.system() == 'Windows': free_bytes = ctypes.c_ulonglong(0) ctypes.windll.kernel32.GetDiskFreeSpaceExW(ctypes.c_wchar_p(dirname), None, None, ctypes.pointer(free_bytes)) return free_bytes.value / 1024 / 1024 else: st = os.statvfs(dirname) return st.f_bavail * st.f_frsize / 1024 / 1024 Note that you must pass a directory name for GetDiskFreeSpaceEx() to work (statvfs() works on both files and directories). You can get a directory name from a file with os.path.dirname(). Also see the documentation for os.statvfs() and GetDiskFreeSpaceEx."
53027,3,I have a file that I want to include in Python but the included file is fairly long and it'd be much neater to be able to split them into several files but then I have to use several include statements. Is there some way to group together several files and include them all at once?,Large Python Includes,53036,53027,6,"Yes, take a look at the ""6.4 Packages"" section in http://docs.python.org/tut/node8.html: Basically, you can place a bunch of files into a directory and add an __init__.py file to the directory. If the directory is in your PYTHONPATH or sys.path, you can do ""import directoryname"" to import everything in the directory or ""import directoryname.some_file_in_directory"" to import a specific file that is in the directory. The __init__.py files are required to make Python treat the directories as containing packages; this is done to prevent directories with a common name, such as ""string"", from unintentionally hiding valid modules that occur later on the module search path. In the simplest case, __init__.py can just be an empty file, but it can also execute initialization code for the package or set the __all__ variable, described later."
53027,3,I have a file that I want to include in Python but the included file is fairly long and it'd be much neater to be able to split them into several files but then I have to use several include statements. Is there some way to group together several files and include them all at once?,Large Python Includes,53037,53027,8,Put files in one folder. Add &#95;&#95;init&#95;&#95;.py file to the folder. Do necessary imports in &#95;&#95;init&#95;&#95;.py Replace multiple imports by one: import folder_name See Python Package Management
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,53173,53162,12,Put a \ at the end of your line or enclose the statement in parens ( .. ). From IBM: b = ((i1 &lt; 20) and (i2 &lt; 30) and (i3 &lt; 40)) or b = (i1 &lt; 20) and \ (i2 &lt; 30) and \ (i3 &lt; 40)
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,53180,53162,615,"What is the line? You can just have arguments on the next line without any problems: a = dostuff(blahblah1, blahblah2, blahblah3, blahblah4, blahblah5, blahblah6, blahblah7) Otherwise you can do something like this: if a == True and \ b == False Check the style guide for more information. From your example line: a = '1' + '2' + '3' + \ '4' + '5' Or: a = ('1' + '2' + '3' + '4' + '5') Note that the style guide says that using the implicit continuation with parentheses is preferred, but in this particular case just adding parentheses around your expression is probably the wrong way to go."
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,53182,53162,9,"From the horse's mouth: Explicit line joining Two or more physical lines may be joined into logical lines using backslash characters (\), as follows: when a physical line ends in a backslash that is not part of a string literal or comment, it is joined with the following forming a single logical line, deleting the backslash and the following end-of-line character. For example: if 1900 &lt; year &lt; 2100 and 1 &lt;= month &lt;= 12 \ and 1 &lt;= day &lt;= 31 and 0 &lt;= hour &lt; 24 \ and 0 &lt;= minute &lt; 60 and 0 &lt;= second &lt; 60: # Looks like a valid date return 1 A line ending in a backslash cannot carry a comment. A backslash does not continue a comment. A backslash does not continue a token except for string literals (i.e., tokens other than string literals cannot be split across physical lines using a backslash). A backslash is illegal elsewhere on a line outside a string literal."
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,53200,53162,119,"From Style Guide for Python Code: The preferred way of wrapping long lines is by using Python's implied line continuation inside parentheses, brackets and braces. Long lines can be broken over multiple lines by wrapping expressions in parentheses. These should be used in preference to using a backslash for line continuation. Backslashes may still be appropriate at times. For example, long, multiple with-statements cannot use implicit continuation, so backslashes are acceptable: with open('/path/to/some/file/you/want/to/read') as file_1, \ open('/path/to/some/file/being/written', 'w') as file_2: file_2.write(file_1.read()) Another such case is with assert statements. Make sure to indent the continued line appropriately. The preferred place to break around a binary operator is after the operator, not before it. Some examples: class Rectangle(Blob): def __init__(self, width, height, color='black', emphasis=None, highlight=0): if (width == 0 and height == 0 and color == 'red' and emphasis == 'strong' or highlight &gt; 100): raise ValueError(""sorry, you lose"") if width == 0 and height == 0 and (color == 'red' or emphasis is None): raise ValueError(""I don't think so -- values are %s, %s"" % (width, height)) Blob.__init__(self, width, height, color, emphasis, highlight) EDIT: PEP8 now recommends the opposite convention (for breaking at binary operations) used by Mathematicians and their publishers to improve readability. Donald Knuth's style of breaking before a binary operator aligns operators vertically, thus reducing the eye's workload when determining which items are added and subtracted. From PEP8: Should a line break before or after a binary operator?: Donald Knuth explains the traditional rule in his Computers and Typesetting series: ""Although formulas within a paragraph always break after binary operations and relations, displayed formulas always break before binary operations""[3]. Following the tradition from mathematics usually results in more readable code: # Yes: easy to match operators with operands income = (gross_wages + taxable_interest + (dividends - qualified_dividends) - ira_deduction - student_loan_interest) In Python code, it is permissible to break before or after a binary operator, as long as the convention is consistent locally. For new code Knuth's style is suggested. [3]: Donald Knuth's The TeXBook, pages 195 and 196"
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,61933,53162,46,"The danger in using a backslash to end a line is that if whitespace is added after the backslash (which, of course, is very hard to see), the backslash is no longer doing what you thought it was. See Python Idioms and Anti-Idioms (for Python 2 or Python 3) for more."
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,110882,53162,16,"You can break lines in between parenthesises and braces. Additionally, you can append the backslash character \ to a line to explicitly break it: x = (tuples_first_value, second_value) y = 1 + \ 2"
53225,22,"Given a reference to a method, is there a way to check whether the method is bound to an object or not? Can you also access the instance that it's bound to?",How do you check whether a python method is bound or not?,53237,53225,3,im_self attribute
53225,22,"Given a reference to a method, is there a way to check whether the method is bound to an object or not? Can you also access the instance that it's bound to?",How do you check whether a python method is bound or not?,53322,53225,27,"def isbound(method): return method.im_self is not None def instance(bounded_method): return bounded_method.im_self User-defined methods: When a user-defined method object is created by retrieving a user-defined function object from a class, its im_self attribute is None and the method object is said to be unbound. When one is created by retrieving a user-defined function object from a class via one of its instances, its im_self attribute is the instance, and the method object is said to be bound. In either case, the new method's im_class attribute is the class from which the retrieval takes place, and its im_func attribute is the original function object. In Python 2.6 and 3.0: Instance method objects have new attributes for the object and function comprising the method; the new synonym for im_self is __self__, and im_func is also available as __func__. The old names are still supported in Python 2.6, but are gone in 3.0."
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53522,53513,2388,"if not a: print(""List is empty"") Using the implicit booleanness of the empty list a is quite pythonic."
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53523,53513,35,"I have seen the below as preferred, as it will catch the null list as well: if not a: print ""The list is empty or null"""
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53525,53513,65,"An empty list is itself considered false in true value testing (see python documentation): a = [] if a: print ""not empty"" @Daren Thomas EDIT: Another point against testing the empty list as False: What about polymorphism? You shouldn't depend on a list being a list. It should just quack like a duck - how are you going to get your duckCollection to quack ''False'' when it has no elements? Your duckCollection should implement __nonzero__ or __len__ so the if a: will work without problems."
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53533,53513,4,"I prefer the following: if a == []: print ""The list is empty."" Readable and you don't have to worry about calling a function like len() to iterate through the variable. Although I'm not entirely sure what the BigO notation of something like this is... but Python's so blazingly fast I doubt it'd matter unless a was gigantic."
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53752,53513,565,"The pythonic way to do it is from the PEP 8 style guide: For sequences, (strings, lists, tuples), use the fact that empty sequences are false. Yes: if not seq: if seq: No: if len(seq): if not len(seq):"
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,61918,53513,28,"len() is an O(1) operation for Python lists, strings, dicts, and sets. Python internally keeps track of the number of elements in these containers. JavaScript has a similar notion of truthy/falsy."
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",53549,53543,14,"If you do find you need to write unique code for an environment, use pythons import mymodule_jython as mymodule import mymodule_cpython as mymodule have this stuff in a simple module (''module_importer''?) and write your code like this: from module_importer import mymodule This way, all you need to do is alter module_importer.py per platform."
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",55312,53543,10,"@Daren Thomas: I agree, but you should use the platform module to determine which interpreter you're running."
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",199275,53543,2,"I write code for CPython and IronPython but tip should work for Jython as well. Basically, I write all the platform specific code in separate modules/packages and then import the appropriate one based on platform I'm running on. (see cdleary's comment above) This is especially important when it comes to the differences between the SQLite implementations and if you are implementing any GUI code."
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",342835,53543,1,The #1 thing IMO: Focus on thread safety. CPython's GIL makes writing threadsafe code easy because only one thread can access the interpreter at a time. IronPython and Jython are a little less hand-holding though.
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",342845,53543,0,I'm pretty sure you already know this but unfortunately Jython can't load c extension modules.
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",637549,53543,0,"There are two major issues at play here... Firstly, to my knowledge, only CPython has RAII - you have to close your own resources in Jython, Ironpython, etc. And Secondly, as has been mentioned, is thread safety."
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,53791,53786,1,"Why don't you try The Grinder 3 to load test your server, it comes with all this and more prebuilt, and it supports python as a scripting language"
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,56032,53786,0,"Instead of giving the number of requests as a fixed value, why not use a scaling factor instead? At the moment, you're treating requests as a limited quantity, and randomising the days on which those requests fall. It would seem more reasonable to treat your requests-per-day as independent. from datetime import * from random import * timeline = [] scaling = 10 start_date = date(2008, 5, 1) end_date = date(2008, 6, 1) num_days = (end_date - start_date).days + 1 days = [start_date + timedelta(i) for I in range(num_days)] requests = [int(scaling * weibullvariate(0.5, 2)) for I in range(num_days)] timeline = zip(days, requests) timeline"
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,56102,53786,0,"I rewrote the code above to be shorter (but maybe it's too obfuscated now?) timeline = (start_date + timedelta(days=days) for days in count(0)) how_many_days = (end_date - start_date).days pick_a_day = lambda _:int(how_many_days * weibullvariate(0.5, 2)) days = sorted(imap(pick_a_day, xrange(how_many_responses))) histogram = zip(timeline, (len(list(responses)) for day, responses in groupby(days))) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for d,c in histogram)"
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,56247,53786,1,"Slightly longer but probably more readable rework of your last four lines: samples = [0 for I in xrange(how_many_days + 1)] for s in xrange(how_many_responses): samples[min(int(how_many_days * weibullvariate(0.5, 2)), how_many_days)] += 1 histogram = zip(timeline, samples) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for d,c in histogram) This always drops the samples within the date range, but you get a corresponding bump at the end of the timeline from all of the samples that are above the [0, 1] range."
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,56548,53786,1,"This is quick and probably not that accurate, but if you calculate the PDF yourself, then at least you make it easier to lay several smaller/larger ones on a single timeline. dev is the std deviation in the Guassian noise, which controls the roughness. Note that this is not the 'right' way to generate what you want, but it's easy. import math from datetime import datetime, timedelta, date from random import gauss how_many_responses = 1000 start_date = date(2008, 5, 1) end_date = date(2008, 6, 1) num_days = (end_date - start_date).days + 1 timeline = [start_date + timedelta(i) for I in xrange(num_days)] def weibull(x, k, l): return (k / l) * (x / l)**(k-1) * math.e**(-(x/l)**k) dev = 0.1 samples = [i * 1.25/(num_days-1) for I in range(num_days)] probs = [weibull(i, 2, 0.5) for I in samples] noise = [gauss(0, dev) for I in samples] simdata = [max(0., e + n) for (e, n) in zip(probs, noise)] events = [int(p * (how_many_responses / sum(probs))) for p in simdata] histogram = zip(timeline, events) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for d,c in histogram)"
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,89140,53786,0,"Another solution is to use Rpy, which puts all of the power of R (including lots of tools for distributions), easily into Python."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,54008,53997,12,"As Google Web Toolkit is a subset of Java it works best when you Java at the backend too. Since Google App Engine is currently Python only I think you'd have to do a lot of messing about to get your server and client to talk nicely to each other. jQuery seems to be the most popular JavaScript library option in the AJAX Tag at DjangoSnippets.com. Edit: The above is only true of Google App Engine applications written in Python. As Google App Engine now supports Java, GWT could now be a good choice for writing an AJAX front end. Google even have a tutorial showing you how to do it."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,54015,53997,3,"I'd recommend looking into a pure javascript framework (probably Jquery) for your client-side code, and write JSON services in python- that seems to be the easiest / bestest way to go. Google Web Toolkit lets you write the UI in Java and compile it to javascript. As Dave says, it may be a better choice where the backend is in Java, as it has nice RPC hooks for that case."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,54034,53997,1,"jQuery is a fine library, but also check out the Prototype JavaScript framework. It really turns JavaScript from being an occasionally awkward language into a beautiful and elegant language."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,55041,53997,4,"There is no reason why you shouldn't use GAE and Google Web Toolkit (GWT) together. You write your backend code in Python and the frontend code in Java (and possibly some JavaScript), which is then compiled to JavaScript. When using another AJAX framework you will also have this difference between server and client side language. GWT has features that make remote invocation of java code on the server easier, but these are entirely optional. You can just use JSON or XML interfaces, just like with other AJAX frameworks. GWT 1.5 also comes with JavaScript Overlay Types, that basically allow you to treat a piece of JSON data like a Java object when developing the client side code. You can read more about this here. Update: Now that Google has added Java support for Google App Engine, you can develop both backend and frontend code in Java on a full Google stack - if you like. There is a nice Eclipse plugin from Google that makes it very easy to develop and deploy applications that use GAE, GWT or both."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,62976,53997,0,"If you want to be able to invoke method calls from JavaScript to Python, JSON-RPC works well with Google App Engine. See Google's article, ""Using AJAX to Enable Client RPC Requests"", for details."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,230476,53997,0,I'm currently using JQuery for my GAE app and it works beautifully for me. I have a chart (google charts) that is dynamic and uses an Ajax call to grab a JSON string. It really seems to work fine for me.
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,352120,53997,2,"You may want to have a look at Pyjamas (http://pyjs.org/), which is ""GWT for Python""."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,605156,53997,4,"Here is how we've implemented Ajax on the Google App Engine, but the idea can be generalized to other platforms. We have a handler script for Ajax requests that responds -mostly- with JSON responses. The structure looks something like this (this is an excerpt from a standard GAE handler script): def Get(self, user): self.handleRequest() def Post(self, user): self.handleRequest() def handleRequest(self): ''' A dictionary that maps an operation name to a command. aka: a dispatcher map. ''' operationMap = {'getfriends': [GetFriendsCommand], 'requestfriend': [RequestFriendCommand, [self.request.get('id')]], 'confirmfriend': [ConfirmFriendCommand, [self.request.get('id')]], 'ignorefriendrequest': [IgnoreFriendRequestCommand, [self.request.get('id')]], 'deletefriend': [DeleteFriendCommand, [self.request.get('id')]]} # Delegate the request to the matching command class here. The commands are a simple implementation of the command pattern: class Command(): """""" A simple command pattern. """""" _valid = False def validate(self): """""" Validates input. Sanitize user input here. """""" self._valid = True def _do_execute(self): """""" Executes the command. Override this in subclasses. """""" pass @property def valid(self): return self._valid def execute(self): """""" Override _do_execute rather than this. """""" try: self.validate() except: raise return self._do_execute() # Make it easy to invoke commands: # So command() is equivalent to command.execute() __call__ = execute On the client side, we create an Ajax delegate. Prototype.js makes this easy to write and understand. Here is an excerpt: /** * Ajax API * * You should create a new instance for every call. */ var AjaxAPI = Class.create({ /* Service URL */ url: HOME_PATH+""ajax/"", /* Function to call on results */ resultCallback: null, /* Function to call on faults. Implementation not shown */ faultCallback: null, /* Constructor/Initializer */ initialize: function(resultCallback, faultCallback){ this.resultCallback = resultCallback; this.faultCallback = faultCallback; }, requestFriend: function(friendId){ return new Ajax.Request(this.url + '?op=requestFriend', {method: 'post', parameters: {'id': friendId}, onComplete: this.resultCallback }); }, getFriends: function(){ return new Ajax.Request(this.url + '?op=getfriends', {method: 'get', onComplete: this.resultCallback }); } }); to call the delegate, you do something like: new AjaxApi(resultHandlerFunction, faultHandlerFunction).getFriends() I hope this helps!"
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,800037,53997,7,"A nice way is to use an AJAX library is to take advantage of Google's AJAX Libraries API service. This is a bit faster and cleaner than downloading the JS and putting it in your /static/ folder and doesn't eat into your disk quota. In your javascript you would just put, for example: google.load(""jquery"", ""1.3.2""); and/or google.load(google.load(""dojo"", ""1.3.0""); Somewhere in your header you would put something like: &lt;script src=""http://www.google.com/jsapi?key=your-key-here""&gt;&lt;/script&gt; And that's all you need to use Google's API libraries."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,800072,53997,0,"Google has recently announced the Java version of Google App Engine. This release also provides an Eclipse plugin that makes developing GAE applications with GWT easier. See details here: http://code.google.com/appengine/docs/java/overview.html Of course, it would require you to rewrite your application in Java instead of python, but as someone who's worked with GWT, let me tell you, the advantages of using a modern IDE on your AJAX codebase are totally worth it."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,994994,53997,2,"try also GQuery for GWT. This is Java code: public void onModuleLoad() { $(""div"").css(""color"", ""red"").click(new Function() { public void f(Element e) { Window.alert(""Hello""); $(e).as(Effects).fadeOut(); } }); } Being Java code resulting in somewhat expensive compile-time (Java->JavaScript) optimizations and easier refactoring. Nice, it isn't?"
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,1037446,53997,3,In my blog I deal with an easy way to do this - the link is: AJAX with Google App Engine. I include all the javascript and python code I used.
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,54873,54867,340,"From http://docs.python.org/2/reference/datamodel.html#new-style-and-classic-classes : Up to Python 2.1, old-style classes were the only flavour available to the user. The concept of (old-style) class is unrelated to the concept of type: if x is an instance of an old-style class, then x.__class__ designates the class of x, but type(x) is always &lt;type 'instance'&gt;. This reflects the fact that all old-style instances, independently of their class, are implemented with a single built-in type, called instance. New-style classes were introduced in Python 2.2 to unify the concepts of class and type. A new-style class is simply a user-defined type, no more, no less. If x is an instance of a new-style class, then type(x) is typically the same as x.__class__ (although this is not guaranteed â a new-style class instance is permitted to override the value returned for x.__class__). The major motivation for introducing new-style classes is to provide a unified object model with a full meta-model. It also has a number of immediate benefits, like the ability to subclass most built-in types, or the introduction of ""descriptors"", which enable computed properties. For compatibility reasons, classes are still old-style by default. New-style classes are created by specifying another new-style class (i.e. a type) as a parent class, or the ""top-level type"" object if no other parent is needed. The behaviour of new-style classes differs from that of old-style classes in a number of important details in addition to what type returns. Some of these changes are fundamental to the new object model, like the way special methods are invoked. Others are ""fixes"" that could not be implemented before for compatibility concerns, like the method resolution order in case of multiple inheritance. Python 3 only has new-style classes. No matter if you subclass from object or not, classes are new-style in Python 3. It is however recommended that you still subclass from object."
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,55354,54867,4,"Or rather, you should always use new-style classes, unless you have code that needs to work with versions of Python older than 2.2."
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,242700,54867,5,"New-style classes inherit from object and must be written as such in Python 2.2 onwards (i.e. class Classname(object): instead of class Classname:). The core change is to unify types and classes, and the nice side-effect of this is that it allows you to inherit from built-in types. Read descrintro for more details."
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,1203997,54867,220,"Declaration-wise: New-style classes inherit from object, or from another new-style class. class NewStyleClass(object): pass class AnotherNewStyleClass(NewStyleClass): pass Old-style classes don't. class OldStyleClass(): pass"
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,3228045,54867,29,"Old style classes are still marginally faster for attribute lookup. This is not usually important, but may be useful in performance-sensitive Python 2.x code: In [3]: class A: ...: def __init__(self): ...: self.a = 'hi there' ...: In [4]: class B(object): ...: def __init__(self): ...: self.a = 'hi there' ...: In [6]: aobj = A() In [7]: bobj = B() In [8]: %timeit aobj.a 10000000 loops, best of 3: 78.7 ns per loop In [10]: %timeit bobj.a 10000000 loops, best of 3: 86.9 ns per loop"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55188,55180,1,"This snippet will do so. If you're going to do it frequently, you might want to make a 'sortkeys' method or somesuch to make it easier on the eyes. keys = list(d.keys()) keys.sort() for key in keys: print d[key] Edit: dF's solution is better -- I forgot all about sorted()."
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55193,55180,16,"Do you mean that you need the values sorted by the value of the key? In that case, this should do it: for key in sorted(d): print d[key] EDIT: changed to use sorted(d) instead of sorted(d.keys()), thanks Eli!"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55194,55180,16,"Or shorter, for key, value in sorted(d.items()): print value"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55197,55180,1,"&gt;&gt;&gt; d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} &gt;&gt;&gt; for k,v in sorted(d.items()): ... print v, k ... this is a a this is b b this is c c"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55202,55180,0,"d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} ks = d.keys() ks.sort() for k in ks: print ""this is "" + k"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",56134,55180,1,for key in sorted(d): print d[key]
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",59235,55180,1,"You can also sort a dictionary by value and control the sort order: import operator d = {'b' : 'this is 3', 'a': 'this is 2' , 'c' : 'this is 1'} for key, value in sorted(d.iteritems(), key=operator.itemgetter(1), reverse=True): print key, "" "", value Output: b this is 3 a this is 2 c this is 1"
55365,4,I use Emacs primarily for coding Python but sometimes I use IDLE. Is there a way to change the key bindings easily in IDLE to match Emacs?,How can I get Emacs' key bindings in Python's IDLE?,55493,55365,2,There's a program for Windows called XKeymacs that allows you to specify emacs keybindings for different programs. It should work with IDLE. http://www.cam.hi-ho.ne.jp/oishi/indexen.html -Mark
55365,4,I use Emacs primarily for coding Python but sometimes I use IDLE. Is there a way to change the key bindings easily in IDLE to match Emacs?,How can I get Emacs' key bindings in Python's IDLE?,56008,55365,6,"IDLE provides Emacs keybindings without having to install other software. Open up the menu item Options -> Configure IDLE... Go to Keys tab In the drop down menu on the right side of the dialog change the select to ""IDLE Classic Unix"" It's not the true emacs key bindings but you get the basics like movement, saving/opening, ..."
55365,4,I use Emacs primarily for coding Python but sometimes I use IDLE. Is there a way to change the key bindings easily in IDLE to match Emacs?,How can I get Emacs' key bindings in Python's IDLE?,85113,55365,0,"'readline' module supposedly provides Emacs like key bindings and even functionality. However, it is not available on Windows but on Unix. Therefore, this might be a viable solution if you are not using Windows. import readline Since I am running IDLE on Windows it is unfortunately not an option for me."
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),55399,55391,0,"/&lt;input type=""hidden"" name=""fooId"" value=""([\d-]+)"" \/&gt;/"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),55401,55391,5,"Parsing is one of those areas where you really don't want to roll your own if you can avoid it, as you'll be chasing down the edge-cases and bugs for years go come I'd recommend using BeautifulSoup. It has a very good reputation and looks from the docs like it's pretty easy to use."
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),55404,55391,8,"import re reg = re.compile('&lt;input type=""hidden"" name=""([^""]*)"" value=""&lt;id&gt;"" /&gt;') value = reg.search(inputHTML).group(1) print 'Value is', value"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),55424,55391,27,"For this particular case, BeautifulSoup is harder to write than a regex, but it is much more robust... I'm just contributing with the BeautifulSoup example, given that you already know which regexp to use :-) from BeautifulSoup import BeautifulSoup #Or retrieve it from the web, etc. html_data = open('/yourwebsite/page.html','r').read() #Create the soup object from the HTML data soup = BeautifulSoup(html_data) fooId = soup.find('input',name='fooId',type='hidden') #Find the proper tag value = fooId.attrs[2][1] #The value of the third attribute of the desired tag #or index it directly via fooId['value']"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),56144,55391,0,"/&lt;input\s+type=""hidden""\s+name=""([A-Za-z0-9_]+)""\s+value=""([A-Za-z0-9_\-]*)""\s*/&gt;/ &gt;&gt;&gt; import re &gt;&gt;&gt; s = '&lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt;' &gt;&gt;&gt; re.match('&lt;input\s+type=""hidden""\s+name=""([A-Za-z0-9_]+)""\s+value=""([A-Za-z0-9_\-]*)""\s*/&gt;', s).groups() ('fooId', '12-3456789-1111111111')"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),64983,55391,18,"I agree with Vinko BeautifulSoup is the way to go. However I suggest using fooId['value'] to get the attribute rather than relying on value being the third attribute. from BeautifulSoup import BeautifulSoup #Or retrieve it from the web, etc. html_data = open('/yourwebsite/page.html','r').read() #Create the soup object from the HTML data soup = BeautifulSoup(html_data) fooId = soup.find('input',name='fooId',type='hidden') #Find the proper tag value = fooId['value'] #The value attribute"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),1421480,55391,1,"Pyparsing is a good interim step between BeautifulSoup and regex. It is more robust than just regexes, since its HTML tag parsing comprehends variations in case, whitespace, attribute presence/absence/order, but simpler to do this kind of basic tag extraction than using BS. Your example is especially simple, since everything you are looking for is in the attributes of the opening ""input"" tag. Here is a pyparsing example showing several variations on your input tag that would give regexes fits, and also shows how NOT to match a tag if it is within a comment: html = """"""&lt;html&gt;&lt;body&gt; &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; &lt;blah&gt; &lt;input name=""fooId"" type=""hidden"" value=""**[id is here too]**"" /&gt; &lt;input NAME=""fooId"" type=""hidden"" value=""**[id is HERE too]**"" /&gt; &lt;INPUT NAME=""fooId"" type=""hidden"" value=""**[and id is even here TOO]**"" /&gt; &lt;!-- &lt;input type=""hidden"" name=""fooId"" value=""**[don't report this id]**"" /&gt; --&gt; &lt;foo&gt; &lt;/body&gt;&lt;/html&gt;"""""" from pyparsing import makeHTMLTags, withAttribute, htmlComment # use makeHTMLTags to create tag expression - makeHTMLTags returns expressions for # opening and closing tags, we're only interested in the opening tag inputTag = makeHTMLTags(""input"")[0] # only want input tags with special attributes inputTag.setParseAction(withAttribute(type=""hidden"", name=""fooId"")) # don't report tags that are commented out inputTag.ignore(htmlComment) # use searchString to skip through the input foundTags = inputTag.searchString(html) # dump out first result to show all returned tags and attributes print foundTags[0].dump() print # print out the value attribute for all matched tags for inpTag in foundTags: print inpTag.value Prints: ['input', ['type', 'hidden'], ['name', 'fooId'], ['value', '**[id is here]**'], True] - empty: True - name: fooId - startInput: ['input', ['type', 'hidden'], ['name', 'fooId'], ['value', '**[id is here]**'], True] - empty: True - name: fooId - type: hidden - value: **[id is here]** - type: hidden - value: **[id is here]** **[id is here]** **[id is here too]** **[id is HERE too]** **[and id is even here TOO]** You can see that not only does pyparsing match these unpredictable variations, it returns the data in an object that makes it easy to read out the individual tag attributes and their values."
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,56262,56229,4,"don't you actually want something like: html(head(script(type='text/javascript', content='var a = ...')), body(h1('And I like the fact that 3 &lt; 1'), p('just some paragraph')) I think I saw something like that somewhere. This would be wonderful. EDIT: Actually, I went and wrote a library today to do just that: magictree You can use it like this: from magictree import html, head, script, body, h1, p root = html( head( script('''var a = 'I love &amp;amp;aacute; letters''', type='text/javascript')), body( h1('And I like the fact that 3 &gt; 1'))) # root is a plain Element object, like those created with ET.Element... # so you can write it out using ElementTree :) tree = ET.ElementTree(root) tree.write('foo.xhtml') The magic in magictree lies in how the importing works: The Element factories are created when needed. Have a look at the source, it is based on an answer to another StackOverflow question."
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,56269,56229,28,"Another way is using the E Factory builder from lxml (available in Elementtree too) &gt;&gt;&gt; from lxml import etree &gt;&gt;&gt; from lxml.builder import E &gt;&gt;&gt; def CLASS(*args): # class is a reserved word in Python ... return {""class"":' '.join(args)} &gt;&gt;&gt; html = page = ( ... E.html( # create an Element called ""html"" ... E.head( ... E.title(""This is a sample document"") ... ), ... E.body( ... E.h1(""Hello!"", CLASS(""title"")), ... E.p(""This is a paragraph with "", E.b(""bold""), "" text in it!""), ... E.p(""This is another paragraph, with a"", ""\n "", ... E.a(""link"", href=""http://www.python.org""), "".""), ... E.p(""Here are some reserved characters: &lt;spam&amp;egg&gt;.""), ... etree.XML(""&lt;p&gt;And finally an embedded XHTML fragment.&lt;/p&gt;""), ... ) ... ) ... ) &gt;&gt;&gt; print(etree.tostring(page, pretty_print=True)) &lt;html&gt; &lt;head&gt; &lt;title&gt;This is a sample document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 class=""title""&gt;Hello!&lt;/h1&gt; &lt;p&gt;This is a paragraph with &lt;b&gt;bold&lt;/b&gt; text in it!&lt;/p&gt; &lt;p&gt;This is another paragraph, with a &lt;a href=""http://www.python.org""&gt;link&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Here are some reservered characters: &amp;lt;spam&amp;amp;egg&amp;gt;.&lt;/p&gt; &lt;p&gt;And finally an embedded XHTML fragment.&lt;/p&gt; &lt;/body&gt; &lt;/html&gt;"
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,56470,56229,10,"I assume that you're actually creating an XML DOM tree, because you want to validate that what goes into this file is valid XML, since otherwise you'd just write a static string to a file. If validating your output is indeed your goal, then I'd suggest from xml.dom.minidom import parseString doc = parseString(""""""&lt;html&gt; &lt;head&gt; &lt;script type=""text/javascript""&gt; var a = 'I love &amp;amp;aacute; letters' &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt;"""""") with open(""foo.xhtml"", ""w"") as f: f.write( doc.toxml() ) This lets you just write the XML you want to output, validate that it's correct (since parseString will raise an exception if it's invalid) and have your code look much nicer. Presumably you're not just writing the same static XML every time and want some substitution. In this case I'd have lines like var a = '%(message)s' and then use the % operator to do the substitution, like &lt;/html&gt;"""""" % {""message"": ""I love &amp;amp;aacute; letters""})"
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,58460,56229,0,"Try http://uche.ogbuji.net/tech/4suite/amara. It is quite complete and has a straight forward set of access tools. Normal Unicode support, etc. # #Output the XML entry # def genFileOLD(out,label,term,idval): filename=entryTime() + "".html"" writer=MarkupWriter(out, indent=u""yes"") writer.startDocument() #Test element and attribute writing ans=namespace=u'http://www.w3.org/2005/Atom' xns=namespace=u'http://www.w3.org/1999/xhtml' writer.startElement(u'entry', ans, extraNss={u'x':u'http://www.w3.org/1999/xhtml' , u'dc':u'http://purl.org/dc/elements/1.1'}) #u'a':u'http://www.w3.org/2005/Atom', #writer.attribute(u'xml:lang',unicode(""en-UK"")) writer.simpleElement(u'title',ans,content=unicode(label)) #writer.simpleElement(u'a:subtitle',ans,content=u' ') id=unicode(""http://www.dpawson.co.uk/nodesets/""+afn.split(""."")[0]) writer.simpleElement(u'id',ans,content=id) writer.simpleElement(u'updated',ans,content=unicode(dtime())) writer.startElement(u'author',ans) writer.simpleElement(u'name',ans,content=u'Dave ') writer.simpleElement(u'uri',ans, content=u'http://www.dpawson.co.uk/nodesets/'+afn+"".xml"") writer.endElement(u'author') writer.startElement(u'category', ans) if (prompt): label=unicode(raw_input(""Enter label "")) writer.attribute(u'label',unicode(label)) if (prompt): term = unicode(raw_input(""Enter term to use "")) writer.attribute(u'term', unicode(term)) writer.endElement(u'category') writer.simpleElement(u'rights',ans,content=u'\u00A9 Dave 2005-2008') writer.startElement(u'link',ans) writer.attribute(u'href', unicode(""http://www.dpawson.co.uk/nodesets/entries/""+afn+"".html"")) writer.attribute(u'rel',unicode(""alternate"")) writer.endElement(u'link') writer.startElement(u'published', ans) dt=dtime() dtu=unicode(dt) writer.text(dtu) writer.endElement(u'published') writer.simpleElement(u'summary',ans,content=unicode(label)) writer.startElement(u'content',ans) writer.attribute(u'type',unicode(""xhtml"")) writer.startElement(u'div',xns) writer.simpleElement(u'h3',xns,content=unicode(label)) writer.endElement(u'div') writer.endElement(u'content') writer.endElement(u'entry')"
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,62157,56229,3,"I ended up using saxutils.escape(str) to generate valid XML strings and then validating it with Eli's approach to be sure I didn't miss any tag from xml.sax import saxutils from xml.dom.minidom import parseString from xml.parsers.expat import ExpatError xml = '''&lt;?xml version=""1.0"" encoding=""%s""?&gt;\n &lt;contents title=""%s"" crawl_date=""%s"" in_text_date=""%s"" url=""%s""&gt;\n&lt;main_post&gt;%s&lt;/main_post&gt;\n&lt;/contents&gt;''' % (self.encoding, saxutils.escape(title), saxutils.escape(time), saxutils.escape(date), saxutils.escape(url), saxutils.escape(contents)) try: minidoc = parseString(xml) catch ExpatError: print ""Invalid xml"""
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,3098902,56229,24,"There's always SimpleXMLWriter, part of the ElementTree toolkit. The interface is dead simple. Here's an example: from elementtree.SimpleXMLWriter import XMLWriter import sys w = XMLWriter(sys.stdout) html = w.start(""html"") w.start(""head"") w.element(""title"", ""my document"") w.element(""meta"", name=""generator"", value=""my application 1.0"") w.end() w.start(""body"") w.element(""h1"", ""this is a heading"") w.element(""p"", ""this is a paragraph"") w.start(""p"") w.data(""this is "") w.element(""b"", ""bold"") w.data("" and "") w.element(""i"", ""italic"") w.data(""."") w.end(""p"") w.close(html)"
56417,18,"We're at the beginning of a new ERP-ish client-server application, developed as a Python rich client. We're currently evaluating Dabo as our main framework and it looks quite nice and easy to use, but I was wondering, has anyone used it for medium-to-big sized projects? Thanks for your time!",Anyone used Dabo for a medium-big project?,103212,56417,1,"I have no Dabo experience at all but this question is on the top of the list fo such a long time that I decided to give it a shot: Framework selection Assumptions: medium-to-big project: we're talking about a team of more than 20 people working on something for about a year for the first phase. This is usually an expensive and very important effort for the client. this project will have significant amount of users (around a hundred) so performance is essential it's an ERP project so the application will work with large amounts of information you have no prior Dabo experience in your team Considerations: I could not open Dabo project site right now. There seems to be some server problem. That alone would make me think twice about using it for a big project. It's not a well-known framework. Typing Dabo in Google returns almost no useful results, it does not have a Wikipedia page, all-in-all it's quite obscure. It means that when you will have problems with it (and you will have problems with it) you will have almost no place to go. Your question was unanswered for 8 days on SO, this alone would make me re-consider. If you base your project on an obscure technology you have no previous experience with - it's a huge risk. You don't have people who know that framework in your team. It means that you have to learn it to get any results at all and to master it will require quite significant amount of time. You will have to factor that time into your project plan. Do you really need it? What does this framework give you that you cannot do yourself? Quite a lot of time my team tried to use some third-party component or tool only to find that building a custom one would be faster than dealing with third-party problems and limitations. There are brilliant tools available to people nowadays and we would be lost without them - but you have to carefully consider if this tool is one of them Dabo project version is 0.84. Do you know if they spend time optimising their code for performance at this stage? Did you run any tests to see it will sustain the load you have in your NFRs. Hope that helps :) Good luck with your project"
56417,18,"We're at the beginning of a new ERP-ish client-server application, developed as a Python rich client. We're currently evaluating Dabo as our main framework and it looks quite nice and easy to use, but I was wondering, has anyone used it for medium-to-big sized projects? Thanks for your time!",Anyone used Dabo for a medium-big project?,106464,56417,24,"I'm one of the authors of the Dabo framework. One of our users pointed out to me the extremely negative answer you received, and so I thought I had better chime in and clear up some of the incorrect assumptions in the first reply. Dabo is indeed well-known in the Python community. I have presented it at 3 of the last 4 US PyCons, and we have several hundred users who subscribe to our email lists. Our website (http://dabodev.com) has not had any service interruptions; I don't know why the first responder claimed to have trouble. Support is through our email lists, and we pride ourselves on helping people quickly and efficiently. Many of the newbie questions help us to identify places where our docs are lacking, so we strongly encourage newcomers to ask questions! Dabo has been around for 4 years. The fact that it is still a few days away from a 0.9 release is more of a reflection of the rather conservative version numbering of my partner, Paul McNett, than any instabilities in the framework. I know of Dabo apps that have been in production since 2006; I have used it for my own projects since 2004. Whatever importance you attach to release numbers, we are at revision 4522, with consistent work being done to add more and more stuff to the framework; refactor and streamline some of the older code, and yes, clean up some bugs. Please sign up for our free email support list: http://leafe.com/mailman/listinfo/dabo-users ...and ask any questions you may have about Dabo there. Not many people have discovered Stack Overflow yet, so I wouldn't expect very informed answers here yet. There are several regular contributors there who use Dabo on a daily basis, and are usually more than happy to offer their opinions and their help."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56832,56820,-4,"What about: round(n,1)+epsilon"
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56833,56820,66,"can't help the way it's stored, but at least formatting works correctly: '%.1f' % round(n, 1) # gives you '5.6'"
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56840,56820,5,"You can switch the data type to a integer: &gt;&gt;&gt; n = 5.59 &gt;&gt;&gt; int(n * 10) / 10.0 5.5 &gt;&gt;&gt; int(n * 10 + 0.5) 56 And then display the number by inserting the locale's decimal separator. However, Jimmy's answer is better."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56841,56820,3,"You can use the string format operator %, similar to sprintf. mystring = ""%.2f"" % 5.5999"
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56844,56820,9,"You get '5.6' if you do str(round(n, 1)) instead of just round(n, 1)."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56845,56820,5,"Floating point math is vulnerable to slight, but annoying, precision inaccuracies. If you can work with integer or fixed point, you will be guaranteed precision."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56849,56820,3,printf the sucker. print '%.1f' % 5.59 # returns 5.6
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56850,56820,81,"Formatting works correctly even without having to round: ""%.1f"" % n"
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,57704,56820,15,"round(5.59, 1) is working fine. The problem is that 5.6 cannot be represented exactly in binary floating point. &gt;&gt;&gt; 5.6 5.5999999999999996 &gt;&gt;&gt; As Vinko says, you can use string formatting to do rounding for display. Python has a module for decimal arithmetic if you need that."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,3225829,56820,3,"Take a look at the Decimal module Decimal âis based on a floating-point model which was designed with people in mind, and necessarily has a paramount guiding principle â computers must provide an arithmetic that works in the same way as the arithmetic that people learn at school.â â excerpt from the decimal arithmetic specification. and Decimal numbers can be represented exactly. In contrast, numbers like 1.1 and 2.2 do not have an exact representations in binary floating point. End users typically would not expect 1.1 + 2.2 to display as 3.3000000000000003 as it does with binary floating point. Decimal provides the kind of operations that make it easy to write apps that require floating point operations and also need to present those results in a human readable format, e.g., accounting."
57708,60,"I'm doing some web scraping and sites frequently use HTML entities to represent non ascii characters. Does Python have a utility that takes a string with HTML entities and returns a unicode type? For example: I get back: &amp;#x01ce; which represents an ""Ç"" with a tone mark. In binary, this is represented as the 16 bit 01ce. I want to convert the html entity into the value u'\u01ce'",Convert XML/HTML Entities into Unicode String in Python,57745,57708,7,"You could find an answer here -- Getting international characters from a web page? EDIT: It seems like BeautifulSoup doesn't convert entities written in hexadecimal form. It can be fixed: import copy, re from BeautifulSoup import BeautifulSoup hexentityMassage = copy.copy(BeautifulSoup.MARKUP_MASSAGE) # replace hexadecimal character reference by decimal one hexentityMassage += [(re.compile('&amp;#x([^;]+);'), lambda m: '&amp;#%d;' % int(m.group(1), 16))] def convert(html): return BeautifulSoup(html, convertEntities=BeautifulSoup.HTML_ENTITIES, markupMassage=hexentityMassage).contents[0].string html = '&lt;html&gt;&amp;#x01ce;&amp;#462;&lt;/html&gt;' print repr(convert(html)) # u'\u01ce\u01ce' EDIT: unescape() function mentioned by @dF which uses htmlentitydefs standard module and unichr() might be more appropriate in this case."
57708,60,"I'm doing some web scraping and sites frequently use HTML entities to represent non ascii characters. Does Python have a utility that takes a string with HTML entities and returns a unicode type? For example: I get back: &amp;#x01ce; which represents an ""Ç"" with a tone mark. In binary, this is represented as the 16 bit 01ce. I want to convert the html entity into the value u'\u01ce'",Convert XML/HTML Entities into Unicode String in Python,57877,57708,18,"Use the builtin unichr -- BeautifulSoup isn't necessary: &gt;&gt;&gt; entity = '&amp;#x01ce' &gt;&gt;&gt; unichr(int(entity[3:],16)) u'\u01ce'"
57708,60,"I'm doing some web scraping and sites frequently use HTML entities to represent non ascii characters. Does Python have a utility that takes a string with HTML entities and returns a unicode type? For example: I get back: &amp;#x01ce; which represents an ""Ç"" with a tone mark. In binary, this is represented as the 16 bit 01ce. I want to convert the html entity into the value u'\u01ce'",Convert XML/HTML Entities into Unicode String in Python,58125,57708,55,"Python has the htmlentitydefs module, but this doesn't include a function to unescape HTML entities. Python developer Fredrik Lundh (author of elementtree, among other things) has such a function on his website, which works with decimal, hex and named entities: import re, htmlentitydefs ## # Removes HTML or XML character references and entities from a text string. # # @param text The HTML (or XML) source text. # @return The plain text, as a Unicode string, if necessary. def unescape(text): def fixup(m): text = m.group(0) if text[:2] == ""&amp;#"": # character reference try: if text[:3] == ""&amp;#x"": return unichr(int(text[3:-1], 16)) else: return unichr(int(text[2:-1])) except ValueError: pass else: # named entity try: text = unichr(htmlentitydefs.name2codepoint[text[1:-1]]) except KeyError: pass return text # leave as is return re.sub(""&amp;#?\w+;"", fixup, text)"
57708,60,"I'm doing some web scraping and sites frequently use HTML entities to represent non ascii characters. Does Python have a utility that takes a string with HTML entities and returns a unicode type? For example: I get back: &amp;#x01ce; which represents an ""Ç"" with a tone mark. In binary, this is represented as the 16 bit 01ce. I want to convert the html entity into the value u'\u01ce'",Convert XML/HTML Entities into Unicode String in Python,573629,57708,6,"This is a function which should help you to get it right and convert entities back to utf-8 characters. def unescape(text): """"""Removes HTML or XML character references and entities from a text string. @param text The HTML (or XML) source text. @return The plain text, as a Unicode string, if necessary. from Fredrik Lundh 2008-01-03: input only unicode characters string. http://effbot.org/zone/re-sub.htm#unescape-html """""" def fixup(m): text = m.group(0) if text[:2] == ""&amp;#"": # character reference try: if text[:3] == ""&amp;#x"": return unichr(int(text[3:-1], 16)) else: return unichr(int(text[2:-1])) except ValueError: print ""Value Error"" pass else: # named entity # reescape the reserved characters. try: if text[1:-1] == ""amp"": text = ""&amp;amp;amp;"" elif text[1:-1] == ""gt"": text = ""&amp;amp;gt;"" elif text[1:-1] == ""lt"": text = ""&amp;amp;lt;"" else: print text[1:-1] text = unichr(htmlentitydefs.name2codepoint[text[1:-1]]) except KeyError: print ""keyerror"" pass return text # leave as is return re.sub(""&amp;#?\w+;"", fixup, text)"
58119,11,"I can't tell from the Python documentation whether the re.compile(x) function may throw an exception (assuming you pass in a string). I imagine there is something that could be considered an invalid regular expression. The larger question is, where do I go to find if a given Python library call may throw exception(s) and what those are?",Does re.compile() or any given Python library call throw an exception?,58129,58119,9,"Well, re.compile certainly may: &gt;&gt;&gt; import re &gt;&gt;&gt; re.compile('he(lo') Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; File ""C:\Python25\lib\re.py"", line 180, in compile return _compile(pattern, flags) File ""C:\Python25\lib\re.py"", line 233, in _compile raise error, v # invalid expression sre_constants.error: unbalanced parenthesis The documentation does support this, in a roundabout way - check the bottom of the ""Module Contents"" page for (brief) description of the error exception. Unfortunately, I don't have any answer to the general question. I suppose the documentation for the various modules varies in quality and thoroughness. If there were particular modules you were interested in, you might be able to decompile them (if written in Python) or even look at the source, if they're in the standard library."
58119,11,"I can't tell from the Python documentation whether the re.compile(x) function may throw an exception (assuming you pass in a string). I imagine there is something that could be considered an invalid regular expression. The larger question is, where do I go to find if a given Python library call may throw exception(s) and what those are?",Does re.compile() or any given Python library call throw an exception?,58168,58119,6,"Unlike Java, where there are exceptions that must be declared to be raised (and some that don't have to be, but that's another story), any Python code may raise any exception at any time. There are a list of built-in exceptions, which generally has some description of when these exceptions might be raised. Its up to you as to how much exception handling you will do, and if you will handle stuff gracefully, or just fail with a traceback."
58294,8,"When I call socket.getsockname() on a socket object, it returns a tuple of my machine's internal IP and the port. However, I would like to retrieve my external IP. What's the cheapest, most efficient manner of doing this?",How do I get the external IP of a socket in Python?,58296,58294,7,"This isn't possible without cooperation from an external server, because there could be any number of NATs between you and the other computer. If it's a custom protocol, you could ask the other system to report what address it's connected to."
58294,8,"When I call socket.getsockname() on a socket object, it returns a tuple of my machine's internal IP and the port. However, I would like to retrieve my external IP. What's the cheapest, most efficient manner of doing this?",How do I get the external IP of a socket in Python?,58299,58294,4,The only way I can think of that's guaranteed to give it to you is to hit a service like http://whatismyip.com/ to get it.
58294,8,"When I call socket.getsockname() on a socket object, it returns a tuple of my machine's internal IP and the port. However, I would like to retrieve my external IP. What's the cheapest, most efficient manner of doing this?",How do I get the external IP of a socket in Python?,256358,58294,1,"import socket s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.connect((""msn.com"",80)) s.getsockname()"
58294,8,"When I call socket.getsockname() on a socket object, it returns a tuple of my machine's internal IP and the port. However, I would like to retrieve my external IP. What's the cheapest, most efficient manner of doing this?",How do I get the external IP of a socket in Python?,2646313,58294,0,Using the address suggested in the source of http://whatismyip.com import urllib def get_my_ip_address(): whatismyip = 'http://www.whatismyip.com/automation/n09230945.asp' return urllib.urlopen(whatismyip).readlines()[0]
58622,49,"I like doxygen to create documentation of C or PHP code. I have an upcoming Python project and I think I remember that Python doesn't have /* .. */ comments and also has its own self-documentation facility which seems to be the pythonic way to document. Can I just use doxygen? Anything particular to be aware of? I have done some coding in Python but so far only on small projects where I was to lazy to document at all (yeah, I know ... but let's just pretend that's OK for now).",Can I document Python code with doxygen (and does it make sense)?,58701,58622,30,"This is documented on the doxygen website, but to summarize here: You can use doxygen to document your Python code. You can either use the Python documentation string syntax: """"""@package docstring Documentation for this module. More details. """""" def func(): """"""Documentation for a function. More details. """""" pass In which case the comments will be extracted by doxygen, but you won't be able to use any of the special doxygen commands. Or you can (similar to C-style languages under doxygen) double up the comment marker (#) on the first line before the member: ## @package pyexample # Documentation for this module. # # More details. ## Documentation for a function. # # More details. def func(): pass In that case, you can use the special doxygen commands. There's no particular Python output mode, but you can apparently improve the results by setting OPTMIZE_OUTPUT_JAVA to YES. Honestly, I'm a little surprised at the difference - it seems like once doxygen can detect the comments in ## blocks or """""" blocks, most of the work would be done and you'd be able to use the special commands in either case. Maybe they expect people using """""" to adhere to more Pythonic documentation practices and that would interfere with the special doxygen commands?"
58622,49,"I like doxygen to create documentation of C or PHP code. I have an upcoming Python project and I think I remember that Python doesn't have /* .. */ comments and also has its own self-documentation facility which seems to be the pythonic way to document. Can I just use doxygen? Anything particular to be aware of? I have done some coding in Python but so far only on small projects where I was to lazy to document at all (yeah, I know ... but let's just pretend that's OK for now).",Can I document Python code with doxygen (and does it make sense)?,59018,58622,11,"An other very good documentation tool is sphinx. It will be used for the upcoming python 2.6 documentation and is used by django and a lot of other python projects. From the sphinx website: Output formats: HTML (including Windows HTML Help) and LaTeX, for printable PDF versions Extensive cross-references: semantic markup and automatic links for functions, classes, glossary terms and similar pieces of information Hierarchical structure: easy definition of a document tree, with automatic links to siblings, parents and children Automatic indices: general index as well as a module index Code handling: automatic highlighting using the Pygments highlighter Extensions: automatic testing of code snippets, inclusion of docstrings from Python modules, and more"
58622,49,"I like doxygen to create documentation of C or PHP code. I have an upcoming Python project and I think I remember that Python doesn't have /* .. */ comments and also has its own self-documentation facility which seems to be the pythonic way to document. Can I just use doxygen? Anything particular to be aware of? I have done some coding in Python but so far only on small projects where I was to lazy to document at all (yeah, I know ... but let's just pretend that's OK for now).",Can I document Python code with doxygen (and does it make sense)?,59955,58622,18,"Sphinx is mainly a tool for formatting docs written independently from the source code, as I understand it. For generating API docs from Python docstrings, the leading tools are pdoc and pydoctor. Here's pydoctor's generated API docs for Twisted and Bazaar. Of course, if you just want to have a look at the docstrings while you're working on stuff, there's the ""pydoc"" command line tool and as well as the help() function available in the interactive interpreter."
58622,49,"I like doxygen to create documentation of C or PHP code. I have an upcoming Python project and I think I remember that Python doesn't have /* .. */ comments and also has its own self-documentation facility which seems to be the pythonic way to document. Can I just use doxygen? Anything particular to be aware of? I have done some coding in Python but so far only on small projects where I was to lazy to document at all (yeah, I know ... but let's just pretend that's OK for now).",Can I document Python code with doxygen (and does it make sense)?,497322,58622,48,"The doxypy input filter allows you to use pretty much all of Doxygen's formatting tags in a standard Python docstring format. I use it to document a large mixed C++ and Python game application framework, and it's working well."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",58917,58711,7,"You could actually pull this off, but it would require using metaclasses, which are deep magic (there be dragons). If you want an intro to metaclasses, there's a series of articles from IBM which manage to introduce the ideas without melting your brain. The source code from an ORM like SQLObject might help, too, since it uses this same kind of declarative syntax."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",58990,58711,2,"Maybe not as slick as the Ruby version, but how about something like this: from Boots import App, Para, Button, alert def Shoeless(App): t = Para(text = 'Not Clicked') b = Button(label = 'The label') def on_b_clicked(self): alert('You clicked the button!') self.t.text = 'Clicked!' Like Justin said, to implement this you would need to use a custom metaclass on class App, and a bunch of properties on Para and Button. This actually wouldn't be too hard. The problem you run into next is: how do you keep track of the order that things appear in the class definition? In Python 2.x, there is no way to know if t should be above b or the other way around, since you receive the contents of the class definition as a python dict. However, in Python 3.0 metaclasses are being changed in a couple of (minor) ways. One of them is the __prepare__ method, which allows you to supply your own custom dictionary-like object to be used instead -- this means you'll be able to track the order in which items are defined, and position them accordingly in the window."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",60563,58711,2,"This could be an oversimplification, I don't think it would be a good idea to try to make a general purpose ui library this way. On the other hand you could use this approach (metaclasses and friends) to simplify the definition of certain classes of user interfaces for an existing ui library and depending of the application that could actually save you a significant amount of time and code lines."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",62780,58711,3,With some Metaclass magic to keep the ordering I have the following working. I'm not sure how pythonic it is but it is good fun for creating simple things. class w(Wndw): title='Hello World' class txt(Txt): # either a new class text='Insert name here' lbl=Lbl(text='Hello') # or an instance class greet(Bbt): text='Greet' def click(self): #on_click method self.frame.lbl.text='Hello %s.'%self.frame.txt.text app=w()
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",334828,58711,1,"I have this same problem. I wan to to create a wrapper around any GUI toolkit for Python that is easy to use, and inspired by Shoes, but needs to be a OOP approach (against ruby blocks). More information in: http://wiki.alcidesfonseca.com/blog/python-universal-gui-revisited Anyone's welcome to join the project."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",334938,58711,3,The only attempt to do this that I know of is Hans Nowak's Wax (which is unfortunately dead).
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335077,58711,3,The closest you can get to rubyish blocks is the with statement from pep343: http://www.python.org/dev/peps/pep-0343/
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335132,58711,4,I was never satisfied with David Mertz's articles at IBM on metaclsses so I recently wrote my own metaclass article. Enjoy.
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335358,58711,1,"If you really want to code UI, you could try to get something similar to django's ORM; sth like this to get a simple help browser: class MyWindow(Window): class VBox: entry = Entry() bigtext = TextView() def on_entry_accepted(text): bigtext.value = eval(text).__doc__ The idea would be to interpret some containers (like windows) as simple classes, some containers (like tables, v/hboxes) recognized by object names, and simple widgets as objects. I dont think one would have to name all containers inside a window, so some shortcuts (like old-style classes being recognized as widgets by names) would be desirable. About the order of elements: in MyWindow above you don't have to track this (window is conceptually a one-slot container). In other containers you can try to keep track of the order assuming that each widget constructor have access to some global widget list. This is how it is done in django (AFAIK). Few hacks here, few tweaks there... There are still few things to think of, but I believe it is possible... and usable, as long as you don't build complicated UIs. However I am pretty happy with PyGTK+Glade. UI is just kind of data for me and it should be treated as data. There's just too much parameters to tweak (like spacing in different places) and it is better to manage that using a GUI tool. Therefore I build my UI in glade, save as xml and parse using gtk.glade.XML()."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335400,58711,1,Declarative is not necessarily more (or less) pythonic than functional IMHO. I think a layered approach would be the best (from buttom up): A native layer that accepts and returns python data types. A functional dynamic layer. One or more declarative/object-oriented layers. Similar to Elixir + SQLAlchemy.
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335443,58711,1,"Personally, I would try to implement JQuery like API in a GUI framework. class MyWindow(Window): contents = ( para('Hello World!'), button('Click Me', id='ok'), para('Epilog'), ) def __init__(self): self['#ok'].click(self.message) self['para'].hover(self.blend_in, self.blend_out) def message(self): print 'You clicked!' def blend_in(self, object): object.background = '#333333' def blend_out(self, object): object.background = 'WindowBackground'"
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335887,58711,4,"This is extremely contrived and not pythonic at all, but here's my attempt at a semi-literal translation using the new ""with"" statement. with Shoes(): t = Para(""Not clicked!"") with Button(""The Label""): Alert(""You clicked the button!"") t.replace(""Clicked!"") The hardest part is dealing with the fact that python will not give us anonymous functions with more than one statement in them. To get around that, we could create a list of commands and run through those... Anyway, here's the backend code I ran this with: context = None class Nestable(object): def __init__(self,caption=None): self.caption = caption self.things = [] global context if context: context.add(self) def __enter__(self): global context self.parent = context context = self def __exit__(self, type, value, traceback): global context context = self.parent def add(self,thing): self.things.append(thing) print ""Adding a %s to %s"" % (thing,self) def __str__(self): return ""%s(%s)"" % (self.__class__.__name__, self.caption) class Shoes(Nestable): pass class Button(Nestable): pass class Alert(Nestable): pass class Para(Nestable): def replace(self,caption): Command(self,""replace"",caption) class Command(Nestable): def __init__(self, target, command, caption): self.command = command self.target = target Nestable.__init__(self,caption) def __str__(self): return ""Command(%s text of %s with \""%s\"")"" % (self.command, self.target, self.caption) def execute(self): self.target.caption = self.caption"
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",336089,58711,1,"Here's an approach that goes about GUI definitions a bit differently using class-based meta-programming rather than inheritance. This is largley Django/SQLAlchemy inspired in that it is heavily based on meta-programming and separates your GUI code from your ""code code"". I also think it should make heavy use of layout managers like Java does because when you're dropping code, no one wants to constantly tweak pixel alignment. I also think it would be cool if we could have CSS-like properties. Here is a rough brainstormed example that will show a column with a label on top, then a text box, then a button to click on the bottom which shows a message. from happygui.controls import * MAIN_WINDOW = Window(width=""500px"", height=""350px"", my_layout=ColumnLayout(padding=""10px"", my_label=Label(text=""What's your name kiddo?"", bold=True, align=""center""), my_edit=EditBox(placeholder=""""), my_btn=Button(text=""CLICK ME!"", on_click=Handler('module.file.btn_clicked')), ), ) MAIN_WINDOW.show() def btn_clicked(sender): # could easily be in a handlers.py file name = MAIN_WINDOW.my_layout.my_edit.text # same thing: name = sender.parent.my_edit.text # best practice, immune to structure change: MAIN_WINDOW.find('my_edit').text MessageBox(""Your name is '%s'"" % ()).show(modal=True) One cool thing to notice is the way you can reference the input of my_edit by saying MAIN_WINDOW.my_layout.my_edit.text. In the declaration for the window, I think it's important to be able to arbitrarily name controls in the function kwargs. Here is the same app only using absolute positioning (the controls will appear in different places because we're not using a fancy layout manager): from happygui.controls import * MAIN_WINDOW = Window(width=""500px"", height=""350px"", my_label=Label(text=""What's your name kiddo?"", bold=True, align=""center"", x=""10px"", y=""10px"", width=""300px"", height=""100px""), my_edit=EditBox(placeholder="""", x=""10px"", y=""110px"", width=""300px"", height=""100px""), my_btn=Button(text=""CLICK ME!"", on_click=Handler('module.file.btn_clicked'), x=""10px"", y=""210px"", width=""300px"", height=""100px""), ) MAIN_WINDOW.show() def btn_clicked(sender): # could easily be in a handlers.py file name = MAIN_WINDOW.my_edit.text # same thing: name = sender.parent.my_edit.text # best practice, immune to structure change: MAIN_WINDOW.find('my_edit').text MessageBox(""Your name is '%s'"" % ()).show(modal=True) I'm not entirely sure yet if this is a super great approach, but I definitely think it's on the right path. I don't have time to explore this idea more, but if someone took this up as a project, I would love them."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",336525,58711,5,"## All you need is this class: class MainWindow(Window): my_button = Button('Click Me') my_paragraph = Text('This is the text you wish to place') my_alert = AlertBox('What what what!!!') @my_button.clicked def my_button_clicked(self, button, event): self.my_paragraph.text.append('And now you clicked on it, the button that is.') @my_paragraph.text.changed def my_paragraph_text_changed(self, text, event): self.button.text = 'No more clicks!' @my_button.text.changed def my_button_text_changed(self, text, event): self.my_alert.show() ## The Style class is automatically gnerated by the framework ## but you can override it by defining it in the class: ## ## class MainWindow(Window): ## class Style: ## my_blah = {'style-info': 'value'} ## ## or like you see below: class Style: my_button = { 'background-color': '#ccc', 'font-size': '14px'} my_paragraph = { 'background-color': '#fff', 'color': '#000', 'font-size': '14px', 'border': '1px solid black', 'border-radius': '3px'} MainWindow.Style = Style ## The layout class is automatically generated ## by the framework but you can override it by defining it ## in the class, same as the Style class above, or by ## defining it like this: class MainLayout(Layout): def __init__(self, style): # It takes the custom or automatically generated style class upon instantiation style.window.pack(HBox().pack(style.my_paragraph, style.my_button)) MainWindow.Layout = MainLayout if __name__ == '__main__': run(App(main=MainWindow)) It would be relatively easy to do in python with a bit of that metaclass python magic know how. Which I have. And a knowledge of PyGTK. Which I also have. Gets ideas?"
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",336583,58711,3,"If you use PyGTK with glade and this glade wrapper, then PyGTK actually becomes somewhat pythonic. A little at least. Basically, you create the GUI layout in Glade. You also specify event callbacks in glade. Then you write a class for your window like this: class MyWindow(GladeWrapper): GladeWrapper.__init__(self, ""my_glade_file.xml"", ""mainWindow"") self.GtkWindow.show() def button_click_event (self, *args): self.button1.set_label(""CLICKED"") Here, I'm assuming that I have a GTK Button somewhere called button1 and that I specified *button_click_event* as the clicked callback. The glade wrapper takes a lot of effort out of event mapping. If I were to design a Pythonic GUI library, I would support something similar, to aid rapid development. The only difference is that I would ensure that the widgets have a more pythonic interface too. The current PyGTK classes seem very C to me, except that I use foo.bar(...) instead of bar(foo, ...) though I'm not sure exactly what I'd do differently. Probably allow for a Django models style declarative means of specifying widgets and events in code and allowing you to access data though iterators (where it makes sense, eg widget lists perhaps), though I haven't really thought about it."
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59662,59648,2,"Are you talking about doing this? &gt;&gt;&gt; a = [ ['a', 'b'], ['c', 'd'] ] &gt;&gt;&gt; a[1] ['c', 'd'] &gt;&gt;&gt; a[1][1] 'd'"
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59663,59648,1,"Lists in python can contain any type of object -- If I understand the question correctly, will a list of lists do the job? Something like this (assuming you have a function generate_poll_data() which creates your data: data = [] for in xrange(num_iterations): data.append(generate_poll_data()) Then, data[n] will be the list of data from the (n-1)th run."
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59709,59648,1,"since you are thinking in variables, you might prefer a dictionary over a list of lists: data = {} data['a'] = [generate_poll_data()] data['b'] = [generate_poll_data()] etc."
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59762,59648,1,I would strongly consider using NumPy to do this. You get efficient N-dimensional arrays that you can quickly and easily process.
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59778,59648,2,"Would something like this work? from random import randint mcworks = [] for n in xrange(NUM_ITERATIONS): mctest = [randint(0, 100) for I in xrange(5)] if sum(mctest[:3])/3 == mcavg[2]: mcworks.append(mctest) # mcavg is real data In the end, you are left with a list of valid mctest lists. What I changed: Used a list comprehension to build the data instead of a for loop Used random.randint to get random integers Used slices and sum to calculate the average of the first three items (To answer your actual question :-) ) Put the results in a list mcworks, instead of creating a new variable for every iteration"
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,59841,59825,197,"Two options that don't require copying the whole set: for e in s: break # e is now an element from s Or... e = next(iter(s)) But in general, sets don't support indexing or slicing."
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,59928,59825,1,"Another option is to use a dictionary with values you don't care about. E.g., poor_man_set = {} poor_man_set[1] = None poor_man_set[2] = None poor_man_set[3] = None ... You can treat the keys as a set except that they're just an array: keys = poor_man_set.keys() print ""Some key = %s"" % keys[0] A side effect of this choice is that your code will be backwards compatible with older, pre-set versions of Python. It's maybe not the best answer but it's another option. Edit: You can even do something like this to hide the fact that you used a dict instead of an array or set: poor_man_set = {} poor_man_set[1] = None poor_man_set[2] = None poor_man_set[3] = None poor_man_set = poor_man_set.keys()"
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,60027,59825,15,"Since you want a random element, this will also work: &gt;&gt;&gt; import random &gt;&gt;&gt; s = set([1,2,3]) &gt;&gt;&gt; random.sample(s, 1) [2] The documentation doesn't seem to mention performance of random.sample. From a really quick empirical test with a huge list and a huge set, it seems to be constant time for a list but not for the set. Also, iteration over a set isn't random; the order is undefined but predictable: &gt;&gt;&gt; list(set(range(10))) == range(10) True If randomness is important and you need a bunch of elements in constant time (large sets), I'd use random.sample and convert to a list first: &gt;&gt;&gt; lst = list(s) # once, O(len(s))? ... &gt;&gt;&gt; e = random.sample(lst, 1)[0] # constant time"
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,60233,59825,37,"Least code would be: &gt;&gt;&gt; s = set([1, 2, 3]) &gt;&gt;&gt; list(s)[0] 1 Obviously this would create a new list which contains each member of the set, so not great if your set is very large."
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,61140,59825,4,I use a utility function I wrote. Its name is somewhat misleading because it kind of implies it might be a random item or something like that. def anyitem(iterable): try: return iter(iterable).next() except StopIteration: return None
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,1612654,59825,28,"To provide some timing figures behind the different approaches, consider the following code. The get() is my custom addition to Python's setobject.c, being just a pop() without removing the element. from timeit import * stats = [""for I in xrange(1000): iter(s).next() "", ""for I in xrange(1000): \n\tfor x in s: \n\t\tbreak"", ""for I in xrange(1000): s.add(s.pop()) "", ""for I in xrange(1000): s.get() ""] for stat in stats: t = Timer(stat, setup=""s=set(range(100))"") try: print ""Time for %s:\t %f""%(stat, t.timeit(number=1000)) except: t.print_exc() The output is: $ ./test_get.py Time for for I in xrange(1000): iter(s).next() : 0.433080 Time for for I in xrange(1000): for x in s: break: 0.148695 Time for for I in xrange(1000): s.add(s.pop()) : 0.317418 Time for for I in xrange(1000): s.get() : 0.146673 This means that the for/break solution is the fastest (sometimes faster than the custom get() solution)."
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60218,60152,0,"The languages of choice of Firefox is Javascript. Unless you have a specific requirement that requires Python, I would advice you to use that."
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60219,60152,5,You could try selenium.
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60548,60152,1,See if twill can help you. It can be used as a command line tool or as a python library.
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60552,60152,0,"Install Mozlab in Firefox and enable the telnet server, then open a socket."
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60630,60152,2,I use Selenium RC. All my tests are written in Python and are run with test suite. One minor thing is that You either have to start selenium manually and point Your tests to it or start selenium from test suite which requires little bit of coding. But it's doable. Generally I'm very pleased with this solution.
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,69867,60152,3,"The PyXPCOM extension is one possibility. But looking at what firewatir provides, I have to 2nd the suggestion for twill. It's based on mechanize, which might also be useful in this context."
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,2223726,60152,0,"Many command line tools don't have a javascript interpreter so do not support web 2.0 functionality. juicedpyshell is based on PyXPCOMext's PyShell example. It gives you a python shell window ""inside"" the browser, and simplifies access to both the DOM of what you are browsing to and also the shell window itself (so you can add GUI elements as part of your automation script). But its a new project so probably not as full featured as some of the above."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60211,60208,616,"You could use a dictionary: def f(x): return { 'a': 1, 'b': 2, }[x]"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60215,60208,156,"I've always liked doing it this way result = { 'a': lambda x: x * 5, 'b': lambda x: x + 7, 'c': lambda x: x - 2 }[value](x) From here"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60216,60208,1,"If you are really just returning a predetermined, fixed value, you could create a dictionary with all possible input indexes as the keys, along with their corresponding values. Also, you might not really want a function to do this - unless you're computing the return value somehow. Oh, and if you feel like doing something switch-like, see here."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60236,60208,127,"In addition to the dictionary methods (which I really like, BTW), you can also use if-elif-else to obtain the switch/case/default functionality: if x == 'a': # Do the thing elif x == 'b': # Do the other thing if x in 'bc': # Fall-through by not using elif, but now the default case includes case 'a'! elif x in 'xyz': # Do yet another thing else: # Do the default This of course is not identical to switch/case - you cannot have fall-through as easily as leaving off the break; statement, but you can have a more complicated test. Its formatting is nicer than a series of nested ifs, even though functionally that's what it is closer to."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60243,60208,32,"There's a pattern that I learned from Twisted Python code. class SMTP: def lookupMethod(self, command): return getattr(self, 'do_' + command.upper(), None) def do_HELO(self, rest): return 'Howdy ' + rest def do_QUIT(self, rest): return 'Bye' SMTP().lookupMethod('HELO')('foo.bar.com') # =&gt; 'Howdy foo.bar.com' SMTP().lookupMethod('QUIT')('') # =&gt; 'Bye' You can use it any time you need to dispatch on a token and execute extended piece of code. In a state machine you would have state_ methods, and dispatch on self.state. This switch can be cleanly extended by inheriting from base class and defining your own do_ methods. Often times you won't even have do_ methods in the base class. Edit: how exactly is that used In case of SMTP you will receive HELO from the wire. The relevant code (from twisted/mail/smtp.py, modified for our case) looks like this class SMTP: # ... def do_UNKNOWN(self, rest): raise NotImplementedError, 'received unknown command' def state_COMMAND(self, line): line = line.strip() parts = line.split(None, 1) if parts: method = self.lookupMethod(parts[0]) or self.do_UNKNOWN if len(parts) == 2: return method(parts[1]) else: return method('') else: raise SyntaxError, 'bad syntax' SMTP().state_COMMAND(' HELO foo.bar.com ') # =&gt; Howdy foo.bar.com You'll receive ' HELO foo.bar.com ' (or you might get 'QUIT' or 'RCPT TO: foo'). This is tokenized into parts as ['HELO', 'foo.bar.com']. The actual method lookup name is taken from parts[0]. (The original method is also called state_COMMAND, because it uses the same pattern to implement a state machine, i.e. getattr(self, 'state_' + self.mode))"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,64756,60208,-1,"The switch statement is just syntactical sugar which is probably why Python doesn't have it. You can use if else statements for this functionality easily. Like Matthew Schinckel said, you can use if and elif and else. It is also a simple matter to have ""fall-through"" capabilities like most switch statements. All you have to do is not use elif. if x == 1: # 1 if x == 2: # fall-through elif x == 3: # not fall-through"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,67450,60208,2,I would just use if/elif/else statements. I think that it's good enough to replace the switch statement.
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,102990,60208,9,"expanding on the ""dict as switch"" idea. if you want to use a default value for your switch: def f(x): try: return { 'a': 1, 'b': 2, }[x] except KeyError: return 'default'"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,103081,60208,674,"If you'd like defaults you could use the dictionary get(key[, default]) method: def f(x): return { 'a': 1, 'b': 2, }.get(x, 9) # 9 is default if x not found"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,109245,60208,25,A true switch/case in Python is going to be more difficult than a dictionary method or if/elif/else methods because the simple versions do not support fall through. Another downfall of the if/elif/else method is the need for repeated comparisons. The C implementation of a switch/case has a performance benefit over if/else if/else in that only a single comparison is needed. The result of that comparison is used as an offset into a jump table (in the underlying asm generated). Mimicking the true functionality in Python would be a pain. Does any one have an implementation that would allow for fall through while only using a single comparison?
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,322922,60208,-2,"def f(x): return {'a': 1,'b': 2,}.get(x) or ""Default"""
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,323259,60208,341,Python Cookbook has several recipes (implementations and corresponding discussions) for switch statement. Please visit the following links: Readable switch construction without lambdas or dictionaries Exception-based Switch-Case Using a Dictionary in place of a 'switch' statement
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,956115,60208,4,"I have made a (relatively) flexible and re-usable solution for this. It can be found at GitHub as this gist. If the result of the switch function is callable, it is automatically called."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,3129619,60208,5,"The solutions I use: A combination of 2 of the solutions posted here, which is relatively easy to read and supports defaults. result = { 'a': lambda x: x * 5, 'b': lambda x: x + 7, 'c': lambda x: x - 2 }.get(whatToUse, lambda x: x - 22)(value) where .get('c', lambda x: x - 22)(23) looks up ""lambda x: x - 2"" in the dict and uses it with x=23 .get('xxx', lambda x: x - 22)(44) doesn't find it in the dict and uses the default ""lambda x: x - 22"" with x=44."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,3828986,60208,16,"Let's say you don't want to just return a value, but want to use methods that change something on an object. Using the approach stated here would be: result = { 'a': obj.increment(x), 'b': obj.decrement(x) }.get(value, obj.default(x)) What happens here is that python evaluates all methods in the dictionary. So even if your value is 'a', the object will get incremented and decremented by x. Solution: func, args = { 'a' : (obj.increment, (x,)), 'b' : (obj.decrement, (x,)), }.get(value, (obj.default, (x,))) result = func(*args) So you get a list containing a function and its arguments. This way, only the function pointer and the argument list get returned, not evaluated. 'result' then evaluates the returned function call."
60352,0,"If all of my __init__.py files are empty, do I have to store them into version control, or is there a way to make distutils create empty __init__.py files during installation?",Can distutils create empty init.py files?,60431,60352,7,"In Python, __init__.py files actually have a meaning! They mean that the folder they are in is a Python module. As such, they have a real role in your code and should most probably be stored in Version Control. You could well imagine a folder in your source tree that is NOT a Python module, for example a folder containing only resources (e.g. images) and no code. That folder would not need to have a __init__.py file in it. Now how do you make the difference between folders where distutils should create those files and folders where it should not ?"
60352,0,"If all of my __init__.py files are empty, do I have to store them into version control, or is there a way to make distutils create empty __init__.py files during installation?",Can distutils create empty init.py files?,60506,60352,4,"Is there a reason you want to avoid putting empty __init__.py files in version control? If you do this you won't be able to import your packages from the source directory wihout first running distutils. If you really want to, I suppose you can create __init__.py in setup.py. It has to be before running distutils.setup, so setup itself is able to find your packages: from distutils import setup import os for path in [my_package_directories]: filename = os.path.join(pagh, '__init__.py') if not os.path.exists(filename): init = open(filename, 'w') init.close() setup( ... ) but... what would you gain from this, compared to having the empty __init__.py files there in the first place?"
60446,3,What is the best way to start developing Windows Mobile Professional applications in Python? Is there a reasonable SDK including an emulator? Is it even possible without doing excessive amount of underlaying Windows API calls for UI for instance?,Windows Mobile development in Python,60448,60446,9,"Python CE Python port for Windows CE (Pocket PC) devices. Intended to be as close to desktop version as possible (console, current directory support, testsuite passed)."
60446,3,What is the best way to start developing Windows Mobile Professional applications in Python? Is there a reasonable SDK including an emulator? Is it even possible without doing excessive amount of underlaying Windows API calls for UI for instance?,Windows Mobile development in Python,60460,60446,1,"If the IronPython and .Net Compact Framework teams work together, Visual Studio may one day support Python for Windows Mobile development out-of-the-box. Unfortunately, this feature request has been sitting on their issue tracker for ages..."
60446,3,What is the best way to start developing Windows Mobile Professional applications in Python? Is there a reasonable SDK including an emulator? Is it even possible without doing excessive amount of underlaying Windows API calls for UI for instance?,Windows Mobile development in Python,60945,60446,9,"(I used to write customer apps for Windows Mobile.) Forget about python. Even if it's technically possible: your app will be big (you'll have to bundle the whole python runtime with your app) your app will use lots of memory (python is a memory hog, relative to C/C++) your app will be slow you wont find any documentation or discussion groups to help you when you (inevitably) encounter problems Go with C/C++ (or C#). Visual Studio 2005/2008 have decent tools for those (SDK for winmo built-in, debugging on the emulator or device connected through USB), the best documentation is for those technologies plus there are active forums/discussion groups/mailing lists where you can ask for help."
60446,3,What is the best way to start developing Windows Mobile Professional applications in Python? Is there a reasonable SDK including an emulator? Is it even possible without doing excessive amount of underlaying Windows API calls for UI for instance?,Windows Mobile development in Python,1519440,60446,1,Just found this: http://ejr44.blogspot.com/2008/05/python-for-windows-mobile-cab.html Looks like a complete set of .CAB files to provide Python on Windows Mobile.
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60660,60649,13,"For C++, check out Boost IPC. You can probably create or find some bindings for the scripting languages as well. Otherwise if it's really important to be able to interface with scripting languages your best bet is simply to use files, pipes or sockets or even a higher level abstraction like HTTP."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60662,60649,5,"How about Facebook's Thrift? Thrift is a software framework for scalable cross-language services development. It combines a software stack with a code generation engine to build services that work efficiently and seamlessly between C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, Smalltalk, and OCaml."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60668,60649,4,"It doesn't get more simple than using pipes, which are supported on every OS I know of, and can be accessed in pretty much every language. Check out this tutorial."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60692,60649,2,TCP sockets to localhost FTW.
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60702,60649,5,"I think you'll want something based on sockets. If you want RPC rather than just IPC I would suggest something like XML-RPC/SOAP which runs over HTTP, and can be used from any language."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,65924,60649,42,"In terms of speed, the best cross-platform IPC mechanism will be pipes. That assumes, however, that you want cross-platform IPC on the same machine. If you want to be able to talk to processes on remote machines, you'll want to look at using sockets instead. Luckily, if you're talking about TCP at least, sockets and pipes behave pretty much the same behavior. While the APIs for setting them up and connecting them are different, they both just act like streams of data. The difficult part, however, is not the communication channel, but the messages you pass over it. You really want to look at something that will perform verification and parsing for you. I recommend looking at Google's Protocol Buffers. You basically create a spec file that describes the object you want to pass between processes, and there is a compiler that generates code in a number of different languages for reading and writing objects that match the spec. It's much easier (and less bug prone) than trying to come up with a messaging protocol and parser yourself."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,66069,60649,4,"If you're willing to try something a little different, there's the ICE platform from ZeroC. It's open source, and is supported on pretty much every OS you can think of, as well as having language support for C++, C#, Java, Ruby, Python and PHP. Finally, it's very easy to drive (the language mappings are tailored to fit naturally into each language). It's also fast and efficient. There's even a cut-down version for devices."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,67532,60649,7,"You might want to try YAMI , it's very simple yet functional, portable and comes with binding to few languages"
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,74590,60649,8,Why not D-Bus? It's a very simple message passing system that runs on almost all platforms and is designed for robustness. It's supported by pretty much every scripting language at this point. http://freedesktop.org/wiki/Software/dbus
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,74615,60649,0,Python has a pretty good IPC library: see https://docs.python.org/2/library/ipc.html
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,351256,60649,3,"Distributed computing is usually complex and you are well advised to use existing libraries or frameworks instead of reinventing the wheel. Previous poster have already enumerated a couple of these libraries and frameworks. Depending on your needs you can pick either a very low level (like sockets) or high level framework (like CORBA). There can not be a generic ""use this"" answer. You need to educate yourself about distributed programming and then will find it much easier to pick the right library or framework for the job. There exists a wildly used C++ framework for distributed computing called ACE and the CORBA ORB TAO (which is buildt upon ACE). There exist very good books about ACE http://www.cs.wustl.edu/~schmidt/ACE/ so you might take a look. Take care!"
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,2136606,60649,3,YAMI - Yet Another Messaging Infrastructure is a lightweight messaging and networking framework.
60680,14,"I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port? What I'm doing now: class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler): def doGET [...] class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): pass server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler) server.serve_forever()",How do I write a python HTTP server to listen on multiple ports?,60753,60680,27,"Sure; just start two different servers on two different ports in two different threads that each use the same handler. Here's a complete, working example that I just wrote and tested. If you run this code then you'll be able to get a Hello World webpage at both http://localhost:1111/ and http://localhost:2222/ from threading import Thread from SocketServer import ThreadingMixIn from BaseHTTPServer import HTTPServer, BaseHTTPRequestHandler class Handler(BaseHTTPRequestHandler): def do_GET(self): self.send_response(200) self.send_header(""Content-type"", ""text/plain"") self.end_headers() self.wfile.write(""Hello World!"") class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): pass def serve_on_port(port): server = ThreadingHTTPServer((""localhost"",port), Handler) server.serve_forever() Thread(target=serve_on_port, args=[1111]).start() serve_on_port(2222)"
60680,14,"I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port? What I'm doing now: class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler): def doGET [...] class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): pass server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler) server.serve_forever()",How do I write a python HTTP server to listen on multiple ports?,60754,60680,4,"Not easily. You could have two ThreadingHTTPServer instances, write your own serve_forever() function (don't worry it's not a complicated function). The existing function: def serve_forever(self, poll_interval=0.5): """"""Handle one request at a time until shutdown. Polls for shutdown every poll_interval seconds. Ignores self.timeout. If you need to do periodic tasks, do them in another thread. """""" self.__serving = True self.__is_shut_down.clear() while self.__serving: # XXX: Consider using another file descriptor or # connecting to the socket to wake this up instead of # polling. Polling reduces our responsiveness to a # shutdown request and wastes cpu at all other times. r, w, e = select.select([self], [], [], poll_interval) if r: self._handle_request_noblock() self.__is_shut_down.set() So our replacement would be something like: def serve_forever(server1,server2): while True: r,w,e = select.select([server1,server2],[],[],0) if server1 in r: server1.handle_request() if server2 in r: server2.handle_request()"
60680,14,"I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port? What I'm doing now: class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler): def doGET [...] class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): pass server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler) server.serve_forever()",How do I write a python HTTP server to listen on multiple ports?,61322,60680,6,"I would say that threading for something this simple is overkill. You're better off using some form of asynchronous programming. Here is an example using Twisted: from twisted.internet import reactor from twisted.web import resource, server class MyResource(resource.Resource): isLeaf = True def render_GET(self, request): return 'gotten' site = server.Site(MyResource()) reactor.listenTCP(8000, site) reactor.listenTCP(8001, site) reactor.run() I also thinks it looks a lot cleaner to have each port be handled in the same way, instead of having the main thread handle one port and an additional thread handle the other. Arguably that can be fixed in the thread example, but then you're using three threads."
60685,5,"What follows is a regular expression I have written to match multi-line pre-processor macros in C / C++ code. I'm by no means a regular expressions guru, so I'd welcome any advice on how I can make this better. Here's the regex: \s*#define(.*\\\n)+[\S]+(?!\\) It should match all of this: #define foo(x) if(x) \ doSomething(x) But only some of this (shouldn't match the next line of code: #define foo(x) if(x) \ doSomething(x) normalCode(); And also shouldn't match single-line preprocessor macros. I'm pretty sure that the regex above works - but as I said, there probably a better way of doing it, and I imagine that there are ways of breaking it. Can anyone suggest any?",python regex to match multi-line preprocessor macro,60723,60685,5,"This is a simple test program I knocked up: #!/usr/bin/env python TEST1="""""" #include ""Foo.h"" #define bar foo\\ x #include ""Bar.h"" """""" TEST2="""""" #define bar foo #define x 1 \\ 12 \\ 2 \\\\ 3 Foobar """""" TEST3="""""" #define foo(x) if(x) \\ doSomething(x) """""" TEST4="""""" #define foo(x) if(x) \\ doSomething(x) normalCode(); """""" import re matcher = re.compile(r""^[ \t]*#define(.*\\\n)+.*$"",re.MULTILINE) def extractDefines(s): mo = matcher.search(s) if not mo: print mo return print mo.group(0) extractDefines(TEST1) extractDefines(TEST2) extractDefines(TEST3) extractDefines(TEST4) The re I used: r""^[ \t]*#define(.*\\\n)+.*$"" Is very similar to the one use used, the changes: [ \t] To avoid newlines at the start of the define. I rely on + being greedy, so I can use a simple .*$ at the end to get the first line of the define that doesn't end with \"
60685,5,"What follows is a regular expression I have written to match multi-line pre-processor macros in C / C++ code. I'm by no means a regular expressions guru, so I'd welcome any advice on how I can make this better. Here's the regex: \s*#define(.*\\\n)+[\S]+(?!\\) It should match all of this: #define foo(x) if(x) \ doSomething(x) But only some of this (shouldn't match the next line of code: #define foo(x) if(x) \ doSomething(x) normalCode(); And also shouldn't match single-line preprocessor macros. I'm pretty sure that the regex above works - but as I said, there probably a better way of doing it, and I imagine that there are ways of breaking it. Can anyone suggest any?",python regex to match multi-line preprocessor macro,60729,60685,3,"start = r""^\s*#define\s+"" continuation = r""(?:.*\\\n)+"" lastline = r"".*$"" re_multiline_macros = re.compile(start + continuation + lastline, re.MULTILINE)"
60805,49,How do I select a(or some) random row(s) from a table using SQLAlchemy?,Getting random row through SQLAlchemy,60811,60805,-4,"Theres a couple of ways through SQL, depending on which data base is being used. (I think SQLAlchemy can use all these anyways) mysql: SELECT colum FROM table ORDER BY RAND() LIMIT 1 PostgreSQL: SELECT column FROM table ORDER BY RANDOM() LIMIT 1 MSSQL: SELECT TOP 1 column FROM table ORDER BY NEWID() IBM DB2: SELECT column, RAND() as IDX FROM table ORDER BY IDX FETCH FIRST 1 ROWS ONLY Oracle: SELECT column FROM (SELECT column FROM table ORDER BY dbms_random.value) WHERE rownum = 1 However I don't know of any standard way"
60805,49,How do I select a(or some) random row(s) from a table using SQLAlchemy?,Getting random row through SQLAlchemy,60815,60805,63,"This is very much a database-specific issue. I know that PostgreSQL and MySQL have the ability to order by a random function, so you can use this in SQLAlchemy: from sqlalchemy.sql.expression import func, select select.order_by(func.random()) # for PostgreSQL, SQLite select.order_by(func.rand()) # for MySQL select.order_by('dbms_random.value') # For Oracle Next, you need to limit the query by the number of records you need (for example using .limit()). Bear in mind that at least in PostgreSQL, selecting random record has severe perfomance issues; here is good article about it."
60805,49,How do I select a(or some) random row(s) from a table using SQLAlchemy?,Getting random row through SQLAlchemy,390676,60805,20,"If you are using the orm and the table is not big (or you have its amount of rows cached) and you want it to be database independent the really simple approach is. import random rand = random.randrange(0, session.query(Table).count()) row = session.query(Table)[rand] This is cheating slightly but thats why you use an orm."
60805,49,How do I select a(or some) random row(s) from a table using SQLAlchemy?,Getting random row through SQLAlchemy,782514,60805,-2,"An enhanced version of Lukasz's example, in the case you need to select multiple rows at random: import random # you must first select all the values of the primary key field for the table. # in some particular cases you can use xrange(session.query(Table).count()) instead ids = session.query(Table.primary_key_field).all() ids_sample = random.sample(ids, 100) rows = session.query(Table).filter(Table.primary_key_field.in_(ids_sample)) So, this post is just to point out that you can use .in_ to select multiple fields at the same time."
60848,44,Is it possible to retrieve items from a Python dictionary in the order that they were inserted?,How do you retrieve items from a dictionary in the order that they're inserted?,60852,60848,6,"You can't do this with the base dict class -- it's ordered by hash. You could build your own dictionary that is really a list of key,value pairs or somesuch, which would be ordered."
60848,44,Is it possible to retrieve items from a Python dictionary in the order that they were inserted?,How do you retrieve items from a dictionary in the order that they're inserted?,61031,60848,16,"The other answers are correct; it's not possible, but you could write this yourself. However, in case you're unsure how to actually implement something like this, here's a complete and working implementation that subclasses dict which I've just written and tested. (Note that the order of values passed to the constructor is undefined but will come before values passed later, and you could always just not allow ordered dicts to be initialized with values.) class ordered_dict(dict): def __init__(self, *args, **kwargs): dict.__init__(self, *args, **kwargs) self._order = self.keys() def __setitem__(self, key, value): dict.__setitem__(self, key, value) if key in self._order: self._order.remove(key) self._order.append(key) def __delitem__(self, key): dict.__delitem__(self, key) self._order.remove(key) def order(self): return self._order[:] def ordered_items(self): return [(key,self[key]) for key in self._order] od = ordered_dict() od[""hello""] = ""world"" od[""goodbye""] = ""cruel world"" print od.order() # prints ['hello', 'goodbye'] del od[""hello""] od[""monty""] = ""python"" print od.order() # prints ['goodbye', 'monty'] od[""hello""] = ""kitty"" print od.order() # prints ['goodbye', 'monty', 'hello'] print od.ordered_items() # prints [('goodbye','cruel world'), ('monty','python'), ('hello','kitty')]"
60848,44,Is it possible to retrieve items from a Python dictionary in the order that they were inserted?,How do you retrieve items from a dictionary in the order that they're inserted?,64266,60848,0,"if you don't need the dict functionality, and only need to return tuples in the order you've inserted them, wouldn't a queue work better?"
60848,44,Is it possible to retrieve items from a Python dictionary in the order that they were inserted?,How do you retrieve items from a dictionary in the order that they're inserted?,65326,60848,4,I've used StableDict before with good success. http://pypi.python.org/pypi/StableDict/0.2
60848,44,Is it possible to retrieve items from a Python dictionary in the order that they were inserted?,How do you retrieve items from a dictionary in the order that they're inserted?,65991,60848,5,"Or, just make the key a tuple with time.now() as the first field in the tuple. Then you can retrieve the keys with dictname.keys(), sort, and voila! Gerry"
60848,44,Is it possible to retrieve items from a Python dictionary in the order that they were inserted?,How do you retrieve items from a dictionary in the order that they're inserted?,103211,60848,1,It's not possible unless you store the keys in a separate list for referencing later.
60848,44,Is it possible to retrieve items from a Python dictionary in the order that they were inserted?,How do you retrieve items from a dictionary in the order that they're inserted?,659817,60848,2,"Or use any of the implementations for the PEP-372 described here, like the odict module from the pythonutils. I successfully used the pocoo.org implementation, it is as easy as replacing your my_dict={} my_dict[""foo""]=""bar"" with my_dict=odict.odict() my_dict[""foo""]=""bar"" and require just this file"
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,61168,61151,10,"I don't believe there is an established ""best practice"". I put my tests in another directory outside of the app code. I then add the main app directory to sys.path (allowing you to import the modules from anywhere) in my test runner script (which does some other stuff as well) before running all the tests. This way I never have to remove the tests directory from the main code when I release it, saving me time and effort, if an ever so tiny amount."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,61169,61151,36,"A common practice is to put the tests directory in the same parent directory as your module/package. So if your module was called foo.py your directory layout would look like: parent_dir/ foo.py tests/ Of course there is no one way of doing it. You could also make a tests subdirectory and import the module using absolute import. Wherever you put your tests, I would recommend you use nose to run them. Nose searches through your directories for tests. This way, you can put tests wherever they make the most sense organizationally."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,61518,61151,-1,"I've recently started to program in Python, so I've not really had chance to find out best practice yet. But, I've written a module that goes and finds all the tests and runs them. So, I have: app/ appfile.py test/ appfileTest.py I'll have to see how it goes as I progress to larger projects."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,61531,61151,13,"I use a tests/ directory, and then import the main application modules using relative imports. So in MyApp/tests/foo.py, there might be: from .. import foo to import the MyApp.foo module."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,61820,61151,1,"In C#, I've generally separated the tests into a separate assembly. In Python -- so far -- I've tended to either write doctests, where the test is in the docstring of a function, or put them in the if __name__ == ""__main__"" block at the bottom of the module."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,62527,61151,102,"For a file module.py, the unit test should normally be called test_module.py, following Pythonic naming conventions. There are several commonly accepted places to put test_module.py: In the same directory as module.py. In ../tests/test_module.py (at the same level as the code directory). In tests/test_module.py (one level under the code directory). I prefer #1 for its simplicity of finding the tests and importing them. Whatever build system you're using can easily be configured to run files starting with test_. Actually, the default unittest pattern used for test discovery is test*.py."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,63645,61151,0,"When writing a package called ""foo"", I will put unit tests into a separate package ""foo_test"". Modules and subpackages will then have the same name as the SUT package module. E.g. tests for a module foo.x.y are found in foo_test.x.y. The __init__.py files of each testing package then contain an AllTests suite that includes all test suites of the package. setuptools provides a convenient way to specify the main testing package, so that after ""python setup.py develop"" you can just use ""python setup.py test"" or ""python setup.py test -s foo_test.x.SomeTestSuite"" to the just a specific suite."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,77145,61151,0,"If the tests are simple, simply put them in the docstring -- most of the test frameworks for Python will be able to use that: &gt;&gt;&gt; import module &gt;&gt;&gt; module.method('test') 'testresult' For other more involved tests, I'd put them either in ../tests/test_module.py or in tests/test_module.py."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,103610,61151,18,"I also tend to put my unit tests in the file itself, as Jeremy Cantrell above notes, although I tend to not put the test function in the main body, but rather put everything in an if __name__ == '__main__': do tests... block. This ends up adding documentation to the file as 'example code' for how to use the python file you are testing. I should add, I tend to write very tight modules/classes. If your modules require very large numbers of tests, you can put them in another, but even then, I'd still add: if __name__ == '__main__': import tests.thisModule tests.thisModule.runtests This lets anybody reading your source code know where to look for the test code."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,128616,61151,1,"We use app/src/code.py app/testing/code_test.py app/docs/.. In each test file we insert ""../src/"" in sys.path. It's not the nicest solution but works. I think it would be great if someone came up w/ something like maven in java that gives you standard conventions that just work, no matter what project you work on."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,382596,61151,2,"I prefer toplevel tests directory. This does mean imports become a little more difficult. For that I have two solutions: Use setuptools. Then you can pass test_suite='tests.runalltests.suite' into setup(), and can run the tests simply: python setup.py test Set PYTHONPATH when running the tests: PYTHONPATH=. python tests/runalltests.py Here's how that stuff is supported by code in M2Crypto: http://svn.osafoundation.org/m2crypto/trunk/setup.py http://svn.osafoundation.org/m2crypto/trunk/tests/alltests.py If you prefer to run tests with nosetests you might need do something a little different."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,815212,61151,23,"We had the very same question when writing Pythoscope (http://pythoscope.org), which generates unit tests for Python programs. We polled people on the testing in python list before we chose a directory, there were many different opinions. In the end we chose to put a ""tests"" directory in the same directory as the source code. In that directory we generate a test file for each module in the parent directory."
61151,286,"If you're writing a library, or an app, where do the unit test files go? It's nice to separate the test files from the main app code, but it's awkward to put them into a ""tests"" subdirectory inside of the app root directory, because it makes it harder to import the modules that you'll be testing. Is there a best practice here?",Where do the Python unit tests go?,2363162,61151,4,"How I do it... Folder structure: project/ src/ code.py tests/ setup.py Setup.py points to src/ as the location containing my projects modules, then I run: setup.py develop Which adds my project into site-packages, pointing to my working copy. To run my tests I use: setup.py tests Using whichever test runner I've configured."
61517,174,"Do you know if there is a built-in function to build a dictionary from an arbitrary object? I'd like to do something like this: &gt;&gt;&gt; class Foo: ... bar = 'hello' ... baz = 'world' ... &gt;&gt;&gt; f = Foo() &gt;&gt;&gt; props(f) { 'bar' : 'hello', 'baz' : 'world' } NOTE: It should not include methods. Only fields. Thanks",Python dictionary from an object's fields,61522,61517,45,"The dir builtin will give you all the object's attributes, including special methods like __str__, __dict__ and a whole bunch of others which you probably don't want. But you can do something like: &gt;&gt;&gt; class Foo(object): ... bar = 'hello' ... baz = 'world' ... &gt;&gt;&gt; f = Foo() &gt;&gt;&gt; [name for name in dir(f) if not name.startswith('__')] [ 'bar', 'baz' ] &gt;&gt;&gt; dict((name, getattr(f, name)) for name in dir(f) if not name.startswith('__')) { 'bar': 'hello', 'baz': 'world' } So can extend this to only return data attributes and not methods, by defining your props function like this: import inspect def props(obj): pr = {} for name in dir(obj): value = getattr(obj, name) if not name.startswith('__') and not inspect.ismethod(value): pr[name] = value return pr"
61517,174,"Do you know if there is a built-in function to build a dictionary from an arbitrary object? I'd like to do something like this: &gt;&gt;&gt; class Foo: ... bar = 'hello' ... baz = 'world' ... &gt;&gt;&gt; f = Foo() &gt;&gt;&gt; props(f) { 'bar' : 'hello', 'baz' : 'world' } NOTE: It should not include methods. Only fields. Thanks",Python dictionary from an object's fields,61551,61517,19,"I've settled with a combination of both answers: dict((key, value) for key, value in f.__dict__.iteritems() if not callable(value) and not key.startswith('__'))"
61517,174,"Do you know if there is a built-in function to build a dictionary from an arbitrary object? I'd like to do something like this: &gt;&gt;&gt; class Foo: ... bar = 'hello' ... baz = 'world' ... &gt;&gt;&gt; f = Foo() &gt;&gt;&gt; props(f) { 'bar' : 'hello', 'baz' : 'world' } NOTE: It should not include methods. Only fields. Thanks",Python dictionary from an object's fields,62680,61517,227,"Note that best practice in current versions of Python is to use new-style classes, i.e. class Foo(object): ... Also, there's a difference between an 'object' and a 'class'. To build a dictionary from an arbitrary object, it's sufficient to use __dict__. Usually, you'll declare your methods at class level and your attributes at instance level, so __dict__ should be fine. For example: &gt;&gt;&gt; class A(object): ... def __init__(self): ... self.b = 1 ... self.c = 2 ... def do_nothing(self): ... pass ... &gt;&gt;&gt; a = A() &gt;&gt;&gt; a.__dict__ {'c': 2, 'b': 1} Alternatively, depending on what you want to do, it might be nice to inherit from dict. Then your class is already a dictionary, and if you want you can override getattr and/or setattr to call through and set the dict. For example: class Foo(dict): def __init__(self): pass def __getattr__(self, attr): return self[attr] # etc..."
61517,174,"Do you know if there is a built-in function to build a dictionary from an arbitrary object? I'd like to do something like this: &gt;&gt;&gt; class Foo: ... bar = 'hello' ... baz = 'world' ... &gt;&gt;&gt; f = Foo() &gt;&gt;&gt; props(f) { 'bar' : 'hello', 'baz' : 'world' } NOTE: It should not include methods. Only fields. Thanks",Python dictionary from an object's fields,63635,61517,10,"To build a dictionary from an arbitrary object, it's sufficient to use __dict__. This misses attributes that the object inherits from its class. For example, class c(object): x = 3 a = c() hasattr(a, 'x') is true, but 'x' does not appear in a.__dict__"
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,61629,61605,24,"Firstly, note that Python allows for the following (no need for the parenthesis): q, r = divide(22, 7) Regarding your question, there's no hard and fast rule either way. For simple (and usually contrived) examples, it may seem that it's always possible for a given function to have a single purpose, resulting in a single value. However, when using Python for real-world applications, you quickly run into many cases where returning multiple values is necessary, and results in cleaner code. So, I'd say do whatever makes sense, and don't try to conform to an artificial convention. Python supports multiple return values, so use it when appropriate."
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,61636,61605,84,"Absolutely (for the example you provided). Tuples are first class citizens in Python There is a builtin function divmod() that does exactly that. q, r = divmod(x, y) # ((x - x%y)/y, x%y) Invariant: div*y + mod == x There are other examples: zip, enumerate, dict.items. for i, e in enumerate([1, 3, 3]): print ""index=%d, element=%s"" % (i, e) # reverse keys and values in a dictionary d = dict((v, k) for k, v in adict.items()) # or d = dict(zip(adict.values(), adict.keys())) BTW, parentheses are not necessary most of the time. Citation from Python Library Reference: Tuples are constructed by the comma operator (not within square brackets), with or without enclosing parentheses, but an empty tuple must have the enclosing parentheses, such as a, b, c or (). A single item tuple must have a trailing comma, such as (d,). Functions should serve single purpose Therefore they should return a single object. In your case this object is a tuple. Consider tuple as an ad-hoc compound data structure. There are languages where almost every single function returns multiple values (list in Lisp). Sometimes it is sufficient to return (x, y) instead of Point(x, y). Named tuples With the introduction of named tuples in Python 2.6 it is preferable in many cases to return named tuples instead of plain tuples. &gt;&gt;&gt; import collections &gt;&gt;&gt; Point = collections.namedtuple('Point', 'x y') &gt;&gt;&gt; x, y = Point(0, 1) &gt;&gt;&gt; p = Point(x, y) &gt;&gt;&gt; x, y, p (0, 1, Point(x=0, y=1)) &gt;&gt;&gt; p.x, p.y, p[0], p[1] (0, 1, 0, 1) &gt;&gt;&gt; for I in p: ... print(i) ... 0 1"
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,61637,61605,12,"The example you give is actually a python builtin function, called divmod. So someone, at some point in time, thought that it was pythonic enough to include in the core functionality. To me, if it makes the code cleaner, it is pythonic. Compare these two code blocks: seconds = 1234 minutes, seconds = divmod(seconds, 60) hours, minutes = divmod(minutes, 60) seconds = 1234 minutes = seconds / 60 seconds = seconds % 60 hours = minutes / 60 minutes = minutes % 60"
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,63528,61605,0,"It's fine to return multiple values using a tuple for simple functions such as divmod. If it makes the code readable, it's Pythonic. If the return value starts to become confusing, check whether the function is doing too much and split it if it is. If a big tuple is being used like an object, make it an object. Also, consider using named tuples, which will be part of the standard library in Python 2.6."
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,63549,61605,1,"It's definitely pythonic. The fact that you can return multiple values from a function the boilerplate you would have in a language like C where you need to define a struct for every combination of types you return somewhere. However, if you reach the point where you are returning something crazy like 10 values from a single function, you should seriously consider bundling them in a class because at that point it gets unwieldy."
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,63809,61605,1,Returning a tuple is cool. Also note the new namedtuple which was added in python 2.6 which may make this more palatable for you: http://docs.python.org/dev/library/collections.html#collections.namedtuple
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,64110,61605,3,"Yes, returning multiple values (i.e., a tuple) is definitely pythonic. As others have pointed out, there are plenty of examples in the Python standard library, as well as in well-respected Python projects. Two additional comments: Returning multiple values is sometimes very, very useful. Take, for example, a method that optionally handles an event (returning some value in doing so) and also returns success or failure. This might arise in a chain of responsibility pattern. In other cases, you want to return multiple, closely linked pieces of data---as in the example given. In this setting, returning multiple values is akin to returning a single instance of an anonymous class with several member variables. Python's handling of method arguments necessitates the ability to directly return multiple values. In C++, for example, method arguments can be passed by reference, so you can assign output values to them, in addition to the formal return value. In Python, arguments are passed ""by reference"" (but in the sense of Java, not C++). You can't assign new values to method arguments and have it reflected outside method scope. For example: // C++ void test(int&amp; arg) { arg = 1; } int foo = 0; test(foo); // foo is now 1! Compare with: # Python def test(arg): arg = 1 foo = 0 test(foo) # foo is still 0"
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,66967,61605,1,"I'm fairly new to Python, but the tuple technique seems very pythonic to me. However, I've had another idea that may enhance readability. Using a dictionary allows access to the different values by name rather than position. For example: def divide(x, y): return {'quotient': x/y, 'remainder':x%y } answer = divide(22, 7) print answer['quotient'] print answer['remainder']"
61605,66,"In python, you can have a function return multiple values. Here's a contrived example: def divide(x, y): quotient = x/y remainder = x % y return quotient, remainder (q, r) = divide(22, 7) This seems very useful, but it looks like it can also be abused (""Well..function X already computes what we need as an intermediate value. Let's have X return that value also""). When should you draw the line and define a different method?",Is it pythonic for a function to return multiple values?,640632,61605,1,"OT: RSRE's Algol68 has the curious ""/:="" operator. eg. INT quotient:=355, remainder; remainder := (quotient /:= 113); Giving a quotient of 3, and a remainder of 16. Note: typically the value of ""(x/:=y)"" is discarded as quotient ""x"" is assigned by reference, but in RSRE's case the returned value is the remainder. c.f. Integer Arithmetic - Algol68"
61781,0,"How do you set up IIS so that you can call python scripts from asp pages? Ok, so I found the answer to that question here: http://support.microsoft.com/kb/276494 So on to my next question: How do you call a cgi script from within classic asp (vb) code? Particularly one which is not in the web root directory.",python cgi on IIS,61842,61781,2,You could also do it this way.
61781,0,"How do you set up IIS so that you can call python scripts from asp pages? Ok, so I found the answer to that question here: http://support.microsoft.com/kb/276494 So on to my next question: How do you call a cgi script from within classic asp (vb) code? Particularly one which is not in the web root directory.",python cgi on IIS,66440,61781,1,"I don't believe that VBScript as hosted by IIS has any way of executing an external process. If you are using python as an AXscripting engine then you could just use the sys module. If the script you're calling is actually meant to be a cgi script you'll have to mimic all the environment variables that the cgi uses. The alternative is to put the script on the python path, import it and hope that it is modular enough that you can call the pieces you need and bypass the cgi handling code."
61894,3,"So I've done the trivial ""warmup"" apps with GAE. Now I'd like to build something with a more complex directory structure. Something along the lines of: siteroot/ models/ controllers/ controller1/ controller2/ ... templates/ template1/ template2/ ... ..etc. The controllers will be Python modules handling requests. They would then need to locate (Django-style) templates in associated folders. Most of the demo apps I've seen resolve template paths like this: path = os.path.join(os.path.dirname(__file__), 'myPage.html') ...the __ file __ property resolves to the currently executing script. So, in my above example, if a Python script were running in controllers/controller1/, then the 'myPage.html' would resolve to that same directory -- controllers/controller1/myPage.html -- and I would rather cleanly separate my Python code and templates. The solution I've hacked together feels... hacky: base_paths = os.path.split(os.path.dirname(__file__)) template_dir = os.path.join(base_paths[0], ""templates"") So, I'm just snipping off the last element of the path for the currently running script and appending the template directory to the new path. The other (non-GAE specific) solutions I've seen for resolving Python paths seem pretty heavyweight (such as splitting paths into lists and manipulating accordingly). Django seems to have an answer for this, but I'd rather stick to the GAE API, vs. creating a full Django app and modifying it for GAE. I'm assuming anything hard-coded would be non-starter, since the apps live on Google's infinite server farm. So what's a better way?",What's a good way to find relative paths in Google App Engine?,62121,61894,1,"The dirname function returns an absolute path, use relative paths. See what is the current directory when your controllers are executed with os.path.abspath(os.path.curdir) and build a path to the templates relative to that location (without the os.path.abspath part of course). This will only work if the current directory is somewhere inside siteroot, else you could do something like this: template_dir = os.path.join(os.path.dirname(__file__), os.path.pardir, ""templates"")"
61894,3,"So I've done the trivial ""warmup"" apps with GAE. Now I'd like to build something with a more complex directory structure. Something along the lines of: siteroot/ models/ controllers/ controller1/ controller2/ ... templates/ template1/ template2/ ... ..etc. The controllers will be Python modules handling requests. They would then need to locate (Django-style) templates in associated folders. Most of the demo apps I've seen resolve template paths like this: path = os.path.join(os.path.dirname(__file__), 'myPage.html') ...the __ file __ property resolves to the currently executing script. So, in my above example, if a Python script were running in controllers/controller1/, then the 'myPage.html' would resolve to that same directory -- controllers/controller1/myPage.html -- and I would rather cleanly separate my Python code and templates. The solution I've hacked together feels... hacky: base_paths = os.path.split(os.path.dirname(__file__)) template_dir = os.path.join(base_paths[0], ""templates"") So, I'm just snipping off the last element of the path for the currently running script and appending the template directory to the new path. The other (non-GAE specific) solutions I've seen for resolving Python paths seem pretty heavyweight (such as splitting paths into lists and manipulating accordingly). Django seems to have an answer for this, but I'd rather stick to the GAE API, vs. creating a full Django app and modifying it for GAE. I'm assuming anything hard-coded would be non-starter, since the apps live on Google's infinite server farm. So what's a better way?",What's a good way to find relative paths in Google App Engine?,102572,61894,4,"You can't use relative paths, as Toni suggests, because you have no guarantee that the path from your working directory to your app's directory will remain the same. The correct solution is to either use os.path.split, as you are, or to use something like: path = os.path.join(os.path.dirname(__file__), '..', 'templates', 'myPage.html') My usual approach is to generate a path to the template directory using the above method, and store it as a member of my controller object, and provide a ""getTemplatePath"" method that takes the provided filename and joins it with the basename."
62079,2,"I am trying to get some accurate runtime comparisons of PHP vs Python (and potentially any other language that I have to include). Timing within a script is not my problem but timing within a script does not account for everything from the moment the request is made to run the script to output. 1) Is it actually worth taking such things into account? 2) Assuming it is worth taking it into account, how do I do this? I'm using a Mac so I've got access to Linux commands and I'm not afraid to compile/create a command to help me, I just don't know how to write such a command.",Comparing runtimes,62094,62079,4,"If your idea is to compare the languages, I'd say anything outside them is not relevant for comparison purposes. Nonetheless you can use the time command to measure everything and can compare it with the timing within a script. Like this: $ time script.php HI! real 0m3.218s user 0m0.080s sys 0m0.064s It will give you clock time, user time (php interpreter) and sys time (OS time) If you are thinking web, then it gets a lot harder because you would be mixing webserver overhead and that is not always easy to compare if, say, you are using WSGI v/s mod_php. Then you'd have to hook probes into the webserving parts of the chain as well"
62079,2,"I am trying to get some accurate runtime comparisons of PHP vs Python (and potentially any other language that I have to include). Timing within a script is not my problem but timing within a script does not account for everything from the moment the request is made to run the script to output. 1) Is it actually worth taking such things into account? 2) Assuming it is worth taking it into account, how do I do this? I'm using a Mac so I've got access to Linux commands and I'm not afraid to compile/create a command to help me, I just don't know how to write such a command.",Comparing runtimes,62097,62079,1,"It's worth taking speed into account if you're optimizing code. You should generally know why you're optimizing code (as in: a specific task in your existing codebase is taking too long, not ""I heard PHP is slower than Python""). It's not worth taking speed into account if you don't actually plan on switching languages. Just because one tiny module does something slightly faster doesn't mean rewriting your app in another language is a good idea. There are many other factors to choosing a language besides speed. You benchmark, of course. Run the two codebases multiple times and compare the timing. You can use the time command if both scripts are executable from the shell, or use respective benchmarking functionality from each language; the latter case depends heavily on the actual language, naturally."
62079,2,"I am trying to get some accurate runtime comparisons of PHP vs Python (and potentially any other language that I have to include). Timing within a script is not my problem but timing within a script does not account for everything from the moment the request is made to run the script to output. 1) Is it actually worth taking such things into account? 2) Assuming it is worth taking it into account, how do I do this? I'm using a Mac so I've got access to Linux commands and I'm not afraid to compile/create a command to help me, I just don't know how to write such a command.",Comparing runtimes,62099,62079,1,"Well, you can use the ""time"" command to help: you@yourmachine:~$ time echo ""hello world"" hello world real 0m0.000s user 0m0.000s sys 0m0.000s you@yourmachine:~$ And this will get around timing outside of the environment. As for whether you need to actually time that extra work... that entirely depends on what you are doing. I assume this is for some kind of web application of some sort, so it depends on how the framework you use actually works... does it cache some kind of compiled (or parsed) version of the script? If so, then startup time will be totally irrelevant (since the first hit will be the only one that startup time exists in). Also, make sure to run your tests in a loop so you can discount the first run (and include the cost on the first run in your report if you want). I have done some tests in Java, and the first run is always slowest due to the JIT doing its job (and the same sort of hit may exist in PHP, Python and any other languages you try)."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63093,63086,0,No. How would Python parse your script if there was a way to disable this?
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63094,63086,33,"No. Indentation-as-grammar is an integral part of the Python language, for better and worse."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63095,63086,2,"I do not believe so, as Python is a whitespace-delimited language. Perhaps a text editor or IDE with auto-indentation would be of help. What are you currently using?"
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63111,63086,3,"No, there isn't. Indentation is syntax for Python. You can: Use tabnanny.py to check your code Use a syntax-aware editor that highlights such mistakes (vi does that, emacs I bet it does, and then, most IDEs do too) (far-fetched) write a preprocessor of your own to convert braces (or whatever block delimiters you love) into indentation"
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63119,63086,5,"All of the whitespace issues I had when I was starting Python were the result mixing tabs and spaces. Once I configured everything to just use one or the other, I stopped having problems. In my case I configured UltraEdit &amp; vim to use spaces in place of tabs."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63122,63086,2,"You should disable tab characters in your editor when you're working with Python (always, actually, IMHO, but especially when you're working with Python). Look for an option like ""Use spaces for tabs"": any decent editor should have one."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63124,63086,1,"Not really. There are a few ways to modify whitespace rules for a given line of code, but you will still need indent levels to determine scope. You can terminate statements with ; and then begin a new statement on the same line. (Which people often do when golfing.) If you want to break up a single line into multiple lines you can finish a line with the \ character which means the current line effectively continues from the first non-whitespace character of the next line. This visually appears violate the usual whitespace rules but is legal. My advice: don't use tabs if you are having tab/space confusion. Use spaces, and choose either 2 or 3 spaces as your indent level. A good editor will make it so you don't have to worry about this. (python-mode for emacs, for example, you can just use the tab key and it will keep you honest)."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63196,63086,2,"It's possible to write a pre-processor which takes randomly-indented code with pseudo-python keywords like ""endif"" and ""endwhile"" and properly indents things. I had to do this when using python as an ""ASP-like"" language, because the whole notion of ""indentation"" gets a bit fuzzy in such an environment. Of course, even with such a thing you really ought to indent sanely, at which point the conveter becomes superfluous."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63216,63086,2,"I agree with justin and others -- pick a good editor and use spaces rather than tabs for indentation and the whitespace thing becomes a non-issue. I only recently started using Python, and while I thought the whitespace issue would be a real annoyance it turns out to not be the case. For the record I'm using emacs though I'm sure there are other editors out there that do an equally fine job. If you're really dead-set against it, you can always pass your scripts through a pre-processor but that's a bad idea on many levels. If you're going to learn a language, embrace the features of that language rather than try to work around them. Otherwise, what's the point of learning a new language?"
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63289,63086,1,"Getting your indentation to work correctly is going to be important in any language you use. Even though it won't affect the execution of the program in most other languages, incorrect indentation can be very confusing for anyone trying to read your program, so you need to invest the time in figuring out how to configure your editor to align things correctly. Python is pretty liberal in how it lets you indent. You can pick between tabs and spaces (but you really should use spaces) and can pick how many spaces. The only thing it requires is that you are consistent which ultimately is important no matter what language you use."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63357,63086,4,I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting? I liked pydev extensions of eclipse for that.
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63403,63086,2,"Tabs and spaces confusion can be fixed by setting your editor to use spaces instead of tabs. To make whitespace completely intuitive, you can use a stronger code editor or an IDE (though you don't need a full-blown IDE if all you need is proper automatic code indenting). A list of editors can be found in the Python wiki, though that one is a bit too exhausting: - http://wiki.python.org/moin/PythonEditors There's already a question in here which tries to slim that down a bit: http://stackoverflow.com/questions/60784/poll-which-python-ideeditor-is-the-best Maybe you should add a more specific question on that: ""Which Python editor or IDE do you prefer on Windows - and why?"""
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63450,63086,0,"I was a bit reluctant to learn Python because of tabbing. However, I almost didn't notice it when I used Vim."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63819,63086,2,I find it hard to understand when people flag this as a problem with Python. I took to it immediately and actually find it's one of my favourite 'features' of the language :) In other languages I have two jobs: 1. Fix the braces so the computer can parse my code 2. Fix the indentation so I can parse my code. So in Python I have half as much to worry about ;-) (nb the only time I ever have problem with indendation is when Python code is in a blog and a forum that messes with the white-space but this is happening less and less as the apps get smarter)
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",63956,63086,1,"If you're looking for a recommendation for a Python IDE, after extensive research, I've been most happy with Wing Software's WingIDE: http://www.wingware.com/products There is a free trial version, so you have nothing to lose. It supports all the major OSes, and is only about $60 for the full version. I also like SciTE a lot, which is totally free, free, free! http://scintilla.sourceforge.net/SciTEDownload.html"
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",64186,63086,0,"Many Python IDEs and generally-capable text/source editors can handle the whitespace for you. However, it is best to just ""let go"" and enjoy the whitespace rules of Python. With some practice, they won't get into your way at all, and you will find they have many merits, the most important of which are: Because of the forced whitespace, Python code is simpler to understand. You will find that as you read code written by others, it is easier to grok than code in, say, Perl or PHP. Whitespace saves you quite a few keystrokes of control characters like { and }, which litter code written in C-like languages. Less {s and }s means, among other things, less RSI and wrist pain. This is not a matter to take lightly."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",64356,63086,3,pybraces It's unsupported.
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",64899,63086,0,"In Python, indentation is a semantic element as well as providing visual grouping for readability. Both space and tab can indicate indentation. This is unfortunate, because: The interpretation(s) of a tab varies among editors and IDEs and is often configurable (and often configured). OTOH, some editors are not configurable but apply their own rules for indentation. Different sequences of spaces and tabs may be visually indistinguishable. Cut and pastes can alter whitespace. So, unless you know that a given piece of code will only be modified by yourself with a single tool and an unvarying config, you must avoid tabs for indentation (configure your IDE) and make sure that you are warned if they are introduced (search for tabs in leading whitespace). And you can still expect to be bitten now and then, as long as arbitrary semantics are applied to control characters."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",65771,63086,0,"The real answer to your question is that if you are going to use the language you need to learn its syntax. Just as an error in indenting python can generate a compiler error, an error using braces in various other languages can also generate a compiler error. Even worse it can be silently misinterpreted by the compiler to do the wrong thing. This is particularly dangerous when the indenting doesn't match the desired meaning. I.e. in many other languages: If(first condition) if (second condition) do something interesting; else do something different; Will lead to unpleasant surprises. Python forces you to write code that looks like what it does. This is a good thing for other programmers who have to read your code, or for you when you try to read your own code after a month or so."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",68052,63086,1,"If you don't want to use an IDE/text editor with automatic indenting, you can use the pindent.py script that comes in the Tools\Scripts directory. It's a preprocessor that can convert code like: def foobar(a, b): if a == b: a = a+1 elif a &lt; b: b = b-1 if b &gt; a: a = a-1 end if else: print 'oops!' end if end def foobar into: def foobar(a, b): if a == b: a = a+1 elif a &lt; b: b = b-1 if b &gt; a: a = a-1 # end if else: print 'oops!' # end if # end def foobar Which is valid python."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",68061,63086,9,"Emacs! Seriously, its use of ""tab is a command, not a character"", is absolutely perfect for python development."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",68702,63086,36,from __future__ import braces
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",69064,63086,0,"Check the options of your editor or find an editor/IDE that allows you to convert TABs to spaces. I usually set the options of my editor to substitute the TAB character with 4 spaces, and I never run into any problems."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",73325,63086,0,"Strange - No one mentioned GEdit (Gnome) or OpenKomodo (Windows, Mac, GNU/Linux...). Both of them are great! OpenKomodo especially deals with tabs and spaces very well. And - it's free. Whee! When I need a lighter weight thingy, I just use GEdit. Download OpenKomodo here - http://www.openkomodo.com/"
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",118216,63086,0,"Nope, there's no way around it, and it's by design: &gt;&gt;&gt; from __future__ import braces File ""&lt;stdin&gt;"", line 1 SyntaxError: not a chance Most Python programmers simply don't use tabs, but use spaces to indent instead, that way there's no editor-to-editor inconsistency."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",1515244,63086,-1,"Yes, there is a way. I hate these ""no way"" answers, there is no way until you discover one. And in that case, whatever it is worth, there is one. I read once about a guy who designed a way to code so that a simple script could re-indent the code properly. I didn't managed to find any links today, though, but I swear I read it. The main tricks are to always use return at the end of a function, always use pass at the end of an if or at the end of a class definition, and always use continue at the end of a while. Of course, any other no-effect instruction would fit the purpose. Then, a simple awk script can take your code and detect the end of block by reading pass/continue/return instructions, and the start of code with if/def/while/... instructions. Of course, because you'll develop your indenting script, you'll see that you don't have to use continue after a return inside the if, because the return will trigger the indent-back mechanism. The same applies for other situations. Just get use to it. If you are diligent, you'll be able to cut/paste and add/remove if and correct the indentations automagically. And incidentally, pasting code from the web will require you to understand a bit of it so that you can adapt it to that ""non-classical"" setting."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",1538995,63086,1,"I'm surprised no one has mentioned IDLE as a good default python editor. Nice syntax colors, handles indents, has intellisense, easy to adjust fonts, and it comes with the default download of python. Heck, I write mostly IronPython, but it's so nice &amp; easy to edit in IDLE and run ipy from a command prompt. Oh, and what is the big deal about whitespace? Most easy to read C or C# is well indented, too, python just enforces a really simple formatting rule."
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",1780742,63086,-3,"Just use Ruby, it's much better than Python. http://www.ruby-lang.org"
63086,6,I want to start using Python for small projects but the fact that a misplaced tab or indent can throw a compile error is really getting on my nerves. Is there some type of setting to turn this off? I'm currently using NotePad++. Is there maybe an IDE that would take care of the tabs and indenting?,"Is there a way around coding in Python without the tab, indent &amp; whitespace criteria?",2695213,63086,0,"Any decent programming editor will reduce this annoyance to nil. I see Notepad++ has syntax highlighting, it's likely you just need to set your preferences appropriately for auto-indenting and such."
63488,0,"I recently discovered the notify extension in Mercurial which allows me quickly send out emails whenever I push changes, but I'm pretty sure I'm still missing out on a lot of functionality which could make my life a lot easier. notify-extension: http://www.selenic.com/mercurial/wiki/index.cgi/NotifyExtension Which Mercurial hook or combination of interoperating hooks is the most useful for working in a loosely connected team? Please add links to non-standard parts you use and/or add the hook (or a description how to set it up), so others can easily use it.",Which is the most useful Mercurial hook for programming in a loosely connected team?,63606,63488,1,"Take a look at the hgweb stuff. You can set up RSS feeds and see all the revisions, et cetera."
63488,0,"I recently discovered the notify extension in Mercurial which allows me quickly send out emails whenever I push changes, but I'm pretty sure I'm still missing out on a lot of functionality which could make my life a lot easier. notify-extension: http://www.selenic.com/mercurial/wiki/index.cgi/NotifyExtension Which Mercurial hook or combination of interoperating hooks is the most useful for working in a loosely connected team? Please add links to non-standard parts you use and/or add the hook (or a description how to set it up), so others can easily use it.",Which is the most useful Mercurial hook for programming in a loosely connected team?,63636,63488,2,I really enjoy what I did with my custom hook. I have it post a message to my campfire account (campfire is a group based app). It worked out really well. Because I had my clients in there and it could show him my progress.
63488,0,"I recently discovered the notify extension in Mercurial which allows me quickly send out emails whenever I push changes, but I'm pretty sure I'm still missing out on a lot of functionality which could make my life a lot easier. notify-extension: http://www.selenic.com/mercurial/wiki/index.cgi/NotifyExtension Which Mercurial hook or combination of interoperating hooks is the most useful for working in a loosely connected team? Please add links to non-standard parts you use and/or add the hook (or a description how to set it up), so others can easily use it.",Which is the most useful Mercurial hook for programming in a loosely connected team?,330548,63488,1,"I've written a small set of minor hooks which might be interesting: http://fellowiki.org/hg/support/quecksilber/file/ Anyway, these are the hooks most useful to me ;-)"
63681,1,"I'm hosting Python script with Python for Delphi components inside my Delphi application. I'd like to create background tasks which keep running by script. Is it possible to create threads which keep running even if the script execution ends (but not the host process, which keeps going on). I've noticed that the program gets stuck if the executing script ends and there is thread running. However if I'll wait until the thread is finished everything goes fine. I'm trying to use ""threading"" standard module for threads.",How create threads under Python for Delphi,63767,63681,0,"Threads by definition are part of the same process. If you want them to keep running, they need to be forked off into a new process; see os.fork() and friends. You'll probably want the new process to end (via exit() or the like) immediately after spawning the script."
63681,1,"I'm hosting Python script with Python for Delphi components inside my Delphi application. I'd like to create background tasks which keep running by script. Is it possible to create threads which keep running even if the script execution ends (but not the host process, which keeps going on). I've noticed that the program gets stuck if the executing script ends and there is thread running. However if I'll wait until the thread is finished everything goes fine. I'm trying to use ""threading"" standard module for threads.",How create threads under Python for Delphi,63794,63681,0,"If a process dies all it's threads die with it, so a solution might be a separate process. See if creating a xmlrpc server might help you, that is a simple solution for interprocess communication."
63681,1,"I'm hosting Python script with Python for Delphi components inside my Delphi application. I'd like to create background tasks which keep running by script. Is it possible to create threads which keep running even if the script execution ends (but not the host process, which keeps going on). I've noticed that the program gets stuck if the executing script ends and there is thread running. However if I'll wait until the thread is finished everything goes fine. I'm trying to use ""threading"" standard module for threads.",How create threads under Python for Delphi,65757,63681,2,"Python has its own threading module that comes standard, if it helps. You can create thread objects using the threading module. threading Documentation thread Documentation The thread module offers low level threading and synchronization using simple Lock objects. Again, not sure if this helps since you're using Python under a Delphi environment."
64141,1,"In Python is there any way to make a class, then make a second version of that class with identical dat,a but which can be changed, then reverted to be the same as the data in the original class? So I would make a class with the numbers 1 to 5 as the data in it, then make a second class with the same names for sections (or very similar). Mess around with the numbers in the second class then with one function then reset them to be the same as in the first class. The only alternative I've found is to make one aggravatingly long class with too many separate pieces of data in it to be readily usable.",Classes in Python,64163,64141,5,"A class is a template, it allows you to create a blueprint, you can then have multiple instances of a class each with different numbers, like so. class dog(object): def __init__(self, height, width, lenght): self.height = height self.width = width self.length = length def revert(self): self.height = 1 self.width = 2 self.length = 3 dog1 = dog(5, 6, 7) dog2 = dog(2, 3, 4) dog1.revert()"
64141,1,"In Python is there any way to make a class, then make a second version of that class with identical dat,a but which can be changed, then reverted to be the same as the data in the original class? So I would make a class with the numbers 1 to 5 as the data in it, then make a second class with the same names for sections (or very similar). Mess around with the numbers in the second class then with one function then reset them to be the same as in the first class. The only alternative I've found is to make one aggravatingly long class with too many separate pieces of data in it to be readily usable.",Classes in Python,64195,64141,1,"Classes don't have values. Objects do. Is what you want basically a class that can reset an instance (object) to a set of default values? How about just providing a reset method, that resets the properties of your object to whatever is the default? I think you should simplify your question, or tell us what you really want to do. It's not at all clear."
64141,1,"In Python is there any way to make a class, then make a second version of that class with identical dat,a but which can be changed, then reverted to be the same as the data in the original class? So I would make a class with the numbers 1 to 5 as the data in it, then make a second class with the same names for sections (or very similar). Mess around with the numbers in the second class then with one function then reset them to be the same as in the first class. The only alternative I've found is to make one aggravatingly long class with too many separate pieces of data in it to be readily usable.",Classes in Python,64206,64141,1,"I think you are confused. You should re-check the meaning of ""class"" and ""instance"". I think you are trying to first declare a Instance of a certain Class, and then declare a instance of other Class, use the data from the first one, and then find a way to convert the data in the second instance and use it on the first instance... I recommend that you use operator overloading to assign the data."
64141,1,"In Python is there any way to make a class, then make a second version of that class with identical dat,a but which can be changed, then reverted to be the same as the data in the original class? So I would make a class with the numbers 1 to 5 as the data in it, then make a second class with the same names for sections (or very similar). Mess around with the numbers in the second class then with one function then reset them to be the same as in the first class. The only alternative I've found is to make one aggravatingly long class with too many separate pieces of data in it to be readily usable.",Classes in Python,64216,64141,1,"class ABC(self): numbers = [0,1,2,3] class DEF(ABC): def __init__(self): self.new_numbers = super(ABC,self).numbers def setnums(self, numbers): self.new_numbers = numbers def getnums(self): return self.new_numbers def reset(self): __init__()"
64141,1,"In Python is there any way to make a class, then make a second version of that class with identical dat,a but which can be changed, then reverted to be the same as the data in the original class? So I would make a class with the numbers 1 to 5 as the data in it, then make a second class with the same names for sections (or very similar). Mess around with the numbers in the second class then with one function then reset them to be the same as in the first class. The only alternative I've found is to make one aggravatingly long class with too many separate pieces of data in it to be readily usable.",Classes in Python,64399,64141,1,"Just FYI, here's an alternate implementation... Probably violates about 15 million pythonic rules, but I publish it per information/observation: class Resettable(object): base_dict = {} def reset(self): self.__dict__ = self.__class__.base_dict def __init__(self): self.__dict__ = self.__class__.base_dict.copy() class SomeClass(Resettable): base_dict = { 'number_one': 1, 'number_two': 2, 'number_three': 3, 'number_four': 4, 'number_five': 5, } def __init__(self): Resettable.__init__(self) p = SomeClass() p.number_one = 100 print p.number_one p.reset() print p.number_one"
64141,1,"In Python is there any way to make a class, then make a second version of that class with identical dat,a but which can be changed, then reverted to be the same as the data in the original class? So I would make a class with the numbers 1 to 5 as the data in it, then make a second class with the same names for sections (or very similar). Mess around with the numbers in the second class then with one function then reset them to be the same as in the first class. The only alternative I've found is to make one aggravatingly long class with too many separate pieces of data in it to be readily usable.",Classes in Python,82969,64141,1,"Here's another answer kind of like pobk's; it uses the instance's dict to do the work of saving/resetting variables, but doesn't require you to specify the names of them in your code. You can call save() at any time to save the state of the instance and reset() to reset to that state. class MyReset: def __init__(self, x, y): self.x = x self.y = y self.save() def save(self): self.saved = self.__dict__.copy() def reset(self): self.__dict__ = self.saved.copy() a = MyReset(20, 30) a.x = 50 print a.x a.reset() print a.x Why do you want to do this? It might not be the best/only way."
64185,2,"Has anybody created a nice wrapper around Yahoo's geo webservice ""GeoPlanet"" yet?",Nice Python wrapper for Yahoo's Geoplanet web service?,66924,64185,2,"After a brief amount of Googling, I found nothing that looks like a wrapper for this API, but I'm not quite sure if a wrapper is what is necessary for GeoPlanet. According to Yahoo's documentation for GeoPlanet, requests are made in the form of an HTTP GET messages which can very easily be made using Python's httplib module, and responses can take one of several forms including XML and JSON. Python can very easily parse these formats. In fact, Yahoo! itself even offers libraries for parsing both XML and JSON with Python. I know it sounds like a lot of libraries, but all the hard work has already been done for the programmer. It would just take a little ""gluing together"" and you would have yourself a nice interface to Yahoo! GeoPlanet using the power of Python."
64237,48,"I've googled around for this, but I still have trouble relating to what Django defines as ""apps"". Should I create a new app for each piece of functionality in a site, even though it uses models from the main project? Do you guys have good rule of thumb of when to split off a new app, and when to keep functionality together with the ""main project"" or other apps?",When to create a new app (with startapp) in Django?,64308,64237,7,I tend to create new applications for each logically separate set of models. e.g.: User Profiles Forum Posts Blog posts
64237,48,"I've googled around for this, but I still have trouble relating to what Django defines as ""apps"". Should I create a new app for each piece of functionality in a site, even though it uses models from the main project? Do you guys have good rule of thumb of when to split off a new app, and when to keep functionality together with the ""main project"" or other apps?",When to create a new app (with startapp) in Django?,64464,64237,11,"I prefer to think of Django applications as reusable modules or components than as ""applications"". This helps me encapsulate and decouple certain features from one another, improving re-usability should I decide to share a particular ""app"" with the community at large, and maintainability. My general approach is to bucket up specific features or feature sets into ""apps"" as though I were going to release them publicly. The hard part here is figuring out how big each bucket is. A good trick I use is to imagine how my apps would be used if they were released publicly. This often encourages me to shrink the buckets and more clearly define its ""purpose""."
64237,48,"I've googled around for this, but I still have trouble relating to what Django defines as ""apps"". Should I create a new app for each piece of functionality in a site, even though it uses models from the main project? Do you guys have good rule of thumb of when to split off a new app, and when to keep functionality together with the ""main project"" or other apps?",When to create a new app (with startapp) in Django?,64492,64237,25,James Bennett has a wonderful set of slides on how to organize reusable apps in Django.
64237,48,"I've googled around for this, but I still have trouble relating to what Django defines as ""apps"". Should I create a new app for each piece of functionality in a site, even though it uses models from the main project? Do you guys have good rule of thumb of when to split off a new app, and when to keep functionality together with the ""main project"" or other apps?",When to create a new app (with startapp) in Django?,67769,64237,0,"An 'app' could be many different things, it all really comes down to taste. For example, let's say you are building a blog. Your app could be the entire blog, or you could have an 'admin' app, a 'site' app for all of the public views, an 'rss' app, a 'services' app so developers can interface with the blog in their own ways, etc. I personally would make the blog itself the app, and break out the functionality within it. The blog could then be reused rather easily in other websites. The nice thing about Django is that it will recognize any models.py file within any level of your directory tree as a file containing Django models. So breaking your functionality out into smaller 'sub apps' within an 'app' itself won't make anything more difficult."
64237,48,"I've googled around for this, but I still have trouble relating to what Django defines as ""apps"". Should I create a new app for each piece of functionality in a site, even though it uses models from the main project? Do you guys have good rule of thumb of when to split off a new app, and when to keep functionality together with the ""main project"" or other apps?",When to create a new app (with startapp) in Django?,68086,64237,1,"The rule I follow is it should be a new app if I want to reuse the functionality in a different project. If it needs deep understanding of the models in your project, it's probably more cohesive to stick it with the models."
64362,1,"I have corporate proxy that supports https but not HTTP CONNECT (even after authentication). It just gives 403 Forbidden in response anything but HTTP or HTTPS URLS. It uses HTTP authenication, not NTLM. It is well documented the urllib2 does not work with https thru a proxy. App Engine trys to connect to a https URL using urllib2 to update the app. On *nix, urllib2 expects proxies to set using env variables. export http_proxy=""http://mycorporateproxy:8080"" export https_proxy=""https://mycorporateproxy:8080"" This is sited as a work around: http://code.activestate.com/recipes/456195/. Also see http://code.google.com/p/googleappengine/issues/detail?id=126. None of these fixes have worked for me. They seem to rely on the proxy server supporting HTTP CONNECT. Does anyone have any other work arounds? I sure I am not the only one behind a restrictive corporate proxy.",How can I access App Engine through a Corporate proxy?,84465,64362,1,"Do you mean it uses http basic-auth before allowing proxying, and does it then allow 'connect'. Then you should be able to tunnel over it using http-tunnel or proxytunnel"
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,64471,64426,5,Pyro (Python Remote Objects) is fairly clever if all your server/clients are going to be in Python. I use XMPP alot though since I'm communicating with hosts that are not always Python. XMPP lends itself to being extended fairly easily too. There is an excellent XMPP library for python called PyXMPP which is reasonably up to date and has no dependancy on Twisted.
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,64487,64426,1,I'd use http and start with understanding what the Python library offers. Then I'd move onto the more industrial strength Twisted library.
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,64489,64426,3,"HTTP seems to suit your requirements and is very well supported in Python. Twisted is good for serious asynchronous network programming in Python, but it has a steep learning curve, so it might be worth using something simpler unless you know your system will need to handle a lot of concurrency. To start, I would suggest using urllib for the client and a WSGI service behind Apache for the server. Apache can be set up to deal with HTTPS fairly simply."
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,64572,64426,-1,"In the RPC field, Json-RPC will bring a big performance improvement over xml-rpc: http://json-rpc.org/wiki/python-json-rpc"
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,64690,64426,0,"XMLRPC is very simple to get started with, and at my previous job, we used it extensively for intra-node communication in a distributed system. As long as you keep track of the fact that the None value can't be easily transferred, it's dead easy to work with, and included in Python's standard library. Run it over https and add a username/password parameter to all calls, and you'll have simple security in place. Not sure about how easy it is to verify server certificate in Python, though. However, if you are transferring large amounts of data, the coding into XML might become a bottleneck, so using a REST-inspired architecture over https may be as good as xmlrpclib."
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,76560,64426,9,"If you are looking to do file transfers, XMLRPC is likely a bad choice. It will require that you encode all of your data as XML (and load it into memory). ""Data requests"" and ""file transfers"" sounds a lot like plain old HTTP to me, but your statement of the problem doesn't make your requirements clear. What kind of information needs to be encoded in the request? Would a URL like ""http://yourserver.example.com/service/request?color=yellow&amp;flavor=banana"" be good enough? There are lots of HTTP clients and servers in Python, none of which are especially great, but all of which I'm sure will get the job done for basic file transfers. You can do security the ""normal"" web way, which is to use HTTPS and passwords, which will probably be sufficient. If you want two-way communication then HTTP falls down, and a protocol like Twisted's perspective broker (PB) or asynchronous messaging protocol (AMP) might suit you better. These protocols are certainly well-supported by Twisted."
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,256826,64426,4,"I suggest you look at 1. XMLRPC 2. JSONRPC 3. SOAP 4. REST/ATOM XMLRPC is a valid choice. Don't worry it is too old. That is not a problem. It is so simple that little needed changing since original specification. The pro is that in every programming langauge I know there is a library for a client to be written in. Certainly for python. I made it work with mod_python and had no problem at all. The big problem with it is its verbosity. For simple values there is a lot of XML overhead. You can gzip it of cause, but then you loose some debugging ability with the tools like Fiddler. My personal preference is JSONRPC. It has all of the XMLRPC advantages and it is very compact. Further, Javascript clients can ""eval"" it so no parsing is necessary. Most of them are built for version 1.0 of the standard. I have seen diverse attempts to improve on it, called 1.1 1.2 and 2.0 but they are not built one on top of another and, to my knowledge, are not widely supported yet. 2.0 looks the best, but I would still stick with 1.0 for now (October 2008) Third candidate would be REST/ATOM. REST is a principle, and ATOM is how you convey bulk of data when it needs to for POST, PUT requests and GET responses. For a very nice implementation of it, look at GData, Google's API. Real real nice. SOAP is old, and lots lots of libraries / langauges support it. IT is heeavy and complicated, but if your primary clients are .NET or Java, it might be worth the bother. Visual Studio would import your WSDL file and create a wrapper and to C# programmer it would look like local assembly indeed. The nice thing about all this, is that if you architect your solution right, existing libraries for Python would allow you support more then one with almost no overhead. XMLRPC and JSONRPC are especially good match. Regarding authentication. XMLRPC and JSONRPC don't bother defining one. It is independent thing from the serialization. So you can implement Basic Authentication, Digest Authentication or your own with any of those. I have seen couple of examples of client side Digest Authentication for python, but am yet to see the server based one. If you use Apache, you might not need one, using mod_auth_digest Apache module instead. This depens on the nature of your application Transport security. It is obvously SSL (HTTPS). I can't currently remember how XMLRPC deals with, but with JSONRPC implementation that I have it is trivial - you merely change http to https in your URLs to JSONRPC and it shall be going over SSL enabled transport."
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,256833,64426,1,"There is no need to use HTTP (indeed, HTTP is not good for RPC in general in some respects), and no need to use a standards-based protocol if you're talking about a python client talking to a python server. Use a Python-specific RPC library such as Pyro, or what Twisted provides (Twisted.spread)."
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,257415,64426,1,"SSH can be a good choice for file transfer and remote control, especially if you are concerned with secure login. Most Linux and Solaris servers will already run an SSH service for administration, so if your Python program use ssh then you don't need to open up any additional ports or services on remote machines. OpenSSH is the standard and portable SSH client and server, and can be used via subprocesses from Python. If you want more flexibility Twisted includes Twisted Conch which is a SSH client and server implementation which provides flexible programmable control of an SSH stack, on both Linux and Windows. I use both in production."
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,280853,64426,0,Facebook's thrift project may be a good answer. It uses a light-weight protocol to pass object around and allows you to use any language you wish. It may fall-down on security though as I believe there is none.
64426,9,"I'm looking for a good server/client protocol supported in Python for making data requests/file transfers between one server and many clients. Security is also an issue - so secure login would be a plus. I've been looking into XML-RPC, but it looks to be a pretty old (and possibly unused these days?) protocol.",Best Python supported server/client protocol?,292659,64426,7,"ProtocolBuffers was released by Google as a way of serializing data in a very compact efficient way. They have support for C++, Java and Python. I haven't used it yet, but looking at the source, there seem to be RPC clients and servers for each language. I personally have used XML-RPC on several projects, and it always did exactly what I was hoping for. I was usually going between C++, Java and Python. I use libxmlrpc in Python often because it's easy to memorize and type interactively, but it is actually much slower than the alternative pyxmlrpc. PyAMF is mostly for RPC with Flash clients, but it's a compact RPC format worth looking at too. When you have Python on both ends, I don't believe anything beats Pyro (Python Remote Objects.) Pyro even has a ""name server"" that lets services announce their availability to a network. Clients use the name server to find the services it needs no matter where they're active at a particular moment. This gives you free redundancy, and the ability to move services from one machine to another without any downtime. For security, I'd tunnel over SSH, or use TLS or SSL at the connection level. Of course, all these options are essentially the same, they just have various difficulties of setup."
64505,70,"I'm using the following method to send mail from Python using SMTP. Is it the right method to use or are there gotchas I'm missing ? from smtplib import SMTP import datetime debuglevel = 0 smtp = SMTP() smtp.set_debuglevel(debuglevel) smtp.connect('YOUR.MAIL.SERVER', 26) smtp.login('USERNAME@DOMAIN', 'PASSWORD') from_addr = ""John Doe &lt;john@doe.net&gt;"" to_addr = ""foo@bar.com"" subj = ""hello"" date = datetime.datetime.now().strftime( ""%d/%m/%Y %H:%M"" ) message_text = ""Hello\nThis is a mail from your server\n\nBye\n"" msg = ""From: %s\nTo: %s\nSubject: %s\nDate: %s\n\n%s"" % ( from_addr, to_addr, subj, date, message_text ) smtp.sendmail(from_addr, to_addr, msg) smtp.quit()",Sending mail from Python using SMTP,64554,64505,6,"The main gotcha I see is that you're not handling any errors: .login() and .sendmail() both have documented exceptions that they can throw, and it seems like .connect() must have some way to indicate that it was unable to connect - probably an exception thrown by the underlying socket code."
64505,70,"I'm using the following method to send mail from Python using SMTP. Is it the right method to use or are there gotchas I'm missing ? from smtplib import SMTP import datetime debuglevel = 0 smtp = SMTP() smtp.set_debuglevel(debuglevel) smtp.connect('YOUR.MAIL.SERVER', 26) smtp.login('USERNAME@DOMAIN', 'PASSWORD') from_addr = ""John Doe &lt;john@doe.net&gt;"" to_addr = ""foo@bar.com"" subj = ""hello"" date = datetime.datetime.now().strftime( ""%d/%m/%Y %H:%M"" ) message_text = ""Hello\nThis is a mail from your server\n\nBye\n"" msg = ""From: %s\nTo: %s\nSubject: %s\nDate: %s\n\n%s"" % ( from_addr, to_addr, subj, date, message_text ) smtp.sendmail(from_addr, to_addr, msg) smtp.quit()",Sending mail from Python using SMTP,64580,64505,3,You should make sure you format the date in the correct format - RFC2822.
64505,70,"I'm using the following method to send mail from Python using SMTP. Is it the right method to use or are there gotchas I'm missing ? from smtplib import SMTP import datetime debuglevel = 0 smtp = SMTP() smtp.set_debuglevel(debuglevel) smtp.connect('YOUR.MAIL.SERVER', 26) smtp.login('USERNAME@DOMAIN', 'PASSWORD') from_addr = ""John Doe &lt;john@doe.net&gt;"" to_addr = ""foo@bar.com"" subj = ""hello"" date = datetime.datetime.now().strftime( ""%d/%m/%Y %H:%M"" ) message_text = ""Hello\nThis is a mail from your server\n\nBye\n"" msg = ""From: %s\nTo: %s\nSubject: %s\nDate: %s\n\n%s"" % ( from_addr, to_addr, subj, date, message_text ) smtp.sendmail(from_addr, to_addr, msg) smtp.quit()",Sending mail from Python using SMTP,64673,64505,5,"Make sure you don't have any firewalls blocking SMTP. The first time I tried to send an email, it was blocked both by Windows Firewall and McAfee - took forever to find them both."
64505,70,"I'm using the following method to send mail from Python using SMTP. Is it the right method to use or are there gotchas I'm missing ? from smtplib import SMTP import datetime debuglevel = 0 smtp = SMTP() smtp.set_debuglevel(debuglevel) smtp.connect('YOUR.MAIL.SERVER', 26) smtp.login('USERNAME@DOMAIN', 'PASSWORD') from_addr = ""John Doe &lt;john@doe.net&gt;"" to_addr = ""foo@bar.com"" subj = ""hello"" date = datetime.datetime.now().strftime( ""%d/%m/%Y %H:%M"" ) message_text = ""Hello\nThis is a mail from your server\n\nBye\n"" msg = ""From: %s\nTo: %s\nSubject: %s\nDate: %s\n\n%s"" % ( from_addr, to_addr, subj, date, message_text ) smtp.sendmail(from_addr, to_addr, msg) smtp.quit()",Sending mail from Python using SMTP,64890,64505,74,"The script I use is quite similar; I post it here as an example of how to use the email.* modules to generate MIME messages; so this script can be easily modified to attach pictures, etc. I rely on my ISP to add the date time header. My ISP requires me to use a secure smtp connection to send mail, I rely on the ssmtplib module (downloadable at http://www1.cs.columbia.edu/~db2501/ssmtplib.py) As in your script, the username and password, (given dummy values below), used to authenticate on the SMTP server, are in plain text in the source. This is a security weakness; but the best alternative depends on how careful you need (want?) to be about protecting these. ======================================= #! /usr/local/bin/python SMTPserver = 'smtp.att.yahoo.com' sender = 'me@my_email_domain.net' destination = ['recipient@her_email_domain.com'] USERNAME = ""USER_NAME_FOR_INTERNET_SERVICE_PROVIDER"" PASSWORD = ""PASSWORD_INTERNET_SERVICE_PROVIDER"" # typical values for text_subtype are plain, html, xml text_subtype = 'plain' content=""""""\ Test message """""" subject=""Sent from Python"" import sys import os import re from smtplib import SMTP_SSL as SMTP # this invokes the secure SMTP protocol (port 465, uses SSL) # from smtplib import SMTP # use this for standard SMTP protocol (port 25, no encryption) # old version # from email.MIMEText import MIMEText from email.mime.text import MIMEText try: msg = MIMEText(content, text_subtype) msg['Subject']= subject msg['From'] = sender # some SMTP servers will do this automatically, not all conn = SMTP(SMTPserver) conn.set_debuglevel(False) conn.login(USERNAME, PASSWORD) try: conn.sendmail(sender, destination, msg.as_string()) finally: conn.quit() except Exception, exc: sys.exit( ""mail failed; %s"" % str(exc) ) # give a error message"
64505,70,"I'm using the following method to send mail from Python using SMTP. Is it the right method to use or are there gotchas I'm missing ? from smtplib import SMTP import datetime debuglevel = 0 smtp = SMTP() smtp.set_debuglevel(debuglevel) smtp.connect('YOUR.MAIL.SERVER', 26) smtp.login('USERNAME@DOMAIN', 'PASSWORD') from_addr = ""John Doe &lt;john@doe.net&gt;"" to_addr = ""foo@bar.com"" subj = ""hello"" date = datetime.datetime.now().strftime( ""%d/%m/%Y %H:%M"" ) message_text = ""Hello\nThis is a mail from your server\n\nBye\n"" msg = ""From: %s\nTo: %s\nSubject: %s\nDate: %s\n\n%s"" % ( from_addr, to_addr, subj, date, message_text ) smtp.sendmail(from_addr, to_addr, msg) smtp.quit()",Sending mail from Python using SMTP,275124,64505,18,"Also if you want to do smtp auth with TLS as opposed to SSL then you just have to change the port (use 587) and do smtp.starttls(). This worked for me: ... smtp.connect('YOUR.MAIL.SERVER', 587) smtp.ehlo() smtp.starttls() smtp.ehlo() smtp.login('USERNAME@DOMAIN', 'PASSWORD') ..."
65076,47,I've troubles setting VIM (7.1.xxx) for editing python files. Indenting seems to be broken (optimal 4 spaces). I've followed some tutorials I found via Google. Still no effect :/ Please help.,How to setup VIM autoindentation properly for editing Python files - *.py,65122,65076,42,"I use this on my macbook: "" configure expanding of tabs for various file types au BufRead,BufNewFile *.py set expandtab au BufRead,BufNewFile *.c set noexpandtab au BufRead,BufNewFile *.h set noexpandtab au BufRead,BufNewFile Makefile* set noexpandtab "" -------------------------------------------------------------------------------- "" configure editor with tabs and nice stuff... "" -------------------------------------------------------------------------------- set expandtab "" enter spaces when tab is pressed set textwidth=120 "" break lines when line length increases set tabstop=4 "" use 4 spaces to represent tab set softtabstop=4 set shiftwidth=4 "" number of spaces to use for auto indent set autoindent "" copy indent from current line when starting a new line "" make backspaces more powerfull set backspace=indent,eol,start set ruler "" show line and column number syntax on "" syntax highlighting set showcmd "" show (partial) command in status line (edited to only show stuff related to indent / tabs)"
65076,47,I've troubles setting VIM (7.1.xxx) for editing python files. Indenting seems to be broken (optimal 4 spaces). I've followed some tutorials I found via Google. Still no effect :/ Please help.,How to setup VIM autoindentation properly for editing Python files - *.py,66818,65076,2,"Ensure you are editing the correct configuration file for VIM. Especially if you are using windows, where the file could be named _vimrc instead of .vimrc as on other platforms. In vim type :help vimrc and check your path to the _vimrc/.vimrc file with :echo $HOME :echo $VIM Make sure you are only using one file. If you want to split your configuration into smaller chunks you can source other files from inside your _vimrc file. :help source"
65076,47,I've troubles setting VIM (7.1.xxx) for editing python files. Indenting seems to be broken (optimal 4 spaces). I've followed some tutorials I found via Google. Still no effect :/ Please help.,How to setup VIM autoindentation properly for editing Python files - *.py,68002,65076,0,for more advanced python editing consider installing the simplefold vim plugin. it allows you do advanced code folding using regular expressions. I use it to fold my class and method definitions for faster editing.
65076,47,I've troubles setting VIM (7.1.xxx) for editing python files. Indenting seems to be broken (optimal 4 spaces). I've followed some tutorials I found via Google. Still no effect :/ Please help.,How to setup VIM autoindentation properly for editing Python files - *.py,1868984,65076,3,I use the vimrc in the python repo among other things: http://svn.python.org/projects/python/trunk/Misc/Vim/vimrc I also add set softtabstop=4 I have my old config here that I'm updating
65266,17,"Each time a python file is imported that contains a large quantity of static regular expressions, cpu cycles are spent compiling the strings into their representative state machines in memory. a = re.compile(""a.*b"") b = re.compile(""c.*d"") ... Question: Is it possible to store these regular expressions in a cache on disk in a pre-compiled manner to avoid having to execute the regex compilations on each import? Pickling the object simply does the following, causing compilation to happen anyway: &gt;&gt;&gt; import pickle &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; pickle.dumps(x) ""cre\n_compile\np0\n(S'.*'\np1\nI0\ntp2\nRp3\n."" And re objects are unmarshallable: &gt;&gt;&gt; import marshal &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; marshal.dumps(x) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; ValueError: unmarshallable object",Caching compiled regex objects in Python?,65333,65266,2,"Note that each module initializes itself only once during the life of an app, no matter how many times you import it. So if you compile your expressions at the module's global scope (ie. not in a function) you should be fine."
65266,17,"Each time a python file is imported that contains a large quantity of static regular expressions, cpu cycles are spent compiling the strings into their representative state machines in memory. a = re.compile(""a.*b"") b = re.compile(""c.*d"") ... Question: Is it possible to store these regular expressions in a cache on disk in a pre-compiled manner to avoid having to execute the regex compilations on each import? Pickling the object simply does the following, causing compilation to happen anyway: &gt;&gt;&gt; import pickle &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; pickle.dumps(x) ""cre\n_compile\np0\n(S'.*'\np1\nI0\ntp2\nRp3\n."" And re objects are unmarshallable: &gt;&gt;&gt; import marshal &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; marshal.dumps(x) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; ValueError: unmarshallable object",Caching compiled regex objects in Python?,65440,65266,12,"Is it possible to store these regular expressions in a cache on disk in a pre-compiled manner to avoid having to execute the regex compilations on each import? Not easily. You'd have to write a custom serializer that hooks into the C sre implementation of the Python regex engine. Any performance benefits would be vastly outweighed by the time and effort required. First, have you actually profiled the code? I doubt that compiling regexes is a significant part of the application's run-time. Remember that they are only compiled the first time the module is imported in the current execution -- thereafter, the module and its attributes are cached in memory. If you have a program that basically spawns once, compiles a bunch of regexes, and then exits, you could try re-engineering it to perform multiple tests in one invocation. Then you could re-use the regexes, as above. Finally, you could compile the regexes into C-based state machines and then link them in with an extension module. While this would likely be more difficult to maintain, it would eliminate regex compilation entirely from your application."
65266,17,"Each time a python file is imported that contains a large quantity of static regular expressions, cpu cycles are spent compiling the strings into their representative state machines in memory. a = re.compile(""a.*b"") b = re.compile(""c.*d"") ... Question: Is it possible to store these regular expressions in a cache on disk in a pre-compiled manner to avoid having to execute the regex compilations on each import? Pickling the object simply does the following, causing compilation to happen anyway: &gt;&gt;&gt; import pickle &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; pickle.dumps(x) ""cre\n_compile\np0\n(S'.*'\np1\nI0\ntp2\nRp3\n."" And re objects are unmarshallable: &gt;&gt;&gt; import marshal &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; marshal.dumps(x) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; ValueError: unmarshallable object",Caching compiled regex objects in Python?,65579,65266,-1,It's possible to place each regex (or group of regexs) into a separate file and then dynamically import the file that you need using the imp module. I doubt that it scales very well but it could be what you need.
65266,17,"Each time a python file is imported that contains a large quantity of static regular expressions, cpu cycles are spent compiling the strings into their representative state machines in memory. a = re.compile(""a.*b"") b = re.compile(""c.*d"") ... Question: Is it possible to store these regular expressions in a cache on disk in a pre-compiled manner to avoid having to execute the regex compilations on each import? Pickling the object simply does the following, causing compilation to happen anyway: &gt;&gt;&gt; import pickle &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; pickle.dumps(x) ""cre\n_compile\np0\n(S'.*'\np1\nI0\ntp2\nRp3\n."" And re objects are unmarshallable: &gt;&gt;&gt; import marshal &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; marshal.dumps(x) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; ValueError: unmarshallable object",Caching compiled regex objects in Python?,65844,65266,0,"The shelve module appears to work just fine: import re import shelve a_pattern = ""a.*b"" b_pattern = ""c.*d"" a = re.compile(a_pattern) b = re.compile(b_pattern) x = shelve.open('re_cache') x[a_pattern] = a x[b_pattern] = b x.close() # ... x = shelve.open('re_cache') a = x[a_pattern] b = x[b_pattern] x.close() You can then make a nice wrapper class that automatically handles the caching for you so that it becomes transparent to the user... an exercise left to the reader."
65266,17,"Each time a python file is imported that contains a large quantity of static regular expressions, cpu cycles are spent compiling the strings into their representative state machines in memory. a = re.compile(""a.*b"") b = re.compile(""c.*d"") ... Question: Is it possible to store these regular expressions in a cache on disk in a pre-compiled manner to avoid having to execute the regex compilations on each import? Pickling the object simply does the following, causing compilation to happen anyway: &gt;&gt;&gt; import pickle &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; pickle.dumps(x) ""cre\n_compile\np0\n(S'.*'\np1\nI0\ntp2\nRp3\n."" And re objects are unmarshallable: &gt;&gt;&gt; import marshal &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; marshal.dumps(x) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; ValueError: unmarshallable object",Caching compiled regex objects in Python?,66666,65266,-1,"Hum, Doesn't shelve use pickle ? Anyway, I agree with the previous anwsers. Since a module is processed only once, I doubt compiling regexps will be your app bottle neck. And Python re module is wicked fast since it's coded in C :-) But the good news is that Python got a nice community, so I am sure you can find somebody currently hacking just what you need. I googled 5 sec and found : http://home.gna.org/oomadness/en/cerealizer/index.html. Don't know if it will do it but if not, good luck in you research :-)"
65266,17,"Each time a python file is imported that contains a large quantity of static regular expressions, cpu cycles are spent compiling the strings into their representative state machines in memory. a = re.compile(""a.*b"") b = re.compile(""c.*d"") ... Question: Is it possible to store these regular expressions in a cache on disk in a pre-compiled manner to avoid having to execute the regex compilations on each import? Pickling the object simply does the following, causing compilation to happen anyway: &gt;&gt;&gt; import pickle &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; pickle.dumps(x) ""cre\n_compile\np0\n(S'.*'\np1\nI0\ntp2\nRp3\n."" And re objects are unmarshallable: &gt;&gt;&gt; import marshal &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; marshal.dumps(x) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; ValueError: unmarshallable object",Caching compiled regex objects in Python?,66846,65266,0,"Open /usr/lib/python2.5/re.py and look for ""def _compile"". You'll find re.py's internal cache mechanism."
65266,17,"Each time a python file is imported that contains a large quantity of static regular expressions, cpu cycles are spent compiling the strings into their representative state machines in memory. a = re.compile(""a.*b"") b = re.compile(""c.*d"") ... Question: Is it possible to store these regular expressions in a cache on disk in a pre-compiled manner to avoid having to execute the regex compilations on each import? Pickling the object simply does the following, causing compilation to happen anyway: &gt;&gt;&gt; import pickle &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; pickle.dumps(x) ""cre\n_compile\np0\n(S'.*'\np1\nI0\ntp2\nRp3\n."" And re objects are unmarshallable: &gt;&gt;&gt; import marshal &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile("".*"") &gt;&gt;&gt; marshal.dumps(x) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; ValueError: unmarshallable object",Caching compiled regex objects in Python?,396148,65266,1,"First of all, this is a clear limitation in the python re module. It causes a limit how much and how big regular expressions are reasonable. The limit is bigger with long running processes and smaller with short lived processes like command line applications. Some years ago I did look at it and it is possible to dig out the compilation result, pickle it and then unpickle it and reuse it. The problem is that it requires using the sre.py internals and so won't probably work in different python versions. I would like to have this kind of feature in my toolbox. I would also like to know, if there are any separate modules that could be used instead."
65400,5,"How do I add an instance method to a class using a metaclass (yes I do need to use a metaclass)? The following kind of works, but the func_name will still be ""foo"": def bar(self): print ""bar"" class MetaFoo(type): def __new__(cls, name, bases, dict): dict[""foobar""] = bar return type(name, bases, dict) class Foo(object): __metaclass__ = MetaFoo &gt;&gt;&gt; f = Foo() &gt;&gt;&gt; f.foobar() bar &gt;&gt;&gt; f.foobar.func_name 'bar' My problem is that some library code actually uses the func_name and later fails to find the 'bar' method of the Foo instance. I could do: dict[""foobar""] = types.FunctionType(bar.func_code, {}, ""foobar"") There is also types.MethodType, but I need an instance that does'nt exist yet to use that. Am I missing someting here?",How to add method using metaclass,65682,65400,2,"I think what you want to do is this: &gt;&gt;&gt; class Foo(): ... def __init__(self, x): ... self.x = x ... &gt;&gt;&gt; def bar(self): ... print 'bar:', self.x ... &gt;&gt;&gt; bar.func_name = 'foobar' &gt;&gt;&gt; Foo.foobar = bar &gt;&gt;&gt; f = Foo(12) &gt;&gt;&gt; f.foobar() bar: 12 &gt;&gt;&gt; f.foobar.func_name 'foobar' Now you are free to pass Foos to a library that expects Foo instances to have a method named foobar. Unfortunately, (1) I don't know how to use metaclasses and (2) I'm not sure I read your question correctly, but I hope this helps. Note that func_name is only assignable in Python 2.4 and higher."
65400,5,"How do I add an instance method to a class using a metaclass (yes I do need to use a metaclass)? The following kind of works, but the func_name will still be ""foo"": def bar(self): print ""bar"" class MetaFoo(type): def __new__(cls, name, bases, dict): dict[""foobar""] = bar return type(name, bases, dict) class Foo(object): __metaclass__ = MetaFoo &gt;&gt;&gt; f = Foo() &gt;&gt;&gt; f.foobar() bar &gt;&gt;&gt; f.foobar.func_name 'bar' My problem is that some library code actually uses the func_name and later fails to find the 'bar' method of the Foo instance. I could do: dict[""foobar""] = types.FunctionType(bar.func_code, {}, ""foobar"") There is also types.MethodType, but I need an instance that does'nt exist yet to use that. Am I missing someting here?",How to add method using metaclass,65716,65400,10,"Try dynamically extending the bases that way you can take advantage of the mro and the methods are actual methods: class Parent(object): def bar(self): print ""bar"" class MetaFoo(type): def __new__(cls, name, bases, dict): return type(name, (Parent,) + bases, dict) class Foo(object): __metaclass__ = MetaFoo if __name__ == ""__main__"": f = Foo() f.bar() print f.bar.func_name"
66636,1,"I would like to make a child class that has a method of the parent class where the method is a 'classmethod' in the child class but not in the parent class. Essentially, I am trying to accomplish the following: class foo(Object): def meth1(self, val): self.value = val class bar(foo): meth1 = classmethod(foo.meth1)",Decorating a parent class method,66670,66636,3,"What are you trying to accomplish? If I saw such a construct in live Python code, I would consider beating the original programmer."
66636,1,"I would like to make a child class that has a method of the parent class where the method is a 'classmethod' in the child class but not in the parent class. Essentially, I am trying to accomplish the following: class foo(Object): def meth1(self, val): self.value = val class bar(foo): meth1 = classmethod(foo.meth1)",Decorating a parent class method,66847,66636,3,"I'm also not entirely sure what the exact behaviour you want is, but assuming its that you want bar.meth1(42) to be equivalent to foo.meth1 being a classmethod of bar (with ""self"" being the class), then you can acheive this with: def convert_to_classmethod(method): return classmethod(method.im_func) class bar(foo): meth1 = convert_to_classmethod(foo.meth1) The problem with classmethod(foo.meth1) is that foo.meth1 has already been converted to a method, with a special meaning for the first parameter. You need to undo this and look at the underlying function object, reinterpreting what ""self"" means. I'd also caution that this is a pretty odd thing to do, and thus liable to cause confusion to anyone reading your code. You are probably better off thinking through a different solution to your problem."
66636,1,"I would like to make a child class that has a method of the parent class where the method is a 'classmethod' in the child class but not in the parent class. Essentially, I am trying to accomplish the following: class foo(Object): def meth1(self, val): self.value = val class bar(foo): meth1 = classmethod(foo.meth1)",Decorating a parent class method,66936,66636,0,"The question, as posed, seems quite odd to me: I can't see why anyone would want to do that. It is possible that you are misunderstanding just what a ""classmethod"" is in Python (it's a bit different from, say, a static method in Java). A normal method is more-or-less just a function which takes as its first argument (usually called ""self""), an instance of the class, and which is invoked as ""."". A classmethod is more-or-less just a function which takes as its first argument (often called ""cls""), a class, and which can be invoked as ""."" OR as ""."". With this in mind, and your code shown above, what would you expect to have happen if someone creates an instance of bar and calls meth1 on it? bar1 = bar() bar1.meth1(""xyz"") When the code to meth1 is called, it is passed two arguments 'self' and 'val'. I guess that you expect ""xyz"" to be passed for 'val', but what are you thinking gets passed for 'self'? Should it be the bar1 instance (in this case, no override was needed)? Or should it be the class bar (what then would this code DO)?"
66730,6,"I've created a python object, but I want to send signals on it. I made it inherit from gobject.GObject, but there doesn't seem to be any way to create a new signal on my object.",How do I create a new signal in pygtk,66883,66730,4,"Here is how: import gobject class MyGObjectClass(gobject.GObject): ... gobject.signal_new(""signal-name"", MyGObjectClass, gobject.SIGNAL_RUN_FIRST, None, (str, int)) Where the second to last argument is the return type and the last argument is a tuple of argument types."
66730,6,"I've created a python object, but I want to send signals on it. I made it inherit from gobject.GObject, but there doesn't seem to be any way to create a new signal on my object.",How do I create a new signal in pygtk,67743,66730,10,"You can also define signals inside the class definition: class MyGObjectClass(gobject.GObject): __gsignals__ = { ""some-signal"": (gobject.SIGNAL_RUN_FIRST, gobject.TYPE_NONE, (object, )), } The contents of the tuple are the the same as the three last arguments to gobject.signal_new."
66730,6,"I've created a python object, but I want to send signals on it. I made it inherit from gobject.GObject, but there doesn't seem to be any way to create a new signal on my object.",How do I create a new signal in pygtk,126355,66730,2,If you use kiwi available here you can just do: from kiwi.utils import gsignal class MyObject(gobject.GObject): gsignal('signal-name')
67180,0,"When doing an INSERT with a lot of data, ie: INSERT INTO table (mediumtext_field) VALUES ('...lots of text here: about 2MB worth...') MySQL returns ""OperationalError: (2006, 'MySQL server has gone away')"" This is happening within a minute of starting the script, so it is not a timeout issue. Also, mediumtext_field should be able to hold ~16MB of data, so that shouldn't be a problem. Any ideas what is causing the error or how to work around it? Some relevant libraries being used: mod_python 3.3.1, MySQL 5.0.51 (on Windows XP SP3, via xampp, details below) ApacheFriends XAMPP (basic package) version 1.6.5 Apache 2.2.6 MySQL 5.0.51 phpMyAdmin 2.11.3","mod_python/MySQL error on INSERT with a lot of data: ""OperationalError: (2006, 'MySQL server has gone away')""",72987,67180,1,check the max_packet setting in your my.cnf file. this determines the largest amount of data you can send to your mysql server in a single statement. exceeding this values results in that error.
67223,1,"I'm writing opengl code in python using the library pyglet. When I draw to the screen using pyglet.graphics.vertex_list or pyglet.graphics.batch objects, they are very slow (~0.1 fps) compared to plain old pyglet.graphics.draw() or just glVertex() calls, which are about 40fps for the same geometry. In Linux the vertex_list is about the same speed as glVertex, which is disappointing, and batch methods are about twice as fast, which is a little better but not as much gain as I was hoping for.",why might my pyglet vertex lists and batches be very slow on Windows?,67921,67223,1,"I don't know personally, but I noticed that you haven't posted to the pyglet mailing list about this. More Pyglet users, as well as the primary developer, read that list."
67223,1,"I'm writing opengl code in python using the library pyglet. When I draw to the screen using pyglet.graphics.vertex_list or pyglet.graphics.batch objects, they are very slow (~0.1 fps) compared to plain old pyglet.graphics.draw() or just glVertex() calls, which are about 40fps for the same geometry. In Linux the vertex_list is about the same speed as glVertex, which is disappointing, and batch methods are about twice as fast, which is a little better but not as much gain as I was hoping for.",why might my pyglet vertex lists and batches be very slow on Windows?,835601,67223,4,"Don't forget to invoke your pyglet scripts with 'python -O myscript.py', the '-O' flag can make a huge performance difference."
67454,41,"How to serve users a dynamically generated ZIP archive in Django? I'm making a site, where users can choose any combination of available books and download them as ZIP archive. I'm worried that generating such archives for each request would slow my server down to a crawl. I have also heard that Django doesn't currently have a good solution for serving dynamically generated files.",Serving dynamically generated ZIP archives in Django,67477,67454,1,"Can't you just write a link to a ""zip server"" or whatnot? Why does the zip archive itself need to be served from Django? A 90's era CGI script to generate a zip and spit it to stdout is really all that's required here, at least as far as I can see."
67454,41,"How to serve users a dynamically generated ZIP archive in Django? I'm making a site, where users can choose any combination of available books and download them as ZIP archive. I'm worried that generating such archives for each request would slow my server down to a crawl. I have also heard that Django doesn't currently have a good solution for serving dynamically generated files.",Serving dynamically generated ZIP archives in Django,67527,67454,6,"Django doesn't directly handle the generation of dynamic content (specifically Zip files). That work would be done by Python's standard library. You can take a look at how to dynamically create a Zip file in Python here. If you're worried about it slowing down your server you can cache the requests if you expect to have many of the same requests. You can use Django's cache framework to help you with that. Overall, zipping files can be CPU intensive but Django shouldn't be any slower than another Python web framework."
67454,41,"How to serve users a dynamically generated ZIP archive in Django? I'm making a site, where users can choose any combination of available books and download them as ZIP archive. I'm worried that generating such archives for each request would slow my server down to a crawl. I have also heard that Django doesn't currently have a good solution for serving dynamically generated files.",Serving dynamically generated ZIP archives in Django,72180,67454,36,"The solution is as follows. Use Python module zipfile to create zip archive, but as the file specify StringIO object (ZipFile constructor requires file-like object). Add files you want to compress. Then in your Django application return the content of StringIO object in HttpResponse with mimetype set to application/x-zip-compressed (or at least application/octet-stream). If you want, you can set content-disposition header, but this should not be really required. But beware, creating zip archives on each request is bad idea and this may kill your server (not counting timeouts if the archives are large). Performance-wise approach is to cache generated output somewhere in filesystem and regenerate it only if source files have changed. Even better idea is to prepare archives in advance (eg. by cron job) and have your web server serving them as usual statics."
67454,41,"How to serve users a dynamically generated ZIP archive in Django? I'm making a site, where users can choose any combination of available books and download them as ZIP archive. I'm worried that generating such archives for each request would slow my server down to a crawl. I have also heard that Django doesn't currently have a good solution for serving dynamically generated files.",Serving dynamically generated ZIP archives in Django,73617,67454,1,"I suggest to use separate model for storing those temp zip files. You can create zip on-fly, save to model with filefield and finally send url to user. Advantages: Serving static zip files with django media mechanism (like usual uploads). Ability to cleanup stale zip files by regular cron script execution (which can use date field from zip file model)."
67631,498,"How can I load a Python module given its full path? Note that the file can be anywhere in the filesystem, as it is a configuration option.",How to import a module given the full path?,67672,67631,3,"I believe you can use imp.find_module() and imp.load_module() to load the specified module. You'll need to split the module name off of the path, i.e. if you wanted to load /home/mypath/mymodule.py you'd need to do: imp.find_module('mymodule', '/home/mypath/') ...but that should get the job done."
67631,498,"How can I load a Python module given its full path? Note that the file can be anywhere in the filesystem, as it is a configuration option.",How to import a module given the full path?,67692,67631,575,"For Python 3.5+ use: import importlib.util spec = importlib.util.spec_from_file_location(""module.name"", ""/path/to/file.py"") foo = importlib.util.module_from_spec(spec) spec.loader.exec_module(foo) foo.MyClass() For Python 3.3 and 3.4 use: from importlib.machinery import SourceFileLoader foo = SourceFileLoader(""module.name"", ""/path/to/file.py"").load_module() foo.MyClass() (Although this has been deprecated in Python 3.4.) Python 2 use: import imp foo = imp.load_source('module.name', '/path/to/file.py') foo.MyClass() There are equivalent convenience functions for compiled Python files and DLLs. See also. http://bugs.python.org/issue21436."
67631,498,"How can I load a Python module given its full path? Note that the file can be anywhere in the filesystem, as it is a configuration option.",How to import a module given the full path?,67693,67631,12,"You can use the load_source(module_name, path_to_file) method from imp module."
67631,498,"How can I load a Python module given its full path? Note that the file can be anywhere in the filesystem, as it is a configuration option.",How to import a module given the full path?,67705,67631,2,"Import package modules at runtime (Python recipe) http://code.activestate.com/recipes/223972/ ################### ## # ## classloader.py # ## # ################### import sys, types def _get_mod(modulePath): try: aMod = sys.modules[modulePath] if not isinstance(aMod, types.ModuleType): raise KeyError except KeyError: # The last [''] is very important! aMod = __import__(modulePath, globals(), locals(), ['']) sys.modules[modulePath] = aMod return aMod def _get_func(fullFuncName): """"""Retrieve a function object from a full dotted-package name."""""" # Parse out the path, module, and function lastDot = fullFuncName.rfind(u""."") funcName = fullFuncName[lastDot + 1:] modPath = fullFuncName[:lastDot] aMod = _get_mod(modPath) aFunc = getattr(aMod, funcName) # Assert that the function is a *callable* attribute. assert callable(aFunc), u""%s is not callable."" % fullFuncName # Return a reference to the function itself, # not the results of the function. return aFunc def _get_class(fullClassName, parentClass=None): """"""Load a module and retrieve a class (NOT an instance). If the parentClass is supplied, className must be of parentClass or a subclass of parentClass (or None is returned). """""" aClass = _get_func(fullClassName) # Assert that the class is a subclass of parentClass. if parentClass is not None: if not issubclass(aClass, parentClass): raise TypeError(u""%s is not a subclass of %s"" % (fullClassName, parentClass)) # Return a reference to the class itself, not an instantiated object. return aClass ###################### ## Usage ## ###################### class StorageManager: pass class StorageManagerMySQL(StorageManager): pass def storage_object(aFullClassName, allOptions={}): aStoreClass = _get_class(aFullClassName, StorageManager) return aStoreClass(allOptions)"
67631,498,"How can I load a Python module given its full path? Note that the file can be anywhere in the filesystem, as it is a configuration option.",How to import a module given the full path?,67708,67631,13,"You can also do something like this and add the directory that the configuration file is sitting in to the Python load path, and then just do a normal import, assuming you know the name of the file in advance, in this case ""config"". Messy, but it works. configfile = '~/config.py' import os import sys sys.path.append(os.path.dirname(os.path.expanduser(configfile))) import config"
67631,498,"How can I load a Python module given its full path? Note that the file can be anywhere in the filesystem, as it is a configuration option.",How to import a module given the full path?,67715,67631,8,"Do you mean load or import? You can manipulate the sys.path list specify the path to your module, then import your module. For example, given a module at: /foo/bar.py You could do: import sys sys.path[0:0] = '/foo' # puts the /foo directory at the start of your path import bar"
67631,498,"How can I load a Python module given its full path? Note that the file can be anywhere in the filesystem, as it is a configuration option.",How to import a module given the full path?,68628,67631,9,"def import_file(full_path_to_module): try: import os module_dir, module_file = os.path.split(full_path_to_module) module_name, module_ext = os.path.splitext(module_file) save_cwd = os.getcwd() os.chdir(module_dir) module_obj = __import__(module_name) module_obj.__file__ = full_path_to_module globals()[module_name] = module_obj os.chdir(save_cwd) except: raise ImportError import_file('/home/somebody/somemodule.py')"
67631,498,"How can I load a Python module given its full path? Note that the file can be anywhere in the filesystem, as it is a configuration option.",How to import a module given the full path?,129374,67631,185,"The advantage of adding a path to sys.path (over using imp) is that it simplifies things when importing more than one module from a single package. For example: import sys # the mock-0.3.1 dir contains testcase.py, testutils.py &amp; mock.py sys.path.append('/foo/bar/mock-0.3.1') from testcase import TestCase from testutils import RunTests from mock import Mock, sentinel, patch"
68282,125,"When defining a method on a class in Python, it looks something like this: class MyClass(object): def __init__(self, x, y): self.x = x self.y = y But in some other languages, such as C#, you have a reference to the object that the method is bound to with the ""this"" keyword without declaring it as an argument in the method prototype. Was this an intentional language design decision in Python or are there some implementation details that require the passing of ""self"" as an argument?","Why do you need explicitly have the ""self"" argument into a Python method?",68320,68282,37,"It's to minimize the difference between methods and functions. It allows you to easily generate methods in metaclasses, or add methods at runtime to pre-existing classes. e.g. &gt;&gt;&gt; class C(object): ... def foo(self): ... print ""Hi!"" ... &gt;&gt;&gt; &gt;&gt;&gt; def bar(self): ... print ""Bork bork bork!"" ... &gt;&gt;&gt; &gt;&gt;&gt; c = C() &gt;&gt;&gt; C.bar = bar &gt;&gt;&gt; c.bar() Bork bork bork! &gt;&gt;&gt; c.foo() Hi! &gt;&gt;&gt; It also (as far as I know) makes the implementation of the python runtime easier."
68282,125,"When defining a method on a class in Python, it looks something like this: class MyClass(object): def __init__(self, x, y): self.x = x self.y = y But in some other languages, such as C#, you have a reference to the object that the method is bound to with the ""this"" keyword without declaring it as an argument in the method prototype. Was this an intentional language design decision in Python or are there some implementation details that require the passing of ""self"" as an argument?","Why do you need explicitly have the ""self"" argument into a Python method?",68324,68282,68,"I like to quote Peters' Zen of Python. ""Explicit is better than implicit."" In Java and C++, 'this.' can be deduced, except when you have variable names that make it impossible to deduce. So you sometimes need it and sometimes don't. Python elects to make things like this explicit rather than based on a rule. Additionally, since nothing is implied or assumed, parts of the implementation are exposed. self.__class__, self.__dict__ and other ""internal"" structures are available in an obvious way."
68282,125,"When defining a method on a class in Python, it looks something like this: class MyClass(object): def __init__(self, x, y): self.x = x self.y = y But in some other languages, such as C#, you have a reference to the object that the method is bound to with the ""this"" keyword without declaring it as an argument in the method prototype. Was this an intentional language design decision in Python or are there some implementation details that require the passing of ""self"" as an argument?","Why do you need explicitly have the ""self"" argument into a Python method?",68329,68282,-1,"There is also another very simple answer: according to the zen of python, ""explicit is better than implicit""."
68282,125,"When defining a method on a class in Python, it looks something like this: class MyClass(object): def __init__(self, x, y): self.x = x self.y = y But in some other languages, such as C#, you have a reference to the object that the method is bound to with the ""this"" keyword without declaring it as an argument in the method prototype. Was this an intentional language design decision in Python or are there some implementation details that require the passing of ""self"" as an argument?","Why do you need explicitly have the ""self"" argument into a Python method?",68472,68282,10,"Python doesn't force you on using ""self"". You can give it whatever name you want. You just have to remember that the first argument in a method definition header is a reference to the object."
68282,125,"When defining a method on a class in Python, it looks something like this: class MyClass(object): def __init__(self, x, y): self.x = x self.y = y But in some other languages, such as C#, you have a reference to the object that the method is bound to with the ""this"" keyword without declaring it as an argument in the method prototype. Was this an intentional language design decision in Python or are there some implementation details that require the passing of ""self"" as an argument?","Why do you need explicitly have the ""self"" argument into a Python method?",308045,68282,38,"I suggest that one should read Guido van Rossum's blog on this topic - Why explicit self has to stay. When a method definition is decorated, we don't know whether to automatically give it a 'self' parameter or not: the decorator could turn the function into a static method (which has no 'self'), or a class method (which has a funny kind of self that refers to a class instead of an instance), or it could do something completely different (it's trivial to write a decorator that implements '@classmethod' or '@staticmethod' in pure Python). There's no way without knowing what the decorator does whether to endow the method being defined with an implicit 'self' argument or not. I reject hacks like special-casing '@classmethod' and '@staticmethod'."
68327,3,I create a new Button object but did not specify the command option upon creation. Is there a way in Tkinter to change the command (onclick) function after the object has been created?,Change command Method for Tkinter Button in Python,68455,68327,1,"Sure; just use the bind method to specify the callback after the button has been created. I've just written and tested the example below. You can find a nice tutorial on doing this at http://www.pythonware.com/library/tkinter/introduction/events-and-bindings.htm from Tkinter import Tk, Button root = Tk() button = Button(root, text=""Click Me!"") button.pack() def callback(event): print ""Hello World!"" button.bind(""&lt;Button-1&gt;"", callback) root.mainloop()"
68327,3,I create a new Button object but did not specify the command option upon creation. Is there a way in Tkinter to change the command (onclick) function after the object has been created?,Change command Method for Tkinter Button in Python,68524,68327,12,"Though Eli Courtwright's program will work fineÂ¹, what you really seem to want though is just a way to reconfigure after instantiation any attribute which you could have set when you instantiatedÂ². How you do so is by way of the configure() method. from Tkinter import Tk, Button def goodbye_world(): print ""Goodbye World!\nWait, I changed my mind!"" button.configure(text = ""Hello World!"", command=hello_world) def hello_world(): print ""Hello World!\nWait, I changed my mind!"" button.configure(text = ""Goodbye World!"", command=goodbye_world) root = Tk() button = Button(root, text=""Hello World!"", command=hello_world) button.pack() root.mainloop() Â¹ ""fine"" if you use only the mouse; if you care about tabbing and using [Space] or [Enter] on buttons, then you will have to implement (duplicating existing code) keypress events too. Setting the command option through .configure is much easier. Â² the only attribute that can't change after instantiation is name."
68335,55,I have a text file on my local machine that is generated by a daily Python script run in cron. I would like to add a bit of code to have that file sent securely to my server over SSH.,How to copy a file to a remote server in Python using SCP or SSH?,68365,68335,21,"If you want the simple approach, this should work. You'll want to "".close()"" the file first so you know it's flushed to disk from Python. import os os.system(""scp FILE USER@SERVER:PATH"") #e.g. os.system(""scp foo.bar joe@srvr.net:/path/to/foo.bar"") You need to generate (on the source machine) and install (on the destination machine) an ssh key beforehand so that the scp automatically gets authenticated with your public ssh key (in other words, so your script doesn't ask for a password). ssh-keygen example"
68335,55,I have a text file on my local machine that is generated by a daily Python script run in cron. I would like to add a bit of code to have that file sent securely to my server over SSH.,How to copy a file to a remote server in Python using SCP or SSH?,68377,68335,-1,"Kind of hacky, but the following should work :) import os filePath = ""/foo/bar/baz.py"" serverPath = ""/blah/boo/boom.py"" os.system(""scp ""+filePath+"" user@myserver.com:""+serverPath)"
68335,55,I have a text file on my local machine that is generated by a daily Python script run in cron. I would like to add a bit of code to have that file sent securely to my server over SSH.,How to copy a file to a remote server in Python using SCP or SSH?,68382,68335,23,"You'd probably use the subprocess module. Something like this: import subprocess p = subprocess.Popen([""scp"", myfile, destination]) sts = os.waitpid(p.pid, 0) Where destination is probably of the form user@remotehost:remotepath. Thanks to @Charles Duffy for pointing out the weakness in my original answer, which used a single string argument to specify the scp operation shell=True - that wouldn't handle whitespace in paths. The module documentation has examples of error checking that you may want to perform in conjunction with this operation. Ensure that you've set up proper credentials so that you can perform an unattended, passwordless scp between the machines. There is a stackoverflow question for this already."
68335,55,I have a text file on my local machine that is generated by a daily Python script run in cron. I would like to add a bit of code to have that file sent securely to my server over SSH.,How to copy a file to a remote server in Python using SCP or SSH?,68566,68335,10,"There are a couple of different ways to approach the problem: Wrap command-line programs use a Python library that provides SSH capabilities (eg - Paramiko or Twisted Conch) Each approach has its own quirks. You will need to setup SSH keys to enable password-less logins if you are wrapping system commands like ""ssh"", ""scp"" or ""rsync."" You can embed a password in a script using Paramiko or some other library, but you might find the lack of documentation frustrating, especially if you are not familiar with the basics of the SSH connection (eg - key exchanges, agents, etc). It probably goes without saying that SSH keys are almost always a better idea than passwords for this sort of stuff. NOTE: its hard to beat rsync if you plan on transferring files via SSH, especially if the alternative is plain old scp. I've used Paramiko with an eye towards replacing system calls but found myself drawn back to the wrapped commands due to their ease of use and immediate familiarity. You might be different. I gave Conch the once-over some time ago but it didn't appeal to me. If opting for the system-call path, Python offers an array of options such as os.system or the commands/subprocess modules. I'd go with the subprocess module if using version 2.4+."
68335,55,I have a text file on my local machine that is generated by a daily Python script run in cron. I would like to add a bit of code to have that file sent securely to my server over SSH.,How to copy a file to a remote server in Python using SCP or SSH?,69596,68335,76,"To do this in Python (i.e. not wrapping scp through subprocess.Popen or similar) with the Paramiko library, you would do something like this: import os import paramiko ssh = paramiko.SSHClient() ssh.load_host_keys(os.path.expanduser(os.path.join(""~"", "".ssh"", ""known_hosts""))) ssh.connect(server, username=username, password=password) sftp = ssh.open_sftp() sftp.put(localpath, remotepath) sftp.close() ssh.close() (You would probably want to deal with unknown hosts, errors, creating any directories necessary, and so on)."
68477,70,Is there a way to send a file using POST from a Python script?,Send file using POST from a Python script,68502,68477,18,"Yes. You'd use the urllib2 module, and encode using the multipart/form-data content type. Here is some sample code to get you started -- it's a bit more than just file uploading, but you should be able to read through it and see how it works: user_agent = ""image uploader"" default_message = ""Image $current of $total"" import logging import os from os.path import abspath, isabs, isdir, isfile, join import random import string import sys import mimetypes import urllib2 import httplib import time import re def random_string (length): return ''.join (random.choice (string.letters) for ii in range (length + 1)) def encode_multipart_data (data, files): boundary = random_string (30) def get_content_type (filename): return mimetypes.guess_type (filename)[0] or 'application/octet-stream' def encode_field (field_name): return ('--' + boundary, 'Content-Disposition: form-data; name=""%s""' % field_name, '', str (data [field_name])) def encode_file (field_name): filename = files [field_name] return ('--' + boundary, 'Content-Disposition: form-data; name=""%s""; filename=""%s""' % (field_name, filename), 'Content-Type: %s' % get_content_type(filename), '', open (filename, 'rb').read ()) lines = [] for name in data: lines.extend (encode_field (name)) for name in files: lines.extend (encode_file (name)) lines.extend (('--%s--' % boundary, '')) body = '\r\n'.join (lines) headers = {'content-type': 'multipart/form-data; boundary=' + boundary, 'content-length': str (len (body))} return body, headers def send_post (url, data, files): req = urllib2.Request (url) connection = httplib.HTTPConnection (req.get_host ()) connection.request ('POST', req.get_selector (), *encode_multipart_data (data, files)) response = connection.getresponse () logging.debug ('response = %s', response.read ()) logging.debug ('Code: %s %s', response.status, response.reason) def make_upload_file (server, thread, delay = 15, message = None, username = None, email = None, password = None): delay = max (int (delay or '0'), 15) def upload_file (path, current, total): assert isabs (path) assert isfile (path) logging.debug ('Uploading %r to %r', path, server) message_template = string.Template (message or default_message) data = {'MAX_FILE_SIZE': '3145728', 'sub': '', 'mode': 'regist', 'com': message_template.safe_substitute (current = current, total = total), 'resto': thread, 'name': username or '', 'email': email or '', 'pwd': password or random_string (20),} files = {'upfile': path} send_post (server, data, files) logging.info ('Uploaded %r', path) rand_delay = random.randint (delay, delay + 5) logging.debug ('Sleeping for %.2f seconds------------------------------\n\n', rand_delay) time.sleep (rand_delay) return upload_file def upload_directory (path, upload_file): assert isabs (path) assert isdir (path) matching_filenames = [] file_matcher = re.compile (r'\.(?:jpe?g|gif|png)$', re.IGNORECASE) for dirpath, dirnames, filenames in os.walk (path): for name in filenames: file_path = join (dirpath, name) logging.debug ('Testing file_path %r', file_path) if file_matcher.search (file_path): matching_filenames.append (file_path) else: logging.info ('Ignoring non-image file %r', path) total_count = len (matching_filenames) for index, file_path in enumerate (matching_filenames): upload_file (file_path, index + 1, total_count) def run_upload (options, paths): upload_file = make_upload_file (**options) for arg in paths: path = abspath (arg) if isdir (path): upload_directory (path, upload_file) elif isfile (path): upload_file (path) else: logging.error ('No such path: %r' % path) logging.info ('Done!')"
68477,70,Is there a way to send a file using POST from a Python script?,Send file using POST from a Python script,68507,68477,1,This code might be of use to you
68477,70,Is there a way to send a file using POST from a Python script?,Send file using POST from a Python script,75158,68477,0,"You may also want to have a look at httplib2, with examples. I find using httplib2 is more concise than using the built-in HTTP modules."
68477,70,Is there a way to send a file using POST from a Python script?,Send file using POST from a Python script,75186,68477,59,"Blatant self-promotion: check out my poster module for python. It handles the multipart/form-data encoding, as well as supporting streaming uploads (so you don't have to load the entire file into memory before submitting the HTTP POST request)."
68477,70,Is there a way to send a file using POST from a Python script?,Send file using POST from a Python script,525193,68477,2,"Chris Atlee's poster library works really well for this (particularly the convenience function poster.encode.multipart_encode()). As a bonus, it supports streaming of large files without loading an entire file into memory. See also Python issue 3244."
68541,0,When trying to use libxml2 as myself I get an error saying the package cannot be found. If I run as as super user I am able to import fine. I have installed python25 and all libxml2 and libxml2-py25 related libraries via fink and own the entire path including the library. Any ideas why I'd still need to sudo?,libxml2-p25 on OS X 10.5 needs sudo?,69513,68541,3,Check your path (run 'echo $PATH')
68541,0,When trying to use libxml2 as myself I get an error saying the package cannot be found. If I run as as super user I am able to import fine. I have installed python25 and all libxml2 and libxml2-py25 related libraries via fink and own the entire path including the library. Any ideas why I'd still need to sudo?,libxml2-p25 on OS X 10.5 needs sudo?,70895,68541,0,"I would suspect the permissions on the library. Can you do a strace or similar to find out the filenames it's looking for, and then check the permissions on them?"
68541,0,When trying to use libxml2 as myself I get an error saying the package cannot be found. If I run as as super user I am able to import fine. I have installed python25 and all libxml2 and libxml2-py25 related libraries via fink and own the entire path including the library. Any ideas why I'd still need to sudo?,libxml2-p25 on OS X 10.5 needs sudo?,77114,68541,0,The path was the mistake. Thanks. I was looking at everything else to be wrong :-)
68630,101,Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements?,Are tuples more efficient than lists in Python?,68638,68630,1,"Tuples should be slightly more efficient and because of that, faster, than lists because they are immutable."
68630,101,Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements?,Are tuples more efficient than lists in Python?,68712,68630,131,"In general, you might expect tuples to be slightly faster. However you should definitely test your specific case (if the difference might impact the performance of your program -- remember ""premature optimization is the root of all evil""). Python makes this very easy: timeit is your friend. $ python -m timeit ""x=(1,2,3,4,5,6,7,8)"" 10000000 loops, best of 3: 0.0388 usec per loop $ python -m timeit ""x=[1,2,3,4,5,6,7,8]"" 1000000 loops, best of 3: 0.363 usec per loop and... $ python -m timeit -s ""x=(1,2,3,4,5,6,7,8)"" ""y=x[3]"" 10000000 loops, best of 3: 0.0938 usec per loop $ python -m timeit -s ""x=[1,2,3,4,5,6,7,8]"" ""y=x[3]"" 10000000 loops, best of 3: 0.0649 usec per loop So in this case, instantiation is almost an order of magnitude faster for the tuple, but item access is actually somewhat faster for the list! So if you're creating a few tuples and accessing them many many times, it may actually be faster to use lists instead. Of course if you want to change an item, the list will definitely be faster since you'd need to create an entire new tuple to change one item of it (since tuples are immutable)."
68630,101,Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements?,Are tuples more efficient than lists in Python?,68817,68630,88,"The dis module disassembles the byte code for a function and is useful to see the difference between tuples and lists. In this case, you can see that accessing an element generates identical code, but that assigning a tuple is much faster than assigning a list. &gt;&gt;&gt; def a(): ... x=[1,2,3,4,5] ... y=x[2] ... &gt;&gt;&gt; def b(): ... x=(1,2,3,4,5) ... y=x[2] ... &gt;&gt;&gt; import dis &gt;&gt;&gt; dis.dis(a) 2 0 LOAD_CONST 1 (1) 3 LOAD_CONST 2 (2) 6 LOAD_CONST 3 (3) 9 LOAD_CONST 4 (4) 12 LOAD_CONST 5 (5) 15 BUILD_LIST 5 18 STORE_FAST 0 (x) 3 21 LOAD_FAST 0 (x) 24 LOAD_CONST 2 (2) 27 BINARY_SUBSCR 28 STORE_FAST 1 (y) 31 LOAD_CONST 0 (None) 34 RETURN_VALUE &gt;&gt;&gt; dis.dis(b) 2 0 LOAD_CONST 6 ((1, 2, 3, 4, 5)) 3 STORE_FAST 0 (x) 3 6 LOAD_FAST 0 (x) 9 LOAD_CONST 2 (2) 12 BINARY_SUBSCR 13 STORE_FAST 1 (y) 16 LOAD_CONST 0 (None) 19 RETURN_VALUE"
68630,101,Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements?,Are tuples more efficient than lists in Python?,70968,68630,26,"Tuples, being immutable, are more memory efficient; lists, for efficiency, overallocate memory in order to allow appends without constant reallocs. So, if you want to iterate through a constant sequence of values in your code (eg for direction in 'up', 'right', 'down', 'left':), tuples are preferred, since such tuples are pre-calculated in compile time. Access speeds should be the same (they are both stored as contiguous arrays in the memory). But, alist.append(item) is much preferred to atuple+= (item,) when you deal with mutable data. Remember, tuples are intended to be treated as records without field names."
68630,101,Is there any performance difference between tuples and lists when it comes to instantiation and retrieval of elements?,Are tuples more efficient than lists in Python?,71295,68630,6,You should also consider the array module in the standard library if all the items in your list or tuple are of the same type. It can be faster and take less memory.
68645,1015,Is it possible to have static class variables or methods in python? What syntax is required to do this?,Static class variables in Python,68672,68645,1030,"Variables declared inside the class definition, but not inside a method are class or static variables: &gt;&gt;&gt; class MyClass: ... I = 3 ... &gt;&gt;&gt; MyClass.i 3 As @millerdev points out, this creates a class-level ""i"" variable, but this is distinct from any instance-level ""i"" variable, so you could have &gt;&gt;&gt; m = MyClass() &gt;&gt;&gt; m.i = 4 &gt;&gt;&gt; MyClass.i, m.i &gt;&gt;&gt; (3, 4) This is different from C++ and Java, but not so different from C#, where a static member can't be accessed using a reference to an instance. See what the Python tutorial has to say on the subject of classes and class objects. @Steve Johnson has already answered regarding static methods, also documented under ""Built-in Functions"" in the Python Library Reference. class C: @staticmethod def f(arg1, arg2, ...): ... @beidy recommends classmethods over staticmethod, as the method then receives the class type as the first argument, but I'm still a little fuzzy on the advantages of this approach over staticmethod. If you are too, then it probably doesn't matter."
68645,1015,Is it possible to have static class variables or methods in python? What syntax is required to do this?,Static class variables in Python,68747,68645,9,"Personally I would use a classmethod whenever I needed a static method. Mainly because I get the class as an argument. class myObj(object): def myMethod(cls) ... myMethod = classmethod(myMethod) or use a decorator class myObj(object): @classmethod def myMethod(cls) For static properties.. Its time you look up some python definition.. variable can always change. There are two types of them mutable and immutable.. Also, there are class attributes and instance attributes.. Nothing really like static attributes in the sense of java &amp; c++ Why use static method in pythonic sense, if it has no relation whatever to the class! If I were you, I'd either use classmethod or define the method independent from the class."
68645,1015,Is it possible to have static class variables or methods in python? What syntax is required to do this?,Static class variables in Python,68770,68645,5,"Static methods in python are called classmethods. Take a look at the following code class MyClass: def myInstanceMethod(self): print 'output from an instance method' @classmethod def myStaticMethod(cls): print 'output from a static method' MyClass.myInstanceMethod() Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: unbound method myInstanceMethod() must be called [...] MyClass.myStaticMethod() output from a static method Notice that when we call the method myInstanceMethod, we get an error. This is because it requires that method be called on an instance of this class. The method myStaticMethod is set as a classmethod using the decorator @classmethod. Just for kicks and giggles, we could call myInstanceMethod on the class by passing in an instance of the class, like so: &gt;&gt;&gt; MyClass.myInstanceMethod(MyClass()) output from an instance method"
68645,1015,Is it possible to have static class variables or methods in python? What syntax is required to do this?,Static class variables in Python,69067,68645,400,"@Blair Conrad said static variables declared inside the class definition, but not inside a method are class or ""static"" variables: &gt;&gt;&gt; class Test(object): ... I = 3 ... &gt;&gt;&gt; Test.i 3 There are a few gotcha's here. Carrying on from the example above: &gt;&gt;&gt; t = Test() &gt;&gt;&gt; t.i # static variable accessed via instance 3 &gt;&gt;&gt; t.i = 5 # but if we assign to the instance ... &gt;&gt;&gt; Test.i # we have not changed the static variable 3 &gt;&gt;&gt; t.i # we have overwritten Test.i on t by creating a new attribute t.i 5 &gt;&gt;&gt; Test.i = 6 # to change the static variable we do it by assigning to the class &gt;&gt;&gt; t.i 5 &gt;&gt;&gt; Test.i 6 &gt;&gt;&gt; u = Test() &gt;&gt;&gt; u.i 6 # changes to t do not affect new instances of Test # Namespaces are one honking great idea -- let's do more of those! &gt;&gt;&gt; Test.__dict__ {'i': 6, ...} &gt;&gt;&gt; t.__dict__ {'i': 5} &gt;&gt;&gt; u.__dict__ {} Notice how the instance variable t.i got out of sync with the ""static"" class variable when the attribute I was set directly on t. This is because I was re-bound within the t namespace, which is distinct from the Test namespace. If you want to change the value of a ""static"" variable, you must change it within the scope (or object) where it was originally defined. I put ""static"" in quotes because Python does not really have static variables in the sense that C++ and Java do. Although it doesn't say anything specific about static variables or methods, the Python tutorial has some relevant information on classes and class objects. @Steve Johnson also answered regarding static methods, also documented under ""Built-in Functions"" in the Python Library Reference. class Test(object): @staticmethod def f(arg1, arg2, ...): ... @beid also mentioned classmethod, which is similar to staticmethod. A classmethod's first argument is the class object. Example: class Test(object): I = 3 # class (or static) variable @classmethod def g(cls, arg): # here we can use 'cls' instead of the class name (Test) if arg &gt; cls.i: cls.i = arg # would the the same as Test.i = arg1"
68645,1015,Is it possible to have static class variables or methods in python? What syntax is required to do this?,Static class variables in Python,79840,68645,2,"To avoid any potential confusion, I would like to contrast static variables and immutable objects. Some primitive object types like integers, floats, strings, and touples are immutable in Python. This means that the object that is referred to by a given name cannot change if it is of one of the aforementioned object types. The name can be reassigned to a different object, but the object itself may not be changed. Making a variable static takes this a step further by disallowing the variable name to point to any object but that to which it currently points. (Note: this is a general software concept and not specific to Python; please see others' posts for information about implementing statics in Python)."
68645,1015,Is it possible to have static class variables or methods in python? What syntax is required to do this?,Static class variables in Python,81002,68645,19,"You can also add class variables to classes on the fly &gt;&gt;&gt; class X: ... pass ... &gt;&gt;&gt; X.bar = 0 &gt;&gt;&gt; x = X() &gt;&gt;&gt; x.bar 0 &gt;&gt;&gt; x.foo Traceback (most recent call last): File ""&lt;interactive input&gt;"", line 1, in &lt;module&gt; AttributeError: X instance has no attribute 'foo' &gt;&gt;&gt; X.foo = 1 &gt;&gt;&gt; x.foo 1 And class instances can change class variables class X: l = [] def __init__(self): self.l.append(1) print X().l print X().l &gt;python test.py [1] [1, 1]"
68774,30,I want to open a TCP client socket in Python. Do I have to go through all the low-level BSD create-socket-handle / connect-socket stuff or is there a simpler one-line way?,Best way to open a socket in Python,68796,68774,55,"Opening sockets in python is pretty simple. You really just need something like this: import socket sock = socket.socket() sock.connect((address, port)) and then you can send() and recv() like any other socket"
68774,30,I want to open a TCP client socket in Python. Do I have to go through all the low-level BSD create-socket-handle / connect-socket stuff or is there a simpler one-line way?,Best way to open a socket in Python,68892,68774,9,"For developing portable network programs of any sort in Python, Twisted is quite useful. One of its benefits is providing a convenient layer above low-level socket APIs."
68774,30,I want to open a TCP client socket in Python. Do I have to go through all the low-level BSD create-socket-handle / connect-socket stuff or is there a simpler one-line way?,Best way to open a socket in Python,68911,68774,13,"OK, this code worked s = socket.socket() s.connect((ip,port)) s.send(""my request\r"") print s.recv(256) s.close() It was quite difficult to work that out from the Python socket module documentation. So I'll accept The.Anti.9's answer."
69645,54,"I want to take a screenshot via a python script and unobtrusively save it. I'm only interested in the Linux solution, and should support any X based environment.",Take a screenshot via a python script. [Linux],70051,69645,3,"A short search turned up gtkShots looks like it might help you, as it's a GPLed python screenshot program, so should have what you need in it."
69645,54,"I want to take a screenshot via a python script and unobtrusively save it. I'm only interested in the Linux solution, and should support any X based environment.",Take a screenshot via a python script. [Linux],70237,69645,7,"import ImageGrab img = ImageGrab.grab() img.save('test.jpg','JPEG') this requires Python Imaging Library"
69645,54,"I want to take a screenshot via a python script and unobtrusively save it. I'm only interested in the Linux solution, and should support any X based environment.",Take a screenshot via a python script. [Linux],769221,69645,17,"This one works on X11, and perhaps on Windows too (someone, please check). Needs PyQt4: import sys from PyQt4.QtGui import QPixmap, QApplication app = QApplication(sys.argv) QPixmap.grabWindow(QApplication.desktop().winId()).save('test.png', 'png')"
69645,54,"I want to take a screenshot via a python script and unobtrusively save it. I'm only interested in the Linux solution, and should support any X based environment.",Take a screenshot via a python script. [Linux],782768,69645,53,"This works without having to use scrot or ImageMagick. import gtk.gdk w = gtk.gdk.get_default_root_window() sz = w.get_size() print ""The size of the window is %d x %d"" % sz pb = gtk.gdk.Pixbuf(gtk.gdk.COLORSPACE_RGB,False,8,sz[0],sz[1]) pb = pb.get_from_drawable(w,w.get_colormap(),0,0,0,0,sz[0],sz[1]) if (pb != None): pb.save(""screenshot.png"",""png"") print ""Screenshot saved to screenshot.png."" else: print ""Unable to get the screenshot."" Borrowed from http://ubuntuforums.org/showpost.php?p=2681009&amp;postcount=5"
69979,1,"My university doesn't support the POST cgi method (I know, it's crazy), and I was hoping to be able to have a system where a user can have a username and password and log in securely. Is this even possible? If it's not, how would you do it with POST? Just out of curiosity. Cheers!",Can I implement a web user authentication system in python without POST?,69989,69979,1,"You could use HTTP Authentication, if supported. You'd have to add SSL, as all methods, POST, GET and HTTP Auth (well, except Digest HHTP authentication) send plaintext. GET is basically just like POST, it just has a limit on the amount of data you can send which is usually a lot smaller than POST and a semantic difference which makes GET not a good candidate from that point of view, even if technically they both can do it. As for examples, what are you using? There are many choices in Python, like the cgi module or some framework like Django, CherryPy, and so on"
69979,1,"My university doesn't support the POST cgi method (I know, it's crazy), and I was hoping to be able to have a system where a user can have a username and password and log in securely. Is this even possible? If it's not, how would you do it with POST? Just out of curiosity. Cheers!",Can I implement a web user authentication system in python without POST?,69995,69979,5,"You can actually do it all with GET methods. However, you'll want to use a full challenge response protocol for the logins. (You can hash on the client side using javascript. You just need to send out a unique challenge each time.) You'll also want to use SSL to ensure that no one can see the strings as they go across. In some senses there's no real security difference between GET and POST requests as they both go across in plaintext, in other senses and in practice... GET is are a hell of a lot easier to intercept and is all over most people's logs and your web browser's history. :) (Or as suggested by the other posters, use a different method entirely like HTTP auth, digest auth or some higher level authentication scheme like AD, LDAP, kerberos or shib. However I kinda assumed that if you didn't have POST you wouldn't have these either.)"
69979,1,"My university doesn't support the POST cgi method (I know, it's crazy), and I was hoping to be able to have a system where a user can have a username and password and log in securely. Is this even possible? If it's not, how would you do it with POST? Just out of curiosity. Cheers!",Can I implement a web user authentication system in python without POST?,70003,69979,0,"With a bit of JavaScript, you could have the client hash the entered password and a server-generated nonce, and use that in an HTTP GET."
69979,1,"My university doesn't support the POST cgi method (I know, it's crazy), and I was hoping to be able to have a system where a user can have a username and password and log in securely. Is this even possible? If it's not, how would you do it with POST? Just out of curiosity. Cheers!",Can I implement a web user authentication system in python without POST?,70025,69979,-1,"Logging in securely is very subjective. Full 'security' is not easy to achieve (if at all possible...debatable). However, you can come close. If POST is not an option, maybe you can use a directory security method such as .htaccess or windows authentication depending on what system you're on. Both of the above will get you the pop-up window that allows for a username and password to be entered. To use POST as the method to send the login credentials, you'd just use an HTML form with method=""post"" and retrieve the information from, say, a PHP or ASP page, using the $_POST['varname'] method in PHP or the request.form(""varname"") method in ASP. From the PHP or ASP page, as an example, you can do a lookup in a database of users, to see if that username/password combination exists, and if so, redirect them to the appropriate page. As reference, use http://www.w3schools.com/ASP/showasp.asp?filename=demo_simpleform for the HTML/ASP portion"
69979,1,"My university doesn't support the POST cgi method (I know, it's crazy), and I was hoping to be able to have a system where a user can have a username and password and log in securely. Is this even possible? If it's not, how would you do it with POST? Just out of curiosity. Cheers!",Can I implement a web user authentication system in python without POST?,70145,69979,0,"A good choice: HTTP Digest authentication Harder to pull off well, but an option: Client-side hashing with Javascript"
69979,1,"My university doesn't support the POST cgi method (I know, it's crazy), and I was hoping to be able to have a system where a user can have a username and password and log in securely. Is this even possible? If it's not, how would you do it with POST? Just out of curiosity. Cheers!",Can I implement a web user authentication system in python without POST?,204152,69979,0,"Javascript is the best option in this case. Along with the request for the username and password, it sends a unique random string. You can then use a javascript md5 library to generate a hashed password, by combining the random string and the password [pwhash = md5(randomstring+password)]. The javascript then instantiates the call to http://SERVER/login.cgi?username=TheUsername&amp;random=RANDOMSTRING&amp;pwhash=0123456789abcdef0123456789abcdef The server must then do two things: Check if the random string has EVER been used before, and it if has, deny the request. (very important for security) Lookup the plaintext password for username, and do md5(randomstring+password). If that matches what the user supplied in the URL as a pwhash, then you know it's the user. The reason you check if the random string has ever been used before is to stop a repeat attack. If somebody is able to see the network traffic or the browser history or logs, then they could simply log in again using the same URL, and it doesn't matter whether they know the original password or not. I also recommend putting ""Pragma: no-cache"" and ""Cache-Control: no-cache"" at the top of the headers returned by the CGI script, just so that the authenticated session is not stored in the browser's or your ISPs web cache. An even more secure solution would be using proper encryption and Challenge-Response. You tell the server your username, the server sends back a Challenge (some random string encrypted with your password), and you tell the server what the random string was. If you're able to tell the server, then obviously you have the password and are who you say you are! Kerberos does it this way, but quite a lot more carefully to prevent all sorts of attacks."
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,70555,70528,116,"From http://www.faqs.org/docs/diveintopython/fileinfo_private.html Strictly speaking, private methods are accessible outside their class, just not easily accessible. Nothing in Python is truly private; internally, the names of private methods and attributes are mangled and unmangled on the fly to make them seem inaccessible by their given names. You can access the __parse method of the MP3FileInfo class by the name _MP3FileInfo__parse. Acknowledge that this is interesting, then promise to never, ever do it in real code. Private methods are private for a reason, but like many other things in Python, their privateness is ultimately a matter of convention, not force."
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,70562,70528,24,"It's not like you absolutly can't get around privateness of members in any language (pointer arithmetics in C++, Reflections in .NET/Java). The point is that you get an error if you try to call the private method by accident. But if you want to shoot yourself in the foot, go ahead and do it. Edit: You don't try to secure your stuff by OO-encapsulation, do you?"
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,70567,70528,9,"The class.__stuff naming convention lets the programmer know he isn't meant to access __stuff from outside. The name mangling makes it unlikely anyone will do it by accident. True, you still can work around this, it's even easier than in other languages (which BTW also let you do this), but no Python programmer would do this if he cares about encapsulation."
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,70583,70528,10,"Its just one of those language design choices. On some level they are justified. They make it so you need to go pretty far out of your way to try and call the method, and if you really need it that badly, you must have a pretty good reason! Debugging hooks and testing come to mind as possible applications, used responsibly of course."
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,70736,70528,66,"The phrase commonly used is ""we're all consenting adults here"". By prepending a single underscore (don't expose) or double underscore (hide), you're telling the user of your class that you intend the member to be 'private' in some way. However, you're trusting everyone else to behave responsibly and respect that, unless they have a compelling reason not to (e.g. debuggers, code completion). If you truly must have something that is private, then you can implement it in an extension (e.g. in C for CPython). In most cases, however, you simply learn the Pythonic way of doing things."
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,70900,70528,354,"The name scrambling is used to ensure that subclasses don't accidentally override the private methods and attributes of their superclasses. It's not designed to prevent deliberate access from outside. For example: &gt;&gt;&gt; class Foo(object): ... def __init__(self): ... self.__baz = 42 ... def foo(self): ... print self.__baz ... &gt;&gt;&gt; class Bar(Foo): ... def __init__(self): ... super(Bar, self).__init__() ... self.__baz = 21 ... def bar(self): ... print self.__baz ... &gt;&gt;&gt; x = Bar() &gt;&gt;&gt; x.foo() 42 &gt;&gt;&gt; x.bar() 21 &gt;&gt;&gt; print x.__dict__ {'_Bar__baz': 21, '_Foo__baz': 42} Of course, it breaks down if two different classes have the same name."
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,80000,70528,11,"Similar behavior exists when module attribute names begin with a single underscore (e.g. _foo). Module attributes named as such will not be copied into an importing module when using the from* method, e.g.: from bar import * However, this is a convention and not a language constraint. These are not private attributes; they can be referenced and manipulated by any importer. Some argue that because of this, Python can not implement true encapsulation."
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,1949874,70528,100,"When I first came from Java to Python I hated this. It scared me to death. Today it might just be the one thing I love most about Python. I love being on a platform, where people trust each other and don't feel like they need to build impenetrable walls around their code. In strongly encapsulated languages, if an API has a bug, and you have figured out what goes wrong, you may still be unable to work around it because the needed method is private. In Python the attitude is: ""sure"". If you think you understand the situation, perhaps you have even read it, then all we can say is ""good luck!"". Remember, encapsulation is not even weakly related to ""security"", or keeping the kids off the lawn. It is just another pattern that should be used to make a code base easier to understand."
70528,344,"Python gives us the ability to create 'private' methods and variables within a class by prepending double underscores to the name, like this: __myPrivateMethod(). How, then, can one explain this >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() >>> obj.myPublicMethod() public method >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] >>> obj._MyClass__myPrivateMethod() this is private!! What's the deal?! I'll explain this a little for those who didn't quite get that. >>> class MyClass: ... def myPublicMethod(self): ... print 'public method' ... def __myPrivateMethod(self): ... print 'this is private!!' ... >>> obj = MyClass() What I did there is create a class with a public method and a private method and instantiate it. Next, I call its public method. >>> obj.myPublicMethod() public method Next, I try and call its private method. >>> obj.__myPrivateMethod() Traceback (most recent call last): File """", line 1, in AttributeError: MyClass instance has no attribute '__myPrivateMethod' Everything looks good here; we're unable to call it. It is, in fact, 'private'. Well, actually it isn't. Running dir() on the object reveals a new magical method that python creates magically for all of your 'private' methods. >>> dir(obj) ['_MyClass__myPrivateMethod', '__doc__', '__module__', 'myPublicMethod'] This new method's name is always an underscore, followed by the class name, followed by the method name. >>> obj._MyClass__myPrivateMethod() this is private!! So much for encapsulation, eh? In any case, I'd always heard Python doesn't support encapsulation, so why even try? What gives?",Why are Python's 'private' methods not actually private?,3147548,70528,185,"Example of private function import re import inspect class MyClass : def __init__(self) : pass def private_function ( self ) : try : function_call = inspect.stack()[1][4][0].strip() # See if the function_call has ""self."" in the begining matched = re.match( '^self\.', function_call ) if not matched : print 'This is Private Function, Go Away' return except : print 'This is Private Function, Go Away' return # This is the real Function, only accessible inside class # print 'Hey, Welcome in to function' def public_function ( self ) : # I can call private function from inside the class self.private_function() ### End ###"
70653,5,"I'm looking for a python library that will help me to create an authentication method for a desktop app I'm writing. I have found several method in web framework such as django or turbogears. I just want a kind of username-password association stored into a local file. I can write it by myself, but I'm really it already exists and will be a better solution (I'm not very fluent with encryption).",Python Authentication API,70712,70653,3,"I think you should make your own authentication method as you can make it fit your application best but use a library for encryption, such as pycrypto or some other more lightweight library. btw, if you need windows binaries for pycrypto you can get them here"
70653,5,"I'm looking for a python library that will help me to create an authentication method for a desktop app I'm writing. I have found several method in web framework such as django or turbogears. I just want a kind of username-password association stored into a local file. I can write it by myself, but I'm really it already exists and will be a better solution (I'm not very fluent with encryption).",Python Authentication API,70832,70653,0,"If you want simple, then use a dictionary where the keys are the usernames and the values are the passwords (encrypted with something like SHA256). Pickle it to/from disk (as this is a desktop application, I'm assuming the overhead of keeping it in memory will be negligible). For example: import pickle import hashlib # Load from disk pwd_file = ""mypasswords"" if os.path.exists(pwd_file): pwds = pickle.load(open(pwd_file, ""rb"")) else: pwds = {} # Save to disk pickle.dump(pwds, open(pwd_file, ""wb"")) # Add password pwds[username] = hashlib.sha256(password).hexdigest() # Check password if pwds[username] = hashlib.sha256(password).hexdigest(): print ""Good"" else: print ""No match"" Note that this stores the passwords as a hash - so they are essentially unrecoverable. If you lose your password, you'd get allocated a new one, not get the old one back."
70653,5,"I'm looking for a python library that will help me to create an authentication method for a desktop app I'm writing. I have found several method in web framework such as django or turbogears. I just want a kind of username-password association stored into a local file. I can write it by myself, but I'm really it already exists and will be a better solution (I'm not very fluent with encryption).",Python Authentication API,70915,70653,0,"Treat the following as pseudo-code.. try: from hashlib import sha as hasher except ImportError: # You could probably exclude the try/except bit, # but older Python distros dont have hashlib. try: import sha as hasher except ImportError: import md5 as hasher def hash_password(password): """"""Returns the hashed version of a string """""" return hasher.new( str(password) ).hexdigest() def load_auth_file(path): """"""Loads a comma-seperated file. Important: make sure the username doesn't contain any commas! """""" # Open the file, or return an empty auth list. try: f = open(path) except IOError: print ""Warning: auth file not found"" return {} ret = {} for line in f.readlines(): split_line = line.split("","") if len(split_line) &gt; 2: print ""Warning: Malformed line:"" print split_line continue # skip it.. else: username, password = split_line ret[username] = password #end if #end for return ret def main(): auth_file = ""/home/blah/.myauth.txt"" u = raw_input(""Username:"") p = raw_input(""Password:"") # getpass is probably better.. if auth_file.has_key(u.strip()): if auth_file[u] == hash_password(p): # The hash matches the stored one print ""Welcome, sir!"" Instead of using a comma-separated file, I would recommend using SQLite3 (which could be used for other settings and such. Also, remember that this isn't very secure - if the application is local, evil users could probably just replace the ~/.myauth.txt file.. Local application auth is difficult to do well. You'll have to encrypt any data it reads using the users password, and generally be very careful."
70653,5,"I'm looking for a python library that will help me to create an authentication method for a desktop app I'm writing. I have found several method in web framework such as django or turbogears. I just want a kind of username-password association stored into a local file. I can write it by myself, but I'm really it already exists and will be a better solution (I'm not very fluent with encryption).",Python Authentication API,80008,70653,9,"dbr said: def hash_password(password): """"""Returns the hashed version of a string """""" return hasher.new( str(password) ).hexdigest() This is a really insecure way to hash passwords. You don't want to do this. If you want to know why read the Bycrypt Paper by the guys who did the password hashing system for OpenBSD. Additionally if want a good discussion on how passwords are broken check out this interview with the author of Jack the Ripper (the popular unix password cracker). Now B-Crypt is great but I have to admit I don't use this system because I didn't have the EKS-Blowfish algorithm available and did not want to implement it my self. I use a slightly updated version of the FreeBSD system which I will post below. The gist is this. Don't just hash the password. Salt the password then hash the password and repeat 10,000 or so times. If that didn't make sense here is the code: #note I am using the Python Cryptography Toolkit from Crypto.Hash import SHA256 HASH_REPS = 50000 def __saltedhash(string, salt): sha256 = SHA256.new() sha256.update(string) sha256.update(salt) for x in xrange(HASH_REPS): sha256.update(sha256.digest()) if x % 10: sha256.update(salt) return sha256 def saltedhash_bin(string, salt): """"""returns the hash in binary format"""""" return __saltedhash(string, salt).digest() def saltedhash_hex(string, salt): """"""returns the hash in hex format"""""" return __saltedhash(string, salt).hexdigest() For deploying a system like this the key thing to consider is the HASH_REPS constant. This is the scalable cost factor in this system. You will need to do testing to determine what is the exceptable amount of time you want to wait for each hash to be computed versus the risk of an offline dictionary based attack on your password file. Security is hard, and the method I present is not the best way to do this, but it is significantly better than a simple hash. Additionally it is dead simple to implement. So even you don't choose a more complex solution this isn't the worst out there. hope this helps, Tim"
70653,5,"I'm looking for a python library that will help me to create an authentication method for a desktop app I'm writing. I have found several method in web framework such as django or turbogears. I just want a kind of username-password association stored into a local file. I can write it by myself, but I'm really it already exists and will be a better solution (I'm not very fluent with encryption).",Python Authentication API,1992484,70653,0,"import hashlib import random def gen_salt(): salt_seed = str(random.getrandbits(128)) salt = hashlib.sha256(salt_seed).hexdigest() return salt def hash_password(password, salt): h = hashlib.sha256() h.update(salt) h.update(password) return h.hexdigest() #in datastore password_stored_hash = ""41e2282a9c18a6c051a0636d369ad2d4727f8c70f7ddeebd11e6f49d9e6ba13c"" salt_stored = ""fcc64c0c2bc30156f79c9bdcabfadcd71030775823cb993f11a4e6b01f9632c3"" password_supplied = 'password' password_supplied_hash = hash_password(password_supplied, salt_stored) authenticated = (password_supplied_hash == password_stored_hash) print authenticated #True see also gae-authenticate-to-a-3rd-party-site"
70681,2,"Is there a way to make psycopg and postgres deal with errors without having to reestablish the connection, like MySQLdb? The commented version of the below works with MySQLdb, the comments make it work with Psycopg2: results = {'felicitas': 3, 'volumes': 8, 'acillevs': 1, 'mosaics': 13, 'perat\xe9': 1, 'representative': 6....} for item in sorted(results): try: cur.execute(""""""insert into resultstab values ('%s', %d)"""""" % (item, results[item])) print item, results[item] # conn.commit() except: # conn=psycopg2.connect(user='bvm', database='wdb', password='redacted') # cur=conn.cursor() print 'choked on', item continue This must slow things down, could anyone give a suggestion for passing over formatting errors? Obviously the above chokes on apostrophes, but is there a way to make it pass over that without getting something like the following, or committing, reconnecting, etc?: agreement 19 agreements 1 agrees 1 agrippa 9 choked on agrippa's choked on agrippina",Python Psycopg error and connection handling (v MySQLdb),70896,70681,2,"I think your code looks like this at the moment: l = ""a very long ... text"".split() for e in l: cursor.execute(""INSERT INTO yourtable (yourcol) VALUES ('"" + e + ""')"") So try to change it into something like this: l = ""a very long ... text"".split() for e in l: cursor.execute(""INSERT INTO yourtable (yourcol) VALUES (%s)"", (e,)) so never forget to pass your parameters in the parameters list, then you don't have to care about your quotes and stuff, it is also more secure. You can read more about it at http://www.python.org/dev/peps/pep-0249/ also have a look there at the method .executemany() which is specially designed to execute the same statement multiple times."
70681,2,"Is there a way to make psycopg and postgres deal with errors without having to reestablish the connection, like MySQLdb? The commented version of the below works with MySQLdb, the comments make it work with Psycopg2: results = {'felicitas': 3, 'volumes': 8, 'acillevs': 1, 'mosaics': 13, 'perat\xe9': 1, 'representative': 6....} for item in sorted(results): try: cur.execute(""""""insert into resultstab values ('%s', %d)"""""" % (item, results[item])) print item, results[item] # conn.commit() except: # conn=psycopg2.connect(user='bvm', database='wdb', password='redacted') # cur=conn.cursor() print 'choked on', item continue This must slow things down, could anyone give a suggestion for passing over formatting errors? Obviously the above chokes on apostrophes, but is there a way to make it pass over that without getting something like the following, or committing, reconnecting, etc?: agreement 19 agreements 1 agrees 1 agrippa 9 choked on agrippa's choked on agrippina",Python Psycopg error and connection handling (v MySQLdb),463862,70681,2,"First of all you should let psycopg do the escaping for you by passing to the execute() method the parameters instead of doing the formatting yourself with '%'. That is: cur.execute(""insert into resultstab values (%s, %s)"", (item, results[item])) Note how we use ""%s"" as a marker even for non-string values and avoid quotes in the query. psycopg will do all the quoting for us. Then, if you want to ignore some errors, just rollback and continue. try: cur.execute(""SELECT this is an error"") except: conn.rollback() That's all. psycopg will rollback and start a new transaction on your next statement."
70797,222,How do I have a Python script that can accept user input (assuming this is possible) and how do I make it read in arguments if run from the command line?,Python: user input and commandline arguments,70814,70797,296,"var = raw_input(""Please enter something: "") print ""you entered"", var"
70797,222,How do I have a Python script that can accept user input (assuming this is possible) and how do I make it read in arguments if run from the command line?,Python: user input and commandline arguments,70818,70797,22,The best way to process command line arguments is the argparse module. Use raw_input() to get user input. If you import the readline module your users will have line editing and history.
70797,222,How do I have a Python script that can accept user input (assuming this is possible) and how do I make it read in arguments if run from the command line?,Python: user input and commandline arguments,70833,70797,182,"To read user input you can try the cmd module for easily creating a mini-command line interpreter (with help texts and autocompletion) and raw_input for less fancy stuff (just reading a line of text from the user). Command line inputs are in sys.argv. Try this in your script for Python 2: import sys print sys.argv For Python 3: import sys print(sys.argv) Since print has changed from a keyword in Python 2 into a function call in Python 3. There are two modules for parsing command line options: optparse and getopt. If you just want to input files to your script, behold the power of fileinput. The Python library reference is your friend."
70797,222,How do I have a Python script that can accept user input (assuming this is possible) and how do I make it read in arguments if run from the command line?,Python: user input and commandline arguments,70841,70797,5,"Use 'raw_input' for input from a console/terminal. if you just want a command line argument like a file name or something e.g. $ python my_prog.py file_name.txt then you can use sys.argv... import sys print sys.argv sys.argv is a list where 0 is the program name, so in the above example sys.argv[1] would be ""file_name.txt"" If you want to have full on command line options use the optparse module. Pev"
70797,222,How do I have a Python script that can accept user input (assuming this is possible) and how do I make it read in arguments if run from the command line?,Python: user input and commandline arguments,70869,70797,10,"Careful not to use the input function, unless you know what you're doing. Unlike raw_input, input will accept any python expression, so it's kinda like eval"
70797,222,How do I have a Python script that can accept user input (assuming this is possible) and how do I make it read in arguments if run from the command line?,Python: user input and commandline arguments,3427325,70797,5,"As of Python 3.2 2.7, there is now argparse for processing command line arguments."
71151,7,"Using the Python Documentation I found the HTML parser but I have no idea which library to import to use it, how do I find this out (bearing in mind it doesn't say on the page).",HTML parser in Python,71161,71151,12,"Try: import HTMLParser In Python 3.0, the HTMLParser module has been renamed to html.parser you can check about this here Python 3.0 import html.parser Python 2.2 and above import HTMLParser"
71151,7,"Using the Python Documentation I found the HTML parser but I have no idea which library to import to use it, how do I find this out (bearing in mind it doesn't say on the page).",HTML parser in Python,71168,71151,1,"There's a link to an example on the bottom of (http://docs.python.org/2/library/htmlparser.html) , it just doesn't work with the original python or python3. It has to be python2 as it says on the top."
71151,7,"Using the Python Documentation I found the HTML parser but I have no idea which library to import to use it, how do I find this out (bearing in mind it doesn't say on the page).",HTML parser in Python,71174,71151,22,"You probably really want BeautifulSoup, check the link for an example. But in any case &gt;&gt;&gt; import HTMLParser &gt;&gt;&gt; h = HTMLParser.HTMLParser() &gt;&gt;&gt; h.feed('&lt;html&gt;&lt;/html&gt;') &gt;&gt;&gt; h.get_starttag_text() '&lt;html&gt;' &gt;&gt;&gt; h.close()"
71151,7,"Using the Python Documentation I found the HTML parser but I have no idea which library to import to use it, how do I find this out (bearing in mind it doesn't say on the page).",HTML parser in Python,71176,71151,4,I would recommend using Beautiful Soup module instead and it has good documentation.
71151,7,"Using the Python Documentation I found the HTML parser but I have no idea which library to import to use it, how do I find this out (bearing in mind it doesn't say on the page).",HTML parser in Python,71186,71151,1,For real world HTML processing I'd recommend BeautifulSoup. It is great and takes away much of the pain. Installation is easy.
71151,7,"Using the Python Documentation I found the HTML parser but I have no idea which library to import to use it, how do I find this out (bearing in mind it doesn't say on the page).",HTML parser in Python,71614,71151,4,"You should also look at html5lib for Python as it tries to parse HTML in a way that very much resembles what web browsers do, especially when dealing with invalid HTML (which is more than 90% of today's web)."
71151,7,"Using the Python Documentation I found the HTML parser but I have no idea which library to import to use it, how do I find this out (bearing in mind it doesn't say on the page).",HTML parser in Python,72100,71151,3,"I don't recommend BeautifulSoup if you want speed. lxml is much, much faster, and you can fall back in lxml's BS soupparser if the default parser doesn't work."
71151,7,"Using the Python Documentation I found the HTML parser but I have no idea which library to import to use it, how do I find this out (bearing in mind it doesn't say on the page).",HTML parser in Python,82117,71151,4,"You may be interested in lxml. It is a separate package and has C components, but is the fastest. It has also very nice API, allowing you to easily list links in HTML documents, or list forms, sanitize HTML, and more. It also has capabilities to parse not well-formed HTML (it's configurable)."
71817,2,"The problem: I have a class which contains a template method execute which calls another method _execute. Subclasses are supposed to overwrite _execute to implement some specific functionality. This functionality should be documented in the docstring of _execute. Advanced users can create their own subclasses to extend the library. However, another user dealing with such a subclass should only use execute, so he won't see the correct docstring if he uses help(execute). Therefore it would be nice to modify the base class in such a way that in a subclass the docstring of execute is automatically replaced with that of _execute. Any ideas how this might be done? I was thinking of metaclasses to do this, to make this completely transparent to the user.",Using the docstring from one method to automatically overwrite that of another method,72126,71817,0,"Well the doc-string is stored in __doc__ so it wouldn't be too hard to re-assign it based on the doc-string of _execute after the fact. Basically: class MyClass(object): def execute(self): '''original doc-string''' self._execute() class SubClass(MyClass): def _execute(self): '''sub-class doc-string''' pass # re-assign doc-string of execute def execute(self,*args,**kw): return MyClass.execute(*args,**kw) execute.__doc__=_execute.__doc__ Execute has to be re-declared to that the doc string gets attached to the version of execute for the SubClass and not for MyClass (which would otherwise interfere with other sub-classes). That's not a very tidy way of doing it, but from the POV of the user of a library it should give the desired result. You could then wrap this up in a meta-class to make it easier for people who are sub-classing."
71817,2,"The problem: I have a class which contains a template method execute which calls another method _execute. Subclasses are supposed to overwrite _execute to implement some specific functionality. This functionality should be documented in the docstring of _execute. Advanced users can create their own subclasses to extend the library. However, another user dealing with such a subclass should only use execute, so he won't see the correct docstring if he uses help(execute). Therefore it would be nice to modify the base class in such a way that in a subclass the docstring of execute is automatically replaced with that of _execute. Any ideas how this might be done? I was thinking of metaclasses to do this, to make this completely transparent to the user.",Using the docstring from one method to automatically overwrite that of another method,72192,71817,2,"Is there a reason you can't override the base class's execute function directly? class Base(object): def execute(self): ... class Derived(Base): def execute(self): """"""Docstring for derived class"""""" Base.execute(self) ...stuff specific to Derived... If you don't want to do the above: Method objects don't support writing to the __doc__ attribute, so you have to change __doc__ in the actual function object. Since you don't want to override the one in the base class, you'd have to give each subclass its own copy of execute: class Derived(Base): def execute(self): return Base.execute(self) class _execute(self): """"""Docstring for subclass"""""" ... execute.__doc__= _execute.__doc__ but this is similar to a roundabout way of redefining execute..."
71817,2,"The problem: I have a class which contains a template method execute which calls another method _execute. Subclasses are supposed to overwrite _execute to implement some specific functionality. This functionality should be documented in the docstring of _execute. Advanced users can create their own subclasses to extend the library. However, another user dealing with such a subclass should only use execute, so he won't see the correct docstring if he uses help(execute). Therefore it would be nice to modify the base class in such a way that in a subclass the docstring of execute is automatically replaced with that of _execute. Any ideas how this might be done? I was thinking of metaclasses to do this, to make this completely transparent to the user.",Using the docstring from one method to automatically overwrite that of another method,72596,71817,4,"Well, if you don't mind copying the original method in the subclass, you can use the following technique. import new def copyfunc(func): return new.function(func.func_code, func.func_globals, func.func_name, func.func_defaults, func.func_closure) class Metaclass(type): def __new__(meta, name, bases, attrs): for key in attrs.keys(): if key[0] == '_': skey = key[1:] for base in bases: original = getattr(base, skey, None) if original is not None: copy = copyfunc(original) copy.__doc__ = attrs[key].__doc__ attrs[skey] = copy break return type.__new__(meta, name, bases, attrs) class Class(object): __metaclass__ = Metaclass def execute(self): '''original doc-string''' return self._execute() class Subclass(Class): def _execute(self): '''sub-class doc-string''' pass"
71817,2,"The problem: I have a class which contains a template method execute which calls another method _execute. Subclasses are supposed to overwrite _execute to implement some specific functionality. This functionality should be documented in the docstring of _execute. Advanced users can create their own subclasses to extend the library. However, another user dealing with such a subclass should only use execute, so he won't see the correct docstring if he uses help(execute). Therefore it would be nice to modify the base class in such a way that in a subclass the docstring of execute is automatically replaced with that of _execute. Any ideas how this might be done? I was thinking of metaclasses to do this, to make this completely transparent to the user.",Using the docstring from one method to automatically overwrite that of another method,72785,71817,0,"I agree that the simplest, most Pythonic way of approaching this is to simply redefine execute in your subclasses and have it call the execute method of the base class: class Sub(Base): def execute(self): """"""New docstring goes here"""""" return Base.execute(self) This is very little code to accomplish what you want; the only downside is that you must repeat this code in every subclass that extends Base. However, this is a small price to pay for the behavior you want. If you want a sloppy and verbose way of making sure that the docstring for execute is dynamically generated, you can use the descriptor protocol, which would be significantly less code than the other proposals here. This is annoying because you can't just set a descriptor on an existing function, which means that execute must be written as a separate class with a __call__ method. Here's the code to do this, but keep in mind that my above example is much simpler and more Pythonic: class Executor(object): __doc__ = property(lambda self: self.inst._execute.__doc__) def __call__(self): return self.inst._execute() class Base(object): execute = Executor() class Sub(Base): def __init__(self): self.execute.inst = self def _execute(self): """"""Actually does something!"""""" return ""Hello World!"" spam = Sub() print spam.execute.__doc__ # prints ""Actually does something!"" help(spam) # the execute method says ""Actually does something!"""
71817,2,"The problem: I have a class which contains a template method execute which calls another method _execute. Subclasses are supposed to overwrite _execute to implement some specific functionality. This functionality should be documented in the docstring of _execute. Advanced users can create their own subclasses to extend the library. However, another user dealing with such a subclass should only use execute, so he won't see the correct docstring if he uses help(execute). Therefore it would be nice to modify the base class in such a way that in a subclass the docstring of execute is automatically replaced with that of _execute. Any ideas how this might be done? I was thinking of metaclasses to do this, to make this completely transparent to the user.",Using the docstring from one method to automatically overwrite that of another method,73473,71817,1,"Look at the functools.wraps() decorator; it does all of this, but I don't know offhand if you can get it to run in the right context"
72393,6,"A tutorial I have on Regex in python explains how to use the re module in python, I wanted to grab the URL out of an A tag so knowing Regex I wrote the correct expression and tested it in my regex testing app of choice and ensured it worked. When placed into python it failed. After much head scratching I found out the issue, it automatically expects your pattern to be at the start of the string. I have found a fix but I would like to know how to change: regex = "".*(a_regex_of_pure_awesomeness)"" into regex = ""a_regex_of_pure_awesomeness"" Okay, it's a standard URL regex but I wanted to avoid any potential confusion about what I wanted to get rid of and possibly pretend to be funny.","Python and ""re""",72449,72393,1,"Are you using the re.match() or re.search() method? My understanding is that re.match() assumes a ""^"" at the begining of your expression and will only search at the beginning of the text, while re.search() acts more like the Perl regular expressions and will only match the beginning of the text if you include a ""^"" at the beginning of your expression. Hope that helps."
72393,6,"A tutorial I have on Regex in python explains how to use the re module in python, I wanted to grab the URL out of an A tag so knowing Regex I wrote the correct expression and tested it in my regex testing app of choice and ensured it worked. When placed into python it failed. After much head scratching I found out the issue, it automatically expects your pattern to be at the start of the string. I have found a fix but I would like to know how to change: regex = "".*(a_regex_of_pure_awesomeness)"" into regex = ""a_regex_of_pure_awesomeness"" Okay, it's a standard URL regex but I wanted to avoid any potential confusion about what I wanted to get rid of and possibly pretend to be funny.","Python and ""re""",72470,72393,19,"In Python, there's a distinction between ""match"" and ""search""; match only looks for the pattern at the start of the string, and search looks for the pattern starting at any location within the string. Python regex docs Matching vs searching"
72393,6,"A tutorial I have on Regex in python explains how to use the re module in python, I wanted to grab the URL out of an A tag so knowing Regex I wrote the correct expression and tested it in my regex testing app of choice and ensured it worked. When placed into python it failed. After much head scratching I found out the issue, it automatically expects your pattern to be at the start of the string. I have found a fix but I would like to know how to change: regex = "".*(a_regex_of_pure_awesomeness)"" into regex = ""a_regex_of_pure_awesomeness"" Okay, it's a standard URL regex but I wanted to avoid any potential confusion about what I wanted to get rid of and possibly pretend to be funny.","Python and ""re""",72501,72393,3,"&gt;&gt;&gt; import re &gt;&gt;&gt; pattern = re.compile(""url"") &gt;&gt;&gt; string = "" url"" &gt;&gt;&gt; pattern.match(string) &gt;&gt;&gt; pattern.search(string) &lt;_sre.SRE_Match object at 0xb7f7a6e8&gt;"
72393,6,"A tutorial I have on Regex in python explains how to use the re module in python, I wanted to grab the URL out of an A tag so knowing Regex I wrote the correct expression and tested it in my regex testing app of choice and ensured it worked. When placed into python it failed. After much head scratching I found out the issue, it automatically expects your pattern to be at the start of the string. I have found a fix but I would like to know how to change: regex = "".*(a_regex_of_pure_awesomeness)"" into regex = ""a_regex_of_pure_awesomeness"" Okay, it's a standard URL regex but I wanted to avoid any potential confusion about what I wanted to get rid of and possibly pretend to be funny.","Python and ""re""",72521,72393,1,You are probably being tripped up by the different methods re.search and re.match.
72393,6,"A tutorial I have on Regex in python explains how to use the re module in python, I wanted to grab the URL out of an A tag so knowing Regex I wrote the correct expression and tested it in my regex testing app of choice and ensured it worked. When placed into python it failed. After much head scratching I found out the issue, it automatically expects your pattern to be at the start of the string. I have found a fix but I would like to know how to change: regex = "".*(a_regex_of_pure_awesomeness)"" into regex = ""a_regex_of_pure_awesomeness"" Okay, it's a standard URL regex but I wanted to avoid any potential confusion about what I wanted to get rid of and possibly pretend to be funny.","Python and ""re""",78072,72393,4,"from BeautifulSoup import BeautifulSoup soup = BeautifulSoup(your_html) for a in soup.findAll('a', href=True): # do something with `a` w/ href attribute print a['href']"
72422,3,"Can someone explain this result to me. The first test succeeds but the second fails, although the variable tested is changed in the first test. &gt;&gt;&gt; class MyTest(unittest.TestCase): def setUp(self): self.i = 1 def testA(self): self.i = 3 self.assertEqual(self.i, 3) def testB(self): self.assertEqual(self.i, 3) &gt;&gt;&gt; unittest.main() .F ====================================================================== FAIL: testB (__main__.MyTest) ---------------------------------------------------------------------- Traceback (most recent call last): File ""&lt;pyshell#61&gt;"", line 8, in testB AssertionError: 1 != 3 ---------------------------------------------------------------------- Ran 2 tests in 0.016s",Python's unittest logic,72498,72422,0,If I recall correctly in that test framework the setUp method is run before each test
72422,3,"Can someone explain this result to me. The first test succeeds but the second fails, although the variable tested is changed in the first test. &gt;&gt;&gt; class MyTest(unittest.TestCase): def setUp(self): self.i = 1 def testA(self): self.i = 3 self.assertEqual(self.i, 3) def testB(self): self.assertEqual(self.i, 3) &gt;&gt;&gt; unittest.main() .F ====================================================================== FAIL: testB (__main__.MyTest) ---------------------------------------------------------------------- Traceback (most recent call last): File ""&lt;pyshell#61&gt;"", line 8, in testB AssertionError: 1 != 3 ---------------------------------------------------------------------- Ran 2 tests in 0.016s",Python's unittest logic,72504,72422,11,"From http://docs.python.org/lib/minimal-example.html : When a setUp() method is defined, the test runner will run that method prior to each test. So setUp() gets run before both testA and testB, setting I to 1 each time. Behind the scenes, the entire test object is actually being re-instantiated for each test, with setUp() being run on each new instantiation before the test is executed."
72422,3,"Can someone explain this result to me. The first test succeeds but the second fails, although the variable tested is changed in the first test. &gt;&gt;&gt; class MyTest(unittest.TestCase): def setUp(self): self.i = 1 def testA(self): self.i = 3 self.assertEqual(self.i, 3) def testB(self): self.assertEqual(self.i, 3) &gt;&gt;&gt; unittest.main() .F ====================================================================== FAIL: testB (__main__.MyTest) ---------------------------------------------------------------------- Traceback (most recent call last): File ""&lt;pyshell#61&gt;"", line 8, in testB AssertionError: 1 != 3 ---------------------------------------------------------------------- Ran 2 tests in 0.016s",Python's unittest logic,72702,72422,-1,"The setUp method, as everyone else has said, runs before every test method you write. So, when testB runs, the value of I is 1, not 3. You can also use a tearDown method which runs after every test method. However if one of your tests crashes, your tearDown method will never run."
72422,3,"Can someone explain this result to me. The first test succeeds but the second fails, although the variable tested is changed in the first test. &gt;&gt;&gt; class MyTest(unittest.TestCase): def setUp(self): self.i = 1 def testA(self): self.i = 3 self.assertEqual(self.i, 3) def testB(self): self.assertEqual(self.i, 3) &gt;&gt;&gt; unittest.main() .F ====================================================================== FAIL: testB (__main__.MyTest) ---------------------------------------------------------------------- Traceback (most recent call last): File ""&lt;pyshell#61&gt;"", line 8, in testB AssertionError: 1 != 3 ---------------------------------------------------------------------- Ran 2 tests in 0.016s",Python's unittest logic,73791,72422,9,"Each test is run using a new instance of the MyTest class. That means if you change self in one test, changes will not carry over to other tests, since self will refer to a different instance. Additionally, as others have pointed out, setUp is called before each test."
72422,3,"Can someone explain this result to me. The first test succeeds but the second fails, although the variable tested is changed in the first test. &gt;&gt;&gt; class MyTest(unittest.TestCase): def setUp(self): self.i = 1 def testA(self): self.i = 3 self.assertEqual(self.i, 3) def testB(self): self.assertEqual(self.i, 3) &gt;&gt;&gt; unittest.main() .F ====================================================================== FAIL: testB (__main__.MyTest) ---------------------------------------------------------------------- Traceback (most recent call last): File ""&lt;pyshell#61&gt;"", line 8, in testB AssertionError: 1 != 3 ---------------------------------------------------------------------- Ran 2 tests in 0.016s",Python's unittest logic,215576,72422,0,"From a methodological point of view, individual tests should be independent, otherwise it can produce more hard-to-find bugs. Imagine for instance that testA and testB would be called in a different order."
72852,309,"Imagine this directory structure: app/ __init__.py sub1/ __init__.py mod1.py sub2/ __init__.py mod2.py I'm coding mod1, and I need to import something from mod2. How should I do it? I tried from ..sub2 import mod2 but I'm getting an ""Attempted relative import in non-package"". I googled around but found only ""sys.path manipulation"" hacks. Isn't there a clean way? Edit: all my __init__.py's are currently empty Edit2: I'm trying to do this because sub2 contains classes that are shared across sub packages (sub1, subX, etc.). Edit3: The behaviour I'm looking for is the same as described in PEP 366 (thanks John B)",How to do relative imports in Python?,72904,72852,-8,Why you even need this? Why you just do not import it as from app.sub2 import mod2
72852,309,"Imagine this directory structure: app/ __init__.py sub1/ __init__.py mod1.py sub2/ __init__.py mod2.py I'm coding mod1, and I need to import something from mod2. How should I do it? I tried from ..sub2 import mod2 but I'm getting an ""Attempted relative import in non-package"". I googled around but found only ""sys.path manipulation"" hacks. Isn't there a clean way? Edit: all my __init__.py's are currently empty Edit2: I'm trying to do this because sub2 contains classes that are shared across sub packages (sub1, subX, etc.). Edit3: The behaviour I'm looking for is the same as described in PEP 366 (thanks John B)",How to do relative imports in Python?,73009,72852,-7,I think that what you have to ask yourself is: Why I need to do this? Is my package separation well done? I don't know the context why you want to do it this way. But for me a cleaner design would be to have the following packages structure: app/ __init__.py sub1/ __init__.py mod1.py sub12/ __init__.py mod2.py Then you only have to do: from sub12 import mod2
72852,309,"Imagine this directory structure: app/ __init__.py sub1/ __init__.py mod1.py sub2/ __init__.py mod2.py I'm coding mod1, and I need to import something from mod2. How should I do it? I tried from ..sub2 import mod2 but I'm getting an ""Attempted relative import in non-package"". I googled around but found only ""sys.path manipulation"" hacks. Isn't there a clean way? Edit: all my __init__.py's are currently empty Edit2: I'm trying to do this because sub2 contains classes that are shared across sub packages (sub1, subX, etc.). Edit3: The behaviour I'm looking for is the same as described in PEP 366 (thanks John B)",How to do relative imports in Python?,73060,72852,-14,"Don't do relative imports. They'll only make your code more fragile. If you do an absolute import as Matej suggested, you'll be less vulnerable to changes in sys.path and changes in file locations."
72852,309,"Imagine this directory structure: app/ __init__.py sub1/ __init__.py mod1.py sub2/ __init__.py mod2.py I'm coding mod1, and I need to import something from mod2. How should I do it? I tried from ..sub2 import mod2 but I'm getting an ""Attempted relative import in non-package"". I googled around but found only ""sys.path manipulation"" hacks. Isn't there a clean way? Edit: all my __init__.py's are currently empty Edit2: I'm trying to do this because sub2 contains classes that are shared across sub packages (sub1, subX, etc.). Edit3: The behaviour I'm looking for is the same as described in PEP 366 (thanks John B)",How to do relative imports in Python?,73149,72852,189,"Everyone seems to want to tell you what you should be doing rather than just answering the question. The problem is that you're running the module as '__main__' by passing the mod1.py as an argument to the interpreter. From PEP 328: Relative imports use a module's __name__ attribute to determine that module's position in the package hierarchy. If the module's name does not contain any package information (e.g. it is set to '__main__') then relative imports are resolved as if the module were a top level module, regardless of where the module is actually located on the file system. In Python 2.6, they're adding the ability to reference modules relative to the main module. PEP 366 describes the change. Update: According to Nick Coghlan, the recommended alternative is to run the module inside the package using the -m switch."
72852,309,"Imagine this directory structure: app/ __init__.py sub1/ __init__.py mod1.py sub2/ __init__.py mod2.py I'm coding mod1, and I need to import something from mod2. How should I do it? I tried from ..sub2 import mod2 but I'm getting an ""Attempted relative import in non-package"". I googled around but found only ""sys.path manipulation"" hacks. Isn't there a clean way? Edit: all my __init__.py's are currently empty Edit2: I'm trying to do this because sub2 contains classes that are shared across sub packages (sub1, subX, etc.). Edit3: The behaviour I'm looking for is the same as described in PEP 366 (thanks John B)",How to do relative imports in Python?,465129,72852,82,"main.py setup.py app/ -&gt; __init__.py package_a/ -&gt; __init__.py module_a.py package_b/ -&gt; __init__.py module_b.py You run python main.py. main.py does: import app.package_a.module_a module_a.py does import app.package_b.module_b Alternatively 2 or 3 could use: from app.package_a import module_a That will work as long as you have app in your PYTHONPATH. main.py could be anywhere then. So you write a setup.py to copy (install) the whole app package and subpackages to the target system's python folders, and main.py to target system's script folders."
72852,309,"Imagine this directory structure: app/ __init__.py sub1/ __init__.py mod1.py sub2/ __init__.py mod2.py I'm coding mod1, and I need to import something from mod2. How should I do it? I tried from ..sub2 import mod2 but I'm getting an ""Attempted relative import in non-package"". I googled around but found only ""sys.path manipulation"" hacks. Isn't there a clean way? Edit: all my __init__.py's are currently empty Edit2: I'm trying to do this because sub2 contains classes that are shared across sub packages (sub1, subX, etc.). Edit3: The behaviour I'm looking for is the same as described in PEP 366 (thanks John B)",How to do relative imports in Python?,1083169,72852,24,"def import_path(fullpath): """""" Import a file with full path specification. Allows one to import from anywhere, something __import__ does not do. """""" path, filename = os.path.split(fullpath) filename, ext = os.path.splitext(filename) sys.path.append(path) module = __import__(filename) reload(module) # Might be out of date del sys.path[-1] return module I'm using this snippet to import modules from paths, hope that helps"
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,72950,72899,7,You have to implement your own comparison function that will compare the dictionaries by values of name keys. See Sorting Mini-HOW TO from PythonInfo Wiki
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,73019,72899,7,"I guess you've meant: [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] This would be sorted like this: sorted(l,cmp=lambda x,y: cmp(x['name'],y['name']))"
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,73044,72899,12,"my_list = [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] my_list.sort(lambda x,y : cmp(x['name'], y['name'])) my_list will now be what you want. (3 years later) Edited to add: The new key argument is more efficient and neater. A better answer now looks like: my_list = sorted(my_list, key=lambda k: k['name']) ...the lambda is, IMO, easier to understand than operator.itemgetter, but YMMV."
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,73050,72899,1147,"It may look cleaner using a key instead a cmp: newlist = sorted(list_to_be_sorted, key=lambda k: k['name']) or as J.F.Sebastian and others suggested, from operator import itemgetter newlist = sorted(list_to_be_sorted, key=itemgetter('name')) For completeness (as pointed out in comments by fitzgeraldsteele), add reverse=True to sort descending newlist = sorted(l, key=itemgetter('name'), reverse=True)"
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,73098,72899,13,import operator a_list_of_dicts.sort(key=operator.itemgetter('name')) 'key' is used to sort by an arbitrary value and 'itemgetter' sets that value to each item's 'name' attribute.
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,73186,72899,8,"You could use a custom comparison function, or you could pass in a function that calculates a custom sort key. That's usually more efficient as the key is only calculated once per item, while the comparison function would be called many more times. You could do it this way: def mykey(adict): return adict['name'] x = [{'name': 'Homer', 'age': 39}, {'name': 'Bart', 'age':10}] sorted(x, key=mykey) But the standard library contains a generic routine for getting items of arbitrary objects: itemgetter. So try this instead: from operator import itemgetter x = [{'name': 'Homer', 'age': 39}, {'name': 'Bart', 'age':10}] sorted(x, key=itemgetter('name'))"
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,73465,72899,68,import operator To sort the list of dictionaries by key='name': list_of_dicts.sort(key=operator.itemgetter('name')) To sort the list of dictionaries by key='age': list_of_dicts.sort(key=operator.itemgetter('age'))
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,1144907,72899,1,Here is my answer to a related question on sorting by multiple columns. It also works for the degenerate case where the number of columns is only one.
72899,822,"I got a list of dictionaries and want that to be sorted by a value of that dictionary. This [{'name':'Homer', 'age':39}, {'name':'Bart', 'age':10}] sorted by name, should become [{'name':'Bart', 'age':10}, {'name':'Homer', 'age':39}]",How do I sort a list of dictionaries by values of the dictionary in Python?,2858683,72899,24,"If you want to sort the list by multiple keys you can do the following: my_list = [{'name':'Homer', 'age':39}, {'name':'Milhouse', 'age':10}, {'name':'Bart', 'age':10} ] sortedlist = sorted(my_list , key=lambda elem: ""%02d %s"" % (elem['age'], elem['name'])) It is rather hackish, since it relies on converting the values into a single string representation for comparison, but it works as expected for numbers including negative ones (although you will need to format your string appropriately with zero paddings if you are using numbers)"
72945,9,"Using Django's built in models, how would one create a triple-join between three models. For example: Users, Roles, and Events are the models. Users have many Roles, and Roles many Users. (ManyToMany) Events have many Users, and Users many Events. (ManyToMany) But for any given Event, any User may have only one Role. How can this be represented in the model?",How to create a triple-join table with Django,73153,72945,3,"I'd recommend just creating an entirely separate model for this. class Assignment(Model): user = ForeignKey(User) role = ForeignKey(Role) event = ForeignKey(Event) This lets you do all the usual model stuff, such as user.assignment_set.filter(role__name=""Chaperon"") role.assignment_set.filter(event__name=""Silly Walkathon"") The only thing left is to enforce your one-role-per-user-per-event restriction. You can do this in the Assignment class by either overriding the save method (http://docs.djangoproject.com/en/dev/topics/db/models/#overriding-predefined-model-methods) or using signals (http://docs.djangoproject.com/en/dev/topics/signals/)"
72945,9,"Using Django's built in models, how would one create a triple-join between three models. For example: Users, Roles, and Events are the models. Users have many Roles, and Roles many Users. (ManyToMany) Events have many Users, and Users many Events. (ManyToMany) But for any given Event, any User may have only one Role. How can this be represented in the model?",How to create a triple-join table with Django,76221,72945,0,"I'd model Role as an association class between Users and Roles, thus, class User(models.Model): ... class Event(models.Model): ... class Role(models.Model): user = models.ForeignKey(User) event = models.ForeignKey(Event) And enforce the one role per user per event in either a manager or SQL constraints."
72945,9,"Using Django's built in models, how would one create a triple-join between three models. For example: Users, Roles, and Events are the models. Users have many Roles, and Roles many Users. (ManyToMany) Events have many Users, and Users many Events. (ManyToMany) But for any given Event, any User may have only one Role. How can this be represented in the model?",How to create a triple-join table with Django,77898,72945,8,"zacherates writes: I'd model Role as an association class between Users and Roles (...) I'd also reccomed this solution, but you can also make use of some syntactical sugar provided by Django: ManyToMany relation with extra fields. Example: class User(models.Model): name = models.CharField(max_length=128) class Event(models.Model): name = models.CharField(max_length=128) members = models.ManyToManyField(User, through='Role') def __unicode__(self): return self.name class Role(models.Model): person = models.ForeignKey(User) group = models.ForeignKey(Event) date_joined = models.DateField() invite_reason = models.CharField(max_length=64)"
73439,1,"I need to write a couple of python scripts to automate the installation of Microsoft Cluster Ressources. More specifically, I'll need to query MS Cluster to be able to get a list of ressources with their parameters. And I also need to be able to create resources and set their parameters. Is someone knows if there is a package/module. Or even some sample scripts using Mark Hammond's pywin32 packages ?",Is there a python package to interface with MS Cluster?,73594,73439,1,You can accomplish this using Microsoft COM objects. You can take a look at here on how to start using them.
73439,1,"I need to write a couple of python scripts to automate the installation of Microsoft Cluster Ressources. More specifically, I'll need to query MS Cluster to be able to get a list of ressources with their parameters. And I also need to be able to create resources and set their parameters. Is someone knows if there is a package/module. Or even some sample scripts using Mark Hammond's pywin32 packages ?",Is there a python package to interface with MS Cluster?,187067,73439,0,"Ok, I tried it this way. Via pythonwin, I used the COM Makepy utility. I generated a python interface for MSCluster.Cluster (in order to have a nice introspection in ipython). Then, localy on my server I do the following: import win32.client mscluster = win32.client.Disptach(""MSCluster.Cluster"") cluster = mscluster.Open(""."") And I got the following exception: &lt;class 'pywintypes.com_error'&gt;: (-2147352567, 'Exception occurred.', (0, None, None, None, 0, -2147023174), None) If I do: cluster = mscluster.Open(""&lt;insert here cluster name&gt;"") Then I got no error, but cluster is in fact None. Any advice ?"
73663,469,I am aware of the die() command in PHP which stops a script early. How can I do this in Python?,Terminating a Python script,73673,73663,644,"import sys sys.exit() details from the sys module documentation: sys.exit([arg]) Exit from Python. This is implemented by raising the SystemExit exception, so cleanup actions specified by finally clauses of try statements are honored, and it is possible to intercept the exit attempt at an outer level. The optional argument arg can be an integer giving the exit status (defaulting to zero), or another type of object. If it is an integer, zero is considered âsuccessful terminationâ and any nonzero value is considered âabnormal terminationâ by shells and the like. Most systems require it to be in the range 0-127, and produce undefined results otherwise. Some systems have a convention for assigning specific meanings to specific exit codes, but these are generally underdeveloped; Unix programs generally use 2 for command line syntax errors and 1 for all other kind of errors. If another type of object is passed, None is equivalent to passing zero, and any other object is printed to stderr and results in an exit code of 1. In particular, sys.exit(""some error message"") is a quick way to exit a program when an error occurs. Since exit() ultimately âonlyâ raises an exception, it will only exit the process when called from the main thread, and the exception is not intercepted. Note that this is the 'nice' way to exit. @glyphtwistedmatrix below points out that if you want a 'hard exit', you can use os._exit(errorcode), though it's likely os-specific to some extent (it might not take an errorcode under windows, for example), and it definitely is less friendly since it doesn't let the interpreter do any cleanup before the process dies."
73663,469,I am aware of the die() command in PHP which stops a script early. How can I do this in Python?,Terminating a Python script,73680,73663,72,Another way is: raise SystemExit
73663,469,I am aware of the die() command in PHP which stops a script early. How can I do this in Python?,Terminating a Python script,73695,73663,16,"from sys import exit exit() As a parameter you can pass an exit code, which will be returned to OS. Default is 0."
73663,469,I am aware of the die() command in PHP which stops a script early. How can I do this in Python?,Terminating a Python script,76374,73663,48,"While you should generally prefer sys.exit because it is more ""friendly"" to other code, all it actually does is raise an exception. If you are sure that you need to exit a process immediately, and you might be inside of some exception handler which would catch SystemExit, there is another function - os._exit - which terminates immediately at the C level and does not perform any of the normal tear-down of the interpreter; for example, hooks registered with the ""atexit"" module are not executed."
73781,47,"If I want to send mail not via SMTP, but rather via sendmail, is there a library for python that encapsulates this process? Better yet, is there a good library that abstracts the whole 'sendmail -versus- smtp' choice? I'll be running this script on a bunch of unix hosts, only some of which are listening on localhost:25; a few of these are part of embedded systems and can't be set up to accept SMTP. As part of Good Practice, I'd really like to have the library take care of header injection vulnerabilities itself -- so just dumping a string to popen('/usr/bin/sendmail', 'w') is a little closer to the metal than I'd like. If the answer is 'go write a library,' so be it ;-)",Sending mail via sendmail from python,73807,73781,3,"It's quite common to just use the sendmail command from Python using os.popen Personally, for scripts I didn't write myself, I think just using the SMTP-protocol is better, since it wouldn't require installing say an sendmail clone to run on windows. https://docs.python.org/library/smtplib.html"
73781,47,"If I want to send mail not via SMTP, but rather via sendmail, is there a library for python that encapsulates this process? Better yet, is there a good library that abstracts the whole 'sendmail -versus- smtp' choice? I'll be running this script on a bunch of unix hosts, only some of which are listening on localhost:25; a few of these are part of embedded systems and can't be set up to accept SMTP. As part of Good Practice, I'd really like to have the library take care of header injection vulnerabilities itself -- so just dumping a string to popen('/usr/bin/sendmail', 'w') is a little closer to the metal than I'd like. If the answer is 'go write a library,' so be it ;-)",Sending mail via sendmail from python,73811,73781,-4,"The easiest answer is the smtplib, you can find docs on it here. All you need to do is configure your local sendmail to accept connection from localhost, which it probably already does by default. Sure, you're still using SMTP for the transfer, but it's the local sendmail, which is basically the same as using the commandline tool."
73781,47,"If I want to send mail not via SMTP, but rather via sendmail, is there a library for python that encapsulates this process? Better yet, is there a good library that abstracts the whole 'sendmail -versus- smtp' choice? I'll be running this script on a bunch of unix hosts, only some of which are listening on localhost:25; a few of these are part of embedded systems and can't be set up to accept SMTP. As part of Good Practice, I'd really like to have the library take care of header injection vulnerabilities itself -- so just dumping a string to popen('/usr/bin/sendmail', 'w') is a little closer to the metal than I'd like. If the answer is 'go write a library,' so be it ;-)",Sending mail via sendmail from python,73844,73781,24,"This is a simple python function that uses the unix sendmail to deliver a mail. def sendMail(): sendmail_location = ""/usr/sbin/sendmail"" # sendmail location p = os.popen(""%s -t"" % sendmail_location, ""w"") p.write(""From: %s\n"" % ""from@somewhere.com"") p.write(""To: %s\n"" % ""to@somewhereelse.com"") p.write(""Subject: thesubject\n"") p.write(""\n"") # blank line separating headers from body p.write(""body of the mail"") status = p.close() if status != 0: print ""Sendmail exit status"", status"
73781,47,"If I want to send mail not via SMTP, but rather via sendmail, is there a library for python that encapsulates this process? Better yet, is there a good library that abstracts the whole 'sendmail -versus- smtp' choice? I'll be running this script on a bunch of unix hosts, only some of which are listening on localhost:25; a few of these are part of embedded systems and can't be set up to accept SMTP. As part of Good Practice, I'd really like to have the library take care of header injection vulnerabilities itself -- so just dumping a string to popen('/usr/bin/sendmail', 'w') is a little closer to the metal than I'd like. If the answer is 'go write a library,' so be it ;-)",Sending mail via sendmail from python,74084,73781,79,"Header injection isn't a factor in how you send the mail, it's a factor in how you construct the mail. Check the email package, construct the mail with that, serialise it, and send it to /usr/sbin/sendmail using the subprocess module: from email.mime.text import MIMEText from subprocess import Popen, PIPE msg = MIMEText(""Here is the body of my message"") msg[""From""] = ""me@example.com"" msg[""To""] = ""you@example.com"" msg[""Subject""] = ""This is the subject."" p = Popen([""/usr/sbin/sendmail"", ""-t"", ""-oi""], stdin=PIPE) p.communicate(msg.as_string())"
74092,6,"I have a function in Python which is iterating over the attributes returned from dir(obj), and I want to check to see if any of the objects contained within is a function, method, built-in function, etc. Normally you could use callable() for this, but I don't want to include classes. The best I've come up with so far is: isinstance(obj, (types.BuiltinFunctionType, types.FunctionType, types.MethodType)) Is there a more future-proof way to do this check? Edit: I misspoke before when I said: ""Normally you could use callable() for this, but I don't want to disqualify classes."" I actually do want to disqualify classes. I want to match only functions, not classes.",Is there a common way to check in Python if an object is any function type?,74138,74092,2,"if hasattr(obj, '__call__'): pass This also fits in better with Python's ""duck typing"" philosophy, because you don't really care what it is, so long as you can call it. It's worth noting that callable() is being removed from Python and is not present in 3.0."
74092,6,"I have a function in Python which is iterating over the attributes returned from dir(obj), and I want to check to see if any of the objects contained within is a function, method, built-in function, etc. Normally you could use callable() for this, but I don't want to include classes. The best I've come up with so far is: isinstance(obj, (types.BuiltinFunctionType, types.FunctionType, types.MethodType)) Is there a more future-proof way to do this check? Edit: I misspoke before when I said: ""Normally you could use callable() for this, but I don't want to disqualify classes."" I actually do want to disqualify classes. I want to match only functions, not classes.",Is there a common way to check in Python if an object is any function type?,74295,74092,5,"If you want to exclude classes and other random objects that may have a __call__ method, and only check for functions and methods, these three functions in the inspect module inspect.isfunction(obj) inspect.isbuiltin(obj) inspect.ismethod(obj) should do what you want in a future-proof way."
74092,6,"I have a function in Python which is iterating over the attributes returned from dir(obj), and I want to check to see if any of the objects contained within is a function, method, built-in function, etc. Normally you could use callable() for this, but I don't want to include classes. The best I've come up with so far is: isinstance(obj, (types.BuiltinFunctionType, types.FunctionType, types.MethodType)) Is there a more future-proof way to do this check? Edit: I misspoke before when I said: ""Normally you could use callable() for this, but I don't want to disqualify classes."" I actually do want to disqualify classes. I want to match only functions, not classes.",Is there a common way to check in Python if an object is any function type?,75370,74092,1,"Depending on what you mean by 'class': callable( obj ) and not inspect.isclass( obj ) or: callable( obj ) and not isinstance( obj, types.ClassType ) For example, results are different for 'dict': &gt;&gt;&gt; callable( dict ) and not inspect.isclass( dict ) False &gt;&gt;&gt; callable( dict ) and not isinstance( dict, types.ClassType ) True"
74092,6,"I have a function in Python which is iterating over the attributes returned from dir(obj), and I want to check to see if any of the objects contained within is a function, method, built-in function, etc. Normally you could use callable() for this, but I don't want to include classes. The best I've come up with so far is: isinstance(obj, (types.BuiltinFunctionType, types.FunctionType, types.MethodType)) Is there a more future-proof way to do this check? Edit: I misspoke before when I said: ""Normally you could use callable() for this, but I don't want to disqualify classes."" I actually do want to disqualify classes. I want to match only functions, not classes.",Is there a common way to check in Python if an object is any function type?,75507,74092,13,"The inspect module has exactly what you want: inspect.isroutine( obj ) FYI, the code is: def isroutine(object): """"""Return true if the object is any kind of function or method."""""" return (isbuiltin(object) or isfunction(object) or ismethod(object) or ismethoddescriptor(object))"
74430,8,"I am trying to use the import random statement in python, but it doesn't appear to have any methods in it to use. Am I missing something?",Random in python 2.5 not working?,74445,74430,2,I think you need to give some more information. It's not really possible to answer why it's not working based on the information in the question. The basic documentation for random is at: https://docs.python.org/library/random.html You might check there.
74430,8,"I am trying to use the import random statement in python, but it doesn't appear to have any methods in it to use. Am I missing something?",Random in python 2.5 not working?,74459,74430,0,"Can you post an example of what you're trying to do? It's not clear from your question what the actual problem is. Here's an example of how to use the random module: import random print random.randint(0,10)"
74430,8,"I am trying to use the import random statement in python, but it doesn't appear to have any methods in it to use. Am I missing something?",Random in python 2.5 not working?,74476,74430,1,"Python 2.5.2 (r252:60911, Jun 16 2008, 18:27:58) [GCC 3.3.4 (pre 3.3.5 20040809)] on linux2 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. &gt;&gt;&gt; import random &gt;&gt;&gt; random.seed() &gt;&gt;&gt; dir(random) ['BPF', 'LOG4', 'NV_MAGICCONST', 'RECIP_BPF', 'Random', 'SG_MAGICCONST', 'SystemRandom', 'TWOPI', 'WichmannHill', '_BuiltinMethodType', '_MethodType', '__all__', '__builtins__', '__doc__', '__file__', '__name__', '_acos', '_ceil', '_cos', '_e', '_exp', '_hexlify', '_inst', '_log', '_pi', '_random', '_sin', '_sqrt', '_test', '_test_generator', '_urandom', '_warn', 'betavariate', 'choice', 'expovariate', 'gammavariate', 'gauss', 'getrandbits', 'getstate', 'jumpahead', 'lognormvariate', 'normalvariate', 'paretovariate', 'randint', 'random', 'randrange', 'sample', 'seed', 'setstate', 'shuffle', 'uniform', 'vonmisesvariate', 'weibullvariate'] &gt;&gt;&gt; random.randint(0,3) 3 &gt;&gt;&gt; random.randint(0,3) 1 &gt;&gt;&gt;"
74430,8,"I am trying to use the import random statement in python, but it doesn't appear to have any methods in it to use. Am I missing something?",Random in python 2.5 not working?,74485,74430,0,"Seems to work fine for me. Check out the methods in the official python documentation for random: &gt;&gt;&gt; import random &gt;&gt;&gt; random.random() 0.69130806168332215 &gt;&gt;&gt; random.uniform(1, 10) 8.8384170917436293 &gt;&gt;&gt; random.randint(1, 10) 4"
74430,8,"I am trying to use the import random statement in python, but it doesn't appear to have any methods in it to use. Am I missing something?",Random in python 2.5 not working?,75360,74430,0,"Works for me: Python 2.5.1 (r251:54863, Jun 15 2008, 18:24:51) [GCC 4.3.0 20080428 (Red Hat 4.3.0-8)] on linux2 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. &gt;&gt;&gt; import random &gt;&gt;&gt; brothers = ['larry', 'curly', 'moe'] &gt;&gt;&gt; random.choice(brothers) 'moe' &gt;&gt;&gt; random.choice(brothers) 'curly'"
74430,8,"I am trying to use the import random statement in python, but it doesn't appear to have any methods in it to use. Am I missing something?",Random in python 2.5 not working?,75427,74430,34,"You probably have a file named random.py or random.pyc in your working directory. That's shadowing the built-in random module. You need to rename random.py to something like my_random.py and/or remove the random.pyc file. To tell for sure what's going on, do this: &gt;&gt;&gt; import random &gt;&gt;&gt; print random.__file__ That will show you exactly which file is being imported."
74430,8,"I am trying to use the import random statement in python, but it doesn't appear to have any methods in it to use. Am I missing something?",Random in python 2.5 not working?,76404,74430,1,Is it possible that the script you run is called random.py itself?
74430,8,"I am trying to use the import random statement in python, but it doesn't appear to have any methods in it to use. Am I missing something?",Random in python 2.5 not working?,78304,74430,3,"This is happening because you have a random.py file in the python search path, most likely the current directory. Python is searching for modules using sys.path, which normally includes the current directory before the standard site-packages, which contains the expected random.py. This is expected to be fixed in Python 3.0, so that you can't import modules from the current directory without using a special import syntax. Just remove the random.py + random.pyc in the directory you're running python from and it'll work fine."
75440,30,What method do I call to get the name of a class?,How do I get the name of a python class as a string?,75456,75440,28,"It's not a method, it's a field. The field is called __name__. class.__name__ will give the name of the class as a string. object.__class__.__name__ will give the name of the class of an object."
75440,30,What method do I call to get the name of a class?,How do I get the name of a python class as a string?,75467,75440,33,In [1]: class test(object): ...: pass ...: In [2]: test.__name__ Out[2]: 'test'
75440,30,What method do I call to get the name of a class?,How do I get the name of a python class as a string?,77222,75440,1,"In [8]: str('2'.__class__) Out[8]: ""&lt;type 'str'&gt;"" In [9]: str(len.__class__) Out[9]: ""&lt;type 'builtin_function_or_method'&gt;"" In [10]: str(4.6.__class__) Out[10]: ""&lt;type 'float'&gt;"" Or, as was pointed out before, In [11]: 4.6.__class__.__name__ Out[11]: 'float'"
75440,30,What method do I call to get the name of a class?,How do I get the name of a python class as a string?,83155,75440,6,"I agree with Mr.Shark, but if you have an instance of a class, you'll need to use its __class__ member: &gt;&gt;&gt; class test(): ... pass ... &gt;&gt;&gt; a_test = test() &gt;&gt;&gt; &gt;&gt;&gt; a_test.__name__ Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; AttributeError: test instance has no attribute '__name__' &gt;&gt;&gt; &gt;&gt;&gt; a_test.__class__ &lt;class __main__.test at 0x009EEDE0&gt;"
75621,7,"I have a web report that uses a Django form (new forms) for fields that control the query used to generate the report (start date, end date, ...). The issue I'm having is that the page should work using the form's initial values (unbound), but I can't access the cleaned_data field unless I call is_valid(). But is_valid() always fails on unbound forms. It seems like Django's forms were designed with the use case of editing data such that an unbound form isn't really useful for anything other than displaying HTML. For example, if I have: if request.method == 'GET': form = MyForm() else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) is_valid() will fail if this is a GET (since it's unbound), and if I do: if request.method == 'GET': form = MyForm() do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) the first call to do_query triggers exceptions on form.cleaned_data, which is not a valid field because is_valid() has not been called. It seems like I have to do something like: if request.method == 'GET': form = MyForm() do_query(form['start_date'].field.initial, form['end_date'].field.initial) else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) that is, there isn't a common interface for retrieving the form's values between a bound form and an unbound one. Does anyone see a cleaner way to do this?",How to use form values from an unbound form,75815,75621,0,"You can pass a dictionary of initial values to your form: if request.method == ""GET"": # calculate my_start_date and my_end_date here... form = MyForm( { 'start_date': my_start_date, 'end_date': my_end_date} ) ... See the official forms API documentation, where they demonstrate this. edit: Based on answers from other users, maybe this is the cleanest solution: if request.method == ""GET"": form = MyForm() form['start_date'] = form['start_date'].field.initial form['end_date'] = form['end_date'].field.initial else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) I haven't tried this though; can someone confirm that this works? I think this is better than creating a new method, because this approach doesn't require other code (possibly not written by you) to know about your new 'magic' accessor."
75621,7,"I have a web report that uses a Django form (new forms) for fields that control the query used to generate the report (start date, end date, ...). The issue I'm having is that the page should work using the form's initial values (unbound), but I can't access the cleaned_data field unless I call is_valid(). But is_valid() always fails on unbound forms. It seems like Django's forms were designed with the use case of editing data such that an unbound form isn't really useful for anything other than displaying HTML. For example, if I have: if request.method == 'GET': form = MyForm() else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) is_valid() will fail if this is a GET (since it's unbound), and if I do: if request.method == 'GET': form = MyForm() do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) the first call to do_query triggers exceptions on form.cleaned_data, which is not a valid field because is_valid() has not been called. It seems like I have to do something like: if request.method == 'GET': form = MyForm() do_query(form['start_date'].field.initial, form['end_date'].field.initial) else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) that is, there isn't a common interface for retrieving the form's values between a bound form and an unbound one. Does anyone see a cleaner way to do this?",How to use form values from an unbound form,75923,75621,4,"If you add this method to your form class: def get_cleaned_or_initial(self, fieldname): if hasattr(self, 'cleaned_data'): return self.cleaned_data.get(fieldname) else: return self[fieldname].field.initial you could then re-write your code as: if request.method == 'GET': form = MyForm() else: form = MyForm(request.method.POST) form.is_valid() do_query(form.get_cleaned_or_initial('start_date'), form.get_cleaned_or_initial('end_date'))"
75621,7,"I have a web report that uses a Django form (new forms) for fields that control the query used to generate the report (start date, end date, ...). The issue I'm having is that the page should work using the form's initial values (unbound), but I can't access the cleaned_data field unless I call is_valid(). But is_valid() always fails on unbound forms. It seems like Django's forms were designed with the use case of editing data such that an unbound form isn't really useful for anything other than displaying HTML. For example, if I have: if request.method == 'GET': form = MyForm() else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) is_valid() will fail if this is a GET (since it's unbound), and if I do: if request.method == 'GET': form = MyForm() do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) the first call to do_query triggers exceptions on form.cleaned_data, which is not a valid field because is_valid() has not been called. It seems like I have to do something like: if request.method == 'GET': form = MyForm() do_query(form['start_date'].field.initial, form['end_date'].field.initial) else: form = MyForm(request.method.POST) if form.is_valid(): do_query(form.cleaned_data['start_date'], form.cleaned_data['end_date']) that is, there isn't a common interface for retrieving the form's values between a bound form and an unbound one. Does anyone see a cleaner way to do this?",How to use form values from an unbound form,81301,75621,1,"Unbound means there is no data associated with form (either initial or provided later), so the validation may fail. As mentioned in other answers (and in your own conclusion), you have to provide initial values and check for both bound data and initial values. The use case for forms is form processing and validation, so you must have some data to validate before you accessing cleaned_data."
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,76198,75798,1,"cakephp.org Cakephp is really good, really close to ruby on rails (1.2). It is in php, works very well on shared hosts and is easy to implement. The only downside is that the documentation is somewhat lacking, but you quickly get it and quickly start doing cool stuff. I totally recommend cakephp."
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,77693,75798,9,"However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Python has: a great interactive debugger, which makes very good use of Python REPL. easy_install anv virtualenv for dependency management, packaging and deployment. profiling features comparable to other languages So IMHO you shouldn't worry about this things, use Python and Django and live happily :-) Lucky for you, newest version of Django runs on Jython, so you don't need to leave your whole Java ecosystem behind. Speaking of frameworks, I evaluated this year: Pylons (Python) webpy (Python) Symfony (PHP) CakePHP (PHP) None of this frameworks comes close to the power of Django or Ruby on Rails. Based on my collegue opinion I could recommend you kohana framework. The downside is, it's written in PHP and, as far as I know, PHP doesn't have superb tools for debugging, profiling and packaging of apps. Edit: Here is a very good article about packaging and deployment of Python apps (specifically Django apps). It's a hot topic in Django community now."
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,78424,75798,3,"I have two friends who originally started writing an application using Ruby on Rails, but ran into a number of issues and limitations. After about 8 weeks of working on it, they decided to investigate other alternatives. They settled on the Catalyst Framework, and Perl. That was about 4 months ago now, and they've repeatedly talked about how much better the application is going, and how much more flexibility they have. With Perl, you have all of CPAN available to you, along with the large quantity of tools included. I'd suggest taking a look at it, at least."
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,81699,75798,1,"Personally I made some rather big projects with Django, but I can compare only with said ""montrosities"" (Spring, EJB) and really low-level stuff like Twisted. Web frameworks using interpreted languages are mostly in its infancy and all of them (actively maintained, that is) are getting better with every day."
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,83075,75798,1,"By ""good deployment"" are you comparing it with Java's EAR files, which allow you to deploy web applications by uploading a single file to a J2EE server? (And, to a lesser extent, WAR files; EAR files can have WAR files for dependent projects) I don't think Django or Rails have gotten quite to that point yet, but I could be wrong... zuber pointed out an article with more details on the Python side. Capistrano may help out on the Ruby side. Unfortunately, I haven't really worked with either Python or Ruby that much, so I can't help out on profilers or debuggers."
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,97778,75798,3,"The ""good deployment"" issue -- for Python -- doesn't have the Deep Significance that it has for Java. Python deployment for Django is basically ""move the files"". You can run straight out of the subversion trunk directory if you want to. You can, without breaking much of a sweat, using the Python distutils and build yourself a distribution kit that puts your Django apps into Python's site-packages. I'm not a big fan of it, but it's really easy to do. Since my stuff runs in Linux, I have simple ""install.py"" scripts that move stuff out of the Subversion directories into /opt/this and /opt/that directories. I use an explicit path settings in my Apache configuration to name those directories where the applications live. Patching can be done by editing the files in place. (A bad policy.) I prefer to edit in the SVN location and rerun my little install to be sure I actually have all the files under control."
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,460360,75798,9,"Grails. Grails just looks like Rails (Ruby),but it uses groovy which is simpler than java. It uses java technology and you can use any java lib without any trouble. I also choose Grails over simplicity and there are lots of java lib (such as jasper report, jawr etc) and I am glad that now they join with SpringSource which makes their base solid."
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,1955727,75798,26,"You asked for someone who used both Grails and Django. I've done work on both for big projects. Here's my Thoughts: IDE's: Django works really well in Eclipse, Grails works really well in IntelliJ Idea. Debugging: Practically the same (assuming you use IntelliJ for Grails, and Eclipse for Python). Step debugging, inspecting variables, etc... never need a print statement for either. Sometimes django error messages can be useless but Grails error messages are usually pretty lengthy and hard to parse through. Time to run a unit test: django: 2 seconds. Grails: 20 seconds (the tests themselves both run in a fraction of a second, it's the part about loading the framework to run them that takes the rest... as you can see, Grails is frustratingly slow to load). Deployment: Django: copy &amp; paste one file into an apache config, and to redeploy, just change the code and reload apache. Grails: create a .war file, deploy it on tomcat, rinse and repeat to redeploy. Programming languages: Groovy is TOTALLY awesome. I love it, more so than Python. But I certainly have no complaints. Plugins: Grails: lots of broken plugins (and can use every java lib ever). Django: a few stable plugins, but enough to do most of what you need. Database: Django: schema migrations using South, and generally intuitive relations. Grails: no schema migrations, and by default it deletes the database on startup... WTF Usage: Django: startups (especially in the Gov 2.0 space), independent web dev shops. Grails: enterprise Hope that helps!"
75798,16,"I'm wondering if there's such a thing as Django-like ease of web app development combined with good deployment, debugging and other tools? Django is a very productive framework for building content-heavy sites; the best I've tried and a breath of fresh air compared to some of the Java monstrosities out there. However it's written in Python which means there's little real support in the way of deployment/packaging, debugging, profilers and other tools that make building and maintaining applications much easier. Ruby has similar issues and although I do like Ruby much better than I like Python, I get the impression that Rails is roughly in the same boat at Django when it comes to managing/supporting the app. Has anyone here tried both Django and Grails (or other web frameworks) for non-trivial projects? How did they compare?",Django -vs- Grails -vs-?,1997668,75798,7,"The statement that grails deletes the database on start-up is completely wrong. It's behavior on start-up is completely configurable and easy to configure. I generally use create-drop when running an app in dev mode. I use update when I run in test and production. I also love the bootstrap processing that lets me pre-configure test users, data, etc by environment in Grails. I'd love to see someone who has really built and deployed some commercial projects comment on the pros / cons. Be a really interesting read."
75829,5,"All the docs for SQLAlchemy give INSERT and UPDATE examples using the local table instance (e.g. tablename.update()... ) Doing this seems difficult with the declarative syntax, I need to reference Base.metadata.tables[""tablename""] to get the table reference. Am I supposed to do this another way? Is there a different syntax for INSERT and UPDATE recommended when using the declarative syntax? Should I just switch to the old way?",Best way to access table instances when using SQLAlchemy's declarative syntax,77962,75829,2,via the __table__ attribute on your declarative class
75829,5,"All the docs for SQLAlchemy give INSERT and UPDATE examples using the local table instance (e.g. tablename.update()... ) Doing this seems difficult with the declarative syntax, I need to reference Base.metadata.tables[""tablename""] to get the table reference. Am I supposed to do this another way? Is there a different syntax for INSERT and UPDATE recommended when using the declarative syntax? Should I just switch to the old way?",Best way to access table instances when using SQLAlchemy's declarative syntax,156968,75829,7,well it works for me: class Users(Base): __tablename__ = 'users' __table_args__ = {'autoload':True} users = Users() print users.__table__.select() ...SELECT users.......
75829,5,"All the docs for SQLAlchemy give INSERT and UPDATE examples using the local table instance (e.g. tablename.update()... ) Doing this seems difficult with the declarative syntax, I need to reference Base.metadata.tables[""tablename""] to get the table reference. Am I supposed to do this another way? Is there a different syntax for INSERT and UPDATE recommended when using the declarative syntax? Should I just switch to the old way?",Best way to access table instances when using SQLAlchemy's declarative syntax,315406,75829,0,"There may be some confusion between table (the object) and tablename (the name of the table, a string). Using the table class attribute works fine for me."
76096,8,"I'm trying to keep dependencies to a minimum for a program I contribute to, it's a small text editor. GTK Textview doesn't seem to come with a built-in undo function. Is there any reference implementation I've been missing on so far? Is everyone writing their own undo function for their TextView widgets? I'll be happy about any sample code - most happy about python sample code, as our project is in python.",Undo with GTK TextView,76453,76096,3,"As far as I know, GTK TextView doesn't include an undo function. So while I am not familiar with Python's GTK library, I would think it doesn't have one. The Ruby-GNOME2 project has a sample text editor that has undo/redo functionality. Basically they are connecting to the insert_text and delete_range signals of the TextView widget and recording the events and associated data in a list."
76096,8,"I'm trying to keep dependencies to a minimum for a program I contribute to, it's a small text editor. GTK Textview doesn't seem to come with a built-in undo function. Is there any reference implementation I've been missing on so far? Is everyone writing their own undo function for their TextView widgets? I'll be happy about any sample code - most happy about python sample code, as our project is in python.",Undo with GTK TextView,80992,76096,3,"Depending on just how dependency-averse you are, and what kind of text editor you're building, GtkSourceView adds undo/redo among many other things. Very worth looking at if you want some of the other features it offers."
76096,8,"I'm trying to keep dependencies to a minimum for a program I contribute to, it's a small text editor. GTK Textview doesn't seem to come with a built-in undo function. Is there any reference implementation I've been missing on so far? Is everyone writing their own undo function for their TextView widgets? I'll be happy about any sample code - most happy about python sample code, as our project is in python.",Undo with GTK TextView,586115,76096,4,"as a follwow-up: I ported gtksourceview's undo mechanism to python: http://bitbucket.org/tiax/gtk-textbuffer-with-undo/ serves as a drop-in replacement for gtksourceview's undo (OP here, but launchpad open-id doesn't work anymore)"
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",77093,77086,1,"If it ain't broke don't fix it. Just write a quick test, but bear in mind that each language will be faster with certain functions then the other."
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",77112,77086,0,"The only right answer is ""It depends"". There's a lot of variables that can affect the performance, and you can optimize many things in either situation."
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",77138,77086,1,Check out the programming languages shootout: http://dada.perl.it/shootout/
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",77166,77086,1,"You need to be able to make a business case for switching, not just that ""it's faster"". If a site built on technology B costs 20% more in developer time for maintenance over a set period (say, 3 years), it would likely be cheaper to add another webserver to the system running technology A to bridge the performance gap. Just saying ""we should switch to technology B because technology B is faster!"" doesn't really work. Since Python is far less ubiquitous than PHP, I wouldn't be surprised if hosting, developer, and other maintenance costs for it (long term) would have it fit this scenario."
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",77174,77086,2,"It's about the same. The difference shouldn't be large enough to be the reason to pick one or the other. Don't try to compare them by writing your own tiny benchmarks (""hello world"") because you will probably not have results that are representative of a real web site generating a more complex page."
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",77220,77086,2,PHP and Python are similiar enough to not warrent any kind of switching. Any performance improvement you might get from switching from one language to another would be vastly outgunned by simply not spending the money on converting the code (you don't code for free right?) and just buy more hardware.
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",77297,77086,27,"There's no point in attempting to convince your employer to port from PHP to Python, especially not for an existing system, which is what I think you implied in your question. The reason for this is that you already have a (presumably) working system, with an existing investment of time and effort (and experience). To discard this in favour of a trivial performance gain (not that I'm claiming there would be one) would be foolish, and no manager worth his salt ought to endorse it. It may also create a problem with maintainability, depending on who else has to work with the system, and their experience with Python."
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",79744,77086,81,"It sounds like you don't want to compare the two languages, but that you want to compare two web systems. This is tricky, because there are many variables involved. For example, Python web applications can take advantage of mod_wsgi to talk to web servers, which is faster than any of the typical ways that PHP talks to web servers (even mod_php ends up being slower if you're using Apache, because Apache can only use the Prefork MPM with mod_php rather than multi-threaded MPM like Worker). There is also the issue of code compilation. As you know, Python is compiled just-in-time to byte code (.pyc files) when a file is run each time the file changes. Therefore, after the first run of a Python file, the compilation step is skipped and the Python interpreter simply fetches the precompiled .pyc file. Because of this, one could argue that Python has a native advantage over PHP. However, optimizers and caching systems can be installed for PHP websites (my favorite is eAccelerator) to much the same effect. In general, enough tools exist such that one can pretty much do everything that the other can do. Of course, as others have mentioned, there's more than just speed involved in the business case to switch languages. We have an app written in oCaml at my current employer, which turned out to be a mistake because the original author left the company and nobody else wants to touch it. Similarly, the PHP-web community is much larger than the Python-web community; Website hosting services are more likely to offer PHP support than Python support; etc. But back to speed. You must recognize that the question of speed here involves many moving parts. Fortunately, many of these parts can be independently optimized, affording you various avenues to seek performance gains."
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",510276,77086,1,"an IS organization would not ponder this unless availability was becoming an issue. if so the case, look into replication, load balancing and lots of ram."
77086,27,"Does anyone know how the speed of pylons(or any of the other frameworks) compares to a similar website made with php? I know that serving a python base webpage via cgi is slower than php because of its long start up every time. I enjoy using pylons and I would still use it if it was slower than php. But if pylons was faster than php, I could maybe, hopefully, eventually convince my employer to allow me to convert the site over to pylons.","Which is faster, python webpages or php webpages?",2412215,77086,0,"I had to come back to web development at my new job, and, if not Pylons/Python, maybe I would have chosen to live in jungle instead :) In my subjective opinion, PHP is for kindergarten, I did it in my 3rd year of uni and, I believe, many self-respecting (or over-estimating) software engineers will not want to be bothered with PHP code. Why my employers agreed? We (the team) just switched to Python, and they did not have much to say. The website still is and will be PHP, but we are developing other applications, including web, in Python. Advantages of Pylons? You can integrate your python libraries into the web app, and that is, imho, a huge advantage. As for performance, we are still having troubles."
77198,3,"I'm doing a tech review and looking at AMF integration with various backends (Rails, Python, Grails etc). Lots of options are out there, question is, what do the Adobe products do (BlazeDS etc) that something like RubyAMF / pyAMF don't?","What does BlazeDS Livecycle Data Services do, that something like PyAMF or RubyAMF not do?",77458,77198,1,"Good question. I'm not a ruby guy (i use java with flex), but what I believe differentiates blazeds vs commercial livecycle ds is Streaming protocol support (rtmp) - competition for comet and such, delivering video Some advanced stuff for hibernate detached objects and large resultset caching that I don't fully understand or need support? Might be others but those are the ones I know off the top of my head."
77198,3,"I'm doing a tech review and looking at AMF integration with various backends (Rails, Python, Grails etc). Lots of options are out there, question is, what do the Adobe products do (BlazeDS etc) that something like RubyAMF / pyAMF don't?","What does BlazeDS Livecycle Data Services do, that something like PyAMF or RubyAMF not do?",83014,77198,2,"Adobe has two products: Livecycle Data Services ES (LCDS) and BlazeDS. BlazeDS contains a subset of LCDS features and was made open source. Unfortunately NIO channels (RTMP NIO/HTTP) and the DataManagement features are implemented only in LCDS, not BlazeDS. BlazeDS can be used only to integrate Flex with Java backend. It offers not only remoting services using AMF serialization (as RubyAMF) but also messaging and collaboration features - take a look at this link (http://livedocs.adobe.com/blazeds/1/blazeds_devguide/help.html?content=lcoverview_3.html). Also I suppose that the support is better compared with RubyAMF/pyAMF. If your backend is JAVA and you want to use only a free product you can also use GraniteDS or WebORB (BlazeDS competitors)"
77198,3,"I'm doing a tech review and looking at AMF integration with various backends (Rails, Python, Grails etc). Lots of options are out there, question is, what do the Adobe products do (BlazeDS etc) that something like RubyAMF / pyAMF don't?","What does BlazeDS Livecycle Data Services do, that something like PyAMF or RubyAMF not do?",98180,77198,3,"Other than NIO (RTMP) channels, LCDS include also the ""data management"" features. Using this feature, you basically implement, in an ActionScript class, a CRUD-like interface defined by LCDS, and you get: automatic progressive list loading (large lists/datagrids loads while scrolling) automatic crud management (you get object locally in flash, modify it, send it back and DB will get updated automatically) feature for conflict resolution (if multiple user try to updated the same record at the same time) if I remember well, also some improved integration with the LiveCycle ES workflow engine IMO, it can be very fast to develop this way, but only if you have only basic requirements and a simple architecture (forget SOA, that otherwise works so well with Flex). I'm fine with BlazeDS."
77198,3,"I'm doing a tech review and looking at AMF integration with various backends (Rails, Python, Grails etc). Lots of options are out there, question is, what do the Adobe products do (BlazeDS etc) that something like RubyAMF / pyAMF don't?","What does BlazeDS Livecycle Data Services do, that something like PyAMF or RubyAMF not do?",99603,77198,3,"The data management features for LCDS described here are certainly valid, however I believe they do not let you actually develop a solution faster. A developer still has to write ALL the data access code, query execution, extracting data from datareaders into value objects. ALL of this has been solved a dozen of times with code generators. For instance the data management approach in WebORB for Java (much like in WebORB for .NET and PHP) is based on code generation which creates code for both client side AND server-side. You get all the ActionScript APIs out of the code generator to do full CRUD. Additionally, WebORB provides video streaming and real-time messaging features and goes WAY beyond what both BlazeDS and LCDS offer combined, especially considering that the product is free. Just google it."
77552,73,Why is it bad to name a variable id in Python?,'id' is a bad variable name in Python,77563,77552,3,Because it's the name of a builtin function.
77552,73,Why is it bad to name a variable id in Python?,'id' is a bad variable name in Python,77600,77552,3,It's bad to name any variable after a built in function. One of the reasons is because it can be confusing to a reader that doesn't know the name is overridden.
77552,73,Why is it bad to name a variable id in Python?,'id' is a bad variable name in Python,77606,77552,1,"'id' is a built-in method in Python. Assigning a value to 'id' will overwrite the method. It is best to use either an identifier before as in ""some_id"" or use it in a different capitalization method. The built in method takes a single parameter and returns an integer for the memory address of the object that you passed. &gt;&gt;&gt;id(1) 9787760 &gt;&gt;&gt;x = 1 &gt;&gt;&gt;id(x) 9787760"
77552,73,Why is it bad to name a variable id in Python?,'id' is a bad variable name in Python,77612,77552,87,"id() is a fundamental built-in: Help on built-in function id in module __builtin__: id(...) id(object) -&gt; integer Return the identity of an object. This is guaranteed to be unique among simultaneously existing objects. (Hint: it's the object's memory address.) In general, using variable names that eclipse a keyword or built-in function in any language is a bad idea, even if it is allowed."
77552,73,Why is it bad to name a variable id in Python?,'id' is a bad variable name in Python,77925,77552,30,"I might say something unpopular here: id() is a rather specialized built-in function that is rarely used in business logic. Therefore I don't see a problem in using it as a variable name in a tight and well-written function, where it's clear that id doesn't mean the built-in function."
77552,73,Why is it bad to name a variable id in Python?,'id' is a bad variable name in Python,78433,77552,-6,"Because python is a dynamic language, it's not usually a good idea to give a variable and a function the same name. id() is a function in python, so it's recommend not to use a variable named id. Bearing that in mind, that applies to all functions that you might use... a variable shouldn't have the same name as a function."
77552,73,Why is it bad to name a variable id in Python?,'id' is a bad variable name in Python,79198,77552,38,"id is a built-in function that gives the memory address of an object. If you name one of your functions id, you will have to say __builtins__.id to get the original. Renaming id globally is confusing in anything but a small script. However, reusing built-in names as variables isn't all that bad as long as the use is local. Python has a lot of built-in functions that (1) have common names and (2) you will not use much anyway. Using these as local variables or as members of an object is OK because it's obvious from context what you're doing: Example: def numbered(filename): file = open(filename) for i,input in enumerate(file): print ""%s:\t%s"" % (i,input) file.close() Some built-ins with tempting names: id file list map all, any complex dir input slice buffer"
77731,4,"At my current gig, we use iBATIS through Java to CRUD our databases. I like the abstract qualities of the tool, especially when working with legacy databases, as it doesn't impose its own syntax on you. I'm looking for a Python analogue to this library, since the website only has Java/.NET/Ruby versions available. I don't want to have to switch to Jython if I don't need to. Are there any other projects similar to iBATIS functionality out there for Python?",iBATIS for Python?,77859,77731,1,Perhaps SQLAlchemy SQL Expression support is suitable. See the documentation.
77731,4,"At my current gig, we use iBATIS through Java to CRUD our databases. I like the abstract qualities of the tool, especially when working with legacy databases, as it doesn't impose its own syntax on you. I'm looking for a Python analogue to this library, since the website only has Java/.NET/Ruby versions available. I don't want to have to switch to Jython if I don't need to. Are there any other projects similar to iBATIS functionality out there for Python?",iBATIS for Python?,78147,77731,10,"iBatis sequesters the SQL DML (or the definitions of the SQL) in an XML file. It specifically focuses on the mapping between the SQL and some object model defined elsewhere. SQL Alchemy can do this -- but it isn't really a very complete solution. Like iBatis, you can merely have SQL table definitions and a mapping between the tables and Python class definitions. What's more complete is to have a class definition that is also the SQL database definition. If the class definition generates the SQL Table DDL as well as the query and processing DML, that's much more complete. I flip-flop between SQLAlchemy and the Django ORM. SQLAlchemy can be used in an iBatis like manner. But I prefer to make the object design central and leave the SQL implementation be derived from the objects by the toolset. I use SQLAlchemy for large, batch, stand-alone projects. DB Loads, schema conversions, DW reporting and the like work out well. In these projects, the focus is on the relational view of the data, not the object model. The SQL that's generated may be moved into PL/SQL stored procedures, for example. I use Django for web applications, exploiting its built-in ORM capabilities. You can, with a little work, segregate the Django ORM from the rest of the Django environment. You can provide global settings to bind your app to a specific database without using a separate settings module. Django includes a number of common relationships (Foreign Key, Many-to-Many, One-to-One) for which it can manage the SQL implementation. It generates key and index definitions for the attached database. If your problem is largely object-oriented, with the database being used for persistence, then the nearly transparent ORM layer of Django has advantages. If your problem is largely relational, with the SQL processing central, then the capability of seeing the generated SQL in SQLAlchemy has advantages."
77936,10,"As part of a project at work I have to calculate the centroid of a set of points in 3D space. Right now I'm doing it in a way that seems simple but naive -- by taking the average of each set of points, as in: centroid = average(x), average(y), average(z) where x, y and z are arrays of floating-point numbers. I seem to recall that there is a way to get a more accurate centroid, but I haven't found a simple algorithm for doing so. Anyone have any ideas or suggestions? I'm using Python for this, but I can adapt examples from other languages.",What's the best way to calculate a 3D (or n-D) centroid?,77978,77936,12,"Nope, that is the only formula for the centroid of a collection of points. See Wikipedia: http://en.wikipedia.org/wiki/Centroid"
77936,10,"As part of a project at work I have to calculate the centroid of a set of points in 3D space. Right now I'm doing it in a way that seems simple but naive -- by taking the average of each set of points, as in: centroid = average(x), average(y), average(z) where x, y and z are arrays of floating-point numbers. I seem to recall that there is a way to get a more accurate centroid, but I haven't found a simple algorithm for doing so. Anyone have any ideas or suggestions? I'm using Python for this, but I can adapt examples from other languages.",What's the best way to calculate a 3D (or n-D) centroid?,77985,77936,-1,"You got it. What you are calculating is the centroid, or the mean vector."
77936,10,"As part of a project at work I have to calculate the centroid of a set of points in 3D space. Right now I'm doing it in a way that seems simple but naive -- by taking the average of each set of points, as in: centroid = average(x), average(y), average(z) where x, y and z are arrays of floating-point numbers. I seem to recall that there is a way to get a more accurate centroid, but I haven't found a simple algorithm for doing so. Anyone have any ideas or suggestions? I'm using Python for this, but I can adapt examples from other languages.",What's the best way to calculate a 3D (or n-D) centroid?,77997,77936,-1,"A ""more accurate centroid"" I believe centroid is defined the way you calculated it hence there can be no ""more accurate centroid""."
77936,10,"As part of a project at work I have to calculate the centroid of a set of points in 3D space. Right now I'm doing it in a way that seems simple but naive -- by taking the average of each set of points, as in: centroid = average(x), average(y), average(z) where x, y and z are arrays of floating-point numbers. I seem to recall that there is a way to get a more accurate centroid, but I haven't found a simple algorithm for doing so. Anyone have any ideas or suggestions? I'm using Python for this, but I can adapt examples from other languages.",What's the best way to calculate a 3D (or n-D) centroid?,78046,77936,3,you can use increase accuracy summation - Kahan summation - was that what you had in mind?
77936,10,"As part of a project at work I have to calculate the centroid of a set of points in 3D space. Right now I'm doing it in a way that seems simple but naive -- by taking the average of each set of points, as in: centroid = average(x), average(y), average(z) where x, y and z are arrays of floating-point numbers. I seem to recall that there is a way to get a more accurate centroid, but I haven't found a simple algorithm for doing so. Anyone have any ideas or suggestions? I'm using Python for this, but I can adapt examples from other languages.",What's the best way to calculate a 3D (or n-D) centroid?,78058,77936,0,"Yes that is the correct formula. If you have a large number of points you can exploit the symmetry of the problem (be it cylindrical, spherical, mirror). Otherwise, you can borrow from statistics and average a random number of the points and just have a bit of error."
77936,10,"As part of a project at work I have to calculate the centroid of a set of points in 3D space. Right now I'm doing it in a way that seems simple but naive -- by taking the average of each set of points, as in: centroid = average(x), average(y), average(z) where x, y and z are arrays of floating-point numbers. I seem to recall that there is a way to get a more accurate centroid, but I haven't found a simple algorithm for doing so. Anyone have any ideas or suggestions? I'm using Python for this, but I can adapt examples from other languages.",What's the best way to calculate a 3D (or n-D) centroid?,85787,77936,2,"Potentially more efficient: if you're calculating this multiple times, you can speed this up quite a bit by keeping two standing variables N # number of points sums = dict(x=0,y=0,z=0) # sums of the locations for each point then changing N and sums whenever points are created or destroyed. This changes things from O(N) to O(1) for calculations at the cost of more work every time a point is created, moves, or is destroyed."
77936,10,"As part of a project at work I have to calculate the centroid of a set of points in 3D space. Right now I'm doing it in a way that seems simple but naive -- by taking the average of each set of points, as in: centroid = average(x), average(y), average(z) where x, y and z are arrays of floating-point numbers. I seem to recall that there is a way to get a more accurate centroid, but I haven't found a simple algorithm for doing so. Anyone have any ideas or suggestions? I'm using Python for this, but I can adapt examples from other languages.",What's the best way to calculate a 3D (or n-D) centroid?,88394,77936,10,"You vaguely mention ""a way to get a more accurate centroid"". Maybe you're talking about a centroid that isn't affected by outliers. For example, the average household income in the USA is probably very high, because a small number of very rich people skew the average; they are the ""outliers"". For that reason, statisticians use the median instead. One way to obtain the median is to sort the values, then pick the value halfway down the list. Maybe you're looking for something like this, but for 2D or 3D points. The problem is, in 2D and higher, you can't sort. There's no natural order. Nevertheless, there are ways to get rid of outliers. One way is to find the convex hull of the points. The convex hull has all the points on the ""outside"" of the set of points. If you do this, and throw out the points that are on the hull, you'll be throwing out the outliers, and the points that remain will give a more ""representative"" centroid. You can even repeat this process several times, and the result is kind like peeling an onion. In fact, it's called ""convex hull peeling""."
78238,1,"I'm developing a graphical application to present data (not a game but a real workhorse app). It needs to be cross platform, so I have chosen: python openGL (I need 3D, blending, textures etc) pyopengl wx/pywx - windowing, dialogs etc. The last component - WX - raises the question. I can put together a very nice looking app (the prototypes look slick) - but when I need to interact with the user to ask questions, get input, I have to use WX. It makes the app look inconsistent to have traditional UI with traditional dialogs and combos and text entry on top of a full screen 3D app with blending, smooth motion, textures etc. Has anyone developed a GUI using OpenGL and python? Can you share with me the toolkits and/or tricks you used? I need combos, text entry, buttons, radios, option buttons, tree view. There are some toolkits out there, but they are either incomplete or old and unmaintained. A great example is pyUI (http://pyui.sourceforge.net/) - looks slick but untouched for years.",OPENGL User Interface Programming,78397,78238,1,"You might want to look at Clutter, it looks pretty cool. I haven't used it yet but I intend to in an upcoming personal project."
78238,1,"I'm developing a graphical application to present data (not a game but a real workhorse app). It needs to be cross platform, so I have chosen: python openGL (I need 3D, blending, textures etc) pyopengl wx/pywx - windowing, dialogs etc. The last component - WX - raises the question. I can put together a very nice looking app (the prototypes look slick) - but when I need to interact with the user to ask questions, get input, I have to use WX. It makes the app look inconsistent to have traditional UI with traditional dialogs and combos and text entry on top of a full screen 3D app with blending, smooth motion, textures etc. Has anyone developed a GUI using OpenGL and python? Can you share with me the toolkits and/or tricks you used? I need combos, text entry, buttons, radios, option buttons, tree view. There are some toolkits out there, but they are either incomplete or old and unmaintained. A great example is pyUI (http://pyui.sourceforge.net/) - looks slick but untouched for years.",OPENGL User Interface Programming,78404,78238,12,"This is not an answer, more of a plea: Please don't do that. Your reimplemented widgets will lack all sorts of functionality that users will miss. Will your text-entry boxes support drag'n'drop? Copy/paste? Right-to-left scripts? Drag-select? Double-click-select? Will all these mechanisms follow the native conventions of each platform you support? With Wx your widgets might look inconsistant with the app, but at least they'll look consistant with the OS which is just as important. And more importantly, they'll do what users expect. (edit) Three posts, and -3 points? Screw this den of karma-whores. Original poster: I have implemented a basic set of widgets in OpenGL (for a game UI) and it was an endless nightmare of a job."
78238,1,"I'm developing a graphical application to present data (not a game but a real workhorse app). It needs to be cross platform, so I have chosen: python openGL (I need 3D, blending, textures etc) pyopengl wx/pywx - windowing, dialogs etc. The last component - WX - raises the question. I can put together a very nice looking app (the prototypes look slick) - but when I need to interact with the user to ask questions, get input, I have to use WX. It makes the app look inconsistent to have traditional UI with traditional dialogs and combos and text entry on top of a full screen 3D app with blending, smooth motion, textures etc. Has anyone developed a GUI using OpenGL and python? Can you share with me the toolkits and/or tricks you used? I need combos, text entry, buttons, radios, option buttons, tree view. There are some toolkits out there, but they are either incomplete or old and unmaintained. A great example is pyUI (http://pyui.sourceforge.net/) - looks slick but untouched for years.",OPENGL User Interface Programming,78483,78238,1,"Try Qt instead of wx. QT is cross platform, and you can style things alot using CSS. It's extremely well documented and has excellent python bindings. In point of fact, I use the C++ documentation and not the PyQT documentation."
78238,1,"I'm developing a graphical application to present data (not a game but a real workhorse app). It needs to be cross platform, so I have chosen: python openGL (I need 3D, blending, textures etc) pyopengl wx/pywx - windowing, dialogs etc. The last component - WX - raises the question. I can put together a very nice looking app (the prototypes look slick) - but when I need to interact with the user to ask questions, get input, I have to use WX. It makes the app look inconsistent to have traditional UI with traditional dialogs and combos and text entry on top of a full screen 3D app with blending, smooth motion, textures etc. Has anyone developed a GUI using OpenGL and python? Can you share with me the toolkits and/or tricks you used? I need combos, text entry, buttons, radios, option buttons, tree view. There are some toolkits out there, but they are either incomplete or old and unmaintained. A great example is pyUI (http://pyui.sourceforge.net/) - looks slick but untouched for years.",OPENGL User Interface Programming,78589,78238,3,"Python + Qt + OpenGL - I surely believe any application can be written faster and better using python. QT4 is cross-platform, beautifull, implements everything you need from widgets (acessibility, etc...), and...it integrates with OpenGL. That means, you can simply have a widget that is a viewport to openGL stuff you render in your code. Another 3D capable solution that would cover most things, but not so nioce on user interface is to extend Blender3D with a python script. It has the 3d capabilities and rendering , you script it in python all of the same, and it would be cross platform - and you get higher level tools for woriking with the 3D things than openGL alone. There are obvious drawbacks, mainly from the UI standpoint when compared with PyQT but it could be done."
78238,1,"I'm developing a graphical application to present data (not a game but a real workhorse app). It needs to be cross platform, so I have chosen: python openGL (I need 3D, blending, textures etc) pyopengl wx/pywx - windowing, dialogs etc. The last component - WX - raises the question. I can put together a very nice looking app (the prototypes look slick) - but when I need to interact with the user to ask questions, get input, I have to use WX. It makes the app look inconsistent to have traditional UI with traditional dialogs and combos and text entry on top of a full screen 3D app with blending, smooth motion, textures etc. Has anyone developed a GUI using OpenGL and python? Can you share with me the toolkits and/or tricks you used? I need combos, text entry, buttons, radios, option buttons, tree view. There are some toolkits out there, but they are either incomplete or old and unmaintained. A great example is pyUI (http://pyui.sourceforge.net/) - looks slick but untouched for years.",OPENGL User Interface Programming,85490,78238,1,"Both wx and QT do an excellent job of creating an application that matches the OS look and feel. It is also possible to implment all the widgets yourself directly in openg, this slashdot post lists some of the sets available http://ask.slashdot.org/askslashdot/02/12/24/1813219.shtml?tid=156 fox is probably the most developed but looks like windows on all platforms."
78238,1,"I'm developing a graphical application to present data (not a game but a real workhorse app). It needs to be cross platform, so I have chosen: python openGL (I need 3D, blending, textures etc) pyopengl wx/pywx - windowing, dialogs etc. The last component - WX - raises the question. I can put together a very nice looking app (the prototypes look slick) - but when I need to interact with the user to ask questions, get input, I have to use WX. It makes the app look inconsistent to have traditional UI with traditional dialogs and combos and text entry on top of a full screen 3D app with blending, smooth motion, textures etc. Has anyone developed a GUI using OpenGL and python? Can you share with me the toolkits and/or tricks you used? I need combos, text entry, buttons, radios, option buttons, tree view. There are some toolkits out there, but they are either incomplete or old and unmaintained. A great example is pyUI (http://pyui.sourceforge.net/) - looks slick but untouched for years.",OPENGL User Interface Programming,138630,78238,7,"In the latest releases of QT you can draw widgets into your OpenGL context, if you really would like to do something like that. Otherwise there is CEGui that is used in some game engines. Implementing GUI Widgets yourself unless you want to edify yourself is a waste of your time, unless you would be satisfied with the most rudimentary of looks and functionality."
78431,5,"I would like to replicate this in python: gvimdiff &lt;(hg cat file.txt) file.txt (hg cat file.txt outputs the most recently committed version of file.txt) I know how to pipe the file to gvimdiff, but it won't accept another file: $ hg cat file.txt | gvimdiff file.txt - Too many edit arguments: ""-"" Getting to the python part... # hgdiff.py import subprocess import sys file = sys.argv[1] subprocess.call([""gvimdiff"", ""&lt;(hg cat %s)"" % file, file]) When subprocess is called it merely passes &lt;(hg cat file) onto gvimdiff as a filename. So, is there any way to redirect a command as bash does? For simplicity's sake just cat a file and redirect it to diff: diff &lt;(cat file.txt) file.txt",Redirect command to input of another in Python,78459,78431,2,"There is also the commands module: import commands status, output = commands.getstatusoutput(""gvimdiff &lt;(hg cat file.txt) file.txt"") There is also the popen set of functions, if you want to actually grok the data from a command as it is running."
78431,5,"I would like to replicate this in python: gvimdiff &lt;(hg cat file.txt) file.txt (hg cat file.txt outputs the most recently committed version of file.txt) I know how to pipe the file to gvimdiff, but it won't accept another file: $ hg cat file.txt | gvimdiff file.txt - Too many edit arguments: ""-"" Getting to the python part... # hgdiff.py import subprocess import sys file = sys.argv[1] subprocess.call([""gvimdiff"", ""&lt;(hg cat %s)"" % file, file]) When subprocess is called it merely passes &lt;(hg cat file) onto gvimdiff as a filename. So, is there any way to redirect a command as bash does? For simplicity's sake just cat a file and redirect it to diff: diff &lt;(cat file.txt) file.txt",Redirect command to input of another in Python,78481,78431,-1,"It just dawned on me that you are probably looking for one of the popen functions. from: http://docs.python.org/lib/module-popen2.html popen3(cmd[, bufsize[, mode]]) Executes cmd as a sub-process. Returns the file objects (child_stdout, child_stdin, child_stderr). namaste, Mark"
78431,5,"I would like to replicate this in python: gvimdiff &lt;(hg cat file.txt) file.txt (hg cat file.txt outputs the most recently committed version of file.txt) I know how to pipe the file to gvimdiff, but it won't accept another file: $ hg cat file.txt | gvimdiff file.txt - Too many edit arguments: ""-"" Getting to the python part... # hgdiff.py import subprocess import sys file = sys.argv[1] subprocess.call([""gvimdiff"", ""&lt;(hg cat %s)"" % file, file]) When subprocess is called it merely passes &lt;(hg cat file) onto gvimdiff as a filename. So, is there any way to redirect a command as bash does? For simplicity's sake just cat a file and redirect it to diff: diff &lt;(cat file.txt) file.txt",Redirect command to input of another in Python,78482,78431,8,"It can be done. As of Python 2.5, however, this mechanism is Linux-specific and not portable: import subprocess import sys file = sys.argv[1] p1 = subprocess.Popen(['hg', 'cat', file], stdout=subprocess.PIPE) p2 = subprocess.Popen([ 'gvimdiff', '/proc/self/fd/%s' % p1.stdout.fileno(), file]) p2.wait() That said, in the specific case of diff, you can simply take one of the files from stdin, and remove the need to use the bash-alike functionality in question: file = sys.argv[1] p1 = subprocess.Popen(['hg', 'cat', file], stdout=subprocess.PIPE) p2 = subprocess.Popen(['diff', '-', file], stdin=p1.stdout) diff_text = p2.communicate()[0]"
78431,5,"I would like to replicate this in python: gvimdiff &lt;(hg cat file.txt) file.txt (hg cat file.txt outputs the most recently committed version of file.txt) I know how to pipe the file to gvimdiff, but it won't accept another file: $ hg cat file.txt | gvimdiff file.txt - Too many edit arguments: ""-"" Getting to the python part... # hgdiff.py import subprocess import sys file = sys.argv[1] subprocess.call([""gvimdiff"", ""&lt;(hg cat %s)"" % file, file]) When subprocess is called it merely passes &lt;(hg cat file) onto gvimdiff as a filename. So, is there any way to redirect a command as bash does? For simplicity's sake just cat a file and redirect it to diff: diff &lt;(cat file.txt) file.txt",Redirect command to input of another in Python,78923,78431,2,"This is actually an example in the docs: p1 = Popen([""dmesg""], stdout=PIPE) p2 = Popen([""grep"", ""hda""], stdin=p1.stdout, stdout=PIPE) output = p2.communicate()[0] which means for you: import subprocess import sys file = sys.argv[1] p1 = Popen([""hg"", ""cat"", file], stdout=PIPE) p2 = Popen([""gvimdiff"", ""file.txt""], stdin=p1.stdout, stdout=PIPE) output = p2.communicate()[0] This removes the use of the linux-specific /proc/self/fd bits, making it probably work on other unices like Solaris and the BSDs (including MacOS) and maybe even work on Windows."
78450,6,"I'm trying to use Python with ReportLab 2.2 to create a PDF report. According to the user guide, Special TableStyle Indeces [sic] In any style command the first row index may be set to one of the special strings 'splitlast' or 'splitfirst' to indicate that the style should be used only for the last row of a split table, or the first row of a continuation. This allows splitting tables with nicer effects around the split. I've tried using several style elements, including: ('TEXTCOLOR', (0, 'splitfirst'), (1, 'splitfirst'), colors.black) ('TEXTCOLOR', (0, 'splitfirst'), (1, 0), colors.black) ('TEXTCOLOR', (0, 'splitfirst'), (1, -1), colors.black) and none of these seems to work. The first generates a TypeError with the message: TypeError: cannot concatenate 'str' and 'int' objects and the latter two generate TypeErrors with the message: TypeError: an integer is required Is this functionality simply broken or am I doing something wrong? If the latter, what am I doing wrong?",Python ReportLab use of splitfirst/splitlast,78702,78450,0,[...] In any style command the first row index may be set to one of the special strings [...] In your first example you're setting the second row index to a special string as well. Not sure why the other two don't work... Are you sure this is where the exception is coming from?
78450,6,"I'm trying to use Python with ReportLab 2.2 to create a PDF report. According to the user guide, Special TableStyle Indeces [sic] In any style command the first row index may be set to one of the special strings 'splitlast' or 'splitfirst' to indicate that the style should be used only for the last row of a split table, or the first row of a continuation. This allows splitting tables with nicer effects around the split. I've tried using several style elements, including: ('TEXTCOLOR', (0, 'splitfirst'), (1, 'splitfirst'), colors.black) ('TEXTCOLOR', (0, 'splitfirst'), (1, 0), colors.black) ('TEXTCOLOR', (0, 'splitfirst'), (1, -1), colors.black) and none of these seems to work. The first generates a TypeError with the message: TypeError: cannot concatenate 'str' and 'int' objects and the latter two generate TypeErrors with the message: TypeError: an integer is required Is this functionality simply broken or am I doing something wrong? If the latter, what am I doing wrong?",Python ReportLab use of splitfirst/splitlast,94869,78450,2,"Well, it looks as if I will be answering my own question. First, the documentation flat out lies where it reads ""In any style command the first row index may be set to one of the special strings 'splitlast' or 'splitfirst' to indicate that the style should be used only for the last row of a split table, or the first row of a continuation."" In the current release, the ""splitlast"" and ""splitfirst"" row indices break with the aforementioned TypeErrors on the TEXTCOLOR and BACKGROUND commnds. My suspicion, based on reading the source code, is that only the tablestyle line commands (GRID, BOX, LINEABOVE, and LINEBELOW) are currently compatible with the 'splitfirst' and 'splitlast' row indices. I suspect that all cell commands break with the aforementioned TypeErrors. However, I was able to do what I wanted by subclassing the Table class and overriding the onSplit method. Here is my code: class XTable(Table): def onSplit(self, T, byRow=1): T.setStyle(TableStyle([ ('TEXTCOLOR', (0, 1), (1, 1), colors.black)])) What this does is apply the text color black to the first and second cell of the second row of each page. (The first row is a header, repeated by the repeatRows parameter of the Table.) More precisely, it is doing this to the first and second cell of each frame, but since I am using the SimpleDocTemplate, frames and pages are identical."
78450,6,"I'm trying to use Python with ReportLab 2.2 to create a PDF report. According to the user guide, Special TableStyle Indeces [sic] In any style command the first row index may be set to one of the special strings 'splitlast' or 'splitfirst' to indicate that the style should be used only for the last row of a split table, or the first row of a continuation. This allows splitting tables with nicer effects around the split. I've tried using several style elements, including: ('TEXTCOLOR', (0, 'splitfirst'), (1, 'splitfirst'), colors.black) ('TEXTCOLOR', (0, 'splitfirst'), (1, 0), colors.black) ('TEXTCOLOR', (0, 'splitfirst'), (1, -1), colors.black) and none of these seems to work. The first generates a TypeError with the message: TypeError: cannot concatenate 'str' and 'int' objects and the latter two generate TypeErrors with the message: TypeError: an integer is required Is this functionality simply broken or am I doing something wrong? If the latter, what am I doing wrong?",Python ReportLab use of splitfirst/splitlast,2623783,78450,1,"This seems to be a bug in the ReportLab Table class. Another fix for this in addition to DLJessup's own answer is to modify the ReportLab code that's causing the error, in Table._drawBkgrnd(), around line 1301. For 'splitlast', change: y0 = rowpositions[sr] to: if sr == 'splitlast': y0 = rowpositions[-2] # last value is 0. Second last is the one we want. else: y0 = rowpositions[sr] This is easily done in your own code without hacking ReportLab by subclassing Table and overwriting this method. I've not had need to use 'splitfirst'; if I do I'll post the rest of the hack here."
78799,54,"What I'm talking about here are nested classes. Essentially, I have two classes that I'm modeling. A DownloadManager class and a DownloadThread class. The obvious OOP concept here is composition. However, composition doesn't necessarily mean nesting, right? I have code that looks something like this: class DownloadThread: def foo(self): pass class DownloadManager(): def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadThread()) But now I'm wondering if there's a situation where nesting would be better. Something like: class DownloadManager(): class DownloadThread: def foo(self): pass def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadManager.DownloadThread())",Is there a benefit to defining a class inside another class in Python?,78855,78799,1,"No, composition does not mean nesting. It would make sense to have a nested class if you want to hide it more in the namespace of the outer class. Anyway, I don't see any practical use for nesting in your case. It would make the code harder to read (understand) and it would also increase the indentation which would make the lines shorter and more prone to splitting."
78799,54,"What I'm talking about here are nested classes. Essentially, I have two classes that I'm modeling. A DownloadManager class and a DownloadThread class. The obvious OOP concept here is composition. However, composition doesn't necessarily mean nesting, right? I have code that looks something like this: class DownloadThread: def foo(self): pass class DownloadManager(): def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadThread()) But now I'm wondering if there's a situation where nesting would be better. Something like: class DownloadManager(): class DownloadThread: def foo(self): pass def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadManager.DownloadThread())",Is there a benefit to defining a class inside another class in Python?,78858,78799,72,"You might want to do this when the ""inner"" class is a one-off, which will never be used outside the definition of the outer class. For example to use a metaclass, it's sometimes handy to do class Foo(object): class __metaclass__(type): .... instead of defining a metaclass separately, if you're only using it once. The only other time I've used nested classes like that, I used the outer class only as a namespace to group a bunch of closely related classes together: class Group(object): class cls1(object): ... class cls2(object): ... Then from another module, you can import Group and refer to these as Group.cls1, Group.cls2 etc. However one might argue that you can accomplish exactly the same (perhaps in a less confusing way) by using a module."
78799,54,"What I'm talking about here are nested classes. Essentially, I have two classes that I'm modeling. A DownloadManager class and a DownloadThread class. The obvious OOP concept here is composition. However, composition doesn't necessarily mean nesting, right? I have code that looks something like this: class DownloadThread: def foo(self): pass class DownloadManager(): def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadThread()) But now I'm wondering if there's a situation where nesting would be better. Something like: class DownloadManager(): class DownloadThread: def foo(self): pass def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadManager.DownloadThread())",Is there a benefit to defining a class inside another class in Python?,78868,78799,14,"I don't know Python, but your question seems very general. Ignore me if it's specific to Python. Class nesting is all about scope. If you think that one class will only make sense in the context of another one, then the former is probably a good candidate to become a nested class. It is a common pattern make helper classes as private, nested classes."
78799,54,"What I'm talking about here are nested classes. Essentially, I have two classes that I'm modeling. A DownloadManager class and a DownloadThread class. The obvious OOP concept here is composition. However, composition doesn't necessarily mean nesting, right? I have code that looks something like this: class DownloadThread: def foo(self): pass class DownloadManager(): def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadThread()) But now I'm wondering if there's a situation where nesting would be better. Something like: class DownloadManager(): class DownloadThread: def foo(self): pass def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadManager.DownloadThread())",Is there a benefit to defining a class inside another class in Python?,78968,78799,2,"You could be using a class as class generator. Like (in some off the cuff code :) class gen(object): class base_1(object): pass ... class base_n(object): pass def __init__(self, ...): ... def mk_cls(self, ..., type): '''makes a class based on the type passed in, the current state of the class, and the other inputs to the method''' I feel like when you need this functionality it will be very clear to you. If you don't need to be doing something similar than it probably isn't a good use case."
78799,54,"What I'm talking about here are nested classes. Essentially, I have two classes that I'm modeling. A DownloadManager class and a DownloadThread class. The obvious OOP concept here is composition. However, composition doesn't necessarily mean nesting, right? I have code that looks something like this: class DownloadThread: def foo(self): pass class DownloadManager(): def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadThread()) But now I'm wondering if there's a situation where nesting would be better. Something like: class DownloadManager(): class DownloadThread: def foo(self): pass def __init__(self): dwld_threads = [] def create_new_thread(): dwld_threads.append(DownloadManager.DownloadThread())",Is there a benefit to defining a class inside another class in Python?,79094,78799,4,"There is really no benefit to doing this, except if you are dealing with metaclasses. the class: suite really isn't what you think it is. It is a weird scope, and it does strange things. It really doesn't even make a class! It is just a way of collecting some variables - the name of the class, the bases, a little dictionary of attributes, and a metaclass. The name, the dictionary and the bases are all passed to the function that is the metaclass, and then it is assigned to the variable 'name' in the scope where the class: suite was. What you can gain by messing with metaclasses, and indeed by nesting classes within your stock standard classes, is harder to read code, harder to understand code, and odd errors that are terribly difficult to understand without being intimately familiar with why the 'class' scope is entirely different to any other python scope."
78900,3,"I develop an extension module for Guile, written in C. This extension module embeds a Python interpreter. Since this extension module invokes the Python interpreter, I need to verify that it properly manages the memory occupied by Python objects. I found that the Python interpreter is well-behaved in its own memory handling, so that by running valgrind I can find memory leaks due to bugs in my own Python interpreter embedding code, if there are no other interfering factors. However, when I run Guile under valgrind, valgrind reports memory leaks. Such memory leaks obscure any memory leaks due to my own code. The question is what can I do to separate memory leaks due to bugs in my code from memory leaks reported by valgrind as due to Guile. Another tool instead of valgrind? Special valgrind options? Give up and rely upon manual code walkthrough?",How to check for memory leaks in Guile extension modules?,78990,78900,4,"You've got a couple options. One is to write a supressions file for valgrind that turns off reporting of stuff that you're not working on. Python has such a file, for example: http://svn.python.org/projects/python/trunk/Misc/valgrind-python.supp If valgrind doesn't like your setup, another possibility is using libmudflap; you compile your program with gcc -fmudflap -lmudflap, and the resulting code is instrumented for pointer debugging. Described in the gcc docs, and here: http://gcc.gnu.org/wiki/Mudflap_Pointer_Debugging"
79454,5,"Recently I've been experimenting with TDD while developing a GUI application in Python. I find it very reassuring to have tests that verify the functionality of my code, but it's been tricky to follow some of the recommened practices of TDD. Namely, writing tests first has been hard. And I'm finding it difficult to make my tests readable (due to extensive use of a mocking library). I chose a mocking library called mocker. I use it a lot since much of the code I'm testing makes calls to (a) other methods in my application that depend on system state or (b) ObjC/Cocoa objects that cannot exist without an event loop, etc. Anyway, I've got a lot of tests that look like this: def test_current_window_controller(): def test(config): ac = AppController() m = Mocker() ac.iter_window_controllers = iwc = m.replace(ac.iter_window_controllers) expect(iwc()).result(iter(config)) with m: result = ac.current_window_controller() assert result == (config[0] if config else None) yield test, [] yield test, [0] yield test, [1, 0] Notice that this is actually three tests; all use the same parameterized test function. Here's the code that is being tested: def current_window_controller(self): try: # iter_window_controllers() iterates in z-order starting # with the controller of the top-most window # assumption: the top-most window is the ""current"" one wc = self.iter_window_controllers().next() except StopIteration: return None return wc One of the things I've noticed with using mocker is that it's easier to write the application code first and then go back and write the tests second, since most of the time I'm mocking many method calls and the syntax to write the mocked calls is much more verbose (thus harder to write) than the application code. It's easier to write the app code and then model the test code off of that. I find that with this testing method (and a bit of discipline) I can easily write code with 100% test coverage. I'm wondering if these tests are good tests? Will I regret doing it this way down the road when I finally discover the secret to writing good tests? Am I violating the core principles of TDD so much that my testing is in vain?",Testing GUI code: should I use a mocking library?,79667,79454,-2,"Unit tests are really useful when you refactor your code (ie. completely rewrite or move a module). As long as you have unit tests before you do the big changes, you'll have confidence that you havent forgotten to move or include something when you finish."
79454,5,"Recently I've been experimenting with TDD while developing a GUI application in Python. I find it very reassuring to have tests that verify the functionality of my code, but it's been tricky to follow some of the recommened practices of TDD. Namely, writing tests first has been hard. And I'm finding it difficult to make my tests readable (due to extensive use of a mocking library). I chose a mocking library called mocker. I use it a lot since much of the code I'm testing makes calls to (a) other methods in my application that depend on system state or (b) ObjC/Cocoa objects that cannot exist without an event loop, etc. Anyway, I've got a lot of tests that look like this: def test_current_window_controller(): def test(config): ac = AppController() m = Mocker() ac.iter_window_controllers = iwc = m.replace(ac.iter_window_controllers) expect(iwc()).result(iter(config)) with m: result = ac.current_window_controller() assert result == (config[0] if config else None) yield test, [] yield test, [0] yield test, [1, 0] Notice that this is actually three tests; all use the same parameterized test function. Here's the code that is being tested: def current_window_controller(self): try: # iter_window_controllers() iterates in z-order starting # with the controller of the top-most window # assumption: the top-most window is the ""current"" one wc = self.iter_window_controllers().next() except StopIteration: return None return wc One of the things I've noticed with using mocker is that it's easier to write the application code first and then go back and write the tests second, since most of the time I'm mocking many method calls and the syntax to write the mocked calls is much more verbose (thus harder to write) than the application code. It's easier to write the app code and then model the test code off of that. I find that with this testing method (and a bit of discipline) I can easily write code with 100% test coverage. I'm wondering if these tests are good tests? Will I regret doing it this way down the road when I finally discover the secret to writing good tests? Am I violating the core principles of TDD so much that my testing is in vain?",Testing GUI code: should I use a mocking library?,80028,79454,7,"If you are writing your tests after you've written your code and making them pass, you are not doing TDD (nor are you getting any benefits of Test-First or Test-Driven development.. check out SO questions for definitive books on TDD) One of the things I've noticed with using mocker is that it's easier to write the application code first and then go back and write the tests second, since most of the time I'm mocking many method calls and the syntax to write the mocked calls is much more verbose (thus harder to write) than the application code. It's easier to write the app code and then model the test code off of that. Of course, its easier because you are just testing that the sky is orange after you made it orange by painting it with a specific kind of brush. This is retrofitting tests (for self-assurance). Mocks are good but you should know how and when to use them - Like the saying goes 'When you have a hammer everything looks like a nail' It's also easy to write a whole load of unreadable and not-as-helpful-as-can-be tests. The time spent understanding what the test is about is time lost that can be used to fix broken ones. And the point is: Read Mocks aren't stubs - Martin Fowler if you haven't already. Google out some documented instances of good ModelViewPresenter patterned GUIs (Fake/Mock out the UIs if necessary). Study your options and choose wisely. I'll play the guy with the halo on your left shoulder in white saying 'Don't do it.' Read this question as to my reasons - St. Justin is on your right shoulder. I believe he has also something to say:)"
79454,5,"Recently I've been experimenting with TDD while developing a GUI application in Python. I find it very reassuring to have tests that verify the functionality of my code, but it's been tricky to follow some of the recommened practices of TDD. Namely, writing tests first has been hard. And I'm finding it difficult to make my tests readable (due to extensive use of a mocking library). I chose a mocking library called mocker. I use it a lot since much of the code I'm testing makes calls to (a) other methods in my application that depend on system state or (b) ObjC/Cocoa objects that cannot exist without an event loop, etc. Anyway, I've got a lot of tests that look like this: def test_current_window_controller(): def test(config): ac = AppController() m = Mocker() ac.iter_window_controllers = iwc = m.replace(ac.iter_window_controllers) expect(iwc()).result(iter(config)) with m: result = ac.current_window_controller() assert result == (config[0] if config else None) yield test, [] yield test, [0] yield test, [1, 0] Notice that this is actually three tests; all use the same parameterized test function. Here's the code that is being tested: def current_window_controller(self): try: # iter_window_controllers() iterates in z-order starting # with the controller of the top-most window # assumption: the top-most window is the ""current"" one wc = self.iter_window_controllers().next() except StopIteration: return None return wc One of the things I've noticed with using mocker is that it's easier to write the application code first and then go back and write the tests second, since most of the time I'm mocking many method calls and the syntax to write the mocked calls is much more verbose (thus harder to write) than the application code. It's easier to write the app code and then model the test code off of that. I find that with this testing method (and a bit of discipline) I can easily write code with 100% test coverage. I'm wondering if these tests are good tests? Will I regret doing it this way down the road when I finally discover the secret to writing good tests? Am I violating the core principles of TDD so much that my testing is in vain?",Testing GUI code: should I use a mocking library?,82049,79454,-3,"Please remember that TDD is not a panaceum. It's hard, it's supposed to be hard, and it's especially hard to write mocking tests ""in advance"". So I would say - do what works for you. Even it's not ""certified TDD"". I do basically the same thing. You may want to provide your own API for GUI that would sit between controller code and GUI library code. That could be easier to mock, or you can even add some testing hooks to it. Last but not least, your code doesn't look too unreadable to me. Code using mocks is generally harder to understand. Fortunately in Python mocking is much easier and cleaner than I n other languages."
79602,1,"I am writing a web application that requires user interaction via email. I'm curious if there is a best practice or recommended source for learning about processing email. I am writing my application in Python, but I'm not sure what mail server to use or how to format the message or subject line to account for automated processing. I'm also looking for guidance on processing bouncebacks. Thanks!",How do I get started processing email related to website activity?,79670,79602,3,"There are some pretty serious concerns here for how to send email automatically, and here are a few: Use an email library. Python includes one called 'email'. This is your friend, it will stop you from doing anything tragically wrong. Read an example from the Python Manual. Some points that will stop you from getting blocked by spam filters: Always send from a valid email address. You must be able to send email to this address and have it received (it can go into /dev/null after it's received, but it must be possible to /deliver/ there). This will stop spam filters that do Sender Address Verification from blocking your mail. The email address you send from on the server.sendmail(fromaddr, [toaddr]) line will be where bounces go. The From: line in the email is a totally different address, and that's where mail will go when the user hits 'Reply:'. Use this to your advantage, bounces can go to one place, while reply goes to another. Send email to a local mail server, I recommend postfix. This local server will receive your mail and be responsible for sending it to your upstream server. Once it has been delivered to the local server, treat it as 'sent' from a programmatic point of view. If you have a site that is on a static ip in a datacenter of good reputation, don't be afraid to simply relay the mail directly to the internet. If you're in a datacenter full of script kiddies and spammers, you will need to relay this mail via a public MTA of good reputation, hopefully you will be able to work this out without a hassle. Don't send an email in only HTML. Always send it in Plain and HTML, or just Plain. Be nice, I use a text only email client, and you don't want to annoy me. Verify that you're not running SPF on your email domain, or get it configured to allow your server to send the mail. Do this by doing a TXT lookup on your domain. $ dig google.com txt ...snip... ;; ANSWER SECTION: google.com. 300 IN TXT ""v=spf1 include:_netblocks.google.com ~all"" As you can see from that result, there's an SPF record there. If you don't have SPF, there won't be a TXT record. Read more about SPF on wikipedia. Hope that helps."
79602,1,"I am writing a web application that requires user interaction via email. I'm curious if there is a best practice or recommended source for learning about processing email. I am writing my application in Python, but I'm not sure what mail server to use or how to format the message or subject line to account for automated processing. I'm also looking for guidance on processing bouncebacks. Thanks!",How do I get started processing email related to website activity?,79743,79602,2,"Some general information with regards to automated mail processing... First, the mail server ""brand"" itself isn't that important for broadcasting or receiving emails. All of them support the standard smtp / pop3 communications protocol. Most even have IMAP support and have some level of spam filtering. That said, try to use a current generation email server. Second, be aware that in an effort to reduce spam a lot of the receiving mail servers out there will simply throw a message away instead of responding back that a mail account doesn't exist. Which means you may not receive those. Bear in mind that getting past spam filters is an art. A number of isp's watch for duplicate messages, messages that look like spam based on keywords or other content, etc. This is sometimes independent of the quantity of messages sent; I've seen messages with as few as 50 copies get blocked by AOL even though they were legitimate emails. So, testing is your friend and look into this article on wikipedia on anti-spam techniques. Then make sure your not doing that crap. ** As far as processing the messages, just remember it's a queued system. Connect to the server via POP3 to retrieve messages, open it, do some action, delete the message or archive it, and move on. With regards to bouncebacks, let the mail server do most of the work. You should be able to configure it to notify a certain email account on the server in the event that it is unable to deliver a message. You can check that account periodically and process the Non Delivery Reports as necessary."
79754,11,"No matter what I do sys.exit() is called by unittest, even the most trivial examples. I can't tell if my install is messed up or what is going on. IDLE 1.2.2 ==== No Subprocess ==== &gt;&gt;&gt; import unittest &gt;&gt;&gt; &gt;&gt;&gt; class Test(unittest.TestCase): def testA(self): a = 1 self.assertEqual(a,1) &gt;&gt;&gt; unittest.main() option -n not recognized Usage: idle.pyw [options] [test] [...] Options: -h, --help Show this message -v, --verbose Verbose output -q, --quiet Minimal output Examples: idle.pyw - run default set of tests idle.pyw MyTestSuite - run suite 'MyTestSuite' idle.pyw MyTestCase.testSomething - run MyTestCase.testSomething idle.pyw MyTestCase - run all 'test*' test methods in MyTestCase Traceback (most recent call last): File ""&lt;pyshell#7&gt;"", line 1, in &lt;module&gt; unittest.main() File ""E:\Python25\lib\unittest.py"", line 767, in __init__ self.parseArgs(argv) File ""E:\Python25\lib\unittest.py"", line 796, in parseArgs self.usageExit(msg) File ""E:\Python25\lib\unittest.py"", line 773, in usageExit sys.exit(2) SystemExit: 2 &gt;&gt;&gt;",Unittest causing sys.exit(),79826,79754,10,"Don't try to run unittest.main() from IDLE. It's trying to access sys.argv, and it's getting the args that IDLE was started with. Either run your tests in a different way from IDLE, or call unittest.main() in its own Python process."
79754,11,"No matter what I do sys.exit() is called by unittest, even the most trivial examples. I can't tell if my install is messed up or what is going on. IDLE 1.2.2 ==== No Subprocess ==== &gt;&gt;&gt; import unittest &gt;&gt;&gt; &gt;&gt;&gt; class Test(unittest.TestCase): def testA(self): a = 1 self.assertEqual(a,1) &gt;&gt;&gt; unittest.main() option -n not recognized Usage: idle.pyw [options] [test] [...] Options: -h, --help Show this message -v, --verbose Verbose output -q, --quiet Minimal output Examples: idle.pyw - run default set of tests idle.pyw MyTestSuite - run suite 'MyTestSuite' idle.pyw MyTestCase.testSomething - run MyTestCase.testSomething idle.pyw MyTestCase - run all 'test*' test methods in MyTestCase Traceback (most recent call last): File ""&lt;pyshell#7&gt;"", line 1, in &lt;module&gt; unittest.main() File ""E:\Python25\lib\unittest.py"", line 767, in __init__ self.parseArgs(argv) File ""E:\Python25\lib\unittest.py"", line 796, in parseArgs self.usageExit(msg) File ""E:\Python25\lib\unittest.py"", line 773, in usageExit sys.exit(2) SystemExit: 2 &gt;&gt;&gt;",Unittest causing sys.exit(),79833,79754,10,Your example is exiting on my install too. I can make it execute the tests and stay within Python by changing unittest.main() to unittest.TextTestRunner().run(unittest.TestLoader().loadTestsFromTestCase(Test)) More information is available here in the Python Library Reference.
79754,11,"No matter what I do sys.exit() is called by unittest, even the most trivial examples. I can't tell if my install is messed up or what is going on. IDLE 1.2.2 ==== No Subprocess ==== &gt;&gt;&gt; import unittest &gt;&gt;&gt; &gt;&gt;&gt; class Test(unittest.TestCase): def testA(self): a = 1 self.assertEqual(a,1) &gt;&gt;&gt; unittest.main() option -n not recognized Usage: idle.pyw [options] [test] [...] Options: -h, --help Show this message -v, --verbose Verbose output -q, --quiet Minimal output Examples: idle.pyw - run default set of tests idle.pyw MyTestSuite - run suite 'MyTestSuite' idle.pyw MyTestCase.testSomething - run MyTestCase.testSomething idle.pyw MyTestCase - run all 'test*' test methods in MyTestCase Traceback (most recent call last): File ""&lt;pyshell#7&gt;"", line 1, in &lt;module&gt; unittest.main() File ""E:\Python25\lib\unittest.py"", line 767, in __init__ self.parseArgs(argv) File ""E:\Python25\lib\unittest.py"", line 796, in parseArgs self.usageExit(msg) File ""E:\Python25\lib\unittest.py"", line 773, in usageExit sys.exit(2) SystemExit: 2 &gt;&gt;&gt;",Unittest causing sys.exit(),79932,79754,5,Pop open the source code to unittest.py. unittest.main() is hard-coded to call sys.exit() after running all tests. Use TextTestRunner to run test suites from the prompt.
79754,11,"No matter what I do sys.exit() is called by unittest, even the most trivial examples. I can't tell if my install is messed up or what is going on. IDLE 1.2.2 ==== No Subprocess ==== &gt;&gt;&gt; import unittest &gt;&gt;&gt; &gt;&gt;&gt; class Test(unittest.TestCase): def testA(self): a = 1 self.assertEqual(a,1) &gt;&gt;&gt; unittest.main() option -n not recognized Usage: idle.pyw [options] [test] [...] Options: -h, --help Show this message -v, --verbose Verbose output -q, --quiet Minimal output Examples: idle.pyw - run default set of tests idle.pyw MyTestSuite - run suite 'MyTestSuite' idle.pyw MyTestCase.testSomething - run MyTestCase.testSomething idle.pyw MyTestCase - run all 'test*' test methods in MyTestCase Traceback (most recent call last): File ""&lt;pyshell#7&gt;"", line 1, in &lt;module&gt; unittest.main() File ""E:\Python25\lib\unittest.py"", line 767, in __init__ self.parseArgs(argv) File ""E:\Python25\lib\unittest.py"", line 796, in parseArgs self.usageExit(msg) File ""E:\Python25\lib\unittest.py"", line 773, in usageExit sys.exit(2) SystemExit: 2 &gt;&gt;&gt;",Unittest causing sys.exit(),407950,79754,1,"try: sys.exit() except SystemExit: print('Simple as that, but you should really use a TestRunner instead')"
79754,11,"No matter what I do sys.exit() is called by unittest, even the most trivial examples. I can't tell if my install is messed up or what is going on. IDLE 1.2.2 ==== No Subprocess ==== &gt;&gt;&gt; import unittest &gt;&gt;&gt; &gt;&gt;&gt; class Test(unittest.TestCase): def testA(self): a = 1 self.assertEqual(a,1) &gt;&gt;&gt; unittest.main() option -n not recognized Usage: idle.pyw [options] [test] [...] Options: -h, --help Show this message -v, --verbose Verbose output -q, --quiet Minimal output Examples: idle.pyw - run default set of tests idle.pyw MyTestSuite - run suite 'MyTestSuite' idle.pyw MyTestCase.testSomething - run MyTestCase.testSomething idle.pyw MyTestCase - run all 'test*' test methods in MyTestCase Traceback (most recent call last): File ""&lt;pyshell#7&gt;"", line 1, in &lt;module&gt; unittest.main() File ""E:\Python25\lib\unittest.py"", line 767, in __init__ self.parseArgs(argv) File ""E:\Python25\lib\unittest.py"", line 796, in parseArgs self.usageExit(msg) File ""E:\Python25\lib\unittest.py"", line 773, in usageExit sys.exit(2) SystemExit: 2 &gt;&gt;&gt;",Unittest causing sys.exit(),3215505,79754,17,"In new Python 2.7 release, unittest.main() has a new argument. If 'exit' is set to False, sys.exit() is not called during the execution of unittest.main()."
79797,147,"How do I convert a datetime string in local time to a string in UTC time? I'm sure I've done this before, but can't find it and SO will hopefully help me (and others) do that in future. Clarification: For example, if I have 2008-09-17 14:02:00 in my local timezone (+10), I'd like to generate a string with the equivalent UTC time: 2008-09-17 04:02:00. Also, from http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/, note that in general this isn't possible as with DST and other issues there is no unique conversion from local time to UTC time.",How do I convert local time to UTC in Python?,79808,79797,20,"def local_to_utc(t): secs = time.mktime(t) return time.gmtime(secs) def utc_to_local(t): secs = calendar.timegm(t) return time.localtime(secs) Source: http://feihonghsu.blogspot.com/2008/02/converting-from-local-time-to-utc.html Example usage from bd808: If your source is a datetime.datetime object t, call as: local_to_utc(t.timetuple())"
79797,147,"How do I convert a datetime string in local time to a string in UTC time? I'm sure I've done this before, but can't find it and SO will hopefully help me (and others) do that in future. Clarification: For example, if I have 2008-09-17 14:02:00 in my local timezone (+10), I'd like to generate a string with the equivalent UTC time: 2008-09-17 04:02:00. Also, from http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/, note that in general this isn't possible as with DST and other issues there is no unique conversion from local time to UTC time.",How do I convert local time to UTC in Python?,79877,79797,137,"First, parse the string into a naive datetime object. This is an instance of datetime.datetime with no attached timezone information. See documentation for datetime.strptime for information on parsing the date string. Use the pytz module, which comes with a full list of time zones + UTC. Figure out what the local timezone is, construct a timezone object from it, and manipulate and attach it to the naive datetime. Finally, use datetime.astimezone() method to convert the datetime to UTC. Source code, using local timezone ""America/Los_Angeles"", for the string ""2001-2-3 10:11:12"": import pytz, datetime local = pytz.timezone (""America/Los_Angeles"") naive = datetime.datetime.strptime (""2001-2-3 10:11:12"", ""%Y-%m-%d %H:%M:%S"") local_dt = local.localize(naive, is_dst=None) utc_dt = local_dt.astimezone (pytz.utc) From there, you can use the strftime() method to format the UTC datetime as needed: utc_dt.strftime (""%Y-%m-%d %H:%M:%S"")"
79797,147,"How do I convert a datetime string in local time to a string in UTC time? I'm sure I've done this before, but can't find it and SO will hopefully help me (and others) do that in future. Clarification: For example, if I have 2008-09-17 14:02:00 in my local timezone (+10), I'd like to generate a string with the equivalent UTC time: 2008-09-17 04:02:00. Also, from http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/, note that in general this isn't possible as with DST and other issues there is no unique conversion from local time to UTC time.",How do I convert local time to UTC in Python?,79913,79797,51,"Thanks @rofly, the full conversion from string to string is as follows: time.strftime(""%Y-%m-%d %H:%M:%S"", time.gmtime(time.mktime(time.strptime(""2008-09-17 14:04:00"", ""%Y-%m-%d %H:%M:%S"")))) My summary of the time/calendar functions: time.strptime string --> tuple (no timezone applied, so matches string) time.mktime local time tuple --> seconds since epoch (always local time) time.gmtime seconds since epoch --> tuple in UTC and calendar.timegm tuple in UTC --> seconds since epoch time.localtime seconds since epoch --> tuple in local timezone"
79797,147,"How do I convert a datetime string in local time to a string in UTC time? I'm sure I've done this before, but can't find it and SO will hopefully help me (and others) do that in future. Clarification: For example, if I have 2008-09-17 14:02:00 in my local timezone (+10), I'd like to generate a string with the equivalent UTC time: 2008-09-17 04:02:00. Also, from http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/, note that in general this isn't possible as with DST and other issues there is no unique conversion from local time to UTC time.",How do I convert local time to UTC in Python?,1464261,79797,2,"How about - time.strftime(""%Y-%m-%dT%H:%M:%SZ"", time.gmtime(seconds)) if seconds is None then it converts the local time to UTC time else converts the passed in time to UTC."
79797,147,"How do I convert a datetime string in local time to a string in UTC time? I'm sure I've done this before, but can't find it and SO will hopefully help me (and others) do that in future. Clarification: For example, if I have 2008-09-17 14:02:00 in my local timezone (+10), I'd like to generate a string with the equivalent UTC time: 2008-09-17 04:02:00. Also, from http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/, note that in general this isn't possible as with DST and other issues there is no unique conversion from local time to UTC time.",How do I convert local time to UTC in Python?,2175170,79797,60,"The datetime module's utcnow() function can be used to obtain the current UTC time. &gt;&gt;&gt; import datetime &gt;&gt;&gt; utc_datetime = datetime.datetime.utcnow() &gt;&gt;&gt; utc_datetime.strftime(""%Y-%m-%d %H:%M:%S"") '2010-02-01 06:59:19' As the link mentioned above by Tom: http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/ says: UTC is a timezone without daylight saving time and still a timezone without configuration changes in the past. Always measure and store time in UTC. If you need to record where the time was taken, store that separately. Do not store the local time + timezone information! NOTE - If any of your data is in a region that uses DST, use pytz and take a look at John Millikin's answer. If you want to obtain the UTC time from a given string and your lucky enough to be in a region in the world that either doesn't use DST, or you have data that is only offset from UTC without DST applied: --> using local time as the basis for the offset value: &gt;&gt;&gt; # Obtain the UTC Offset for the current system: &gt;&gt;&gt; UTC_OFFSET_TIMEDELTA = datetime.datetime.utcnow() - datetime.datetime.now() &gt;&gt;&gt; local_datetime = datetime.datetime.strptime(""2008-09-17 14:04:00"", ""%Y-%m-%d %H:%M:%S"") &gt;&gt;&gt; result_utc_datetime = local_datetime + UTC_OFFSET_TIMEDELTA &gt;&gt;&gt; result_utc_datetime.strftime(""%Y-%m-%d %H:%M:%S"") '2008-09-17 04:04:00' --> Or, from a known offset, using datetime.timedelta(): &gt;&gt;&gt; UTC_OFFSET = 10 &gt;&gt;&gt; result_utc_datetime = local_datetime - datetime.timedelta(hours=UTC_OFFSET) &gt;&gt;&gt; result_utc_datetime.strftime(""%Y-%m-%d %H:%M:%S"") '2008-09-17 04:04:00'"
79797,147,"How do I convert a datetime string in local time to a string in UTC time? I'm sure I've done this before, but can't find it and SO will hopefully help me (and others) do that in future. Clarification: For example, if I have 2008-09-17 14:02:00 in my local timezone (+10), I'd like to generate a string with the equivalent UTC time: 2008-09-17 04:02:00. Also, from http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/, note that in general this isn't possible as with DST and other issues there is no unique conversion from local time to UTC time.",How do I convert local time to UTC in Python?,2347991,79797,4,"if you prefer datetime.datetime: dt = datetime.strptime(""2008-09-17 14:04:00"",""%Y-%m-%d %H:%M:%S"") utc_struct_time = time.gmtime(time.mktime(dt.timetuple())) utc_dt = datetime.fromtimestamp(time.mktime(utc_struct_time)) print dt.strftime(""%Y-%m-%d %H:%M:%S"")"
79797,147,"How do I convert a datetime string in local time to a string in UTC time? I'm sure I've done this before, but can't find it and SO will hopefully help me (and others) do that in future. Clarification: For example, if I have 2008-09-17 14:02:00 in my local timezone (+10), I'd like to generate a string with the equivalent UTC time: 2008-09-17 04:02:00. Also, from http://lucumr.pocoo.org/2011/7/15/eppur-si-muove/, note that in general this isn't possible as with DST and other issues there is no unique conversion from local time to UTC time.",How do I convert local time to UTC in Python?,4113872,79797,-1,in this case ... pytz is best lib import pytz utc = pytz.utc yourdate = datetime.datetime.now() yourdateutc = yourdate.astimezone(utc).replace(tzinfo=None)
79850,17,"Since the Google App Engine Datastore is based on Bigtable and we know that's not a relational database, how do you design a database schema/*data model* for applications that use this type of database system?",How do you design data models for Bigtable/Datastore (GAE)?,80420,79850,-2,"As GAE builds on how data is managed in Django there is a lot of info on how to address similar questions in the Django documentation (for example see here, scroll down to 'Your first model'). In short you design you db model as a regular object model and let GAE sort out all of the object-relational mappings."
79850,17,"Since the Google App Engine Datastore is based on Bigtable and we know that's not a relational database, how do you design a database schema/*data model* for applications that use this type of database system?",How do you design data models for Bigtable/Datastore (GAE)?,80425,79850,18,"Designing a bigtable schema is an open process, and basically requires you to think about: The access patterns you will be using and how often each will be used The relationships between your types What indices you are going to need The write patterns you will be using (in order to effectively spread load) GAE's datastore automatically denormalizes your data. That is, each index contains a (mostly) complete copy of the data, and thus every index adds significantly to time taken to perform a write, and the storage space used. If this were not the case, designing a Datastore schema would be a lot more work: You would have to think carefully about the primary key for each type, and consider the effect of your decision on the locality of data. For example, when rendering a blog post you would probably need to display the comments to go along with it, so each comment's key would probably begin with the associated post's key. With Datastore, this is not such a big deal: The query you use will look something like ""Select * FROM Comment WHERE post_id = N."" (If you want to page the comments, you would also have a limit clause, and a possible suffix of "" AND comment_id > last_comment_id"".) Once you add such a query, Datastore will build the index for you, and your reads will be magically fast. Something to keep in mind is that each additional index creates some additional cost: it is best if you can use as few access patterns as possible, since it will reduce the number of indices GAE will construct, and thus the total storage required by your data. Reading over this answer, I find it a little vague. Maybe a hands-on design question would help to scope this down? :-)"
79850,17,"Since the Google App Engine Datastore is based on Bigtable and we know that's not a relational database, how do you design a database schema/*data model* for applications that use this type of database system?",How do you design data models for Bigtable/Datastore (GAE)?,196660,79850,1,"You can use www.web2py.com. You build the model and the application once and it works on GAE but also witl SQLite, MySQL, Posgres, Oracle, MSSQL, FireBird"
79968,163,"I have a string which is like this: this is ""a test"" I'm trying to write something in Python to split it up by space while ignoring spaces within quotes. The result I'm looking for is: ['this','is','a test'] PS. I know you are going to ask ""what happens if there are quotes within the quotes, well, in my application, that will never happen.",Split a string by spaces -- preserving quoted substrings -- in Python,79985,79968,253,"You want split, from the shlex module. &gt;&gt;&gt; import shlex &gt;&gt;&gt; shlex.split('this is ""a test""') ['this', 'is', 'a test'] This should do exactly what you want."
79968,163,"I have a string which is like this: this is ""a test"" I'm trying to write something in Python to split it up by space while ignoring spaces within quotes. The result I'm looking for is: ['this','is','a test'] PS. I know you are going to ask ""what happens if there are quotes within the quotes, well, in my application, that will never happen.",Split a string by spaces -- preserving quoted substrings -- in Python,79989,79968,45,"Have a look at the shlex module, particularly shlex.split. &gt;&gt;&gt; import shlex &gt;&gt;&gt; shlex.split('This is ""a test""') ['This', 'is', 'a test']"
79968,163,"I have a string which is like this: this is ""a test"" I'm trying to write something in Python to split it up by space while ignoring spaces within quotes. The result I'm looking for is: ['this','is','a test'] PS. I know you are going to ask ""what happens if there are quotes within the quotes, well, in my application, that will never happen.",Split a string by spaces -- preserving quoted substrings -- in Python,80015,79968,-2,"Try this: def adamsplit(s): result = [] inquotes = False for substring in s.split('""'): if not inquotes: result.extend(substring.split()) else: result.append(substring) inquotes = not inquotes return result Some test strings: 'This is ""a test""' -&gt; ['This', 'is', 'a test'] '""This is \'a test\'""' -&gt; [""This is 'a test'""]"
79968,163,"I have a string which is like this: this is ""a test"" I'm trying to write something in Python to split it up by space while ignoring spaces within quotes. The result I'm looking for is: ['this','is','a test'] PS. I know you are going to ask ""what happens if there are quotes within the quotes, well, in my application, that will never happen.",Split a string by spaces -- preserving quoted substrings -- in Python,80361,79968,-1,"If you don't care about sub strings than a simple &gt;&gt;&gt; 'a short sized string with spaces '.split() Performance: &gt;&gt;&gt; s = "" ('a short sized string with spaces '*100).split() "" &gt;&gt;&gt; t = timeit.Timer(stmt=s) &gt;&gt;&gt; print ""%.2f usec/pass"" % (1000000 * t.timeit(number=100000)/100000) 171.39 usec/pass Or string module &gt;&gt;&gt; from string import split as stringsplit; &gt;&gt;&gt; stringsplit('a short sized string with spaces '*100) Performance: String module seems to perform better than string methods &gt;&gt;&gt; s = ""stringsplit('a short sized string with spaces '*100)"" &gt;&gt;&gt; t = timeit.Timer(s, ""from string import split as stringsplit"") &gt;&gt;&gt; print ""%.2f usec/pass"" % (1000000 * t.timeit(number=100000)/100000) 154.88 usec/pass Or you can use RE engine &gt;&gt;&gt; from re import split as resplit &gt;&gt;&gt; regex = '\s+' &gt;&gt;&gt; medstring = 'a short sized string with spaces '*100 &gt;&gt;&gt; resplit(regex, medstring) Performance &gt;&gt;&gt; s = ""resplit(regex, medstring)"" &gt;&gt;&gt; t = timeit.Timer(s, ""from re import split as resplit; regex='\s+'; medstring='a short sized string with spaces '*100"") &gt;&gt;&gt; print ""%.2f usec/pass"" % (1000000 * t.timeit(number=100000)/100000) 540.21 usec/pass For very long strings you should not load the entire string into memory and instead either split the lines or use an iterative loop"
79968,163,"I have a string which is like this: this is ""a test"" I'm trying to write something in Python to split it up by space while ignoring spaces within quotes. The result I'm looking for is: ['this','is','a test'] PS. I know you are going to ask ""what happens if there are quotes within the quotes, well, in my application, that will never happen.",Split a string by spaces -- preserving quoted substrings -- in Python,80449,79968,8,"Since this question is tagged with regex, I decided to try a regex approach. I first replace all the spaces in the quotes parts with \x00, then split by spaces, then replace the \x00 back to spaces in each part. Both versions do the same thing, but splitter is a bit more readable then splitter2. import re s = 'this is ""a test"" some text ""another test""' def splitter(s): def replacer(m): return m.group(0).replace("" "", ""\x00"") parts = re.sub('"".+?""', replacer, s).split() parts = [p.replace(""\x00"", "" "") for p in parts] return parts def splitter2(s): return [p.replace(""\x00"", "" "") for p in re.sub('"".+?""', lambda m: m.group(0).replace("" "", ""\x00""), s).split()] print splitter2(s)"
79968,163,"I have a string which is like this: this is ""a test"" I'm trying to write something in Python to split it up by space while ignoring spaces within quotes. The result I'm looking for is: ['this','is','a test'] PS. I know you are going to ask ""what happens if there are quotes within the quotes, well, in my application, that will never happen.",Split a string by spaces -- preserving quoted substrings -- in Python,524796,79968,26,"I see regex approaches here that look complex and/or wrong. This surprises me, because regex syntax can easily describe ""whitespace or thing-surrounded-by-quotes"", and most regex engines (including Python's) can split on a regex. So if you're going to use regexes, why not just say exactly what you mean?: test = 'this is ""a test""' # or ""this is 'a test'"" # pieces = [p for p in re.split(""( |[\\\""'].*[\\\""'])"", test) if p.strip()] # From comments, use this: pieces = [p for p in re.split(""( |\\\"".*?\\\""|'.*?')"", test) if p.strip()] Explanation: [\\\""'] = double-quote or single-quote .* = anything ( |X) = space or X .strip() = remove space and empty-string separators shlex probably provides more features, though."
79968,163,"I have a string which is like this: this is ""a test"" I'm trying to write something in Python to split it up by space while ignoring spaces within quotes. The result I'm looking for is: ['this','is','a test'] PS. I know you are going to ask ""what happens if there are quotes within the quotes, well, in my application, that will never happen.",Split a string by spaces -- preserving quoted substrings -- in Python,525011,79968,17,"Depending on your use case, you may also want to check out the csv module: import csv lines = ['this is ""a string""', 'and more ""stuff""'] for row in csv.reader(lines, delimiter="" ""): print row Output: ['this', 'is', 'a string'] ['and', 'more', 'stuff']"
79968,163,"I have a string which is like this: this is ""a test"" I'm trying to write something in Python to split it up by space while ignoring spaces within quotes. The result I'm looking for is: ['this','is','a test'] PS. I know you are going to ask ""what happens if there are quotes within the quotes, well, in my application, that will never happen.",Split a string by spaces -- preserving quoted substrings -- in Python,2159337,79968,1,"Hmm, can't seem to find the ""Reply"" button... anyway, this answer is based on the approach by Kate, but correctly splits strings with substrings containing escaped quotes and also removes the start and end quotes of the substrings: [i.strip('""').strip(""'"") for I in re.split(r'(\s+|(?&lt;!\\)"".*?(?&lt;!\\)""|(?&lt;!\\)\'.*?(?&lt;!\\)\')', string) if i.strip()] This works on strings like 'This is "" a \\\""test\\\""\\\'s substring""' (the insane markup is unfortunately necessary to keep Python from removing the escapes). If the resulting escapes in the strings in the returned list are not wanted, you can use this slightly altered version of the function: [i.strip('""').strip(""'"").decode('string_escape') for I in re.split(r'(\s+|(?&lt;!\\)"".*?(?&lt;!\\)""|(?&lt;!\\)\'.*?(?&lt;!\\)\')', string) if i.strip()]"
80215,2,Is there any library available to query Btrieve databases without buying something from Pervasive? I'm looking to code in C# or Python.,Btrieve without Pervasive?,80596,80215,1,"As far as I know that is not possible. It is not an open source database, so writing drivers for it is really hard."
80215,2,Is there any library available to query Btrieve databases without buying something from Pervasive? I'm looking to code in C# or Python.,Btrieve without Pervasive?,275524,80215,2,"If you download one of the trial versions, you can get/install the odbc client and connect that way. In our version of pervasive (older version) on the server where the database is installed, you can also find this client install."
80215,2,Is there any library available to query Btrieve databases without buying something from Pervasive? I'm looking to code in C# or Python.,Btrieve without Pervasive?,718654,80215,0,This depends a lot on the version of Btrieve. I've been working with btrieve for a long time and have found that the best API for the old 6.15 version was in pascal. That having been said there was definately a C api around as well. Pervasive have recently released a 6.15 ultimate patch. Using this and the C api should allow you to work effectively with older btrieve databases. It is possible for instance to build new modules for python using C.
80347,1,Is there a c# library which provides similar functionality to the Python PubSub library? I think it's kind of an Observer Pattern which allows me to subscribe for messages of a given topic instead of using events.,PubSub lib for c#,80362,80347,3,These may be a bit heavy for you depending on your needs but: http://www.nservicebus.com/ http://blog.phatboyg.com/masstransit/
80347,1,Is there a c# library which provides similar functionality to the Python PubSub library? I think it's kind of an Observer Pattern which allows me to subscribe for messages of a given topic instead of using events.,PubSub lib for c#,80864,80347,0,"Again, my be overkill, but the OSE library allows thins kind of thing."
80347,1,Is there a c# library which provides similar functionality to the Python PubSub library? I think it's kind of an Observer Pattern which allows me to subscribe for messages of a given topic instead of using events.,PubSub lib for c#,467248,80347,1,"Note, if you have events for message notification, there are many options for dependancy injection / inversion of control. See Spring.Net and Castle Windsor as two popular frameworks."
80617,29,"I'm having trouble developing a reverse proxy in Twisted. It works, but it seems overly complex and convoluted. So much of it feels like voodoo... Are there any simple, solid examples of asynchronous program structure on the web or in books? A sort of best practices guide? When I complete my program I'd like to be able to still see the structure in some way, not be looking at a bowl of spaghetti.",Asychronous Programming in Python Twisted,81106,80617,0,If you aren't looking to use twisted there was a great guide I used a while back. Here is the link to it.
80617,29,"I'm having trouble developing a reverse proxy in Twisted. It works, but it seems overly complex and convoluted. So much of it feels like voodoo... Are there any simple, solid examples of asynchronous program structure on the web or in books? A sort of best practices guide? When I complete my program I'd like to be able to still see the structure in some way, not be looking at a bowl of spaghetti.",Asychronous Programming in Python Twisted,81456,80617,63,"Twisted contains a large number of examples. One in particular, the ""evolution of Finger"" tutorial, contains a thorough explanation of how an asynchronous program grows from a very small kernel up to a complex system with lots of moving parts. Another one that might be of interest to you is the tutorial about simply writing servers. The key thing to keep in mind about Twisted, or even other asynchronous networking libraries (such as asyncore, MINA, or ACE), is that your code only gets invoked when something happens. The part that I've heard most often sound like ""voodoo"" is the management of callbacks: for example, Deferred. If you're used to writing code that runs in a straight line, and only calls functions which return immediately with results, the idea of waiting for something to call you back might be confusing. But there's nothing magical, no ""voodoo"" about callbacks. At the lowest level, the reactor is just sitting around and waiting for one of a small number of things to happen: Data arrives on a connection (it will call dataReceived on a Protocol) Time has passed (it will call a function registered with callLater). A connection has been accepted (it will call buildProtocol on a factory registered with a listenXXX or connectXXX function). A connection has been dropped (it will call connectionLost on the appropriate Protocol) Every asynchronous program starts by hooking up a few of these events and then kicking off the reactor to wait for them to happen. Of course, events that happen lead to more events that get hooked up or disconnected, and so your program goes on its merry way. Beyond that, there's nothing special about asynchronous program structure that are interesting or special; event handlers and callbacks are just objects, and your code is run in the usual way. Here's a simple ""event-driven engine"" that shows you just how simple this process is. # Engine import time class SimplestReactor(object): def __init__(self): self.events = [] self.stopped = False def do(self, something): self.events.append(something) def run(self): while not self.stopped: time.sleep(0.1) if self.events: thisTurn = self.events.pop(0) thisTurn() def stop(self): self.stopped = True reactor = SimplestReactor() # Application def thing1(): print 'Doing thing 1' reactor.do(thing2) reactor.do(thing3) def thing2(): print 'Doing thing 2' def thing3(): print 'Doing thing 3: and stopping' reactor.stop() reactor.do(thing1) print 'Running' reactor.run() print 'Done!' At the core of libraries like Twisted, the function in the main loop is not sleep, but an operating system call like select() or poll(), as exposed by a module like the Python select module. I say ""like"" select, because this is an API that varies a lot between platforms, and almost every GUI toolkit has its own version. Twisted currently provides an abstract interface to 14 different variations on this theme. The common thing that such an API provides is provide a way to say ""Here are a list of events that I'm waiting for. Go to sleep until one of them happens, then wake up and tell me which one of them it was."""
80993,4,"As you can see, even after the program should have died it speaks from the grave. Is there a way to ""deregister"" the exitfunction in case of exceptions? import atexit def helloworld(): print(""Hello World!"") atexit.register(helloworld) raise Exception(""Good bye cruel world!"") outputs Traceback (most recent call last): File ""test.py"", line 8, in &lt;module&gt; raise Exception(""Good bye cruel world!"") Exception: Good bye cruel world! Hello World!",How to skip sys.exitfunc when unhandled exceptions occur,81051,80993,0,"If you call import os os._exit(0) the exit handlers will not be called, yours or those registered by other modules in the application."
80993,4,"As you can see, even after the program should have died it speaks from the grave. Is there a way to ""deregister"" the exitfunction in case of exceptions? import atexit def helloworld(): print(""Hello World!"") atexit.register(helloworld) raise Exception(""Good bye cruel world!"") outputs Traceback (most recent call last): File ""test.py"", line 8, in &lt;module&gt; raise Exception(""Good bye cruel world!"") Exception: Good bye cruel world! Hello World!",How to skip sys.exitfunc when unhandled exceptions occur,81087,80993,5,"I don't really know why you want to do that, but you can install an excepthook that will be called by Python whenever an uncatched exception is raised, and in it clear the array of registered function in the atexit module. Something like that : import sys import atexit def clear_atexit_excepthook(exctype, value, traceback): atexit._exithandlers[:] = [] sys.__excepthook__(exctype, value, traceback) def helloworld(): print ""Hello world!"" sys.excepthook = clear_atexit_excepthook atexit.register(helloworld) raise Exception(""Good bye cruel world!"") Beware that it may behave incorrectly if the exception is raised from an atexit registered function (but then the behaviour would have been strange even if this hook was not used)."
80993,4,"As you can see, even after the program should have died it speaks from the grave. Is there a way to ""deregister"" the exitfunction in case of exceptions? import atexit def helloworld(): print(""Hello World!"") atexit.register(helloworld) raise Exception(""Good bye cruel world!"") outputs Traceback (most recent call last): File ""test.py"", line 8, in &lt;module&gt; raise Exception(""Good bye cruel world!"") Exception: Good bye cruel world! Hello World!",How to skip sys.exitfunc when unhandled exceptions occur,81107,80993,0,"In addition to calling os._exit() to avoid the registered exit handler you also need to catch the unhandled exception: import atexit import os def helloworld(): print ""Hello World!"" atexit.register(helloworld) try: raise Exception(""Good bye cruel world!"") except Exception, e: print 'caught unhandled exception', str(e) os._exit(1)"
81191,2,"While answering http://stackoverflow.com/questions/68645/python-static-variable#81002 I noticed that PythonWin PyWin32 build 209.2 interpreter seems to evaluate twice? PythonWin 2.5 (r25:51908, Mar 9 2007, 17:40:28) [MSC v.1310 32 bit (Intel)] on win32. Portions Copyright 1994-2006 Mark Hammond - see 'Help/About PythonWin' for further copyright information. &gt;&gt;&gt; class X: ... l = [] ... def __init__(self): ... self.__class__.l.append(1) ... &gt;&gt;&gt; X().l [1, 1] &gt;&gt;&gt; while the python interpreter does the right thing C:\&gt;python ActivePython 2.5.0.0 (ActiveState Software Inc.) based on Python 2.5 (r25:51908, Mar 9 2007, 17:40:28) [MSC v.1310 32 bit (Intel)] on win32 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. &gt;&gt;&gt; class X: ... l = [] ... def __init__(self): ... self.__class__.l.append(1) ... &gt;&gt;&gt; X().l [1] &gt;&gt;&gt;",PythonWin's python interactive shell calling constructors twice?,81274,81191,3,"My guess is as follows. The PythonWin editor offers autocomplete for an object, i.e. when you type myobject. it offers a little popup of all the availble method names. So I think when you type X(). it's creating an instance of X in the background and doing a dir or similar to find out the attributes of the object. So the constructor is only being run once for each object but to give you the interactivity it's creating objects silently in the background without telling you about it."
81191,2,"While answering http://stackoverflow.com/questions/68645/python-static-variable#81002 I noticed that PythonWin PyWin32 build 209.2 interpreter seems to evaluate twice? PythonWin 2.5 (r25:51908, Mar 9 2007, 17:40:28) [MSC v.1310 32 bit (Intel)] on win32. Portions Copyright 1994-2006 Mark Hammond - see 'Help/About PythonWin' for further copyright information. &gt;&gt;&gt; class X: ... l = [] ... def __init__(self): ... self.__class__.l.append(1) ... &gt;&gt;&gt; X().l [1, 1] &gt;&gt;&gt; while the python interpreter does the right thing C:\&gt;python ActivePython 2.5.0.0 (ActiveState Software Inc.) based on Python 2.5 (r25:51908, Mar 9 2007, 17:40:28) [MSC v.1310 32 bit (Intel)] on win32 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. &gt;&gt;&gt; class X: ... l = [] ... def __init__(self): ... self.__class__.l.append(1) ... &gt;&gt;&gt; X().l [1] &gt;&gt;&gt;",PythonWin's python interactive shell calling constructors twice?,81751,81191,1,"Two small additional points. First, self.__class__.l.append(1) isn't really sensible. Just say self.l.append(1). Python searches the instance before it searches the class for the reference. More importantly, class-level variables are rarely useful. Class-level constants are sometimes sensible, but even then, they're hard to justify. In C++ and Java, class-level ('static') variables seem handy, but don't do much of value. They're hard to teach to n00bz -- often wasting lots of classroom time on minutia -- and they aren't very practical. If you want to know all instances of an X that was created, it's probably better to create an XFactory class that doesn't rely on class variables. class XFactory( object ): def __init__( self ): self.listOfX= [] def makeX( self, *args, **kw ): newX= X(*args,**kw) self.listOfX.append(newX) return newX No class-level variable anomalies. And, it doesn't conflate the X's with the collection of X's. In the long run, I find it confusing when a class is both some thing and also some collection of things. Simpler is better than Complex."
81191,2,"While answering http://stackoverflow.com/questions/68645/python-static-variable#81002 I noticed that PythonWin PyWin32 build 209.2 interpreter seems to evaluate twice? PythonWin 2.5 (r25:51908, Mar 9 2007, 17:40:28) [MSC v.1310 32 bit (Intel)] on win32. Portions Copyright 1994-2006 Mark Hammond - see 'Help/About PythonWin' for further copyright information. &gt;&gt;&gt; class X: ... l = [] ... def __init__(self): ... self.__class__.l.append(1) ... &gt;&gt;&gt; X().l [1, 1] &gt;&gt;&gt; while the python interpreter does the right thing C:\&gt;python ActivePython 2.5.0.0 (ActiveState Software Inc.) based on Python 2.5 (r25:51908, Mar 9 2007, 17:40:28) [MSC v.1310 32 bit (Intel)] on win32 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. &gt;&gt;&gt; class X: ... l = [] ... def __init__(self): ... self.__class__.l.append(1) ... &gt;&gt;&gt; X().l [1] &gt;&gt;&gt;",PythonWin's python interactive shell calling constructors twice?,84248,81191,2,"Dave Webb is correct, and you can see this by adding a print statement: &gt;&gt;&gt; class X: ... l = [] ... def __init__(self): ... print 'inited' ... self.__class__.l.append(1) ... Then as soon as you type the period in X(). it prints inited prior to offering you the completion popup."
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,81479,81451,1,You can not store files as there is not a traditional file system. You can only store them in their own DataStore (in a field defined as a BlobProperty) There is an example in the previous link: class MyModel(db.Model): blob = db.BlobProperty() obj = MyModel() obj.blob = db.Blob( file_contents )
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,81489,81451,0,There's no flat file storing in Google App Engine. Everything has to go in to the Datastore which is a bit like a relational database but not quite. You could store the files as TextProperty or BlobProperty attributes. There is a 1MB limit on DataStore entries which may or may not be a problem.
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,143798,81451,10,"There is a thread in Google Groups about it: Uploading Files With a lot of useful code, that discussion helped me very much in uploading files."
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,173918,81451,48,"In fact, this question is answered in the App Egnine documentation. See an example on Uploading User Images. HTML code, inside &lt;form&gt;&lt;/form&gt;: &lt;input type=""file"" name=""img""/&gt; Python code: class Guestbook(webapp.RequestHandler): def post(self): greeting = Greeting() if users.get_current_user(): greeting.author = users.get_current_user() greeting.content = self.request.get(""content"") avatar = self.request.get(""img"") greeting.avatar = db.Blob(avatar) greeting.put() self.redirect('/')"
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,534354,81451,3,"If your still having a problem, check you are using enctype in the form tag No: &lt;form encoding=""multipart/form-data"" action=""/upload""&gt; Yes: &lt;form enctype=""multipart/form-data"" action=""/upload""&gt;"
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,1240820,81451,1,"Personally I found the tutorial described here useful when using the Java run time with GAE. For some reason, when I tried to upload a file using &lt;form action=""/testservelet"" method=""get"" enctype=""multipart/form-data""&gt; &lt;div&gt; Myfile:&lt;input type=""file"" name=""file"" size=""50""/&gt; &lt;/div&gt; &lt;div&gt; &lt;input type=""submit"" value=""Upload file""&gt; &lt;/div&gt; &lt;/form&gt; I found that my HttpServlet class for some reason wouldn't accept the form with the 'enctype' attribute. Removing it works, however, this means I can't upload any files."
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,1987486,81451,6,"Google has released a service for storing large files. Have a look at blobstore API documentation. If your files are > 1MB, you should use it."
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,3050807,81451,6,"I try it today, It works as following: my sdk version is 1.3.x html page: &lt;form enctype=""multipart/form-data"" action=""/upload"" method=""post"" &gt; &lt;input type=""file"" name=""myfile"" /&gt; &lt;input type=""submit"" /&gt; &lt;/form&gt; Server Code: file_contents = self.request.POST.get('myfile').file.read()"
81451,73,"I am planning to create a web app that allows users to downgrade their visual studio project files. However, It seems Google App Engine accepts files uploading and flat file storing on the Google Server through db.TextProperty and db.BlobProperty. I'll be glad anyone can provide code sample (both the client and the server side) on how this can be done.",Upload files in Google App Engine,3545032,81451,0,"I have observed some strange behavior when uploading files on App Engine. When you submit the following form: &lt;form method=""post"" action=""/upload"" enctype=""multipart/form-data""&gt; &lt;input type=""file"" name=""img"" /&gt; ... &lt;/form&gt; And then you extract the img from the request like this: img_contents = self.request.get('img') The img_contents variable is a str() in Google Chrome, but it's unicode in Firefox. And as you now, the db.Blob() constructor takes a string and will throw an error if you pass in a unicode string. Does anyone know how this can be fixed? Also, what I find absolutely strange is that when I copy and paste the Guestbook application (with avatars), it works perfectly. I do everything exactly the same way in my code, but it just won't work. I'm very close to pulling my hair out."
82180,2,"I know it's possible to place a PyCairo surface inside a Gtk Drawing Area. But I think Qt is a lot better to work with, so I've been wondering if there's anyway to place a PyCairo surface inside some Qt component?",PyQt and PyCairo,82258,82180,3,"Qt's own OpenGL based surfaces (using QPainter) are known to be much faster than Cairo. Might you explain why you want specifically Cairo in Qt? For the basics of using QPainter see this excerpt from the book ""C++ GUI Programming with Qt4"", and while it's C++ code, the PyQt implementation will be parallel. As for joining Cairo with Qt... This article in ArsTechnica sheds some light - it seems nothing that could help you exists currently (iow., nobody tried such marriage)."
82180,2,"I know it's possible to place a PyCairo surface inside a Gtk Drawing Area. But I think Qt is a lot better to work with, so I've been wondering if there's anyway to place a PyCairo surface inside some Qt component?",PyQt and PyCairo,453179,82180,0,"For plotting with you should also consider matplotlib, which provides a higher level API and integrates well with PyQT."
82607,1,"I get DNS records from a Python program, using DNS Python I can get various DNSSEC-related records: &gt;&gt;&gt; import dns.resolver &gt;&gt;&gt; myresolver = dns.resolver.Resolver() &gt;&gt;&gt; myresolver.use_edns(1, 0, 1400) &gt;&gt;&gt; print myresolver.query('sources.org', 'DNSKEY') &lt;dns.resolver.Answer object at 0xb78ed78c&gt; &gt;&gt;&gt; print myresolver.query('ripe.net', 'NSEC') &lt;dns.resolver.Answer object at 0x8271c0c&gt; But no RRSIG records: &gt;&gt;&gt; print myresolver.query('sources.org', 'RRSIG') Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; File ""/usr/lib/python2.5/site-packages/dns/resolver.py"", line 664, in query answer = Answer(qname, rdtype, rdclass, response) File ""/usr/lib/python2.5/site-packages/dns/resolver.py"", line 121, in __init__ raise NoAnswer I tried several signed domains like absolight.fr or ripe.net. Trying with dig, I see that there are indeed RRSIG records. Checking with tcpdump, I can see that DNS Python sends the correct query and receives correct replies (here, eight records): 16:09:39.342532 IP 192.134.4.69.53381 &gt; 192.134.4.162.53: 22330+ [1au] RRSIG? sources.org. (40) 16:09:39.343229 IP 192.134.4.162.53 &gt; 192.134.4.69.53381: 22330 8/5/6 RRSIG[|domain] DNS Python 1.6.0 - Python 2.5.2 (r252:60911, Aug 8 2008, 09:22:44) [GCC 4.3.1] on linux2",Python + DNS : Cannot get RRSIG records: No Answer,82868,82607,0,"If you try this, what happens? print myresolver.query('sources.org', 'ANY', 'RRSIG')"
82607,1,"I get DNS records from a Python program, using DNS Python I can get various DNSSEC-related records: &gt;&gt;&gt; import dns.resolver &gt;&gt;&gt; myresolver = dns.resolver.Resolver() &gt;&gt;&gt; myresolver.use_edns(1, 0, 1400) &gt;&gt;&gt; print myresolver.query('sources.org', 'DNSKEY') &lt;dns.resolver.Answer object at 0xb78ed78c&gt; &gt;&gt;&gt; print myresolver.query('ripe.net', 'NSEC') &lt;dns.resolver.Answer object at 0x8271c0c&gt; But no RRSIG records: &gt;&gt;&gt; print myresolver.query('sources.org', 'RRSIG') Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; File ""/usr/lib/python2.5/site-packages/dns/resolver.py"", line 664, in query answer = Answer(qname, rdtype, rdclass, response) File ""/usr/lib/python2.5/site-packages/dns/resolver.py"", line 121, in __init__ raise NoAnswer I tried several signed domains like absolight.fr or ripe.net. Trying with dig, I see that there are indeed RRSIG records. Checking with tcpdump, I can see that DNS Python sends the correct query and receives correct replies (here, eight records): 16:09:39.342532 IP 192.134.4.69.53381 &gt; 192.134.4.162.53: 22330+ [1au] RRSIG? sources.org. (40) 16:09:39.343229 IP 192.134.4.162.53 &gt; 192.134.4.69.53381: 22330 8/5/6 RRSIG[|domain] DNS Python 1.6.0 - Python 2.5.2 (r252:60911, Aug 8 2008, 09:22:44) [GCC 4.3.1] on linux2",Python + DNS : Cannot get RRSIG records: No Answer,84448,82607,1,"You probably mean RRSIG ANY (otherwise, the order is wrong, the class needs to be after the type) &gt;&gt;&gt; print myresolver.query('sources.org', 'RRSIG', 'ANY') Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; File ""/usr/lib/python2.5/site-packages/dns/resolver.py"", line 664, in query answer = Answer(qname, rdtype, rdclass, response) File ""/usr/lib/python2.5/site-packages/dns/resolver.py"", line 121, in __init__ raise NoAnswer dns.resolver.NoAnswer"
82607,1,"I get DNS records from a Python program, using DNS Python I can get various DNSSEC-related records: &gt;&gt;&gt; import dns.resolver &gt;&gt;&gt; myresolver = dns.resolver.Resolver() &gt;&gt;&gt; myresolver.use_edns(1, 0, 1400) &gt;&gt;&gt; print myresolver.query('sources.org', 'DNSKEY') &lt;dns.resolver.Answer object at 0xb78ed78c&gt; &gt;&gt;&gt; print myresolver.query('ripe.net', 'NSEC') &lt;dns.resolver.Answer object at 0x8271c0c&gt; But no RRSIG records: &gt;&gt;&gt; print myresolver.query('sources.org', 'RRSIG') Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; File ""/usr/lib/python2.5/site-packages/dns/resolver.py"", line 664, in query answer = Answer(qname, rdtype, rdclass, response) File ""/usr/lib/python2.5/site-packages/dns/resolver.py"", line 121, in __init__ raise NoAnswer I tried several signed domains like absolight.fr or ripe.net. Trying with dig, I see that there are indeed RRSIG records. Checking with tcpdump, I can see that DNS Python sends the correct query and receives correct replies (here, eight records): 16:09:39.342532 IP 192.134.4.69.53381 &gt; 192.134.4.162.53: 22330+ [1au] RRSIG? sources.org. (40) 16:09:39.343229 IP 192.134.4.162.53 &gt; 192.134.4.69.53381: 22330 8/5/6 RRSIG[|domain] DNS Python 1.6.0 - Python 2.5.2 (r252:60911, Aug 8 2008, 09:22:44) [GCC 4.3.1] on linux2",Python + DNS : Cannot get RRSIG records: No Answer,114923,82607,0,"This looks like a probable bug in the Python DNS library, although I don't read Python well enough to find it. Note that in any case your EDNS0 buffer size parameter is not large enough to handle the RRSIG records for sources.org, so your client and server would have to fail over to TCP/IP."
82653,17,"Is there any list of blog engines, written in Django?","Is there any list of blog engines, written in Django?",82690,82653,3,"Byteflow is a blog engine, written on Python, using Django"
82653,17,"Is there any list of blog engines, written in Django?","Is there any list of blog engines, written in Django?",82717,82653,4,"James Bennett has an interesting take on this question: âwhere can I find a good Django-powered blogging applicationâ is probably at the top of the frequently-asked questions list both on django-users and in the IRC; part of this is simply that, right now, there is no âdefinitiveâ Django blogging application; there are a bunch of them available if you go looking, but youâre not likely to get anyone to recommend one of them as âtheâ Django blogging app (unless the person doing the recommending happens to be the author of one of them). The blog entry also has a list."
82653,17,"Is there any list of blog engines, written in Django?","Is there any list of blog engines, written in Django?",82739,82653,20,EDIT: Original link went dead so here's an updated link with extracts of the list sorted with the most recently updated source at the top. Eleven Django blog engines you should know by Monty Lounge Industries Biblion Django-article Flother Basic-Blog Hello-Newman Banjo djangotechblog Django-YABA Shifting Bits (this is now just a biblion blog) Mighty Lemon Coltrane
82653,17,"Is there any list of blog engines, written in Django?","Is there any list of blog engines, written in Django?",82753,82653,3,Django's powerful admin interface and easy ORM makes it a 30 minute job to build a blog that propably fits your needs; Why look for a 3rd party product when you can make it yourself very quickly?
82653,17,"Is there any list of blog engines, written in Django?","Is there any list of blog engines, written in Django?",141214,82653,1,"Nathan Borror has a great package of 'basic apps' that has a blog. These are well written, well documented apps that you should try out, get ideas from, etc. http://code.google.com/p/django-basic-apps/"
82653,17,"Is there any list of blog engines, written in Django?","Is there any list of blog engines, written in Django?",2001335,82653,3,The book Practical Django Projects provides a tutorial on how to create a Django blogging app.
82831,2729,"How do I check whether a file exists, without using the try statement?",How do I check whether a file exists using Python?,82836,82831,211,import os.path if os.path.isfile(filename):
82831,2729,"How do I check whether a file exists, without using the try statement?",How do I check whether a file exists using Python?,82841,82831,85,import os os.path.exists(filename)
82831,2729,"How do I check whether a file exists, without using the try statement?",How do I check whether a file exists using Python?,82846,82831,964,You have the os.path.exists function: import os.path os.path.exists(file_path) This returns True for both files and directories but you can additionally use os.path.isfile to test if it's a file specifically.
82831,2729,"How do I check whether a file exists, without using the try statement?",How do I check whether a file exists using Python?,82852,82831,2356,"You can also use os.path.isfile Return True if path is an existing regular file. This follows symbolic links, so both islink() and isfile() can be true for the same path. import os.path os.path.isfile(fname) if you need to be sure it's a file. Starting with Python 3.4, the pathlib module offers an object-oriented approach: from pathlib import Path my_file = Path(""/path/to/file"") if my_file.is_file(): # file exists"
82831,2729,"How do I check whether a file exists, without using the try statement?",How do I check whether a file exists using Python?,83012,82831,18,"Additionally, os.access(): if os.access(""myfile"", os.R_OK): with open(""myfile"") as fp: return fp.read() Being R_OK, W_OK, and X_OK the flags to test for permissions (doc)."
82831,2729,"How do I check whether a file exists, without using the try statement?",How do I check whether a file exists using Python?,84173,82831,640,"Unlike isfile(), exists() will yield True for directories. So depending on if you want only plain files or also directories, you'll use isfile() or exists(). Here is a simple REPL output. &gt;&gt;&gt; print os.path.isfile(""/etc/password.txt"") True &gt;&gt;&gt; print os.path.isfile(""/etc"") False &gt;&gt;&gt; print os.path.isfile(""/does/not/exist"") False &gt;&gt;&gt; print os.path.exists(""/etc/password.txt"") True &gt;&gt;&gt; print os.path.exists(""/etc"") True &gt;&gt;&gt; print os.path.exists(""/does/not/exist"") False"
82831,2729,"How do I check whether a file exists, without using the try statement?",How do I check whether a file exists using Python?,1671095,82831,87,"Prefer the try statement. It's considered better style and avoids race conditions. Don't take my word for it. There's plenty of support for this theory. Here's a couple: Style: Section ""Handling unusual conditions"" of http://allendowney.com/sd/notes/notes11.txt Avoiding Race Conditions"
82831,2729,"How do I check whether a file exists, without using the try statement?",How do I check whether a file exists using Python?,4247590,82831,16,"Just to add to the confusion, it seems that the try: open() approach suggested above doesn't work in Python, as file access isn't exclusive, not even when writing to files, c.f. What is the best way to open a file for exclusive access in Python?."
83756,11,"I need to enable/disable completely network interfaces from a script in Windows XP. I'm looking for a python solution, but any general way (eg WMI, some command-line Ã la netsh, some windows call) is welcome and will be adjusted. Thanks.",How to programmatically enable/disable network interfaces? (Windows XP),83800,83756,0,"The devcon tool can control the NIC, but not the interface directly. It's a command-line version of the Device Manager applet. devcon disable (id or portion of name) devcon enable (id or portion of name)"
83756,11,"I need to enable/disable completely network interfaces from a script in Windows XP. I'm looking for a python solution, but any general way (eg WMI, some command-line Ã la netsh, some windows call) is welcome and will be adjusted. Thanks.",How to programmatically enable/disable network interfaces? (Windows XP),83890,83756,0,"this is VB.Net Dim objectQuery As New ObjectQuery(""SELECT * FROM Win32_NetworkAdapter WHERE NetConnectionId IS NOT NULL"") Dim searcher As New ManagementObjectSearcher(scope, objectQuery) Dim os As ManagementObject Dim moColl As ManagementObjectCollection = searcher.Get() Dim _list As String = """" For Each os In moColl Console.WriteLine(os(""NetConnectionId"")) Next os That will get all the interfaces on you computer. Then you can do netsh to disable it. netsh interface set interface DISABLED"
83756,11,"I need to enable/disable completely network interfaces from a script in Windows XP. I'm looking for a python solution, but any general way (eg WMI, some command-line Ã la netsh, some windows call) is welcome and will be adjusted. Thanks.",How to programmatically enable/disable network interfaces? (Windows XP),83954,83756,1,"I can't seem to find any basic API for controlling interfaces on MSDN, apart from the RAS API's, but I don't think they apply to non-dialup connections. As you suggest yourself, netsh might be an option, supposedly it also has a programmatic interface: http://msdn.microsoft.com/en-us/library/ms708353(VS.85).aspx If you want to be pure Python, you can perhaps open a set of pipes to communicate with an netsh process."
83756,11,"I need to enable/disable completely network interfaces from a script in Windows XP. I'm looking for a python solution, but any general way (eg WMI, some command-line Ã la netsh, some windows call) is welcome and will be adjusted. Thanks.",How to programmatically enable/disable network interfaces? (Windows XP),84073,83756,0,You may need to use WMI. This may serve as a good starting point: http://msdn.microsoft.com/en-us/library/aa394595.aspx
83756,11,"I need to enable/disable completely network interfaces from a script in Windows XP. I'm looking for a python solution, but any general way (eg WMI, some command-line Ã la netsh, some windows call) is welcome and will be adjusted. Thanks.",How to programmatically enable/disable network interfaces? (Windows XP),84315,83756,5,"So far I've found the following Python solution: &gt;&gt;&gt; import wmi; c=wmi.WMI() &gt;&gt;&gt; o=c.query(""select * from Win32_NetworkAdapter where NetConnectionID='wifi'"")[0] &gt;&gt;&gt; o.EnableDevice(1) (-2147217407,) which is translated, AFAIU, to the generic WMI error 0x80041001. Could be permissions."
83756,11,"I need to enable/disable completely network interfaces from a script in Windows XP. I'm looking for a python solution, but any general way (eg WMI, some command-line Ã la netsh, some windows call) is welcome and will be adjusted. Thanks.",How to programmatically enable/disable network interfaces? (Windows XP),86611,83756,9,"Using the netsh interface Usage set interface [name = ] IfName [ [admin = ] ENABLED|DISABLED [connect = ] CONNECTED|DISCONNECTED [newname = ] NewName ] Try including everything inside the outer brackets: netsh interface set interface name=""thename"" admin=disabled connect=DISCONNECTED newname=""thename"" See also this MS KB page: http://support.microsoft.com/kb/262265/ You could follow either of their suggestions. For disabling the adapter, you will need to determine a way to reference the hardware device. If there will not be multiple adapters with the same name on the computer, you could possibly go off of the Description for the interface (or PCI ID works well). After that, using devcon (disable|enable). Devcon is an add-on console interface for the Device Manager."
83756,11,"I need to enable/disable completely network interfaces from a script in Windows XP. I'm looking for a python solution, but any general way (eg WMI, some command-line Ã la netsh, some windows call) is welcome and will be adjusted. Thanks.",How to programmatically enable/disable network interfaces? (Windows XP),4317191,83756,2,"I found this .VBS script on the internet. It has the cool advantage of actually working on machines where I cannot get NETSH to work for this purpose. Const ssfCONTROLS = 3 sConnectionName = ""Local Area Connection"" sEnableVerb = ""En&amp;able"" sDisableVerb = ""Disa&amp;ble"" set shellApp = createobject(""shell.application"") set oControlPanel = shellApp.Namespace(ssfCONTROLS) set oNetConnections = nothing for each folderitem in oControlPanel.items if folderitem.name = ""Network Connections"" then set oNetConnections = folderitem.getfolder: exit for end if next if oNetConnections is nothing then msgbox ""Couldn't find 'Network Connections' folder"" wscript.quit end if set oLanConnection = nothing for each folderitem in oNetConnections.items if lcase(folderitem.name) = lcase(sConnectionName) then set oLanConnection = folderitem: exit for end if next if oLanConnection is nothing then msgbox ""Couldn't find '"" &amp; sConnectionName &amp; ""' item"" wscript.quit end if bEnabled = true set oEnableVerb = nothing set oDisableVerb = nothing s = ""Verbs: "" &amp; vbcrlf for each verb in oLanConnection.verbs s = s &amp; vbcrlf &amp; verb.name if verb.name = sEnableVerb then set oEnableVerb = verb bEnabled = false end if if verb.name = sDisableVerb then set oDisableVerb = verb end if next 'debugging displays left just in case... ' 'msgbox s ': wscript.quit 'msgbox ""Enabled: "" &amp; bEnabled ': wscript.quit 'not sure why, but invokeverb always seemed to work 'for enable but not disable. ' 'saving a reference to the appropriate verb object 'and calling the DoIt method always seems to work. ' if bEnabled then ' oLanConnection.invokeverb sDisableVerb oDisableVerb.DoIt else ' oLanConnection.invokeverb sEnableVerb oEnableVerb.DoIt end if 'adjust the sleep duration below as needed... ' 'if you let the oLanConnection go out of scope 'and be destroyed too soon, the action of the verb 'may not take... ' wscript.sleep 1000"
83983,18,"example: a_list = [1, 2, 3] a_list.len() # doesn't work len(a_list) # works Python being (very) object oriented, I don't understand why the 'len' function isn't inherited by the object. Plus I keep trying the wrong solution since it appears as the logical one to me",Why isn't the 'len' function inherited by dictionaries and lists in Python,84016,83983,2,"Maybe you're looking for __len__. If that method exists, then len(a) calls it: &gt;&gt;&gt; class Spam: ... def __len__(self): return 3 ... &gt;&gt;&gt; s = Spam() &gt;&gt;&gt; len(s) 3"
83983,18,"example: a_list = [1, 2, 3] a_list.len() # doesn't work len(a_list) # works Python being (very) object oriented, I don't understand why the 'len' function isn't inherited by the object. Plus I keep trying the wrong solution since it appears as the logical one to me",Why isn't the 'len' function inherited by dictionaries and lists in Python,84019,83983,10,"It just isn't. You can, however, do: &gt;&gt;&gt; [1,2,3].__len__() 3 Adding a __len__() method to a class is what makes the len() magic work."
83983,18,"example: a_list = [1, 2, 3] a_list.len() # doesn't work len(a_list) # works Python being (very) object oriented, I don't understand why the 'len' function isn't inherited by the object. Plus I keep trying the wrong solution since it appears as the logical one to me",Why isn't the 'len' function inherited by dictionaries and lists in Python,84038,83983,2,"Well, there actually is a length method, it is just hidden: &gt;&gt;&gt; a_list = [1, 2, 3] &gt;&gt;&gt; a_list.__len__() 3 The len() built-in function appears to be simply a wrapper for a call to the hidden len() method of the object. Not sure why they made the decision to implement things this way though."
83983,18,"example: a_list = [1, 2, 3] a_list.len() # doesn't work len(a_list) # works Python being (very) object oriented, I don't understand why the 'len' function isn't inherited by the object. Plus I keep trying the wrong solution since it appears as the logical one to me",Why isn't the 'len' function inherited by dictionaries and lists in Python,84154,83983,39,"Guido's explanation is here: First of all, I chose len(x) over x.len() for HCI reasons (def __len__() came much later). There are two intertwined reasons actually, both HCI: (a) For some operations, prefix notation just reads better than postfix â prefix (and infix!) operations have a long tradition in mathematics which likes notations where the visuals help the mathematician thinking about a problem. Compare the easy with which we rewrite a formula like x*(a+b) into x*a + x*b to the clumsiness of doing the same thing using a raw OO notation. (b) When I read code that says len(x) I know that it is asking for the length of something. This tells me two things: the result is an integer, and the argument is some kind of container. To the contrary, when I read x.len(), I have to already know that x is some kind of container implementing an interface or inheriting from a class that has a standard len(). Witness the confusion we occasionally have when a class that is not implementing a mapping has a get() or keys() method, or something that isnât a file has a write() method. Saying the same thing in another way, I see âlenâ as a built-in operation. Iâd hate to lose that. /â¦/"
83983,18,"example: a_list = [1, 2, 3] a_list.len() # doesn't work len(a_list) # works Python being (very) object oriented, I don't understand why the 'len' function isn't inherited by the object. Plus I keep trying the wrong solution since it appears as the logical one to me",Why isn't the 'len' function inherited by dictionaries and lists in Python,84155,83983,11,"The short answer: 1) backwards compatibility and 2) there's not enough of a difference for it to really matter. For a more detailed explanation, read on. The idiomatic Python approach to such operations is special methods which aren't intended to be called directly. For example, to make x + y work for your own class, you write a __add__ method. To make sure that int(spam) properly converts your custom class, write a __int__ method. To make sure that len(foo) does something sensible, write a __len__ method. This is how things have always been with Python, and I think it makes a lot of sense for some things. In particular, this seems like a sensible way to implement operator overloading. As for the rest, different languages disagree; in Ruby you'd convert something to an integer by calling spam.to_i directly instead of saying int(spam). You're right that Python is an extremely object-oriented language and that having to call an external function on an object to get its length seems odd. On the other hand, len(silly_walks) isn't any more onerous than silly_walks.len(), and Guido has said that he actually prefers it (http://mail.python.org/pipermail/python-3000/2006-November/004643.html)."
83983,18,"example: a_list = [1, 2, 3] a_list.len() # doesn't work len(a_list) # works Python being (very) object oriented, I don't understand why the 'len' function isn't inherited by the object. Plus I keep trying the wrong solution since it appears as the logical one to me",Why isn't the 'len' function inherited by dictionaries and lists in Python,84205,83983,4,"This way fits in better with the rest of the language. The convention in python is that you add __foo__ special methods to objects to make them have certain capabilities (rather than e.g. deriving from a specific base class). For example, an object is callable if it has a __call__ method iterable if it has an __iter__ method, supports access with [] if it has __getitem__ and __setitem__. ... One of these special methods is __len__ which makes it have a length accessible with len()."
83983,18,"example: a_list = [1, 2, 3] a_list.len() # doesn't work len(a_list) # works Python being (very) object oriented, I don't understand why the 'len' function isn't inherited by the object. Plus I keep trying the wrong solution since it appears as the logical one to me",Why isn't the 'len' function inherited by dictionaries and lists in Python,84337,83983,2,there is some good info below on why certain things are functions and other are methods. It does indeed cause some inconsistencies in the language. http://mail.python.org/pipermail/python-dev/2008-January/076612.html
85119,3,"What are come good (or at least clever) ways of running multiple sites from a single, common Python web framework (ie: Pylons, TurboGears, etc)? I know you can do redirection based on the domain or path to rewrite the URI to point at a site-specific location and I've also seen some brutish ""if site == 'site1' / elseif / elseif / etc"" that I would like to avoid.",Running multiple sites from a single Python web framework,85134,85119,8,"Django has this built in. See the sites framework. As a general technique, include a 'host' column in your database schema attached to the data you want to be host-specific, then include the Host HTTP header in the query when you are retrieving data."
85119,3,"What are come good (or at least clever) ways of running multiple sites from a single, common Python web framework (ie: Pylons, TurboGears, etc)? I know you can do redirection based on the domain or path to rewrite the URI to point at a site-specific location and I've also seen some brutish ""if site == 'site1' / elseif / elseif / etc"" that I would like to avoid.",Running multiple sites from a single Python web framework,85271,85119,2,"I use CherryPy as my web server (which comes bundled with Turbogears), and I simply run multiple instances of the CherryPy web server on different ports bound to localhost. Then I configure Apache with mod_proxy and mod_rewrite to transparently forward requests to the proper port based on the HTTP request."
85119,3,"What are come good (or at least clever) ways of running multiple sites from a single, common Python web framework (ie: Pylons, TurboGears, etc)? I know you can do redirection based on the domain or path to rewrite the URI to point at a site-specific location and I've also seen some brutish ""if site == 'site1' / elseif / elseif / etc"" that I would like to avoid.",Running multiple sites from a single Python web framework,86003,85119,1,"Using multiple server instances on local ports is a good idea, but you don't need a full featured web server to redirect HTTP requests. I would use pound as a reverse proxy to do the job. It is small, fast, simple and does exactly what we need here. WHAT POUND IS: a reverse-proxy: it passes requests from client browsers to one or more back-end servers. a load balancer: it will distribute the requests from the client browsers among several back-end servers, while keeping session information. an SSL wrapper: Pound will decrypt HTTPS requests from client browsers and pass them as plain HTTP to the back-end servers. an HTTP/HTTPS sanitizer: Pound will verify requests for correctness and accept only well-formed ones. a fail over-server: should a back-end server fail, Pound will take note of the fact and stop passing requests to it until it recovers. a request redirector: requests may be distributed among servers according to the requested URL."
85119,3,"What are come good (or at least clever) ways of running multiple sites from a single, common Python web framework (ie: Pylons, TurboGears, etc)? I know you can do redirection based on the domain or path to rewrite the URI to point at a site-specific location and I've also seen some brutish ""if site == 'site1' / elseif / elseif / etc"" that I would like to avoid.",Running multiple sites from a single Python web framework,86705,85119,6,"Using Django on apache with mod_python, I host multiple (unrelated) django sites simply with the following apache config: &lt;VirtualHost 1.2.3.4&gt; DocumentRoot /www/site1 ServerName site1.com &lt;Location /&gt; SetHandler python-program SetEnv DJANGO_SETTINGS_MODULE site1.settings PythonPath ""['/www'] + sys.path"" PythonDebug On PythonInterpreter site1 &lt;/Location&gt; &lt;/VirtualHost&gt; &lt;VirtualHost 1.2.3.4&gt; DocumentRoot /www/site2 ServerName site2.com &lt;Location /&gt; SetHandler python-program SetEnv DJANGO_SETTINGS_MODULE site2.settings PythonPath ""['/www'] + sys.path"" PythonDebug On PythonInterpreter site2 &lt;/Location&gt; &lt;/VirtualHost&gt; No need for multiple apache instances or proxy servers. Using a different PythonInterpreter directive for each site (the name you enter is arbitrary) keeps the namespaces separate."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,85480,85451,13,"Depends on what you care about. If you mean WALL TIME (as in, the time on the clock on your wall), time.clock() provides NO accuracy because it may manage CPU time."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,85489,85451,12,"clock() -&gt; floating point number Return the CPU time or real time since the start of the process or since the first call to clock(). This has as much precision as the system records. time() -&gt; floating point number Return the current time in seconds since the Epoch. Fractions of a second may be present if the system clock provides them. Usually time() is more precise, because operating systems do not store the process running time with the precision they store the system time (ie, actual time)"
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,85511,85451,33,"The short answer is: most of the time time.clock() will be better. However, if you're timing some hardware (for example some algorithm you put in the GPU), then time.clock() will get rid of this time and time.time() is the only solution left. Note: whatever the method used, the timing will depend on factors you cannot control (when will the process switch, how often, ...), this is worse with time.time() but exists also with time.clock(), so you should never run one timing test only, but always run a series of test and look at mean/variance of the times."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,85529,85451,2,"Short answer: use time.clock() for timing in Python. On *nix systems, clock() returns the processor time as a floating point number, expressed in seconds. On Windows, it returns the seconds elapsed since the first call to this function, as a floating point number. time() returns the the seconds since the epoch, in UTC, as a floating point number. There is no guarantee that you will get a better precision that 1 second (even though time() returns a floating point number). Also note that if the system clock has been set back between two calls to this function, the second function call will return a lower value."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,85533,85451,91,"As of 3.3, time.clock() is deprecated, and it's suggested to use time.process_time() or time.perf_counter() instead. Previously in 2.7, according to the time module docs: time.clock() On Unix, return the current processor time as a floating point number expressed in seconds. The precision, and in fact the very definition of the meaning of âprocessor timeâ, depends on that of the C function of the same name, but in any case, this is the function to use for benchmarking Python or timing algorithms. On Windows, this function returns wall-clock seconds elapsed since the first call to this function, as a floating point number, based on the Win32 function QueryPerformanceCounter(). The resolution is typically better than one microsecond. Additionally, there is the timeit module for benchmarking code snippets."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,85536,85451,20,"Others have answered re: time.time() vs. time.clock(). However, if you're timing the execution of a block of code for benchmarking/profiling purposes, you should take a look at the timeit module."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,85586,85451,3,"On Unix time.clock() measures the amount of CPU time that has been used by the current process, so it's no good for measuring elapsed time from some point in the past. On Windows it will measure wall-clock seconds elapsed since the first call to the function. On either system time.time() will return seconds passed since the epoch. If you're writing code that's meant only for Windows, either will work (though you'll use the two differently - no subtraction is necessary for time.clock()). If this is going to run on a Unix system or you want code that is guaranteed to be portable, you will want to use time.time()."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,85642,85451,5,"The difference is very platform-specific. clock() is very different on Windows than on Linux, for example. For the sort of examples you describe, you probably want the ""timeit"" module instead."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,87039,85451,2,"To the best of my understanding, time.clock() has as much precision as your system will allow it."
85451,333,Which is better to use for timing in Python? time.clock() or time.time()? Which one provides more accuracy? for example: start = time.clock() ... do something elapsed = (time.clock() - start) vs. start = time.time() ... do something elapsed = (time.time() - start),Python - time.clock() vs. time.time() - accuracy?,2246226,85451,16,"One thing to keep in mind: Changing the system time affects time.time() but not time.clock(). I needed to control some automatic tests executions. If one step of the test case took more than a given amount of time, that TC was aborted to go on with the next one. But sometimes a step needed to change the system time (to check the scheduler module of the application under test), so after setting the system time a few hours in the future, the TC timeout expired and the test case was aborted. I had to switch from time.time() to time.clock() to handle this properly."
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,85608,85577,1,"I don't think there is a built in way to get it from Python itself. My question is, how are you getting the IP information from your network? To get it from your local machine you could parse ifconfig (unix) or ipconfig (windows) with little difficulty."
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,85613,85577,11,"You need ARP. Python's standard library doesn't include any code for that, so you either need to call an external program (your OS may have an 'arp' utility) or you need to build the packets yourself (possibly with a tool like Scapy."
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,85620,85577,0,"Depends on your platform. If you're using *nix, you can use the 'arp' command to look up the mac address for a given IP (assuming IPv4) address. If that doesn't work, you could ping the address and then look, or if you have access to the raw network (using BPF or some other mechanism), you could send your own ARP packets (but that is probably overkill)."
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,85632,85577,1,"If you want a pure Python solution, you can take a look at Scapy to craft packets (you need to send ARP request, and inspect replies). Or if you don't mind invoking external program, you can use arping (on Un*x systems, I don't know of a Windows equivalent)."
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,85634,85577,1,"It seems that there is not a native way of doing this with Python. Your best bet would be to parse the output of ""ipconfig /all"" on Windows, or ""ifconfig"" on Linux. Consider using os.popen() with some regexps."
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,85641,85577,0,"You would want to parse the output of 'arp', but the kernel ARP cache will only contain those IP address(es) if those hosts have communicated with the host where the Python script is running. ifconfig can be used to display the MAC addresses of local interfaces, but not those on the LAN."
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,85707,85577,0,Mark Pilgrim describes how to do this on Windows for the current machine with the Netbios module here. You can get the Netbios module as part of the Win32 package available at python.org. Unfortunately at the moment I cannot find the docs on the module.
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,86541,85577,-1,"as python was not meant to deal with OS-specific issues (it's supposed to be interpreted and cross platform), I would execute an external command to do so: in unix the command is ifconfig if you execute it as a pipe you get the desired result: import os; myPipe=os.popen2(""/sbin/ifconfig"",""a""); print(myPipe[1].read());"
85577,8,"I'd like to search for a given MAC address on my network, all from within a Python script. I already have a map of all the active IP addresses in the network but I cannot figure out how to glean the MAC address. Any ideas?",Search for host with MAC-address using Python,89809,85577,3,"This article, ""Send hand-crafted Ethernet Frames in Python (ARP for example)"", seems to be exactly what you are looking for."
85985,8,"What would be the best way to implement a simple crash / error reporting mechanism? Details: my app is cross-platform (mac/windows/linux) and written in Python, so I just need something that will send me a small amount of text, e.g. just a timestamp and a traceback (which I already generate and show in my error dialog). It would be fine if it could simply email it, but I can't think of a way to do this without including a username and password for the smtp server in the application... Should I implement a simple web service on the server side and have my app send it an HTTP request with the info? Any better ideas? Thanks!",How to best implement simple crash / error reporting?,86007,85985,1,"The web hit is the way to go, but make sure you pick a good URL - your app will be hitting it for years to come."
85985,8,"What would be the best way to implement a simple crash / error reporting mechanism? Details: my app is cross-platform (mac/windows/linux) and written in Python, so I just need something that will send me a small amount of text, e.g. just a timestamp and a traceback (which I already generate and show in my error dialog). It would be fine if it could simply email it, but I can't think of a way to do this without including a username and password for the smtp server in the application... Should I implement a simple web service on the server side and have my app send it an HTTP request with the info? Any better ideas? Thanks!",How to best implement simple crash / error reporting?,86010,85985,1,PyCrash?
85985,8,"What would be the best way to implement a simple crash / error reporting mechanism? Details: my app is cross-platform (mac/windows/linux) and written in Python, so I just need something that will send me a small amount of text, e.g. just a timestamp and a traceback (which I already generate and show in my error dialog). It would be fine if it could simply email it, but I can't think of a way to do this without including a username and password for the smtp server in the application... Should I implement a simple web service on the server side and have my app send it an HTTP request with the info? Any better ideas? Thanks!",How to best implement simple crash / error reporting?,86022,85985,0,"Whether you use SMTP or HTTP to send the data, you need to have a username/password in the application to prevent just anyone from sending random data to you. With that in mind, I suspect it would be easier to use SMTP rather than HTTP to send the data."
85985,8,"What would be the best way to implement a simple crash / error reporting mechanism? Details: my app is cross-platform (mac/windows/linux) and written in Python, so I just need something that will send me a small amount of text, e.g. just a timestamp and a traceback (which I already generate and show in my error dialog). It would be fine if it could simply email it, but I can't think of a way to do this without including a username and password for the smtp server in the application... Should I implement a simple web service on the server side and have my app send it an HTTP request with the info? Any better ideas? Thanks!",How to best implement simple crash / error reporting?,86050,85985,4,"The web service is the best way, but there are some caveats: You should always ask the user if it is ok to send error feedback information. You should be prepared to fail gracefully if there are network errors. Don't let a failure to report a crash impede recovery! You should avoid including user identifying or sensitive information unless the user knows (see #1) and you should either use SSL or otherwise protect it. Some jurisdictions impose burdens on you that you might not want to deal with, so it's best to simply not save such information. Like any web service, make sure your service is not exploitable by miscreants."
85985,8,"What would be the best way to implement a simple crash / error reporting mechanism? Details: my app is cross-platform (mac/windows/linux) and written in Python, so I just need something that will send me a small amount of text, e.g. just a timestamp and a traceback (which I already generate and show in my error dialog). It would be fine if it could simply email it, but I can't think of a way to do this without including a username and password for the smtp server in the application... Should I implement a simple web service on the server side and have my app send it an HTTP request with the info? Any better ideas? Thanks!",How to best implement simple crash / error reporting?,86069,85985,0,Some kind of simple web service would suffice. You would have to consider security so not just anyone could make requests to your service.. On a larger scale we considered a JMS messaging system. Put a serialized object of data containing the traceback/error message into a queue and consume it every x minutes generating reports/alerts from that data.
85985,8,"What would be the best way to implement a simple crash / error reporting mechanism? Details: my app is cross-platform (mac/windows/linux) and written in Python, so I just need something that will send me a small amount of text, e.g. just a timestamp and a traceback (which I already generate and show in my error dialog). It would be fine if it could simply email it, but I can't think of a way to do this without including a username and password for the smtp server in the application... Should I implement a simple web service on the server side and have my app send it an HTTP request with the info? Any better ideas? Thanks!",How to best implement simple crash / error reporting?,86167,85985,3,"I can't think of a way to do this without including a username and password for the smtp server in the application... You only need a username and password for authenticating yourself to a smarthost. You don't need it to send mail directly, you need it to send mail through a relay, e.g. your ISP's mail server. It's perfectly possible to send email without authentication - that's why spam is so hard to stop. Having said that, some ISPs block outbound traffic on port 25, so the most robust alternative is an HTTP POST, which is unlikely to be blocked by anything. Be sure to pick a URL that you won't feel restricted by later on, or better yet, have the application periodically check for updates, so if you decide to change domains or something, you can push an update in advance. Security isn't really an issue. You can fairly easily discard junk data, so all that really concerns you is whether or not somebody would go to the trouble of constructing fake tracebacks to mess with you, and that's a very unlikely situation. As for the payload, PyCrash can help you with that."
86134,9,"I am relatively new to Python, and I have always used the standard cpython (v2.5) implementation. I've been wondering about the other implementations though, particularly Jython and IronPython. What makes them better? What makes them worse? What other implementations are there? I guess what I'm looking for is a summary and list of pros and cons for each implementation.",What are the pros and cons of the various Python implementations?,86172,86134,1,Pros: Access to the libraries available for JVM or CLR. Cons: Both naturally lag behind CPython in terms of features.
86134,9,"I am relatively new to Python, and I have always used the standard cpython (v2.5) implementation. I've been wondering about the other implementations though, particularly Jython and IronPython. What makes them better? What makes them worse? What other implementations are there? I guess what I'm looking for is a summary and list of pros and cons for each implementation.",What are the pros and cons of the various Python implementations?,86173,86134,15,"Jython and IronPython are useful if you have an overriding need to interface with existing libraries written in a different platform, like if you have 100,000 lines of Java and you just want to write a 20-line Python script. Not particularly useful for anything else, in my opinion, because they are perpetually a few versions behind CPython due to community inertia. Stackless is interesting because it has support for green threads, continuations, etc. Sort of an Erlang-lite. PyPy is an experimental interpreter/compiler that may one day supplant CPython, but for now is more of a testbed for new ideas."
86134,9,"I am relatively new to Python, and I have always used the standard cpython (v2.5) implementation. I've been wondering about the other implementations though, particularly Jython and IronPython. What makes them better? What makes them worse? What other implementations are there? I guess what I'm looking for is a summary and list of pros and cons for each implementation.",What are the pros and cons of the various Python implementations?,86186,86134,3,"All of the implementations are listed here: https://wiki.python.org/moin/PythonImplementations CPython is the ""reference implementation"" and developed by Guido and the core developers."
86134,9,"I am relatively new to Python, and I have always used the standard cpython (v2.5) implementation. I've been wondering about the other implementations though, particularly Jython and IronPython. What makes them better? What makes them worse? What other implementations are there? I guess what I'm looking for is a summary and list of pros and cons for each implementation.",What are the pros and cons of the various Python implementations?,86427,86134,1,"IronPython and Jython use the runtime environment for .NET or Java and with that comes Just In Time compilation and a garbage collector different from the original CPython. They might be also faster than CPython thanks to the JIT, but I don't know that for sure. A downside in using Jython or IronPython is that you cannot use native C modules, they can be only used in CPython."
86134,9,"I am relatively new to Python, and I have always used the standard cpython (v2.5) implementation. I've been wondering about the other implementations though, particularly Jython and IronPython. What makes them better? What makes them worse? What other implementations are there? I guess what I'm looking for is a summary and list of pros and cons for each implementation.",What are the pros and cons of the various Python implementations?,86665,86134,1,"PyPy is a Python implementation written in RPython wich is a Python subset. RPython can be translated to run on a VM or, unlike standard Python, RPython can be statically compiled."
86134,9,"I am relatively new to Python, and I have always used the standard cpython (v2.5) implementation. I've been wondering about the other implementations though, particularly Jython and IronPython. What makes them better? What makes them worse? What other implementations are there? I guess what I'm looking for is a summary and list of pros and cons for each implementation.",What are the pros and cons of the various Python implementations?,90103,86134,6,"An additional benefit for Jython, at least for some, is it lacks the GIL (the Global Interpreter Lock) and uses Java's native threads. This means that you can run pure Python code in parallel, something not possible with the GIL."
87317,10,"I need to get a list of attribute values from child elements in Python. It's easiest to explain with an example. Given some XML like this: &lt;elements&gt; &lt;parent name=""CategoryA""&gt; &lt;child value=""a1""/&gt; &lt;child value=""a2""/&gt; &lt;child value=""a3""/&gt; &lt;/parent&gt; &lt;parent name=""CategoryB""&gt; &lt;child value=""b1""/&gt; &lt;child value=""b2""/&gt; &lt;child value=""b3""/&gt; &lt;/parent&gt; &lt;/elements&gt; I want to be able to do something like: &gt;&gt;&gt; getValues(""CategoryA"") ['a1', 'a2', 'a3'] &gt;&gt;&gt; getValues(""CategoryB"") ['b1', 'b2', 'b3'] It looks like a job for XPath but I'm open to all recommendations. I'd also like to hear about your favourite Python XML libraries.",Get list of XML attribute values in Python,87503,87317,2,"I must admit I'm a fan of xmltramp due to its ease of use. Accessing the above becomes: import xmltramp values = xmltramp.parse('''...''') def getValues( values, category ): cat = [ parent for parent in values['parent':] if parent(name) == category ] cat_values = [ child(value) for child in parent['child':] for parent in cat ] return cat_values getValues( values, ""CategoryA"" ) getValues( values, ""CategoryB"" )"
87317,10,"I need to get a list of attribute values from child elements in Python. It's easiest to explain with an example. Given some XML like this: &lt;elements&gt; &lt;parent name=""CategoryA""&gt; &lt;child value=""a1""/&gt; &lt;child value=""a2""/&gt; &lt;child value=""a3""/&gt; &lt;/parent&gt; &lt;parent name=""CategoryB""&gt; &lt;child value=""b1""/&gt; &lt;child value=""b2""/&gt; &lt;child value=""b3""/&gt; &lt;/parent&gt; &lt;/elements&gt; I want to be able to do something like: &gt;&gt;&gt; getValues(""CategoryA"") ['a1', 'a2', 'a3'] &gt;&gt;&gt; getValues(""CategoryB"") ['b1', 'b2', 'b3'] It looks like a job for XPath but I'm open to all recommendations. I'd also like to hear about your favourite Python XML libraries.",Get list of XML attribute values in Python,87543,87317,2,"You can do this with BeautifulSoup &gt;&gt;&gt; from BeautifulSoup import BeautifulStoneSoup &gt;&gt;&gt; soup = BeautifulStoneSoup(xml) &gt;&gt;&gt; def getValues(name): . . . return [child['value'] for child in soup.find('parent', attrs={'name': name}).findAll('child')] If you're doing work with HTML/XML I would recommend you take a look at BeautifulSoup. It's similar to the DOM tree but contains more functionality."
87317,10,"I need to get a list of attribute values from child elements in Python. It's easiest to explain with an example. Given some XML like this: &lt;elements&gt; &lt;parent name=""CategoryA""&gt; &lt;child value=""a1""/&gt; &lt;child value=""a2""/&gt; &lt;child value=""a3""/&gt; &lt;/parent&gt; &lt;parent name=""CategoryB""&gt; &lt;child value=""b1""/&gt; &lt;child value=""b2""/&gt; &lt;child value=""b3""/&gt; &lt;/parent&gt; &lt;/elements&gt; I want to be able to do something like: &gt;&gt;&gt; getValues(""CategoryA"") ['a1', 'a2', 'a3'] &gt;&gt;&gt; getValues(""CategoryB"") ['b1', 'b2', 'b3'] It looks like a job for XPath but I'm open to all recommendations. I'd also like to hear about your favourite Python XML libraries.",Get list of XML attribute values in Python,87622,87317,7,"I'm not really an old hand at Python, but here's an XPath solution using libxml2. import libxml2 DOC = """"""&lt;elements&gt; &lt;parent name=""CategoryA""&gt; &lt;child value=""a1""/&gt; &lt;child value=""a2""/&gt; &lt;child value=""a3""/&gt; &lt;/parent&gt; &lt;parent name=""CategoryB""&gt; &lt;child value=""b1""/&gt; &lt;child value=""b2""/&gt; &lt;child value=""b3""/&gt; &lt;/parent&gt; &lt;/elements&gt;"""""" doc = libxml2.parseDoc(DOC) def getValues(cat): return [attr.content for attr in doc.xpathEval(""/elements/parent[@name='%s']/child/@value"" % (cat))] print getValues(""CategoryA"") With result... ['a1', 'a2', 'a3']"
87317,10,"I need to get a list of attribute values from child elements in Python. It's easiest to explain with an example. Given some XML like this: &lt;elements&gt; &lt;parent name=""CategoryA""&gt; &lt;child value=""a1""/&gt; &lt;child value=""a2""/&gt; &lt;child value=""a3""/&gt; &lt;/parent&gt; &lt;parent name=""CategoryB""&gt; &lt;child value=""b1""/&gt; &lt;child value=""b2""/&gt; &lt;child value=""b3""/&gt; &lt;/parent&gt; &lt;/elements&gt; I want to be able to do something like: &gt;&gt;&gt; getValues(""CategoryA"") ['a1', 'a2', 'a3'] &gt;&gt;&gt; getValues(""CategoryB"") ['b1', 'b2', 'b3'] It looks like a job for XPath but I'm open to all recommendations. I'd also like to hear about your favourite Python XML libraries.",Get list of XML attribute values in Python,87651,87317,3,"Using a standard W3 DOM such as the stdlib's minidom, or pxdom: def getValues(category): for parent in document.getElementsByTagName('parent'): if parent.getAttribute('name')==category: return [ el.getAttribute('value') for el in parent.getElementsByTagName('child') ] raise ValueError('parent not found')"
87317,10,"I need to get a list of attribute values from child elements in Python. It's easiest to explain with an example. Given some XML like this: &lt;elements&gt; &lt;parent name=""CategoryA""&gt; &lt;child value=""a1""/&gt; &lt;child value=""a2""/&gt; &lt;child value=""a3""/&gt; &lt;/parent&gt; &lt;parent name=""CategoryB""&gt; &lt;child value=""b1""/&gt; &lt;child value=""b2""/&gt; &lt;child value=""b3""/&gt; &lt;/parent&gt; &lt;/elements&gt; I want to be able to do something like: &gt;&gt;&gt; getValues(""CategoryA"") ['a1', 'a2', 'a3'] &gt;&gt;&gt; getValues(""CategoryB"") ['b1', 'b2', 'b3'] It looks like a job for XPath but I'm open to all recommendations. I'd also like to hear about your favourite Python XML libraries.",Get list of XML attribute values in Python,87658,87317,5,"ElementTree 1.3 (unfortunately not 1.2 which is the one included with Python) supports XPath like this: import elementtree.ElementTree as xml def getValues(tree, category): parent = tree.find("".//parent[@name='%s']"" % category) return [child.get('value') for child in parent] Then you can do &gt;&gt;&gt; tree = xml.parse('data.xml') &gt;&gt;&gt; getValues(tree, 'CategoryA') ['a1', 'a2', 'a3'] &gt;&gt;&gt; getValues(tree, 'CategoryB') ['b1', 'b2', 'b3'] lxml.etree (which also provides the ElementTree interface) will also work in the same way."
87317,10,"I need to get a list of attribute values from child elements in Python. It's easiest to explain with an example. Given some XML like this: &lt;elements&gt; &lt;parent name=""CategoryA""&gt; &lt;child value=""a1""/&gt; &lt;child value=""a2""/&gt; &lt;child value=""a3""/&gt; &lt;/parent&gt; &lt;parent name=""CategoryB""&gt; &lt;child value=""b1""/&gt; &lt;child value=""b2""/&gt; &lt;child value=""b3""/&gt; &lt;/parent&gt; &lt;/elements&gt; I want to be able to do something like: &gt;&gt;&gt; getValues(""CategoryA"") ['a1', 'a2', 'a3'] &gt;&gt;&gt; getValues(""CategoryB"") ['b1', 'b2', 'b3'] It looks like a job for XPath but I'm open to all recommendations. I'd also like to hear about your favourite Python XML libraries.",Get list of XML attribute values in Python,87726,87317,2,"My preferred python xml library is lxml , which wraps libxml2. Xpath does seem the way to go here, so I'd write this as something like: from lxml import etree def getValues(xml, category): return [x.attrib['value'] for x in xml.findall('/parent[@name=""%s""]/*' % category)] xml = etree.parse(open('filename.xml')) &gt;&gt;&gt; print getValues(xml, 'CategoryA') ['a1', 'a2', 'a3'] &gt;&gt;&gt; print getValues(xml, 'CategoryB') ['b1', 'b2', 'b3]"
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",87562,87522,3,"Use this as an opportunity to remove unused features! Definitely go with the new language. Call it 2.0. It will be a lot less work to rebuild the 80% of it that you really need. Start by wiping your brain clean of the whole application. Sit down with a list of its overall goals, then decide which features are needed based on which ones are used. Then redesign it with those features in mind, and build. (I love to delete code.)"
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",87573,87522,0,"I would not recommend JScript as that is definitely the road less traveled. ASP.NET MVC is rapidly maturing, and I think that you could begin a migration to it, simultaneously ramping up on the ASP.NET MVC framework as its finalization comes through. Another option would be to use something like ASP.NET w/Subsonic or NHibernate."
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",87684,87522,2,"Whatever you do, see if you can manage to follow a plan where you do not have to port the application all in one big bang. It is tempting to throw it all away and start from scratch, but if you can manage to do it gradually the mistakes you do will not cost so much and cause so much panic."
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",87998,87522,3,"It works out better than you'd believe. Recently I did a large reverse-engineering job on a hideous old collection of C code. Function by function I reallocated the features that were still relevant into classes, wrote unit tests for the classes, and built up what looked like a replacement application. It had some of the original ""logic flow"" through the classes, and some classes were poorly designed [Mostly this was because of a subset of the global variables that was too hard to tease apart.] It passed unit tests at the class level and at the overall application level. The legacy source was mostly used as a kind of ""specification in C"" to ferret out the really obscure business rules. Last year, I wrote a project plan for replacing 30-year old COBOL. The customer was leaning toward Java. I prototyped the revised data model in Python using Django as part of the planning effort. I could demo the core transactions before I was done planning. Note: It was quicker to build a the model and admin interface in Django than to plan the project as a whole. Because of the ""we need to use Java"" mentality, the resulting project will be larger and more expensive than finishing the Django demo. With no real value to balance that cost. Also, I did the same basic ""prototype in Django"" for a VB desktop application that needed to become a web application. I built the model in Django, loaded legacy data, and was up and running in a few weeks. I used that working prototype to specify the rest of the conversion effort. Note: I had a working Django implementation (model and admin pages only) that I used to plan the rest of the effort. The best part about doing this kind of prototyping in Django is that you can mess around with the model, unit tests and admin pages until you get it right. Once the model's right, you can spend the rest of your time fiddling around with the user interface until everyone's happy."
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",89434,87522,7,"Don't throw away your code! It's the single worst mistake you can make (on a large codebase). See Things You Should Never Do, Part 1. You've invested a lot of effort into that old code and worked out many bugs. Throwing it away is a classic developer mistake (and one I've done many times). It makes you feel ""better"", like a spring cleaning. But you don't need to buy a new apartment and all new furniture to outfit your house. You can work on one room at a time... and maybe some things just need a new paintjob. Hence, this is where refactoring comes in. For new functionality in your app, write it in C# and call it from your classic ASP. You'll be forced to be modular when you rewrite this new code. When you have time, refactor parts of your old code into C# as well, and work out the bugs as you go. Eventually, you'll have replaced your app with all new code. You could also write your own compiler. We wrote one for our classic ASP app a long time ago to allow us to output PHP. It's called Wasabi and I think it's the reason Jeff Atwood thought Joel Spolsky went off his rocker. Actually, maybe we should just ship it, and then you could use that. It allowed us to switch our entire codebase to .NET for the next release while only rewriting a very small portion of our source. It also caused a bunch of people to call us crazy, but writing a compiler is not that complicated, and it gave us a lot of flexibility. Also, if this is an internal only app, just leave it. Don't rewrite it - you are the only customer and if the requirement is you need to run it as classic asp, you can meet that requirement."
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",89452,87522,0,Don't try and go 2.0 ( more features then currently exists or scheduled) instead build your new platform with the intent of resolving the current issues with the code base (maintainability/speed/wtf) and go from there.
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",101074,87522,1,"Half a year ago I took over a large web application (fortunately already in Python) which had some major architectural deficiencies (templates and code mixed, code duplication, you name it...). My plan is to eventually have the system respond to WSGI, but I am not there yet. I found the best way to do it, is in small steps. Over the last 6 month, code reuse has gone up and progress has accelerated. General principles which have worked for me: Throw away code which is not used or commented out Throw away all comments which are not useful Define a layer hierarchy (models, business logic, view/controller logic, display logic, etc.) of your application. This has not to be very clear cut architecture but rather should help you think about the various parts of your application and help you better categorize your code. If something grossly violates this hierarchy, change the offending code. Move the code around, recode it at another place, etc. At the same time adjust the rest of your application to use this code instead of the old one. Throw the old one away if not used anymore. Keep you APIs simple! Progress can be painstakingly slow, but should be worth it."
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",593057,87522,0,"A good place to begin if you're considering the move to Python is to rewrite your administrator interface in Django. This will help you get some of the kinks worked out in terms of getting Python up and running with IIS (or to migrate it to Apache). Speaking of which, I recommend isapi-wsgi. It's by far the easiest way to get up and running with IIS."
87522,3,"We are mainting a web application that is built on Classic ASP using VBScript as the primary language. We are in agreement that our backend (framework if you will) is out dated and doesn't provide us with the proper tools to move forward in a quick manner. We have pretty much embraced the current webMVC pattern that is all over the place, and cannot do it, in a reasonable manner, with the current technology. The big missing features are proper dispatching and templating with inheritance, amongst others. Currently there are two paths being discussed: Port the existing application to Classic ASP using JScript, which will allow us to hopefully go from there to .NET MSJscript without too much trouble, and eventually end up on the .NET platform (preferably the MVC stuff will be done by then, ASP.NET isn't much better than were we are on now, in our opinions). This has been argued as the safer path with less risk than the next option, albeit it might take slightly longer. Completely rewrite the application using some other technology, right now the leader of the pack is Python WSGI with a custom framework, ORM, and a good templating solution. There is wiggle room here for even django and other pre-built solutions. This method would hopefully be the quickest solution, as we would probably run a beta beside the actual product, but it does have the potential for a big waste of time if we can't/don't get it right. This does not mean that our logic is gone, as what we have built over the years is fairly stable, as noted just difficult to deal with. It is built on SQL Server 2005 with heavy use of stored procedures and published on IIS 6, just for a little more background. Now, the question. Has anyone taken either of the two paths above? If so, was it successful, how could it have been better, etc. We aren't looking to deviate much from doing one of those two things, but some suggestions or other solutions would potentially be helpful.","If it is decided that our system needs an overhaul, what is the best way to go about it?",994326,87522,0,I agree with Michael Pryor and Joel that it's almost always a better idea to continue evolving your existing code base rather than re-writing from scratch. There are typically opportunities to just re-write or re-factor certain components for performance or flexibility.
88194,1,"I am trying to call a shell script that sets a bunch of environment variables on our server from a mercurial hook. The shell script gets called fine when a new changegroup comes in, but the environment variables aren't carrying over past the call to the shell script. My hgrc file on the respository looks like this: [hooks] changegroup = shell_script changegroup.env = env I can see the output of the shell script, and then the output of the env command, but the env command doesn't include the new environment variables set by the shell script. I have verified that the shell script works fine when run by itself but when run in the context of the mercurial hook it does not properly set the environment. Thank you guys for any help you can provide.",Setting Environment Variables for Mercurial Hook,88209,88194,2,"Shell scripts can't modify their enviroment. http://tldp.org/LDP/abs/html/gotchas.html A script may not export variables back to its parent process, the shell, or to the environment. Just as we learned in biology, a child process can inherit from a parent, but not vice versa $ cat &gt; eg.sh export FOO=""bar""; ^D $ bash eg.sh $ echo $FOO; $ also, the problem is greater, as you have multiple calls of bash bash 1 -&gt; hg -&gt; bash 2 ( shell script ) -&gt; bash 3 ( env call ) it would be like thinking I could set a variable in one php script and then magically get it with another simply by running one after the other."
88259,104,"I tend to use SQLite when doing Django development, but on a live server something more robust is often needed (MySQL/PostgreSQL, for example). Invariably, there are other changes to make to the Django settings as well: different logging locations / intensities, media paths, etc. How do you manage all these changes to make deployment a simple, automated process?",How do you configure Django for simple development and deployment?,88331,88259,79,"Update: django-configurations has been released which is probably a better option for most people than doing it manually. If you would prefer to do things manually, my earlier answer still applies: I have multiple settings files. settings_local.py - host-specific configuration, such as database name, file paths, etc. settings_development.py - configuration used for development, e.g. DEBUG = True. settings_production.py - configuration used for production, e.g. SERVER_EMAIL. I tie these all together with a settings.py file that firstly imports settings_local.py, and then one of the other two. It decides which to load by two settings inside settings_local.py - DEVELOPMENT_HOSTS and PRODUCTION_HOSTS. settings.py calls platform.node() to find the hostname of the machine it is running on, and then looks for that hostname in the lists, and loads the second settings file depending on which list it finds the hostname in. That way, the only thing you really need to worry about is keeping the settings_local.py file up to date with the host-specific configuration, and everything else is handled automatically. Check out an example here."
88259,104,"I tend to use SQLite when doing Django development, but on a live server something more robust is often needed (MySQL/PostgreSQL, for example). Invariably, there are other changes to make to the Django settings as well: different logging locations / intensities, media paths, etc. How do you manage all these changes to make deployment a simple, automated process?",How do you configure Django for simple development and deployment?,88344,88259,11,"I have two files. settings_base.py which contains common/default settings, and which is checked into source control. Each deployment has a separate settings.py, which executes from settings_base import * at the beginning and then overrides as needed."
88259,104,"I tend to use SQLite when doing Django development, but on a live server something more robust is often needed (MySQL/PostgreSQL, for example). Invariably, there are other changes to make to the Django settings as well: different logging locations / intensities, media paths, etc. How do you manage all these changes to make deployment a simple, automated process?",How do you configure Django for simple development and deployment?,89338,88259,1,"In addition to the multiple settings files mentioned by Jim, I also tend to place two settings into my settings.py file at the top BASE_DIR and BASE_URL set to the path of the code and the URL to the base of the site, all other settings are modified to append themselves to these. BASE_DIR = ""/home/sean/myapp/"" e.g. MEDIA_ROOT = ""%smedia/"" % BASEDIR So when moving the project I only have to edit these settings and not search the whole file. I would also recommend looking at fabric and Capistrano (Ruby tool, but it can be used to deploy Django applications) which facilitate automation of remote deployment."
88259,104,"I tend to use SQLite when doing Django development, but on a live server something more robust is often needed (MySQL/PostgreSQL, for example). Invariably, there are other changes to make to the Django settings as well: different logging locations / intensities, media paths, etc. How do you manage all these changes to make deployment a simple, automated process?",How do you configure Django for simple development and deployment?,89823,88259,25,"Personally, I use a single settings.py for the project, I just have it look up the hostname it's on (my development machines have hostnames that start with ""gabriel"" so I just have this: import socket if socket.gethostname().startswith('gabriel'): LIVEHOST = False else: LIVEHOST = True then in other parts I have things like: if LIVEHOST: DEBUG = False PREPEND_WWW = True MEDIA_URL = 'http://static1.grsites.com/' else: DEBUG = True PREPEND_WWW = False MEDIA_URL = 'http://localhost:8000/static/' and so on. A little bit less readable, but it works fine and saves having to juggle multiple settings files."
88259,104,"I tend to use SQLite when doing Django development, but on a live server something more robust is often needed (MySQL/PostgreSQL, for example). Invariably, there are other changes to make to the Django settings as well: different logging locations / intensities, media paths, etc. How do you manage all these changes to make deployment a simple, automated process?",How do you configure Django for simple development and deployment?,91608,88259,21,At the end of settings.py I have the following: try: from settings_local import * except ImportError: pass This way if I want to override default settings I need to just put settings_local.py right next to settings.py.
88259,104,"I tend to use SQLite when doing Django development, but on a live server something more robust is often needed (MySQL/PostgreSQL, for example). Invariably, there are other changes to make to the Django settings as well: different logging locations / intensities, media paths, etc. How do you manage all these changes to make deployment a simple, automated process?",How do you configure Django for simple development and deployment?,108512,88259,0,"I think it depends on the size of the site as to whether you need to step up from using SQLite, I've successfully used SQLite on several smaller live sites and it runs great."
88259,104,"I tend to use SQLite when doing Django development, but on a live server something more robust is often needed (MySQL/PostgreSQL, for example). Invariably, there are other changes to make to the Django settings as well: different logging locations / intensities, media paths, etc. How do you manage all these changes to make deployment a simple, automated process?",How do you configure Django for simple development and deployment?,1527240,88259,1,"I have my settings.py file in an external directory. That way, it doesn't get checked into source control, or over-written by a deploy. I put this in the settings.py file under my Django project, along with any default settings: import sys import os.path def _load_settings(path): print ""Loading configuration from %s"" % (path) if os.path.exists(path): settings = {} # execfile can't modify globals directly, so we will load them manually execfile(path, globals(), settings) for setting in settings: globals()[setting] = settings[setting] _load_settings(""/usr/local/conf/local_settings.py"") *Note: This is very dangerous if you can't trust local_settings.py.*"
88259,104,"I tend to use SQLite when doing Django development, but on a live server something more robust is often needed (MySQL/PostgreSQL, for example). Invariably, there are other changes to make to the Django settings as well: different logging locations / intensities, media paths, etc. How do you manage all these changes to make deployment a simple, automated process?",How do you configure Django for simple development and deployment?,3201509,88259,6,The most simplistic way I found was: 1) use the default settings.py for local development and 2) create a production-settings.py starting with: import os from settings import * And then just override the settings that differ in production: DEBUG = False TEMPLATE_DEBUG = DEBUG DATABASES = { 'default': { .... } }
88325,16,"I have a class: class MyClass: def __init__(self, foo): if foo != 1: raise Error(""foo is not equal to 1!"") and a unit test that is supposed to make sure the incorrect arg passed to the constructor properly raises an error: def testInsufficientArgs(self): foo = 0 self.assertRaises((Error), myClass = MyClass(Error, foo)) But I get... NameError: global name 'Error' is not defined Why? Where should I be defining this Error object? I thought it was built-in as a default exception type, no?",How do I unit test an init() method of a python class with assertRaises()?,88346,88325,18,"'Error' in this example could be any exception object. I think perhaps you have read a code example that used it as a metasyntatic placeholder to mean, ""The Appropriate Exception Class"". The baseclass of all exceptions is called 'Exception', and most of its subclasses are descriptive names of the type of error involved, such as 'OSError', 'ValueError', 'NameError', 'TypeError'. In this case, the appropriate error is 'ValueError' (the value of foo was wrong, therefore a ValueError). I would recommend replacing 'Error' with 'ValueError' in your script. Here is a complete version of the code you are trying to write, I'm duplicating everything because you have a weird keyword argument in your original example that you seem to be conflating with an assignment, and I'm using the 'failUnless' function name because that's the non-aliased name of the function: class MyClass: def __init__(self, foo): if foo != 1: raise ValueError(""foo is not equal to 1!"") import unittest class TestFoo(unittest.TestCase): def testInsufficientArgs(self): foo = 0 self.failUnlessRaises(ValueError, MyClass, foo) if __name__ == '__main__': unittest.main() The output is: . ---------------------------------------------------------------------- Ran 1 test in 0.007s OK There is a flaw in the unit testing library 'unittest' that other unit testing frameworks fix. You'll note that it is impossible to gain access to the exception object from the calling context. If you want to fix this, you'll have to redefine that method in a subclass of UnitTest: This is an example of it in use: class TestFoo(unittest.TestCase): def failUnlessRaises(self, excClass, callableObj, *args, **kwargs): try: callableObj(*args, **kwargs) except excClass, excObj: return excObj # Actually return the exception object else: if hasattr(excClass,'__name__'): excName = excClass.__name__ else: excName = str(excClass) raise self.failureException, ""%s not raised"" % excName def testInsufficientArgs(self): foo = 0 excObj = self.failUnlessRaises(ValueError, MyClass, foo) self.failUnlessEqual(excObj[0], 'foo is not equal to 1!') I have copied the failUnlessRaises function from unittest.py from python2.5 and modified it slightly."
88325,16,"I have a class: class MyClass: def __init__(self, foo): if foo != 1: raise Error(""foo is not equal to 1!"") and a unit test that is supposed to make sure the incorrect arg passed to the constructor properly raises an error: def testInsufficientArgs(self): foo = 0 self.assertRaises((Error), myClass = MyClass(Error, foo)) But I get... NameError: global name 'Error' is not defined Why? Where should I be defining this Error object? I thought it was built-in as a default exception type, no?",How do I unit test an init() method of a python class with assertRaises()?,88357,88325,0,I think you're thinking of Exceptions. Replace the word Error in your description with Exception and you should be good to go :-)
88325,16,"I have a class: class MyClass: def __init__(self, foo): if foo != 1: raise Error(""foo is not equal to 1!"") and a unit test that is supposed to make sure the incorrect arg passed to the constructor properly raises an error: def testInsufficientArgs(self): foo = 0 self.assertRaises((Error), myClass = MyClass(Error, foo)) But I get... NameError: global name 'Error' is not defined Why? Where should I be defining this Error object? I thought it was built-in as a default exception type, no?",How do I unit test an init() method of a python class with assertRaises()?,88369,88325,4,"How about this: class MyClass: def __init__(self, foo): if foo != 1: raise Exception(""foo is not equal to 1!"") import unittest class Tests(unittest.TestCase): def testSufficientArgs(self): foo = 1 MyClass(foo) def testInsufficientArgs(self): foo = 2 self.assertRaises(Exception, MyClass, foo) if __name__ == '__main__': unittest.main()"
88554,2,"In C++, I can have take input like this: cin >> a >> b >> c; And a can be int, b can be float, and c can be whatever... How do I do the same in python? input() and raw_input(), the way I'm using them, don't seem to be giving me the desired results.","In Python, how do you take tokenized input such as with the C++?",88587,88554,4,"You generally shouldn't use input() in production code. If you want an int and then a float, try this: &gt;&gt;&gt; line = raw_input().split() &gt;&gt;&gt; a = int(line[0]) &gt;&gt;&gt; b = float(line[1]) &gt;&gt;&gt; c = "" "".join(line[2:]) It all depends on what exactly you're trying to accomplish, but remember that readability counts. Obscure one-liners may seem cool but in the face of maintainability, try to choose something sensible :) (P.S.: Don't forget to check for errors with try: ... except (ValueError, IndexError):)"
88554,2,"In C++, I can have take input like this: cin >> a >> b >> c; And a can be int, b can be float, and c can be whatever... How do I do the same in python? input() and raw_input(), the way I'm using them, don't seem to be giving me the desired results.","In Python, how do you take tokenized input such as with the C++?",88589,88554,0,"Depending upon what you are doing, something like the getopt module could be useful, but only in certain situations and I'm not sure if it would apply in yours."
88554,2,"In C++, I can have take input like this: cin >> a >> b >> c; And a can be int, b can be float, and c can be whatever... How do I do the same in python? input() and raw_input(), the way I'm using them, don't seem to be giving me the desired results.","In Python, how do you take tokenized input such as with the C++?",88714,88554,3,"Since the C++ cin reads from sys.stdin, you'll often do something more like the following. import sys tokens= sys.stdin.read().split() try: a= int(token[0]) b= float(token[1]) except ValueError, e: print e # handle the invalid input"
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,88639,88613,4,"Regular expressions: &gt;&gt;&gt; import re &gt;&gt;&gt; splitter = re.compile(r'([+*/])') &gt;&gt;&gt; splitter.split(""2+24*48/32"") You can expand the regular expression to include any other characters you want to split on."
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,88661,88613,4,"s = ""2+24*48/32"" p = re.compile(r'(\W+)') p.split(s)"
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,88663,88613,35,"You can use split from the re module. re.split(pattern, string, maxsplit=0, flags=0) Split string by the occurrences of pattern. If capturing parentheses are used in pattern, then the text of all groups in the pattern are also returned as part of the resulting list. Example code: import re data = re.split(r'(\D)', '2+24*48/32') \D When the UNICODE flag is not specified, \D matches any non-digit character; this is equivalent to the set [^0-9]."
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,88783,88613,18,"This looks like a parsing problem, and thus I am compelled to present a solution based on parsing techniques. While it may seem that you want to 'split' this string, I think what you actually want to do is 'tokenize' it. Tokenization or lexxing is the compilation step before parsing. I have amended my original example in an edit to implement a proper recursive decent parser here. This is the easiest way to implement a parser by hand. import re patterns = [ ('number', re.compile('\d+')), ('*', re.compile(r'\*')), ('/', re.compile(r'\/')), ('+', re.compile(r'\+')), ('-', re.compile(r'\-')), ] whitespace = re.compile('\W+') def tokenize(string): while string: # strip off whitespace m = whitespace.match(string) if m: string = string[m.end():] for tokentype, pattern in patterns: m = pattern.match(string) if m: yield tokentype, m.group(0) string = string[m.end():] def parseNumber(tokens): tokentype, literal = tokens.pop(0) assert tokentype == 'number' return int(literal) def parseMultiplication(tokens): product = parseNumber(tokens) while tokens and tokens[0][0] in ('*', '/'): tokentype, literal = tokens.pop(0) if tokentype == '*': product *= parseNumber(tokens) elif tokentype == '/': product /= parseNumber(tokens) else: raise ValueError(""Parse Error, unexpected %s %s"" % (tokentype, literal)) return product def parseAddition(tokens): total = parseMultiplication(tokens) while tokens and tokens[0][0] in ('+', '-'): tokentype, literal = tokens.pop(0) if tokentype == '+': total += parseMultiplication(tokens) elif tokentype == '-': total -= parseMultiplication(tokens) else: raise ValueError(""Parse Error, unexpected %s %s"" % (tokentype, literal)) return total def parse(tokens): tokenlist = list(tokens) returnvalue = parseAddition(tokenlist) if tokenlist: print 'Unconsumed data', tokenlist return returnvalue def main(): string = '2+24*48/32' for tokentype, literal in tokenize(string): print tokentype, literal print parse(tokenize(string)) if __name__ == '__main__': main() Implementation of handling of brackets is left as an exercise for the reader. This example will correctly do multiplication before addition."
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,89003,88613,0,i'm sure Tim meant splitter = re.compile(r'([\D])'). if you copy exactly what he has down you only get the digits not the operators.
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,89534,88613,17,"&gt;&gt;&gt; import re &gt;&gt;&gt; re.findall(r'\d+|\D+', '2+24*48/32=10') ['2', '+', '24', '*', '48', '/', '32', '=', '10'] Matches consecutive digits or consecutive non-digits. Each match is returned as a new element in the list. Depending on the usage, you may need to alter the regular expression. Such as if you need to match numbers with a decimal point. &gt;&gt;&gt; re.findall(r'[0-9\.]+|[^0-9\.]+', '2+24*48/32=10.1') ['2', '+', '24', '*', '48', '/', '32', '=', '10.1']"
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,89666,88613,4,"Another solution to this would be to avoid writing a calculator like that altogether. Writing an RPN parser is much simpler, and doesn't have any of the ambiguity inherent in writing math with infix notation. import operator, math calc_operands = { '+': (2, operator.add), '-': (2, operator.sub), '*': (2, operator.mul), '/': (2, operator.truediv), '//': (2, operator.div), '%': (2, operator.mod), '^': (2, operator.pow), '**': (2, math.pow), 'abs': (1, operator.abs), 'ceil': (1, math.ceil), 'floor': (1, math.floor), 'round': (2, round), 'trunc': (1, int), 'log': (2, math.log), 'ln': (1, math.log), 'pi': (0, lambda: math.pi), 'e': (0, lambda: math.e), } def calculate(inp): stack = [] for tok in inp.split(): if tok in self.calc_operands: n_pops, func = self.calc_operands[tok] args = [stack.pop() for x in xrange(n_pops)] args.reverse() stack.append(func(*args)) elif '.' in tok: stack.append(float(tok)) else: stack.append(int(tok)) if not stack: raise ValueError('no items on the stack.') return stack.pop() if stack: raise ValueError('%d item(s) left on the stack.' % len(stack)) calculate('24 38 * 32 / 2 +')"
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,99259,88613,0,Why not just use SymPy? It should do what you're trying to achieve.
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,100283,88613,6,"This is a parsing problem, so neither regex not split() are the ""good"" solution. Use a parser generator instead. I would look closely at pyparsing. There have also been some decent articles about pyparsing in the Python Magazine."
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,111355,88613,49,"It just so happens that the tokens you want split are already Python tokens, so you can use the built-in tokenize module. It's almost a one-liner: from cStringIO import StringIO from tokenize import generate_tokens STRING = 1 list(token[STRING] for token in generate_tokens(StringIO('2+24*48/32').readline) if token[STRING]) ['2', '+', '24', '*', '48', '/', '32']"
88613,35,"If I have this string: 2+24*48/32 what is the most efficient approach for creating this list: ['2', '+', '24', '*', '48', '/', '32']",How do I split a string into a list?,3517872,88613,0,"This doesn't answer the question exactly, but I believe it solves what you're trying to achieve. I would add it as a comment, but I don't have permission to do so yet. I personally would take advantage of Python's maths functionality directly with exec: expression = ""2+24*48/32"" exec ""result = "" + expression print result 38"
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,89237,89228,27,"import os os.system(""your command"") Note that this is dangerous, since the command isn't cleaned. I leave it up to you to google for the relevant docs on the 'os' and 'sys' modules. There are a bunch of functions (exec* , spawn*) that will do similar things."
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,89238,89228,46,"import os cmd = 'ls -al' os.system(cmd) If you want to return the results of the command, you can use os.popen. However, this is deprecated since version 2.6 in favor of the subprocess module, which other answers have covered well."
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,89243,89228,2184,"Look at the subprocess module in the stdlib: from subprocess import call call([""ls"", ""-l""]) The advantage of subprocess vs system is that it is more flexible (you can get the stdout, stderr, the ""real"" status code, better error handling, etc...). I think os.system is deprecated, too, or will be: https://docs.python.org/2/library/subprocess.html#replacing-older-functions-with-the-subprocess-module For quick/dirty/one time scripts, os.system is enough, though."
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,89255,89228,63,"I'd recommend using the subprocess module instead of os.system because it does shell escaping for you and is therefore much safer: http://docs.python.org/library/subprocess.html subprocess.call(['ping', 'localhost'])"
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,89262,89228,9,https://docs.python.org/2/library/subprocess.html ...or for a very simple command: import os os.system('cat testfile')
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,89267,89228,6,os.system has been superceeded by the subprocess module. Use subproccess instead.
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,89304,89228,11,"os.system is OK, but kind of dated. It's also not very secure. Instead, try subprocess. subprocess does not call sh directly and is therefore more secure than os.system. Get more information at https://docs.python.org/library/subprocess.html"
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,92395,89228,1889,"Here's a summary of the ways to call external programs and the advantages and disadvantages of each: os.system(""some_command with args"") passes the command and arguments to your system's shell. This is nice because you can actually run multiple commands at once in this manner and set up pipes and input/output redirection. For example: os.system(""some_command &lt; input_file | another_command &gt; output_file"") However, while this is convenient, you have to manually handle the escaping of shell characters such as spaces, etc. On the other hand, this also lets you run commands which are simply shell commands and not actually external programs. See the documentation. stream = os.popen(""some_command with args"") will do the same thing as os.system except that it gives you a file-like object that you can use to access standard input/output for that process. There are 3 other variants of popen that all handle the i/o slightly differently. If you pass everything as a string, then your command is passed to the shell; if you pass them as a list then you don't need to worry about escaping anything. See the documentation. The Popen class of the subprocess module. This is intended as a replacement for os.popen but has the downside of being slightly more complicated by virtue of being so comprehensive. For example, you'd say: print subprocess.Popen(""echo Hello World"", shell=True, stdout=subprocess.PIPE).stdout.read() instead of: print os.popen(""echo Hello World"").read() but it is nice to have all of the options there in one unified class instead of 4 different popen functions. See the documentation. The call function from the subprocess module. This is basically just like the Popen class and takes all of the same arguments, but it simply waits until the command completes and gives you the return code. For example: return_code = subprocess.call(""echo Hello World"", shell=True) See the documentation. If you're on Python 3.5 or later, you can use the new subprocess.run function, which is a lot like the above but even more flexible and returns a CompletedProcess object when the command finishes executing. The os module also has all of the fork/exec/spawn functions that you'd have in a C program, but I don't recommend using them directly. The subprocess module should probably be what you use. Finally please be aware that for all methods where you pass the final command to be executed by the shell as a string and you are responsible for escaping it. There are serious security implications if any part of the string that you pass can not be fully trusted. For example, if a user is entering some/any part of the string. If you are unsure, only use these methods with constants. To give you a hint of the implications consider this code: print subprocess.Popen(""echo %s "" % user_input, stdout=PIPE).stdout.read() and imagine that the user enters ""my mama didnt love me &amp;&amp; rm -rf /""."
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,95246,89228,153,"I typically use: import subprocess p = subprocess.Popen('ls', shell=True, stdout=subprocess.PIPE, stderr=subprocess.STDOUT) for line in p.stdout.readlines(): print line, retval = p.wait() You are free to do what you want with the stdout data in the pipe. In fact, you can simply omit those parameters (stdout= and stderr=) and it'll behave like os.system()."
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,2030768,89228,7,"There is another difference here which is not mentioned above. subprocess.Popen executes the as a subprocess. In my case, I need to execute file which needs to communicate with another program . I tried subprocess, execution was successful. However could not comm w/ . everything normal when I run both from the terminal. One more: (NOTE: kwrite behaves different from other apps. If you try below with firefox results will not be the same) If you try os.system(""kwrite""), program flow freezes until user closes kwrite. To overcome that I tried instead os.system(konsole -e kwrite). This time program continued to flow but kwrite became the subprocess of the konsole. Anyone runs the kwrite not being a subprocess (i.e. at the system monitor it must be appear at the leftmost edge of the tree)"
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,2251026,89228,95,"Some hints on detaching the child process from the calling one (starting the child process in background). Suppose you want to start a long task from a CGI-script, that is the child process should live longer than the CGI-script execution process. The classical example from the subprocess module docs is: import subprocess import sys # some code here pid = subprocess.Popen([sys.executable, ""longtask.py""]) # call subprocess # some more code here The idea here is that you do not want to wait in the line 'call subprocess' until the longtask.py is finished. But it is not clear what happens after the line 'some more code here' from the example. My target platform was freebsd, but the development was on windows, so I faced the problem on windows first. On windows (win xp), the parent process will not finish until the longtask.py has finished its work. It is not what you want in CGI-script. The problem is not specific to Python, in PHP community the problems are the same. The solution is to pass DETACHED_PROCESS flag to the underlying CreateProcess function in win API. If you happen to have installed pywin32 you can import the flag from the win32process module, otherwise you should define it yourself: DETACHED_PROCESS = 0x00000008 pid = subprocess.Popen([sys.executable, ""longtask.py""], creationflags=DETACHED_PROCESS).pid /* UPD 2015.10.27 @eryksun in a comment below notes, that the semantically correct flag is CREATE_NEW_CONSOLE (0x00000010) */ On freebsd we have another problem: when the parent process is finished, it finishes the child processes as well. And that is not what you want in CGI-script either. Some experiments showed that the problem seemed to be in sharing sys.stdout. And the working solution was the following: pid = subprocess.Popen([sys.executable, ""longtask.py""], stdout=subprocess.PIPE, stderr=subprocess.PIPE, stdin=subprocess.PIPE) I have not checked the code on other platforms and do not know the reasons of the behaviour on freebsd. If anyone knows, please share your ideas. Googling on starting background processes in Python does not shed any light yet."
89228,2312,How can I call an external command (as if I'd typed it at the Unix shell or Windows command prompt) from within a Python script?,Calling an external command in Python,3879406,89228,32,"Check ""pexpect"" python library, too. It allows for interactive controlling of external programs/commands, even ssh, ftp, telnet etc. You can just type something like: child = pexpect.spawn('ftp 192.168.0.24') child.expect('(?i)name .*: ') child.sendline('anonymous') child.expect('(?i)password')"
89909,54,I know how to do this if I iterate through all of the characters in the string but I am looking for a more elegant method. Thanks,"How do I verify that a string only contains letters, numbers, underscores and dashes?",89915,89909,-1,use a regex and see if it matches! ([a-z][A-Z][0-9]\_\-)*
89909,54,I know how to do this if I iterate through all of the characters in the string but I am looking for a more elegant method. Thanks,"How do I verify that a string only contains letters, numbers, underscores and dashes?",89919,89909,77,"A regular expression will do the trick with very little code: import re ... if re.match(""^[A-Za-z0-9_-]*$"", my_little_string): # do something here"
89909,54,I know how to do this if I iterate through all of the characters in the string but I am looking for a more elegant method. Thanks,"How do I verify that a string only contains letters, numbers, underscores and dashes?",89937,89909,3,pat = re.compile ('[^\w-]') def onlyallowed(s): return not pat.search (s)
89909,54,I know how to do this if I iterate through all of the characters in the string but I am looking for a more elegant method. Thanks,"How do I verify that a string only contains letters, numbers, underscores and dashes?",89940,89909,0,"You could always use a list comprehension and check the results with all, it would be a little less resource intensive than using a regex: all([c in string.letters + string.digits + [""_"", ""-""] for c in mystring])"
89909,54,I know how to do this if I iterate through all of the characters in the string but I am looking for a more elegant method. Thanks,"How do I verify that a string only contains letters, numbers, underscores and dashes?",89971,89909,12,"There are a variety of ways of achieving this goal, some are clearer than others. For each of my examples, 'True' means that the string passed is valid, 'False' means it contains invalid characters. First of all, there's the naive approach: import string allowed = string.letters + string.digits + '_' + '-' def check_naive(mystring): return all(c in allowed for c in mystring) Then there's use of a regular expression, you can do this with re.match(). Note that '-' has to be at the end of the [] otherwise it will be used as a 'range' delimiter. Also note the $ which means 'end of string'. Other answers noted in this question use a special character class, '\w', I always prefer using an explicit character class range using [] because it is easier to understand without having to look up a quick reference guide, and easier to special-case. import re CHECK_RE = re.compile('[a-zA-Z0-9_-]+$') def check_re(mystring): return CHECK_RE.match(mystring) Another solution noted that you can do an inverse match with regular expressions, I've included that here now. Note that [^...] inverts the character class because the ^ is used: CHECK_INV_RE = re.compile('[^a-zA-Z0-9_-]') def check_inv_re(mystring): return not CHECK_INV_RE.search(mystring) You can also do something tricky with the 'set' object. Have a look at this example, which removes from the original string all the characters that are allowed, leaving us with a set containing either a) nothing, or b) the offending characters from the string: def check_set(mystring): return not set(mystring) - set(allowed)"
89909,54,I know how to do this if I iterate through all of the characters in the string but I am looking for a more elegant method. Thanks,"How do I verify that a string only contains letters, numbers, underscores and dashes?",91564,89909,4,As an alternative to using regex you could do it in Sets: from sets import Set allowed_chars = Set('0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-') if Set(my_little_sting).issubset(allowed_chars): # your action print True
89909,54,I know how to do this if I iterate through all of the characters in the string but I am looking for a more elegant method. Thanks,"How do I verify that a string only contains letters, numbers, underscores and dashes?",91572,89909,10,"If it were not for the dashes and underscores, the easiest solution would be my_little_string.isalnum() (Section 3.6.1 of the Python Library Reference)"
89909,54,I know how to do this if I iterate through all of the characters in the string but I am looking for a more elegant method. Thanks,"How do I verify that a string only contains letters, numbers, underscores and dashes?",92000,89909,20,"[Edit] There's another solution not mentioned yet, and it seems to outperform the others given so far in most cases. Use string.translate to replace all valid characters in the string, and see if we have any invalid ones left over. This is pretty fast as it uses the underlying C function to do the work, with very little python bytecode involved. Obviously performance isn't everything - going for the most readable solutions is probably the best approach when not in a performance critical codepath, but just to see how the solutions stack up, here's a performance comparison of all the methods proposed so far. check_trans is the one using the string.translate method. Test code: import string, re, timeit pat = re.compile('[\w-]*$') pat_inv = re.compile ('[^\w-]') allowed_chars=string.ascii_letters + string.digits + '_-' allowed_set = set(allowed_chars) trans_table = string.maketrans('','') def check_set_diff(s): return not set(s) - allowed_set def check_set_all(s): return all(x in allowed_set for x in s) def check_set_subset(s): return set(s).issubset(allowed_set) def check_re_match(s): return pat.match(s) def check_re_inverse(s): # Search for non-matching character. return not pat_inv.search(s) def check_trans(s): return not s.translate(trans_table,allowed_chars) test_long_almost_valid='a_very_long_string_that_is_mostly_valid_except_for_last_char'*99 + '!' test_long_valid='a_very_long_string_that_is_completely_valid_' * 99 test_short_valid='short_valid_string' test_short_invalid='/$%$%&amp;' test_long_invalid='/$%$%&amp;' * 99 test_empty='' def main(): funcs = sorted(f for f in globals() if f.startswith('check_')) tests = sorted(f for f in globals() if f.startswith('test_')) for test in tests: print ""Test %-15s (length = %d):"" % (test, len(globals()[test])) for func in funcs: print "" %-20s : %.3f"" % (func, timeit.Timer('%s(%s)' % (func, test), 'from __main__ import pat,allowed_set,%s' % ','.join(funcs+tests)).timeit(10000)) print if __name__=='__main__': main() The results on my system are: Test test_empty (length = 0): check_re_inverse : 0.042 check_re_match : 0.030 check_set_all : 0.027 check_set_diff : 0.029 check_set_subset : 0.029 check_trans : 0.014 Test test_long_almost_valid (length = 5941): check_re_inverse : 2.690 check_re_match : 3.037 check_set_all : 18.860 check_set_diff : 2.905 check_set_subset : 2.903 check_trans : 0.182 Test test_long_invalid (length = 594): check_re_inverse : 0.017 check_re_match : 0.015 check_set_all : 0.044 check_set_diff : 0.311 check_set_subset : 0.308 check_trans : 0.034 Test test_long_valid (length = 4356): check_re_inverse : 1.890 check_re_match : 1.010 check_set_all : 14.411 check_set_diff : 2.101 check_set_subset : 2.333 check_trans : 0.140 Test test_short_invalid (length = 6): check_re_inverse : 0.017 check_re_match : 0.019 check_set_all : 0.044 check_set_diff : 0.032 check_set_subset : 0.037 check_trans : 0.015 Test test_short_valid (length = 18): check_re_inverse : 0.125 check_re_match : 0.066 check_set_all : 0.104 check_set_diff : 0.051 check_set_subset : 0.046 check_trans : 0.017 The translate approach seems best in most cases, dramatically so with long valid strings, but is beaten out by regexes in test_long_invalid (Presumably because the regex can bail out immediately, but translate always has to scan the whole string). The set approaches are usually worst, beating regexes only for the empty string case. Using all(x in allowed_set for x in s) performs well if it bails out early, but can be bad if it has to iterate through every character. isSubSet and set difference are comparable, and are consistently proportional to the length of the string regardless of the data. There's a similar difference between the regex methods matching all valid characters and searching for invalid characters. Matching performs a little better when checking for a long, but fully valid string, but worse for invalid characters near the end of the string."
90052,2,"Ok, so i'm working on a regular expression to search out all the header information in a site. I've compiled the regular expression: regex = re.compile(r''' &lt;h[0-9]&gt;\s? (&lt;a[ ]href=""[A-Za-z0-9.]*""&gt;)?\s? [A-Za-z0-9.,:'""=/?;\s]*\s? [A-Za-z0-9.,:'""=/?;\s]? ''', re.X) When I run this in python reg ex. tester, it works out wonderfully. Sample data: &lt;body&gt; &lt;h1&gt;Dog &lt;/h1&gt; &lt;h2&gt;Cat &lt;/h2&gt; &lt;h3&gt;Fancy &lt;/h3&gt; &lt;h1&gt;Tall cup of lemons&lt;/h1&gt; &lt;h1&gt;&lt;a href=""dog.com""&gt;Dog thing&lt;/a&gt;&lt;/h1&gt; &lt;/body&gt; Now, in the REDemo, it works wonderfully. When I put it in my python code, however, it only prints &lt;a href=""dog.com""&gt; Here's my python code, I'm not sure if i'm doing something wrong or if something is lost in translation. I appreciate your help. stories=[] response = urllib2.urlopen('http://apricotclub.org/duh.html') html = response.read().lower() p = re.compile('&lt;h[0-9]&gt;\\s?(&lt;a href=\""[A-Za-z0-9.]*\""&gt;)?\\s?[A-Za-z0-9.,:\'\""=/?;\\s]*\\s?[A-Za-z0-9.,:\'\""=/?;\\s]?') stories=re.findall(p, html) for I in stories: if len(i) &gt;= 5: print I I should also note, that when I take out the (&lt;a href=\""[A-Za-z0-9.]*\""&gt;)? from the regular expression it works fine for non-link &lt;hN&gt; lines.",Issue with Regular expressions in python,90064,90052,2,"Please, don't manually parse html in python! There are many better options available; I'd recommend the wonderful BeautifulSoup"
90052,2,"Ok, so i'm working on a regular expression to search out all the header information in a site. I've compiled the regular expression: regex = re.compile(r''' &lt;h[0-9]&gt;\s? (&lt;a[ ]href=""[A-Za-z0-9.]*""&gt;)?\s? [A-Za-z0-9.,:'""=/?;\s]*\s? [A-Za-z0-9.,:'""=/?;\s]? ''', re.X) When I run this in python reg ex. tester, it works out wonderfully. Sample data: &lt;body&gt; &lt;h1&gt;Dog &lt;/h1&gt; &lt;h2&gt;Cat &lt;/h2&gt; &lt;h3&gt;Fancy &lt;/h3&gt; &lt;h1&gt;Tall cup of lemons&lt;/h1&gt; &lt;h1&gt;&lt;a href=""dog.com""&gt;Dog thing&lt;/a&gt;&lt;/h1&gt; &lt;/body&gt; Now, in the REDemo, it works wonderfully. When I put it in my python code, however, it only prints &lt;a href=""dog.com""&gt; Here's my python code, I'm not sure if i'm doing something wrong or if something is lost in translation. I appreciate your help. stories=[] response = urllib2.urlopen('http://apricotclub.org/duh.html') html = response.read().lower() p = re.compile('&lt;h[0-9]&gt;\\s?(&lt;a href=\""[A-Za-z0-9.]*\""&gt;)?\\s?[A-Za-z0-9.,:\'\""=/?;\\s]*\\s?[A-Za-z0-9.,:\'\""=/?;\\s]?') stories=re.findall(p, html) for I in stories: if len(i) &gt;= 5: print I I should also note, that when I take out the (&lt;a href=\""[A-Za-z0-9.]*\""&gt;)? from the regular expression it works fine for non-link &lt;hN&gt; lines.",Issue with Regular expressions in python,90095,90052,4,"Parsing things with regular expressions works for regular languages. HTML is not a regular language, and the stuff you find on web pages these days is absolute crap. BeautifulSoup deals with tag-soup HTML with browser-like heuristics so you get parsed HTML that resembles what a browser would display. The downside is it's not very fast. There's lxml for parsing well-formed html, but you should really use BeautifulSoup if you're not 100% certain that your input will always be well-formed."
90052,2,"Ok, so i'm working on a regular expression to search out all the header information in a site. I've compiled the regular expression: regex = re.compile(r''' &lt;h[0-9]&gt;\s? (&lt;a[ ]href=""[A-Za-z0-9.]*""&gt;)?\s? [A-Za-z0-9.,:'""=/?;\s]*\s? [A-Za-z0-9.,:'""=/?;\s]? ''', re.X) When I run this in python reg ex. tester, it works out wonderfully. Sample data: &lt;body&gt; &lt;h1&gt;Dog &lt;/h1&gt; &lt;h2&gt;Cat &lt;/h2&gt; &lt;h3&gt;Fancy &lt;/h3&gt; &lt;h1&gt;Tall cup of lemons&lt;/h1&gt; &lt;h1&gt;&lt;a href=""dog.com""&gt;Dog thing&lt;/a&gt;&lt;/h1&gt; &lt;/body&gt; Now, in the REDemo, it works wonderfully. When I put it in my python code, however, it only prints &lt;a href=""dog.com""&gt; Here's my python code, I'm not sure if i'm doing something wrong or if something is lost in translation. I appreciate your help. stories=[] response = urllib2.urlopen('http://apricotclub.org/duh.html') html = response.read().lower() p = re.compile('&lt;h[0-9]&gt;\\s?(&lt;a href=\""[A-Za-z0-9.]*\""&gt;)?\\s?[A-Za-z0-9.,:\'\""=/?;\\s]*\\s?[A-Za-z0-9.,:\'\""=/?;\\s]?') stories=re.findall(p, html) for I in stories: if len(i) &gt;= 5: print I I should also note, that when I take out the (&lt;a href=\""[A-Za-z0-9.]*\""&gt;)? from the regular expression it works fine for non-link &lt;hN&gt; lines.",Issue with Regular expressions in python,90104,90052,2,"Because of the braces around the anchor tag, that part is interpreted as a capture group. This causes only the capture group to be returned, and not the whole regex match. Put the entire regex in braces and you'll see the right matches showing up as the first element in the returned tuples. But indeed, you should use a real parser."
90052,2,"Ok, so i'm working on a regular expression to search out all the header information in a site. I've compiled the regular expression: regex = re.compile(r''' &lt;h[0-9]&gt;\s? (&lt;a[ ]href=""[A-Za-z0-9.]*""&gt;)?\s? [A-Za-z0-9.,:'""=/?;\s]*\s? [A-Za-z0-9.,:'""=/?;\s]? ''', re.X) When I run this in python reg ex. tester, it works out wonderfully. Sample data: &lt;body&gt; &lt;h1&gt;Dog &lt;/h1&gt; &lt;h2&gt;Cat &lt;/h2&gt; &lt;h3&gt;Fancy &lt;/h3&gt; &lt;h1&gt;Tall cup of lemons&lt;/h1&gt; &lt;h1&gt;&lt;a href=""dog.com""&gt;Dog thing&lt;/a&gt;&lt;/h1&gt; &lt;/body&gt; Now, in the REDemo, it works wonderfully. When I put it in my python code, however, it only prints &lt;a href=""dog.com""&gt; Here's my python code, I'm not sure if i'm doing something wrong or if something is lost in translation. I appreciate your help. stories=[] response = urllib2.urlopen('http://apricotclub.org/duh.html') html = response.read().lower() p = re.compile('&lt;h[0-9]&gt;\\s?(&lt;a href=\""[A-Za-z0-9.]*\""&gt;)?\\s?[A-Za-z0-9.,:\'\""=/?;\\s]*\\s?[A-Za-z0-9.,:\'\""=/?;\\s]?') stories=re.findall(p, html) for I in stories: if len(i) &gt;= 5: print I I should also note, that when I take out the (&lt;a href=\""[A-Za-z0-9.]*\""&gt;)? from the regular expression it works fine for non-link &lt;hN&gt; lines.",Issue with Regular expressions in python,90138,90052,23,"This question has been asked in several forms over the last few days, so I'm going to say this very clearly. Q: How do I parse HTML with Regular Expressions? A: Please Don't. Use BeautifulSoup, html5lib or lxml.html. Please."
90052,2,"Ok, so i'm working on a regular expression to search out all the header information in a site. I've compiled the regular expression: regex = re.compile(r''' &lt;h[0-9]&gt;\s? (&lt;a[ ]href=""[A-Za-z0-9.]*""&gt;)?\s? [A-Za-z0-9.,:'""=/?;\s]*\s? [A-Za-z0-9.,:'""=/?;\s]? ''', re.X) When I run this in python reg ex. tester, it works out wonderfully. Sample data: &lt;body&gt; &lt;h1&gt;Dog &lt;/h1&gt; &lt;h2&gt;Cat &lt;/h2&gt; &lt;h3&gt;Fancy &lt;/h3&gt; &lt;h1&gt;Tall cup of lemons&lt;/h1&gt; &lt;h1&gt;&lt;a href=""dog.com""&gt;Dog thing&lt;/a&gt;&lt;/h1&gt; &lt;/body&gt; Now, in the REDemo, it works wonderfully. When I put it in my python code, however, it only prints &lt;a href=""dog.com""&gt; Here's my python code, I'm not sure if i'm doing something wrong or if something is lost in translation. I appreciate your help. stories=[] response = urllib2.urlopen('http://apricotclub.org/duh.html') html = response.read().lower() p = re.compile('&lt;h[0-9]&gt;\\s?(&lt;a href=\""[A-Za-z0-9.]*\""&gt;)?\\s?[A-Za-z0-9.,:\'\""=/?;\\s]*\\s?[A-Za-z0-9.,:\'\""=/?;\\s]?') stories=re.findall(p, html) for I in stories: if len(i) &gt;= 5: print I I should also note, that when I take out the (&lt;a href=\""[A-Za-z0-9.]*\""&gt;)? from the regular expression it works fine for non-link &lt;hN&gt; lines.",Issue with Regular expressions in python,90206,90052,1,"As has been mentioned, you should use a parser instead of a regex. This is how you could do it with a regex though: import re html = ''' &lt;body&gt; &lt;h1&gt;Dog &lt;/h1&gt; &lt;h2&gt;Cat &lt;/h2&gt; &lt;h3&gt;Fancy &lt;/h3&gt; &lt;h1&gt;Tall cup of lemons&lt;/h1&gt; &lt;h1&gt;&lt;a href=""dog.com""&gt;Dog thing&lt;/a&gt;&lt;/h1&gt; &lt;/body&gt; ''' p = re.compile(r''' &lt;(?P&lt;header&gt;h[0-9])&gt; # store header tag for later use \s* # zero or more whitespace (&lt;a\shref=""(?P&lt;href&gt;.*?)""&gt;)? # optional link tag. store href portion \s* (?P&lt;title&gt;.*?) # title \s* (&lt;/a&gt;)? # optional closing link tag \s* &lt;/(?P=header)&gt; # must match opening header tag ''', re.IGNORECASE + re.VERBOSE) stories = p.finditer(html) for match in stories: print '%(title)s [%(href)s]' % match.groupdict() Here are a couple of good regular expression resources: Python Regular Expression HOWTO Regular-Expressions.info"
90052,2,"Ok, so i'm working on a regular expression to search out all the header information in a site. I've compiled the regular expression: regex = re.compile(r''' &lt;h[0-9]&gt;\s? (&lt;a[ ]href=""[A-Za-z0-9.]*""&gt;)?\s? [A-Za-z0-9.,:'""=/?;\s]*\s? [A-Za-z0-9.,:'""=/?;\s]? ''', re.X) When I run this in python reg ex. tester, it works out wonderfully. Sample data: &lt;body&gt; &lt;h1&gt;Dog &lt;/h1&gt; &lt;h2&gt;Cat &lt;/h2&gt; &lt;h3&gt;Fancy &lt;/h3&gt; &lt;h1&gt;Tall cup of lemons&lt;/h1&gt; &lt;h1&gt;&lt;a href=""dog.com""&gt;Dog thing&lt;/a&gt;&lt;/h1&gt; &lt;/body&gt; Now, in the REDemo, it works wonderfully. When I put it in my python code, however, it only prints &lt;a href=""dog.com""&gt; Here's my python code, I'm not sure if i'm doing something wrong or if something is lost in translation. I appreciate your help. stories=[] response = urllib2.urlopen('http://apricotclub.org/duh.html') html = response.read().lower() p = re.compile('&lt;h[0-9]&gt;\\s?(&lt;a href=\""[A-Za-z0-9.]*\""&gt;)?\\s?[A-Za-z0-9.,:\'\""=/?;\\s]*\\s?[A-Za-z0-9.,:\'\""=/?;\\s]?') stories=re.findall(p, html) for I in stories: if len(i) &gt;= 5: print I I should also note, that when I take out the (&lt;a href=\""[A-Za-z0-9.]*\""&gt;)? from the regular expression it works fine for non-link &lt;hN&gt; lines.",Issue with Regular expressions in python,90894,90052,2,"Building on the answers so far: It's best to use a parsing engine. It can cover a lot of cases and in an elegant way. I've tried BeautifulSoup and I like it very much. Also easy to use, with a great tutorial. If sometimes it feels like shooting flies with a cannon you can use a regular expression for quick parsing. If that's what you need here is the modified code that will catch all the headers (even those over multiple lines): p = re.compile(r'&lt;(h[0-9])&gt;(.+?)&lt;/\1&gt;', re.IGNORECASE | re.DOTALL) stories = re.findall(p, html) for I in stories: print I"
90052,2,"Ok, so i'm working on a regular expression to search out all the header information in a site. I've compiled the regular expression: regex = re.compile(r''' &lt;h[0-9]&gt;\s? (&lt;a[ ]href=""[A-Za-z0-9.]*""&gt;)?\s? [A-Za-z0-9.,:'""=/?;\s]*\s? [A-Za-z0-9.,:'""=/?;\s]? ''', re.X) When I run this in python reg ex. tester, it works out wonderfully. Sample data: &lt;body&gt; &lt;h1&gt;Dog &lt;/h1&gt; &lt;h2&gt;Cat &lt;/h2&gt; &lt;h3&gt;Fancy &lt;/h3&gt; &lt;h1&gt;Tall cup of lemons&lt;/h1&gt; &lt;h1&gt;&lt;a href=""dog.com""&gt;Dog thing&lt;/a&gt;&lt;/h1&gt; &lt;/body&gt; Now, in the REDemo, it works wonderfully. When I put it in my python code, however, it only prints &lt;a href=""dog.com""&gt; Here's my python code, I'm not sure if i'm doing something wrong or if something is lost in translation. I appreciate your help. stories=[] response = urllib2.urlopen('http://apricotclub.org/duh.html') html = response.read().lower() p = re.compile('&lt;h[0-9]&gt;\\s?(&lt;a href=\""[A-Za-z0-9.]*\""&gt;)?\\s?[A-Za-z0-9.,:\'\""=/?;\\s]*\\s?[A-Za-z0-9.,:\'\""=/?;\\s]?') stories=re.findall(p, html) for I in stories: if len(i) &gt;= 5: print I I should also note, that when I take out the (&lt;a href=\""[A-Za-z0-9.]*\""&gt;)? from the regular expression it works fine for non-link &lt;hN&gt; lines.",Issue with Regular expressions in python,618080,90052,2,"I have used beautifulsoup to parse your desired HTML. I have the above HTML code in a file called foo.html and later read as a file object. from BeautifulSoup import BeautifulSoup H_TAGS = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] def extract_data(): """"""Extract the data from all headers in a HTML page."""""" f = open('foo.html', 'r+') html = f.read() soup = BeautifulSoup(html) headers = [soup.findAll(h) for h in H_TAGS if soup.findAll(h)] lst = [] for x in headers: for y in x: if y.string: lst.append(y.string) else: lst.append(y.contents[0].string) return lst The above function returns: &gt;&gt;&gt; [u'Dog ', u'Tall cup of lemons', u'Dog thing', u'Cat ', u'Fancy '] You can add any number of header tags in h_tags list. I have assumed all the headers. If you can solve things easily using BeautifulSoup then its better to use it. :)"
90775,7,"I have an exe file generated with py2exe. In the setup.py I specify an icon to be embedded in the exe: windows=[{'script': 'my_script.py','icon_resources': [(0, 'my_icon.ico')], ... I tried loading the icon using: hinst = win32api.GetModuleHandle(None) hicon = win32gui.LoadImage(hinst, 0, win32con.IMAGE_ICON, 0, 0, win32con.LR_DEFAULTSIZE) But this produces an (very unspecific) error: pywintypes.error: (0, 'LoadImage', 'No error message is available') If I try specifying 0 as a string hicon = win32gui.LoadImage(hinst, '0', win32con.IMAGE_ICON, 0, 0, win32con.LR_DEFAULTSIZE) then I get the error: pywintypes.error: (1813, 'LoadImage', 'The specified resource type cannot be found in the image file.') So, what's the correct method/syntax to load the icon? Also please notice that I don't use any GUI toolkit - just the Windows API via PyWin32.",How do you load an embedded icon from an exe file with PyWin32?,91245,90775,0,"You should set the icon ID to something other than 0: 'icon_resources': [(42, 'my_icon.ico')] Windows resource IDs must be between 1 and 32767."
90775,7,"I have an exe file generated with py2exe. In the setup.py I specify an icon to be embedded in the exe: windows=[{'script': 'my_script.py','icon_resources': [(0, 'my_icon.ico')], ... I tried loading the icon using: hinst = win32api.GetModuleHandle(None) hicon = win32gui.LoadImage(hinst, 0, win32con.IMAGE_ICON, 0, 0, win32con.LR_DEFAULTSIZE) But this produces an (very unspecific) error: pywintypes.error: (0, 'LoadImage', 'No error message is available') If I try specifying 0 as a string hicon = win32gui.LoadImage(hinst, '0', win32con.IMAGE_ICON, 0, 0, win32con.LR_DEFAULTSIZE) then I get the error: pywintypes.error: (1813, 'LoadImage', 'The specified resource type cannot be found in the image file.') So, what's the correct method/syntax to load the icon? Also please notice that I don't use any GUI toolkit - just the Windows API via PyWin32.",How do you load an embedded icon from an exe file with PyWin32?,91670,90775,1,"If you're using wxPython, you can use the following simple code: wx.Icon(sys.argv[0], wx.BITMAP_TYPE_ICO) I usually have code that checks whether it's running from an EXE or not, and acts accordingly: def get_app_icon(): if hasattr(sys, ""frozen"") and getattr(sys, ""frozen"") == ""windows_exe"": return wx.Icon(sys.argv[0], wx.BITMAP_TYPE_ICO) else: return wx.Icon(""gfx/myapp.ico"", wx.BITMAP_TYPE_ICO)"
90775,7,"I have an exe file generated with py2exe. In the setup.py I specify an icon to be embedded in the exe: windows=[{'script': 'my_script.py','icon_resources': [(0, 'my_icon.ico')], ... I tried loading the icon using: hinst = win32api.GetModuleHandle(None) hicon = win32gui.LoadImage(hinst, 0, win32con.IMAGE_ICON, 0, 0, win32con.LR_DEFAULTSIZE) But this produces an (very unspecific) error: pywintypes.error: (0, 'LoadImage', 'No error message is available') If I try specifying 0 as a string hicon = win32gui.LoadImage(hinst, '0', win32con.IMAGE_ICON, 0, 0, win32con.LR_DEFAULTSIZE) then I get the error: pywintypes.error: (1813, 'LoadImage', 'The specified resource type cannot be found in the image file.') So, what's the correct method/syntax to load the icon? Also please notice that I don't use any GUI toolkit - just the Windows API via PyWin32.",How do you load an embedded icon from an exe file with PyWin32?,92710,90775,1,"Well, well... I installed py2exe and I think it's a bug. In py2exe_util.c they should init rt_icon_id to 1 instead of 0. The way it is now, it's impossible to load the first format of the first icon using LoadIcon/LoadImage. I'll notify the developers about this if it's not already a known issue. A workaround, in the meantime, would be to include the same icon twice in your setup.py: 'icon_resources': [(1, 'my_icon.ico'), (2, 'my_icon.ico')] You can load the second one, while Windows will use the first one as the shell icon. Remember to use non-zero IDs though. :)"
90775,7,"I have an exe file generated with py2exe. In the setup.py I specify an icon to be embedded in the exe: windows=[{'script': 'my_script.py','icon_resources': [(0, 'my_icon.ico')], ... I tried loading the icon using: hinst = win32api.GetModuleHandle(None) hicon = win32gui.LoadImage(hinst, 0, win32con.IMAGE_ICON, 0, 0, win32con.LR_DEFAULTSIZE) But this produces an (very unspecific) error: pywintypes.error: (0, 'LoadImage', 'No error message is available') If I try specifying 0 as a string hicon = win32gui.LoadImage(hinst, '0', win32con.IMAGE_ICON, 0, 0, win32con.LR_DEFAULTSIZE) then I get the error: pywintypes.error: (1813, 'LoadImage', 'The specified resource type cannot be found in the image file.') So, what's the correct method/syntax to load the icon? Also please notice that I don't use any GUI toolkit - just the Windows API via PyWin32.",How do you load an embedded icon from an exe file with PyWin32?,110777,90775,5,"@efotinis: You're right. Here is a workaround until py2exe gets fixed and you don't want to include the same icon twice: hicon = win32gui.CreateIconFromResource(win32api.LoadResource(None, win32con.RT_ICON, 1), True) Be aware that 1 is not the ID you gave the icon in setup.py (which is the icon group ID), but the resource ID automatically assigned by py2exe to each icon in each icon group. At least that's how I understand it. If you want to create an icon with a specified size (as CreateIconFromResource uses the system default icon size), you need to use CreateIconFromResourceEx, which isn't available via PyWin32: icon_res = win32api.LoadResource(None, win32con.RT_ICON, 1) hicon = ctypes.windll.user32.CreateIconFromResourceEx(icon_res, len(icon_res), True, 0x00030000, 16, 16, win32con.LR_DEFAULTCOLOR)"
91183,3,I need to write code in python language for comparing the text of document using fingerprint techniques. I do not know to take fingerprint of a document or to generate fingerprint of a document. I'm asking if anyone knows the method or has source code for generating fingerprints of documents which is stored in bits form.,I need to write code in python for comparing text of two documents using fingerprint techniques,91238,91183,4,"If you want message digests (cryptographic hashes), use the hashlib library. Here's an example (IPython session): In [1]: import hashlib In [2]: md = hashlib.sha256(open('/tmp/Calendar.xls', 'rb').read()) In [3]: md.hexdigest() Out[3]: '8517f1eae176f1a20de78d879f81f23de503cfd6b8e4be1d798fb2342934b187'"
91183,3,I need to write code in python language for comparing the text of document using fingerprint techniques. I do not know to take fingerprint of a document or to generate fingerprint of a document. I'm asking if anyone knows the method or has source code for generating fingerprints of documents which is stored in bits form.,I need to write code in python for comparing text of two documents using fingerprint techniques,91249,91183,4,You might try the following papers to get started with the concept of fingerprinting: Winnowing: Local Algorithms for Document Fingerprinting Scalable Document Fingerprinting
91205,10,I'm a little confused about how the standard library will behave now that Python (from 3.0) is unicode-based. Will modules such as CGI and urllib use unicode strings or will they use the new 'bytes' type and just provide encoded data?,Will everything in the standard library treat strings as unicode in Python 3.0?,91301,91205,10,"Logically a lot of things like MIME-encoded mail messages, URLs, XML documents, and so on should be returned as bytes not strings. This could cause some consternation as the libraries start to be nailed down for Python 3 and people discover that they have to be more aware of the bytes/string conversions than they were for str/unicode ..."
91205,10,I'm a little confused about how the standard library will behave now that Python (from 3.0) is unicode-based. Will modules such as CGI and urllib use unicode strings or will they use the new 'bytes' type and just provide encoded data?,Will everything in the standard library treat strings as unicode in Python 3.0?,91325,91205,6,One of the great things about this question (and Python in general) is that you can just mess around in the interpreter! Python 3.0 rc1 is currently available for download. &gt;&gt;&gt; import urllib.request &gt;&gt;&gt; fh = urllib.request.urlopen('http://www.python.org/') &gt;&gt;&gt; print(type(fh.read(100))) &lt;class 'bytes'&gt;
91205,10,I'm a little confused about how the standard library will behave now that Python (from 3.0) is unicode-based. Will modules such as CGI and urllib use unicode strings or will they use the new 'bytes' type and just provide encoded data?,Will everything in the standard library treat strings as unicode in Python 3.0?,91508,91205,1,"There will be a two-step dance here. See Python 3000 and You. Step 1 is to get running under 3.0. Step 2 is to rethink your API's to, perhaps, do something more sensible. The most likely course is that the libraries will switch to unicode strings to remain as compatible as possible with how they used to work. Then, perhaps, some will switch to bytes to more properly implement the RFC standards for the various protocols."
91666,2,I'd like to integrate a Python IDLE-esque command prompt interface into an existing NI-CVI (LabWindows) application. I've tried to follow the Python.org discussions but seem to get lost in the details. Is there a resource out there for dummies like me?,NI CVI with Python,91735,91666,1,Here is a python sample code calling a CVI. There are DaqMx python bindings too.
91810,16,"Working with python interactively, it's sometimes necessary to display a result which is some arbitrarily complex data structure (like lists with embedded lists, etc.) The default way to display them is just one massive linear dump which just wraps over and over and you have to parse carefully to read it. Is there something that will take any python object and display it in a more rational manner. e.g. [0, 1, [a, b, c], 2, 3, 4] instead of: [0, 1, [a, b, c], 2, 3, 4] I know that's not a very good example, but I think you get the idea.",Is there a pretty printer for python data?,91818,91810,24,"from pprint import pprint a = [0, 1, ['a', 'b', 'c'], 2, 3, 4] pprint(a) Note that for a short list like my example, pprint will in fact print it all on one line. However, for more complex structures it does a pretty good job of pretty printing data."
91810,16,"Working with python interactively, it's sometimes necessary to display a result which is some arbitrarily complex data structure (like lists with embedded lists, etc.) The default way to display them is just one massive linear dump which just wraps over and over and you have to parse carefully to read it. Is there something that will take any python object and display it in a more rational manner. e.g. [0, 1, [a, b, c], 2, 3, 4] instead of: [0, 1, [a, b, c], 2, 3, 4] I know that's not a very good example, but I think you get the idea.",Is there a pretty printer for python data?,91972,91810,3,"Another good option is to use IPython, which is an interactive environment with a lot of extra features, including automatic pretty printing, tab-completion of methods, easy shell access, and a lot more. It's also very easy to install. IPython tutorial"
91810,16,"Working with python interactively, it's sometimes necessary to display a result which is some arbitrarily complex data structure (like lists with embedded lists, etc.) The default way to display them is just one massive linear dump which just wraps over and over and you have to parse carefully to read it. Is there something that will take any python object and display it in a more rational manner. e.g. [0, 1, [a, b, c], 2, 3, 4] instead of: [0, 1, [a, b, c], 2, 3, 4] I know that's not a very good example, but I think you get the idea.",Is there a pretty printer for python data?,92260,91810,10,"Somtimes YAML can be good for this. import yaml a = [0, 1, ['a', 'b', 'c'], 2, 3, 4] print yaml.dump(a) Produces: - 0 - 1 - [a, b, c] - 2 - 3 - 4"
91810,16,"Working with python interactively, it's sometimes necessary to display a result which is some arbitrarily complex data structure (like lists with embedded lists, etc.) The default way to display them is just one massive linear dump which just wraps over and over and you have to parse carefully to read it. Is there something that will take any python object and display it in a more rational manner. e.g. [0, 1, [a, b, c], 2, 3, 4] instead of: [0, 1, [a, b, c], 2, 3, 4] I know that's not a very good example, but I think you get the idea.",Is there a pretty printer for python data?,93312,91810,8,"In addition to pprint.pprint, pprint.pformat is really useful for making readable __repr__s. My complex __repr__s usually look like so: def __repr__(self): from pprint import pformat return ""&lt;ClassName %s&gt;"" % pformat({""attrs"":self.attrs, ""that_i"":self.that_i, ""care_about"":self.care_about})"
91821,8,"I have a model class: class Person(db.Model): first_name = db.StringProperty(required=True) last_name = db.StringProperty(required=True) I have an instance of this class in p, and string s contains the value 'first_name'. I would like to do something like: print p[s] and p[s] = new_value Both of which result in a TypeError. Does anybody know how I can achieve what I would like?",Google App Engine: how can I programmatically access the properties of my Model class?,91859,91821,1,"getattr(p, s) setattr(p, s, new_value)"
91821,8,"I have a model class: class Person(db.Model): first_name = db.StringProperty(required=True) last_name = db.StringProperty(required=True) I have an instance of this class in p, and string s contains the value 'first_name'. I would like to do something like: print p[s] and p[s] = new_value Both of which result in a TypeError. Does anybody know how I can achieve what I would like?",Google App Engine: how can I programmatically access the properties of my Model class?,91911,91821,1,Try: p.model_properties()[s].get_value_for_datastore(p) See the documentation.
91821,8,"I have a model class: class Person(db.Model): first_name = db.StringProperty(required=True) last_name = db.StringProperty(required=True) I have an instance of this class in p, and string s contains the value 'first_name'. I would like to do something like: print p[s] and p[s] = new_value Both of which result in a TypeError. Does anybody know how I can achieve what I would like?",Google App Engine: how can I programmatically access the properties of my Model class?,91970,91821,7,"If the model class is sufficiently intelligent, it should recognize the standard Python ways of doing this. Try: getattr(p, s) setattr(p, s, new_value) There is also hasattr available."
91821,8,"I have a model class: class Person(db.Model): first_name = db.StringProperty(required=True) last_name = db.StringProperty(required=True) I have an instance of this class in p, and string s contains the value 'first_name'. I would like to do something like: print p[s] and p[s] = new_value Both of which result in a TypeError. Does anybody know how I can achieve what I would like?",Google App Engine: how can I programmatically access the properties of my Model class?,97760,91821,3,"With much thanks to Jim, the exact solution I was looking for is: p.properties()[s].get_value_for_datastore(p) To all the other respondents, thank you for your help. I also would have expected the Model class to implement the python standard way of doing this, but for whatever reason, it doesn't."
91821,8,"I have a model class: class Person(db.Model): first_name = db.StringProperty(required=True) last_name = db.StringProperty(required=True) I have an instance of this class in p, and string s contains the value 'first_name'. I would like to do something like: print p[s] and p[s] = new_value Both of which result in a TypeError. Does anybody know how I can achieve what I would like?",Google App Engine: how can I programmatically access the properties of my Model class?,169899,91821,-1,"p.first_name = ""New first name"" p.put() or p = Person(first_name = ""Firsty"", last_name = ""Lasty"" ) p.put()"
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92254,92230,1,"I'd suggest writing a non-trivial webapp using either Django or Pylons, something that does some number crunching. No better way to learn a new language than commiting yourself to a problem and learning as you go!"
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92269,92230,3,"Something great to play around with, though not a project, is The Python Challenge. I've found it quite useful in improving my python skills, and it gives your brain a good workout at the same time."
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92288,92230,2,"I honestly loved the book Programming Python. It has a large assortment of small projects, most of which can be completed in an evening at a leisurely pace. They get you acquainted with most of the standard library and will likely hold your interest. Most importantly these small projects are actually useful in a ""day to day"" sense. The book pretty much only assumes you know and understand the bare essentials of Python as a language, rather than knowledge of it's huge API library. I think you'll find it'll be well worth working through."
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92296,92230,5,"Depending on exactly what you mean by ""gotten to grips with the basics"", I'd suggest reading through Dive Into Python and typing/executing all the chapter code, then get something like Programming Collective Intelligence and working through it - you'll learn python quite well, not to mention some quite excellent algorithms that'll come in handy to a web developer."
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92318,92230,14,"Well, there are great ressources for advanced Python programming : Dive Into Python (read it for free) Online python cookbooks (e.g. here and there) O'Reilly's Python Cookbook (see amazon) A funny riddle game : Python Challenge Here is a list of subjects you must master if you want to write ""Python"" on your resume : list comprehensions iterators and generators decorators They are what make Python such a cool language (with the standard library of course, that I keep discovering everyday)."
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92381,92230,1,"Write a web app, likely in Django - the docs will teach you a lot of good Python style. Use some of the popular libraries like Pygments or the Universal Feed Parser. Both of these make extremely useful functions, which are hard to get right, available in a well-documented API. In general, I'd stay away from libs that aren't well documented - you'll bang your head on the wall trying to reverse-engineer them - and libraries that are wrappers around C libraries, if you don't have any C experience. I worked on wxPython code when I was still learning Python, which was my first language, and at the time it was little more than a wrapper around wxWidgets. That code was easily the ugliest I've ever written. I didn't get that much out of Dive Into Python, except for the dynamic import chapter - that's not really well-documented elsewhere."
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92461,92230,1,"People tend to say something along the lines of ""The best way to learn is by doing"" but I've always found that unless you're specifically learning a language to contribute to some project it's difficult to actually find little problems to tackle to keep yourself going. A good solution to this is Project Euler, which has a list of various programming\mathematics challenges ranging from simple to quite brain-taxing. As an example, the first challenge is: If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23. And by problem #50 it's already getting a little tougher Which prime, below one-million, can be written as the sum of the most consecutive primes There are 208 in total, but I think some new ones get added here and there. While I already knew python fairly well before starting Project Euler, I found that I learned some cool tricks purely through using the language so much. Good luck!"
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92491,92230,2,"I'll plug Building Skills in Python. Plus, if you want something more challenging, Building Skills in OO Design is a rather large and complex series of exercises."
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",92691,92230,2,"The Python Cookbook is absolutely essential if you want to master idiomatic Python. Besides, that's the book that made me fall in love with the language."
92230,16,I've gotten to grips with the basics of Python and I've got a small holiday which I want to use some of to learn a little more Python. The problem is that I have no idea what to learn or where to start. I'm primarily web development but in this case I don't know how much difference it will make.,"Python, beyond the basics",181078,92230,1,"Search ""Alex Martelli"", ""Alex Martelli patterns"" and ""Thomas Wouters"" on Google video. There's plenty of interesting talks on andvanced Python, design patterns in Python, and so on."
92373,0,"Fedora Core 9 seems to have FCGID instead of FastCGI as a pre-built, YUM-managed module. [I'd rather not have to maintain a module outside of YUM; so no manual builds for me or my sysadmins.] I'm trying to launch Django through the runfastcgi interface (per the FastCGI deployment docs). What I'm seeing is the resulting page written to error_log. It does not come back through Apache to my browser. Further, there are a bunch of messages -- apparently from flup and WSGIServer -- that indicate that the WSGI environment isn't defined properly. Is FastCGI available for FC9, and I just overlooked it? Does FCGID and flup actually create the necessary WSGI environment for Django? If so, can you share the .fcgi interface script you're using? Mine is copied from mysite.fcgi in the Django docs. The FCGID Documentations page drops hints that PHP and Ruby are supported -- PHP directly, and Ruby through dispatch.fcgi -- and Python is not supported. Update. The error messages are... WSGIServer: missing FastCGI param REQUEST_METHOD required by WSGI! WSGIServer: missing FastCGI param SERVER_NAME required by WSGI! WSGIServer: missing FastCGI param SERVER_PORT required by WSGI! WSGIServer: missing FastCGI param SERVER_PROTOCOL required by WSGI! Should I abandon ship and switch to mod_python and give up on this approach?",Django + FCGID on Fedora Core 9 -- what am I missing?,92891,92373,1,"Why don't you try modwsgi? It sounds as the preffered way these days for WSGI applications such as Django. If you don't wan't to compile stuff for Fedora Core, that might be trickier. Regarding 1) this seems to solve the fcgid configuration problem. Note that you don't want to run the django application manually like this: python manage.py runfcgi, the fcgi is run by apache automatically if the setup is correct and restarted by touch your.fcgi."
92438,59,"I use to run $s =~ s/[^[:print:]]//g; on Perl to get rid of non printable characters. In Python there's no POSIX regex classes, and I can't write [:print:] having it mean what I want. I know of no way in Python to detect if a character is printable or not. What would you do? EDIT: It has to support Unicode characters as well. The string.printable way will happily strip them out of the output. curses.ascii.isprint will return false for any unicode character.",Stripping non printable characters from a string in python,92441,92438,0,The best I've come up with now is (thanks to the python-izers above) def filter_non_printable(str): return ''.join([c for c in str if ord(c) &gt; 31 or ord(c) == 9]) This is the only way I've found out that works with Unicode characters/strings Any better options?
92438,59,"I use to run $s =~ s/[^[:print:]]//g; on Perl to get rid of non printable characters. In Python there's no POSIX regex classes, and I can't write [:print:] having it mean what I want. I know of no way in Python to detect if a character is printable or not. What would you do? EDIT: It has to support Unicode characters as well. The string.printable way will happily strip them out of the output. curses.ascii.isprint will return false for any unicode character.",Stripping non printable characters from a string in python,92488,92438,38,"As far as I know, the most pythonic/efficient method would be: import string filtered_string = filter(lambda x: x in string.printable, myStr)"
92438,59,"I use to run $s =~ s/[^[:print:]]//g; on Perl to get rid of non printable characters. In Python there's no POSIX regex classes, and I can't write [:print:] having it mean what I want. I know of no way in Python to detect if a character is printable or not. What would you do? EDIT: It has to support Unicode characters as well. The string.printable way will happily strip them out of the output. curses.ascii.isprint will return false for any unicode character.",Stripping non printable characters from a string in python,92509,92438,4,"This function uses list comprehensions and str.join, so it runs in linear time instead of O(n^2): from curses.ascii import isprint def printable(input): return ''.join(char for char in input if isprint(char))"
92438,59,"I use to run $s =~ s/[^[:print:]]//g; on Perl to get rid of non printable characters. In Python there's no POSIX regex classes, and I can't write [:print:] having it mean what I want. I know of no way in Python to detect if a character is printable or not. What would you do? EDIT: It has to support Unicode characters as well. The string.printable way will happily strip them out of the output. curses.ascii.isprint will return false for any unicode character.",Stripping non printable characters from a string in python,93029,92438,52,"Iterating over strings is unfortunately rather slow in Python. Regular expressions are over an order of magnitude faster for this kind of thing. You just have to build the character class yourself. The unicodedata module is quite helpful for this, especially the unicodedata.category() function. See Unicode Character Database for descriptions of the categories. import unicodedata, re all_chars = (unichr(i) for I in xrange(0x110000)) control_chars = ''.join(c for c in all_chars if unicodedata.category(c) == 'Cc') # or equivalently and much more efficiently control_chars = ''.join(map(unichr, range(0,32) + range(127,160))) control_char_re = re.compile('[%s]' % re.escape(control_chars)) def remove_control_chars(s): return control_char_re.sub('', s)"
92438,59,"I use to run $s =~ s/[^[:print:]]//g; on Perl to get rid of non printable characters. In Python there's no POSIX regex classes, and I can't write [:print:] having it mean what I want. I know of no way in Python to detect if a character is printable or not. What would you do? EDIT: It has to support Unicode characters as well. The string.printable way will happily strip them out of the output. curses.ascii.isprint will return false for any unicode character.",Stripping non printable characters from a string in python,93557,92438,8,"You could try setting up a filter using the unicodedata.category() function: printable = Set('Lu', 'Ll', ...) def filter_non_printable(str): return ''.join(c for c in str if unicodedata.category(c) in printable) See the Unicode database character properties for the available categories"
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,92548,92533,2,I found struct.unpack to be a godsend for unpacking binary data formats after I learned of it!
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,93498,92533,1,I've found sched module to be helpful in cron-like activities. It simplifies things a lot. Unfortunately I found it too late.
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,93865,92533,4,"Oft overlooked modules, uses and tricks: collections.defaultdict(): for when you want missing keys in a dict to have a default value. functools.wraps(): for writing decorators that play nicely with introspection. posixpath: the os.path module for POSIX systems. You can use it for manipulating POSIX paths (including URI elements) even on Windows and other non-POSIX systems. ntpath: the os.path module for Windows; usable for manipulation of Windows paths on non-Windows systems. (also: macpath, for MacOS 9 and earlier, os2emxpath for OS/2 EMX, but I'm not sure if anyone still cares.) pprint: more structured printing of the repr() of containers makes debugging much easier. imp: all the tools you need to write your own plugin system or make Python import modules from arbitrary archives. rlcompleter: getting tab-completion in the normal interactive interpreter. Just do ""import readline, rlcompleter; readline.parse_and_bind('tab: complete')"" the PYTHONSTARTUP environment variable: can be set to the path to a file that will be executed (in the main namespace) when entering the interactive interpreter; useful for putting things in like the rlcompleter recipe above."
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,94551,92533,2,"getpass is useful for determining the login name of the current user. grp allows you to lookup Unix group IDs by name, and vice versa. dircache might be useful in situations where you're repeatedly polling the contents of a directory. glob can find filenames matching wildcards like a Unix shell does. shutil is useful when you need to copy, delete or rename a file. csv can simplify parsing of delimited text files. optparse provides a reliable way to parse command line options. bz2 comes in handy when you need to manipulate a bzip2-compressed file. urlparse will save you the hassle of breaking up a URL into component parts."
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,94991,92533,1,"Most of the other examples are merely overlooked, not unexpected uses for module. fnmatch, like shlex, can be applied in unexpected ways. fnmatch is a kind of poor-person's RE, and can be used for more than matching files, it can compare strings with the simplified wild-card patterns."
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,95159,92533,3,"I use itertools (especially cycle, repeat, chain) to make python behave more like R and in other functional / vector applications. Often this lets me avoid the overhead and complication of Numpy. # in R, shorter iterables are automatically cycled # and all functions ""apply"" in a ""map""-like way over lists &gt; 0:10 + 0:2 [1] 0 2 4 3 5 7 6 8 10 9 11 Python #Normal python In [1]: range(10) + range(3) Out[1]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2] ## this code is terrible, but it demos the idea. from itertools import cycle def addR(L1,L2): n = max( len(L1), len(L2)) out = [None,]*n gen1,gen2 = cycle(L1), cycle(L2) ii = 0 while ii &lt; n: out[ii] = gen1.next() + gen2.next() ii += 1 return out In [21]: addR(range(10), range(3)) Out[21]: [0, 2, 4, 3, 5, 7, 6, 8, 10, 9]"
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,95825,92533,6,"I was quite surprised to learn that you could use the bisect module to do a very fast binary search in a sequence. It's documentation doesn't say anything about it: This module provides support for maintaining a list in sorted order without having to sort the list after each insertion. The usage is very simple: &gt;&gt;&gt; import bisect &gt;&gt;&gt; lst = [4, 7, 10, 23, 25, 100, 103, 201, 333] &gt;&gt;&gt; bisect.bisect_left(lst, 23) 3 You have to remember though, that it's quicker to linearly look for something in a list goes item by item, than sorting the list and then doing a binary search on it. The first option is O(n), the second is O(nlogn)."
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,97103,92533,1,"One function I've come to appreciate is string.translate. Its very fast at what it does, and useful anywhere you want to alter or remove characters in a string. I've just used it in a seemingly inapplicable problem and found it beat all the other solutions handily. The downside is that its API is a bit clunky, but this is improving in Py2.6 / Py3.0."
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,99969,92533,1,The pickle module is pretty awesome
92533,4,"Based on ""Split a string by spaces in Python"", which uses shlex.split to split a string with quotes smartly, I would be interested in hearing about other common tasks solved by non-obvious standard library functions. If this turns into Module of The Week, that's fine too.",Python module functions used in unexpected ways,101353,92533,1,"complex numbers. (The complexobject.c defines a class, so technically it's not a module). Great for 2d coordinates, with easy translation/rotations etc eg. TURN_LEFT_90= 1j TURN_RIGHT_90= -1j coord= 5+4j # x=5 y=4 print coord*TURN_LEFT_90"
92565,6,"I am writing an editor using Scintilla. I am already using a lexer to do automatic syntax highlighting but now I would like to mark search results. If I want to mark only one hit I can set the selection there, however, I would like to mark (e.g. with yellow background) all the hits. I writing this in Perl but if you have suggestions in other languages that would be cool as well.",How can I highlight text in Scintilla?,92682,92565,2,"The ""sample"" editor scite uses the bookmark feature to bookmark all the lines that match the search result."
92565,6,"I am writing an editor using Scintilla. I am already using a lexer to do automatic syntax highlighting but now I would like to mark search results. If I want to mark only one hit I can set the selection there, however, I would like to mark (e.g. with yellow background) all the hits. I writing this in Perl but if you have suggestions in other languages that would be cool as well.",How can I highlight text in Scintilla?,92778,92565,9,"Have you read the Markers reference in Scintilla doc? This reference can be a bit obscure, so I advise to take a look at the source code of SciTE as well. This text editor was originally a testbed for Scintilla. It grown to a full fledged editor, but it is still a good implementation reference for all things Scintilla. In our particular case, there is a Mark All button in the Find dialog. You can find its implementation in SciTEBase::MarkAll() method. This method only loops on search results (until it loops on the first search result, if any) and puts a bookmark on the found lines (and optionally set an indicator on the found items). The found line is gotten using SCI_LINEFROMPOSITION(posFound), the bookmark is just a call to SCI_MARKERADD(lineno, markerBookmark). Note that the mark can be symbol in a margin, or if not associated to a margin, it will highlight the whole line. HTH."
92620,13,"I came back today to an old script I had for logging into Gmail via SSL. The script worked fine last time I ran it (several months ago) but now it dies immediately with: &lt;urlopen error The read operation timed out&gt; If I set the timeout (no matter how long), it dies even more immediately with: &lt;urlopen error The connect operation timed out&gt; The latter is reproducible with: import socket socket.setdefaulttimeout(30000) sock = socket.socket() sock.connect(('www.google.com', 443)) ssl = socket.ssl(sock) returning: socket.sslerror: The connect operation timed out but I can't seem to reproduce the former and, after much stepping thru the code, I have no clue what's causing any of this.",Python sockets suddenly timing out?,93401,92620,0,"www.google.com is not accessible by HTTPS. It redirects to insecure HTTP. To get to mail, you should be going go https://mail.google.com"
92620,13,"I came back today to an old script I had for logging into Gmail via SSL. The script worked fine last time I ran it (several months ago) but now it dies immediately with: &lt;urlopen error The read operation timed out&gt; If I set the timeout (no matter how long), it dies even more immediately with: &lt;urlopen error The connect operation timed out&gt; The latter is reproducible with: import socket socket.setdefaulttimeout(30000) sock = socket.socket() sock.connect(('www.google.com', 443)) ssl = socket.ssl(sock) returning: socket.sslerror: The connect operation timed out but I can't seem to reproduce the former and, after much stepping thru the code, I have no clue what's causing any of this.",Python sockets suddenly timing out?,93404,92620,1,"import socket socket.setdefaulttimeout(30000) sock = socket.socket() sock.connect(('www.google.com', 443)) ssl = socket.ssl(sock) ssl.server() --&gt; '/C=US/ST=California/L=Mountain View/O=Google Inc/CN=www.google.com' It works just fine. I can't reproduce your error."
92620,13,"I came back today to an old script I had for logging into Gmail via SSL. The script worked fine last time I ran it (several months ago) but now it dies immediately with: &lt;urlopen error The read operation timed out&gt; If I set the timeout (no matter how long), it dies even more immediately with: &lt;urlopen error The connect operation timed out&gt; The latter is reproducible with: import socket socket.setdefaulttimeout(30000) sock = socket.socket() sock.connect(('www.google.com', 443)) ssl = socket.ssl(sock) returning: socket.sslerror: The connect operation timed out but I can't seem to reproduce the former and, after much stepping thru the code, I have no clue what's causing any of this.",Python sockets suddenly timing out?,96565,92620,0,The first thing I would check is whether you need to connect via an HTTP proxy (in which case direct connections bypassing the proxy will likely time out). Run Wireshark and see what happens.
92928,227,"In Python for the *nix, does time.sleep() block the thread or the process?",time.sleep -- sleeps thread or process?,92953,92928,15,Just the thread.
92928,227,"In Python for the *nix, does time.sleep() block the thread or the process?",time.sleep -- sleeps thread or process?,92986,92928,34,"It will just sleep the thread except in the case where your application has only a single thread, in which case it will sleep the thread and effectively the process as well. The python documentation on sleep doesn't specify this however, so I can certainly understand the confusion! http://docs.python.org/2/library/time.html"
92928,227,"In Python for the *nix, does time.sleep() block the thread or the process?",time.sleep -- sleeps thread or process?,93069,92928,6,"The thread will block, but the process is still alive. In a single threaded application, this means everything is blocked while you sleep. In a multithreaded application, only the thread you explicitly 'sleep' will block and the other threads still run within the process."
92928,227,"In Python for the *nix, does time.sleep() block the thread or the process?",time.sleep -- sleeps thread or process?,93179,92928,219,"It blocks the thread. If you look in Modules/timemodule.c in the Python source, you'll see that in the call to floatsleep(), the substantive part of the sleep operation is wrapped in a Py_BEGIN_ALLOW_THREADS and Py_END_ALLOW_THREADS block, allowing other threads to continue to execute while the current one sleeps. You can also test this with a simple python program: import time from threading import Thread class worker(Thread): def run(self): for x in xrange(0,11): print x time.sleep(1) class waiter(Thread): def run(self): for x in xrange(100,103): print x time.sleep(5) def run(): worker().start() waiter().start() Which will print: &gt;&gt;&gt; thread_test.run() 0 100 &gt;&gt;&gt; 1 2 3 4 5 101 6 7 8 9 10 102"
93710,12,"Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?",What's the easiest non-memory intensive way to output XML from Python?,93831,93710,1,I think I have your poison : http://sourceforge.net/projects/xmlite Cheers
93710,12,"Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?",What's the easiest non-memory intensive way to output XML from Python?,93850,93710,-4,"xml.etree.cElementTree, included in the default distribution of CPython since 2.5. Lightning fast for both reading and writing XML."
93710,12,"Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?",What's the easiest non-memory intensive way to output XML from Python?,93871,93710,-1,"I've always had good results with lxml. It's a pain to install, as it's mostly a wrapper around libxml2, but lxml.etree tree objects have a .write() method that takes a file-like object to stream to. from lxml.etree import XML tree = XML('&lt;root&gt;&lt;a&gt;&lt;b/&gt;&lt;/a&gt;&lt;/root&gt;') tree.write(your_file_object)"
93710,12,"Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?",What's the easiest non-memory intensive way to output XML from Python?,93984,93710,0,"Some years ago I used MarkupWriter from 4suite General-purpose utility class for generating XML (may eventually be expanded to produce more output types) Sample usage: from Ft.Xml import MarkupWriter writer = MarkupWriter(indent=u""yes"") writer.startDocument() writer.startElement(u'xsa') writer.startElement(u'vendor') #Element with simple text (#PCDATA) content writer.simpleElement(u'name', content=u'Centigrade systems') #Note writer.text(content) still works writer.simpleElement(u'email', content=u""info@centigrade.bogus"") writer.endElement(u'vendor') #Element with an attribute writer.startElement(u'product', attributes={u'id': u""100\u00B0""}) #Note writer.attribute(name, value, namespace=None) still works writer.simpleElement(u'name', content=u""100\u00B0 Server"") #XML fragment writer.xmlFragment('&lt;version&gt;1.0&lt;/version&gt;&lt;last-release&gt;20030401&lt;/last-release&gt;') #Empty element writer.simpleElement(u'changes') writer.endElement(u'product') writer.endElement(u'xsa') writer.endDocument() Note on the difference between 4Suite writers and printers Writer - module that exposes a broad public API for building output bit by bit Printer - module that simply takes a DOM and creates output from it as a whole, within one API invokation Recently I hear a lot about how lxml is great, but I don't have first-hand experience, and I had some fun working with gnosis."
93710,12,"Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?",What's the easiest non-memory intensive way to output XML from Python?,94114,93710,13,"I think you'll find XMLGenerator from xml.sax.saxutils is the closest thing to what you want. import time from xml.sax.saxutils import XMLGenerator from xml.sax.xmlreader import AttributesNSImpl LOG_LEVELS = ['DEBUG', 'WARNING', 'ERROR'] class xml_logger: def __init__(self, output, encoding): """""" Set up a logger object, which takes SAX events and outputs an XML log file """""" logger = XMLGenerator(output, encoding) logger.startDocument() attrs = AttributesNSImpl({}, {}) logger.startElementNS((None, u'log'), u'log', attrs) self._logger = logger self._output = output self._encoding = encoding return def write_entry(self, level, msg): """""" Write a log entry to the logger level - the level of the entry msg - the text of the entry. Must be a Unicode object """""" #Note: in a real application, I would use ISO 8601 for the date #asctime used here for simplicity now = time.asctime(time.localtime()) attr_vals = { (None, u'date'): now, (None, u'level'): LOG_LEVELS[level], } attr_qnames = { (None, u'date'): u'date', (None, u'level'): u'level', } attrs = AttributesNSImpl(attr_vals, attr_qnames) self._logger.startElementNS((None, u'entry'), u'entry', attrs) self._logger.characters(msg) self._logger.endElementNS((None, u'entry'), u'entry') return def close(self): """""" Clean up the logger object """""" self._logger.endElementNS((None, u'log'), u'log') self._logger.endDocument() return if __name__ == ""__main__"": #Test it out import sys xl = xml_logger(sys.stdout, 'utf-8') xl.write_entry(2, u""Vanilla log entry"") xl.close() You'll probably want to look at the rest of the article I got that from at http://www.xml.com/pub/a/2003/03/12/py-xml.html."
93710,12,"Basically, something similar to System.Xml.XmlWriter - A streaming XML Writer that doesn't incur much of a memory overhead. So that rules out xml.dom and xml.dom.minidom. Suggestions?",What's the easiest non-memory intensive way to output XML from Python?,97581,93710,-2,"Second vote for ElementTree (cElementTree is a C implementation that is a little faster, like cPickle vs pickle). There's some short example code here that you can look at to give you an idea of how it works: http://effbot.org/zone/element-index.htm (this is Fredrik Lundh, who wrote the module in the first place. It's so good it got drafted into the standard library with 2.5 :-) )"
94153,13,"I am attempting to use the 'tempfile' module for manipulating and creating text files. Once the file is ready I want to save it to disk. I thought it would be as simple as using 'shutil.copy'. However, I get a 'permission denied' IOError: &gt;&gt;&gt; import tempfile, shutil &gt;&gt;&gt; f = tempfile.TemporaryFile(mode ='w+t') &gt;&gt;&gt; f.write('foo') &gt;&gt;&gt; shutil.copy(f.name, 'bar.txt') Traceback (most recent call last): File ""&lt;pyshell#5&gt;"", line 1, in &lt;module&gt; shutil.copy(f.name, 'bar.txt') File ""C:\Python25\lib\shutil.py"", line 80, in copy copyfile(src, dst) File ""C:\Python25\lib\shutil.py"", line 46, in copyfile fsrc = open(src, 'rb') IOError: [Errno 13] Permission denied: 'c:\\docume~1\\me\\locals~1\\temp\\tmpvqq3go' &gt;&gt;&gt; Is this not intended when using the 'tempfile' library? Is there a better way to do this? (Maybe I am overlooking something very trivial)",How do I persist to disk a temporary file using Python?,94206,94153,4,"You could always use shutil.copyfileobj, in your example: new_file = open('bar.txt', 'rw') shutil.copyfileobj(f, new_file)"
94153,13,"I am attempting to use the 'tempfile' module for manipulating and creating text files. Once the file is ready I want to save it to disk. I thought it would be as simple as using 'shutil.copy'. However, I get a 'permission denied' IOError: &gt;&gt;&gt; import tempfile, shutil &gt;&gt;&gt; f = tempfile.TemporaryFile(mode ='w+t') &gt;&gt;&gt; f.write('foo') &gt;&gt;&gt; shutil.copy(f.name, 'bar.txt') Traceback (most recent call last): File ""&lt;pyshell#5&gt;"", line 1, in &lt;module&gt; shutil.copy(f.name, 'bar.txt') File ""C:\Python25\lib\shutil.py"", line 80, in copy copyfile(src, dst) File ""C:\Python25\lib\shutil.py"", line 46, in copyfile fsrc = open(src, 'rb') IOError: [Errno 13] Permission denied: 'c:\\docume~1\\me\\locals~1\\temp\\tmpvqq3go' &gt;&gt;&gt; Is this not intended when using the 'tempfile' library? Is there a better way to do this? (Maybe I am overlooking something very trivial)",How do I persist to disk a temporary file using Python?,94339,94153,16,"The file you create with TemporaryFile or NamedTemporaryFile is automatically removed when it's closed, which is why you get an error. If you don't want this, you can use mkstemp instead (see the docs for tempfile). &gt;&gt;&gt; import tempfile, shutil, os &gt;&gt;&gt; fd, path = tempfile.mkstemp() &gt;&gt;&gt; os.write(fd, 'foo') &gt;&gt;&gt; os.close(fd) &gt;&gt;&gt; shutil.copy(path, 'bar.txt') &gt;&gt;&gt; os.remove(path)"
94153,13,"I am attempting to use the 'tempfile' module for manipulating and creating text files. Once the file is ready I want to save it to disk. I thought it would be as simple as using 'shutil.copy'. However, I get a 'permission denied' IOError: &gt;&gt;&gt; import tempfile, shutil &gt;&gt;&gt; f = tempfile.TemporaryFile(mode ='w+t') &gt;&gt;&gt; f.write('foo') &gt;&gt;&gt; shutil.copy(f.name, 'bar.txt') Traceback (most recent call last): File ""&lt;pyshell#5&gt;"", line 1, in &lt;module&gt; shutil.copy(f.name, 'bar.txt') File ""C:\Python25\lib\shutil.py"", line 80, in copy copyfile(src, dst) File ""C:\Python25\lib\shutil.py"", line 46, in copyfile fsrc = open(src, 'rb') IOError: [Errno 13] Permission denied: 'c:\\docume~1\\me\\locals~1\\temp\\tmpvqq3go' &gt;&gt;&gt; Is this not intended when using the 'tempfile' library? Is there a better way to do this? (Maybe I am overlooking something very trivial)",How do I persist to disk a temporary file using Python?,109591,94153,11,"Starting from python 2.6 you can also use NamedTemporaryFile with the delete= option set to False. This way the temporary file will be accessible, even after you close it. Note that on Windows (NT and later) you cannot access the file a second time while it is still open. You have to close it before you can copy it. This is not true on Unix systems."
94334,6,What is the best python framework to create distributed applications? For example to build a P2P app.,Distributed python,94385,94334,1,You could download the source of BitTorrent for starters and see how they did it. http://download.bittorrent.com/dl/
94334,6,What is the best python framework to create distributed applications? For example to build a P2P app.,Distributed python,94434,94334,1,"If it's something where you're going to need tons of threads and need better concurrent performance, check out Stackless Python. Otherwise you could just use the SOAP or XML-RPC protocols. In response to Ben's post, if you don't want to look over the BitTorrent source, you could just look at the article on the BitTorrent protocol."
94334,6,What is the best python framework to create distributed applications? For example to build a P2P app.,Distributed python,94510,94334,2,You could checkout pyprocessing which will be included in the standard library as of 2.6. It allows you to run tasks on multiple processes using an API similar to threading.
94334,6,What is the best python framework to create distributed applications? For example to build a P2P app.,Distributed python,94597,94334,9,"I think you mean ""Networked Apps""? Distributed means an app that can split its workload among multiple worker clients over the network. You probably want. Twisted"
94334,6,What is the best python framework to create distributed applications? For example to build a P2P app.,Distributed python,111300,94334,3,"You probably want Twisted. There is a P2P framework for Twisted called ""Vertex"". While not actively maintained, it does allow you to tunnel through NATs and make connections directly between users in a very abstract way; if there were more interest in this sort of thing I'm sure it would be more actively maintained."
94490,9,"I need to read selected files, matching on the file name, from a remote zip archive using Python. I don't want to save the full zip to a temporary file (it's not that large, so I can handle everything in memory). I've already written the code and it works, and I'm answering this myself so I can search for it later. But since evidence suggests that I'm one of the dumber participants on Stackoverflow, I'm sure there's room for improvement.",How do I read selected files from a remote Zip archive over HTTP using Python?,94491,94490,8,"Here's how I did it (grabbing all files ending in "".ranks""): import urllib2, cStringIO, zipfile try: remotezip = urllib2.urlopen(url) zipinmemory = cStringIO.StringIO(remotezip.read()) zip = zipfile.ZipFile(zipinmemory) for fn in zip.namelist(): if fn.endswith("".ranks""): ranks_data = zip.read(fn) for line in ranks_data.split(""\n""): # do something with each line except urllib2.HTTPError: # handle exception"
94490,9,"I need to read selected files, matching on the file name, from a remote zip archive using Python. I don't want to save the full zip to a temporary file (it's not that large, so I can handle everything in memory). I've already written the code and it works, and I'm answering this myself so I can search for it later. But since evidence suggests that I'm one of the dumber participants on Stackoverflow, I'm sure there's room for improvement.",How do I read selected files from a remote Zip archive over HTTP using Python?,94516,94490,1,Bear in mind that merely decompressing a ZIP file may result in a security vulnerability.
94490,9,"I need to read selected files, matching on the file name, from a remote zip archive using Python. I don't want to save the full zip to a temporary file (it's not that large, so I can handle everything in memory). I've already written the code and it works, and I'm answering this myself so I can search for it later. But since evidence suggests that I'm one of the dumber participants on Stackoverflow, I'm sure there's room for improvement.",How do I read selected files from a remote Zip archive over HTTP using Python?,952834,94490,2,"Thanks Marcel for your question and answer (I had the same problem in a different context and encountered the same difficulty with file-like objects not really being file-like)! Just as an update: For Python 3.0, your code needs to be modified slightly: import urllib.request, io, zipfile try: remotezip = urllib.request.urlopen(url) zipinmemory = io.BytesIO(remotezip.read()) zip = zipfile.ZipFile(zipinmemory) for fn in zip.namelist(): if fn.endswith("".ranks""): ranks_data = zip.read(fn) for line in ranks_data.split(""\n""): # do something with each line except urllib.request.HTTPError: # handle exception"
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,94953,94935,0,"See this post to find difference between range and xrange: To quote: range returns exactly what you think: a list of consecutive integers, of a defined length beginning with 0. xrange, however, returns an ""xrange object"", which acts a great deal like an iterator"
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,94957,94935,25,xrange returns an iterator and only keeps one number in memory at a time. range keeps the entire list of numbers in memory.
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,94962,94935,460,"range creates a list, so if you do range(1, 10000000) it creates a list in memory with 9999999 elements. xrange is a sequence object that evaluates lazily."
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,94965,94935,2,range generates the entire list and returns it. xrange does not -- it generates the numbers in the list on demand.
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,94966,94935,2,"xrange uses an iterator (generates values on the fly), range returns a list."
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,94971,94935,18,"Do spend some time with the Library Reference. The more familiar you are with it, the faster you can find answers to questions like this. Especially important are the first few chapters about builtin objects and types. The advantage of the xrange type is that an xrange object will always take the same amount of memory, no matter the size of the range it represents. There are no consistent performance advantages. Another way to find quick information about a Python construct is the docstring and the help-function: print xrange.__doc__ # def doc(x): print x.__doc__ is super useful help(xrange)"
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,95010,94935,8,It is for optimization reasons. range() will create a list of values from start to end (0 .. 20 in your example). This will become an expensive operation on very large ranges. xrange() on the other hand is much more optimised. it will only compute the next value when needed (via an xrange sequence object) and does not create a list of all values like range() does.
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,95100,94935,148,"range creates a list, so if you do range(1, 10000000) it creates a list in memory with 10000000 elements. xrange is a generator, so it is a sequence object is a that evaluates lazily. This is true, but in Python 3, range will be implemented by the Python 2 xrange(). If you need to actually generate the list, you will need to do: list(range(1,100))"
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,95168,94935,51,"xrange only stores the range params and generates the numbers on demand. However the C implementation of Python currently restricts its args to C longs: xrange(2**32-1, 2**32+1) # When long is 32 bits, OverflowError: Python int too large to convert to C long range(2**32-1, 2**32+1) # OK --&gt; [4294967295L, 4294967296L] Note that in Python 3.0 there is only range and it behaves like the 2.x xrange but without the limitations on minimum and maximum end points."
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,95549,94935,10,"range creates a list, so if you do range(1, 10000000) it creates a list in memory with 10000000 elements. xrange is a generator, so it evaluates lazily. This brings you two advantages: You can iterate longer lists without getting a MemoryError. As it resolves each number lazily, if you stop iteration early, you won't waste time creating the whole list."
94935,378,"Apparently xrange is faster but I have no idea why it's faster (and no proof besides the anecdotal so far that it is faster) or what besides that is different about for I in range(0, 20): for I in xrange(0, 20):",What is the difference between range and xrange functions in Python 2.X?,97530,94935,77,"Remember, use the timeit module to test which of small snipps of code is faster! $ python -m timeit 'for I in range(1000000):' ' pass' 10 loops, best of 3: 90.5 msec per loop $ python -m timeit 'for I in xrange(1000000):' ' pass' 10 loops, best of 3: 51.1 msec per loop Personally, I always use range(), unless I were dealing with really huge lists -- as you can see, time-wise, for a list of a million entries, the extra overhead is only 0.04 seconds. And as Corey points out, in Python 3.0 xrange will go away and range will give you nice iterator behaviour anyway."
94952,10,"I recently wrote a parser in Python using Ply (it's a python reimplementation of yacc). When I was almost done with the parser I discovered that the grammar I need to parse requires me to do some look up during parsing to inform the lexer. Without doing a look up to inform the lexer I cannot correctly parse the strings in the language. Given than I can control the state of the lexer from the grammar rules I think I'll be solving my use case using a look up table in the parser module, but it may become too difficult to maintain/test. So I want to know about some of the other options. In Haskell I would use Parsec, a library of parsing functions (known as combinators). Is there a Python implementation of Parsec? Or perhaps some other production quality library full of parsing functionality so I can build a context sensitive parser in Python? EDIT: All my attempts at context free parsing have failed. For this reason, I don't expect ANTLR to be useful here.",Python implementation of Parsec?,95014,94952,3,"An option you may consider, if an LL parser is ok to you, is to give ANTLR a try, it can generate python too (actually it is LL(*) as they name it, * stands for the quantity of lookahead it can cope with)."
94952,10,"I recently wrote a parser in Python using Ply (it's a python reimplementation of yacc). When I was almost done with the parser I discovered that the grammar I need to parse requires me to do some look up during parsing to inform the lexer. Without doing a look up to inform the lexer I cannot correctly parse the strings in the language. Given than I can control the state of the lexer from the grammar rules I think I'll be solving my use case using a look up table in the parser module, but it may become too difficult to maintain/test. So I want to know about some of the other options. In Haskell I would use Parsec, a library of parsing functions (known as combinators). Is there a Python implementation of Parsec? Or perhaps some other production quality library full of parsing functionality so I can build a context sensitive parser in Python? EDIT: All my attempts at context free parsing have failed. For this reason, I don't expect ANTLR to be useful here.",Python implementation of Parsec?,95035,94952,1,"There's ANTLR, which is LL(*), there's PyParsing, which is more object friendly and is sort of like a DSL, and then there's Parsing which is like OCaml's Menhir."
94952,10,"I recently wrote a parser in Python using Ply (it's a python reimplementation of yacc). When I was almost done with the parser I discovered that the grammar I need to parse requires me to do some look up during parsing to inform the lexer. Without doing a look up to inform the lexer I cannot correctly parse the strings in the language. Given than I can control the state of the lexer from the grammar rules I think I'll be solving my use case using a look up table in the parser module, but it may become too difficult to maintain/test. So I want to know about some of the other options. In Haskell I would use Parsec, a library of parsing functions (known as combinators). Is there a Python implementation of Parsec? Or perhaps some other production quality library full of parsing functionality so I can build a context sensitive parser in Python? EDIT: All my attempts at context free parsing have failed. For this reason, I don't expect ANTLR to be useful here.",Python implementation of Parsec?,95102,94952,0,ANTLR is great and has the added benefit of working across multiple languages.
94952,10,"I recently wrote a parser in Python using Ply (it's a python reimplementation of yacc). When I was almost done with the parser I discovered that the grammar I need to parse requires me to do some look up during parsing to inform the lexer. Without doing a look up to inform the lexer I cannot correctly parse the strings in the language. Given than I can control the state of the lexer from the grammar rules I think I'll be solving my use case using a look up table in the parser module, but it may become too difficult to maintain/test. So I want to know about some of the other options. In Haskell I would use Parsec, a library of parsing functions (known as combinators). Is there a Python implementation of Parsec? Or perhaps some other production quality library full of parsing functionality so I can build a context sensitive parser in Python? EDIT: All my attempts at context free parsing have failed. For this reason, I don't expect ANTLR to be useful here.",Python implementation of Parsec?,95417,94952,4,"PySec is another monadic parser, I don't know much about it, but it's worth looking at here"
94952,10,"I recently wrote a parser in Python using Ply (it's a python reimplementation of yacc). When I was almost done with the parser I discovered that the grammar I need to parse requires me to do some look up during parsing to inform the lexer. Without doing a look up to inform the lexer I cannot correctly parse the strings in the language. Given than I can control the state of the lexer from the grammar rules I think I'll be solving my use case using a look up table in the parser module, but it may become too difficult to maintain/test. So I want to know about some of the other options. In Haskell I would use Parsec, a library of parsing functions (known as combinators). Is there a Python implementation of Parsec? Or perhaps some other production quality library full of parsing functionality so I can build a context sensitive parser in Python? EDIT: All my attempts at context free parsing have failed. For this reason, I don't expect ANTLR to be useful here.",Python implementation of Parsec?,95707,94952,7,I believe that pyparsing is based on the same principles as parsec.
94952,10,"I recently wrote a parser in Python using Ply (it's a python reimplementation of yacc). When I was almost done with the parser I discovered that the grammar I need to parse requires me to do some look up during parsing to inform the lexer. Without doing a look up to inform the lexer I cannot correctly parse the strings in the language. Given than I can control the state of the lexer from the grammar rules I think I'll be solving my use case using a look up table in the parser module, but it may become too difficult to maintain/test. So I want to know about some of the other options. In Haskell I would use Parsec, a library of parsing functions (known as combinators). Is there a Python implementation of Parsec? Or perhaps some other production quality library full of parsing functionality so I can build a context sensitive parser in Python? EDIT: All my attempts at context free parsing have failed. For this reason, I don't expect ANTLR to be useful here.",Python implementation of Parsec?,104547,94952,1,"Nothing prevents you for diverting your parser from the ""context free"" path using PLY. You can pass information to the lexer during parsing, and in this way achieve full flexibility. I'm pretty sure that you can parse anything you want with PLY this way. For a hands-on example, consider - it is a parser for ANSI C written in Python with PLY. It solves the classic C typedef - identifier problem (that makes C's grammar non context-sensitive) by populating a symbol table in the parser that is being used in the lexer to resolve symbol names as either types or not."
95642,10,"Long story short, I have a substantial Python application that, among other things, does outcalls to ""losetup"", ""mount"", etc. on Linux. Essentially consuming system resources that must be released when complete. If my application crashes, I want to ensure these system resources are properly released. Does it make sense to do something like the following? def main(): # TODO: main application entry point pass def cleanup(): # TODO: release system resources here pass if __name__ == ""__main__"": try: main() except: cleanup() raise Is this something that is typically done? Is there a better way? Perhaps the destructor in a singleton class?",Does an application-wide exception handler make sense?,95659,95642,2,Application wide handler is fine. They are great for logging. Just make sure that the application wide one is durable and is unlikely to crash itself.
95642,10,"Long story short, I have a substantial Python application that, among other things, does outcalls to ""losetup"", ""mount"", etc. on Linux. Essentially consuming system resources that must be released when complete. If my application crashes, I want to ensure these system resources are properly released. Does it make sense to do something like the following? def main(): # TODO: main application entry point pass def cleanup(): # TODO: release system resources here pass if __name__ == ""__main__"": try: main() except: cleanup() raise Is this something that is typically done? Is there a better way? Perhaps the destructor in a singleton class?",Does an application-wide exception handler make sense?,95676,95642,11,"I like top-level exception handlers in general (regardless of language). They're a great place to cleanup resources that may not be immediately related to resources consumed inside the method that throws the exception. It's also a fantastic place to log those exceptions if you have such a framework in place. Top-level handlers will catch those bizarre exceptions you didn't plan on and let you correct them in the future, otherwise, you may never know about them at all. Just be careful that your top-level handler doesn't throw exceptions!"
95642,10,"Long story short, I have a substantial Python application that, among other things, does outcalls to ""losetup"", ""mount"", etc. on Linux. Essentially consuming system resources that must be released when complete. If my application crashes, I want to ensure these system resources are properly released. Does it make sense to do something like the following? def main(): # TODO: main application entry point pass def cleanup(): # TODO: release system resources here pass if __name__ == ""__main__"": try: main() except: cleanup() raise Is this something that is typically done? Is there a better way? Perhaps the destructor in a singleton class?",Does an application-wide exception handler make sense?,95682,95642,7,"A destructor (as in a __del__ method) is a bad idea, as these are not guaranteed to be called. The atexit module is a safer approach, although these will still not fire if the Python interpreter crashes (rather than the Python application), or if os._exit() is used, or the process is killed aggressively, or the machine reboots. (Of course, the last item isn't an issue in your case.) If your process is crash-prone (it uses fickle third-party extension modules, for instance) you may want to do the cleanup in a simple parent process for more isolation. If you aren't really worried, use the atexit module."
95642,10,"Long story short, I have a substantial Python application that, among other things, does outcalls to ""losetup"", ""mount"", etc. on Linux. Essentially consuming system resources that must be released when complete. If my application crashes, I want to ensure these system resources are properly released. Does it make sense to do something like the following? def main(): # TODO: main application entry point pass def cleanup(): # TODO: release system resources here pass if __name__ == ""__main__"": try: main() except: cleanup() raise Is this something that is typically done? Is there a better way? Perhaps the destructor in a singleton class?",Does an application-wide exception handler make sense?,95692,95642,1,"That seems like a reasonable approach, and more straightforward and reliable than a destructor on a singleton class. You might also look at the ""atexit"" module. (Pronounced ""at exit"", not ""a tex it"" or something like that. I confused that for a long while.)"
95642,10,"Long story short, I have a substantial Python application that, among other things, does outcalls to ""losetup"", ""mount"", etc. on Linux. Essentially consuming system resources that must be released when complete. If my application crashes, I want to ensure these system resources are properly released. Does it make sense to do something like the following? def main(): # TODO: main application entry point pass def cleanup(): # TODO: release system resources here pass if __name__ == ""__main__"": try: main() except: cleanup() raise Is this something that is typically done? Is there a better way? Perhaps the destructor in a singleton class?",Does an application-wide exception handler make sense?,98085,95642,2,"if you use classes, you should free the resources they allocate in their destructors instead, of course. Use the try: on entire application just if you want to free resources that aren't already liberated by your classes' destructors. And instead of using a catch-all except:, you should use the following block: try: main() finally: cleanup() That will ensure cleanup in a more pythonic way."
95642,10,"Long story short, I have a substantial Python application that, among other things, does outcalls to ""losetup"", ""mount"", etc. on Linux. Essentially consuming system resources that must be released when complete. If my application crashes, I want to ensure these system resources are properly released. Does it make sense to do something like the following? def main(): # TODO: main application entry point pass def cleanup(): # TODO: release system resources here pass if __name__ == ""__main__"": try: main() except: cleanup() raise Is this something that is typically done? Is there a better way? Perhaps the destructor in a singleton class?",Does an application-wide exception handler make sense?,120224,95642,1,Consider writing a context manager and using the with statement.
95950,0,"On my desktop I have written a small Pylons app that connects to Oracle. I'm now trying to deploy it to my server which is running Win2k3 x64. (My desktop is 32-bit XP) The Oracle installation on the server is also 64-bit. I was getting errors about loading the OCI dll, so I installed the 32 bit client into C:\oracle32. If I add this to the PATH environment variable, it works great. But I also want to run the Pylons app as a service (using this recipe) and don't want to put this 32-bit library on the path for all other applications. I tried using sys.path.append(""C:\\oracle32\\bin"") but that doesn't seem to work.",Python reading Oracle path,96016,95950,2,"sys.path is python's internal representation of the PYTHONPATH, it sounds to me like you want to modify the PATH. I'm not sure that this will work, but you can try: import os os.environ['PATH'] += os.pathsep + ""C:\\oracle32\\bin"""
95950,0,"On my desktop I have written a small Pylons app that connects to Oracle. I'm now trying to deploy it to my server which is running Win2k3 x64. (My desktop is 32-bit XP) The Oracle installation on the server is also 64-bit. I was getting errors about loading the OCI dll, so I installed the 32 bit client into C:\oracle32. If I add this to the PATH environment variable, it works great. But I also want to run the Pylons app as a service (using this recipe) and don't want to put this 32-bit library on the path for all other applications. I tried using sys.path.append(""C:\\oracle32\\bin"") but that doesn't seem to work.",Python reading Oracle path,125163,95950,0,"You need to append the c:\Oracle32\bin directory to the PATH variable of your environment before you execute python.exe. In Linux, I need to set up the LD_LIBRARY_PATH variable for similar reasons, to locate the Oracle libraries, before calling python. I use wrapper shell scripts that set the variable and then call Python. In your case, maybe you can call, in the service startup, a .cmd or .vbs script that sets the PATH variable and then calls python.exe with your .py script. I hope this helps!"
95950,0,"On my desktop I have written a small Pylons app that connects to Oracle. I'm now trying to deploy it to my server which is running Win2k3 x64. (My desktop is 32-bit XP) The Oracle installation on the server is also 64-bit. I was getting errors about loading the OCI dll, so I installed the 32 bit client into C:\oracle32. If I add this to the PATH environment variable, it works great. But I also want to run the Pylons app as a service (using this recipe) and don't want to put this 32-bit library on the path for all other applications. I tried using sys.path.append(""C:\\oracle32\\bin"") but that doesn't seem to work.",Python reading Oracle path,142775,95950,0,"If your Python application runs in the 64-bit space, you will need to access a 64-bit installation of Oracle's oci.dll, rather than the 32-bit version. Normally you would update the system path to include the appropriate Oracle Home bin directory, prior to running the script. The solution may also vary depending on what component you are using to access Oracle from Python."
96508,3,"I am a little new to pyOpenSSL. I am trying to figure out how to associate the generated socket to an ssl cert. verify_cb gets called which give me access to the cert and a conn but how do I associate those things when this happens: cli,addr = self.server.accept()",How to associated the cn in an ssl cert of pyOpenSSL verify_cb to a generated socket,96797,96508,4,"After the handshake is complete, you can get the client certificate. While the client certificate is also available in the verify callback (verify_cb), there's not really any reason to try to do anything aside from verify the certificate in that callback. Setting up an application-specific mapping is better done after the handshake has completely successfully. So, consider using the OpenSSL.SSL.Connection instance returned by the accept method to get the certificate (and from there, the commonName) and associate it with the connection object at that point. For example, client, clientAddress = self.server.accept() client.do_handshake() commonNamesToConnections[client.get_peer_certificate().commonName] = client You might want to check the mapping to make sure you're not overwriting any existing connection (perhaps using a list of connections instead of just mapping each common name to one). And of course you need to remove entries when connections are lost. The `do_handshakeÂ´ call forces the handshake to actually happen. Without this, the handshake will happen when application data is first transferred over the connection. That's fine, but it would make setting up this mapping slightly more complicated."
97513,2,"When using PyWin I can easily load a python file into a fresh interactive shell and I find this quite handy for prototyping and other exploratory tasks. I would like to use Komodo as my python editor, but I haven't found a replacement for PyWin's ability to restart the shell and reload the current module. How can I do this in Komodo? It is also very important to me that when I reload I get a fresh shell. I would prefer it if my previous interactions are in the shell history, but it is more important to me that the memory be isolated from the previous versions and attempts.",How to load a python module into a fresh interactive shell in Komodo?,97635,97513,5,"I use Komodo Edit, which might be a little less sophisticated than full Komodo. I create a ""New Command"" with %(python) -i %f as the text of the command. I have this run in a ""New Console"". I usually have the starting directory as %p, the top of the project directory. The -i option runs the file and drops into interactive Python."
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,98146,98135,8,"Any particular reason you want to use Django's templates? Both Jinja and Genshi are, in my opinion, superior. If you really want to, then see the Django documentation on settings.py. Especially the section ""Using settings without setting DJANGO_SETTINGS_MODULE"". Use something like this: from django.conf import settings settings.configure (FOO='bar') # Your settings go here"
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,98150,98135,0,"Google AppEngine uses the Django templating engine, have you taken a look at how they do it? You could possibly just use that."
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,98154,98135,1,Found this: http://snippets.dzone.com/posts/show/3339
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,98178,98135,117,"The solution is simple. It's actually well documented, but not too easy to find. (I had to dig around -- it didn't come up when I tried a few different Google searches.) The following code works: &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; from django.conf import settings &gt;&gt;&gt; settings.configure() &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') &gt;&gt;&gt; c = Context({'my_name': 'Daryl Spitzer'}) &gt;&gt;&gt; t.render(c) u'My name is Daryl Spitzer.' See the Django documentation (linked above) for a description of some of the settings you may want to define (as keyword arguments to configure)."
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,98214,98135,38,"Jinja2 syntax is pretty much the same as Django's with very few differences, and you get a much more powerfull template engine, which also compiles your template to bytecode (FAST!). I use it for templating, including in Django itself, and it is very good. You can also easily write extensions if some feature you want is missing. Here is some demonstration of the code generation: &gt;&gt;&gt; import jinja2 &gt;&gt;&gt; print jinja2.Environment().compile('{% for row in data %}{{ row.name | upper }}{% endfor %}', raw=True) from __future__ import division from jinja2.runtime import LoopContext, Context, TemplateReference, Macro, Markup, TemplateRuntimeError, missing, concat, escape, markup_join, unicode_join name = None def root(context, environment=environment): l_data = context.resolve('data') t_1 = environment.filters['upper'] if 0: yield None for l_row in l_data: if 0: yield None yield unicode(t_1(environment.getattr(l_row, 'name'))) blocks = {} debug_info = '1=9'"
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,98276,98135,0,"I echo the above statements. Jinja 2 is a pretty good superset of Django templates for general use. I think they're working on making the Django templates a little less coupled to the settings.py, but Jinja should do well for you."
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,109380,98135,7,I would also recommend jinja2. There is a nice article on django vs. jinja2 that gives some in-detail information on why you should prefere the later.
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,304195,98135,1,Don't. Use StringTemplate instead--there is no reason to consider any other template engine once you know about it.
98135,85,"I want to use the Django template engine in my (Python) code, but I'm not building a Django-based web site. How do I use it without having a settings.py file (and others) and having to set the DJANGO_SETTINGS_MODULE environment variable? If I run the following code: &gt;&gt;&gt; import django.template &gt;&gt;&gt; from django.template import Template, Context &gt;&gt;&gt; t = Template('My name is {{ my_name }}.') I get: ImportError: Settings cannot be imported, because environment variable DJANGO_SETTINGS_MODULE is undefined.",How do I use Django templates without the rest of Django?,345360,98135,2,"I would say Jinja as well. It is definitely more powerful than Django Templating Engine and it is stand alone. If this was an external plug to an existing Django application, you could create a custom command and use the templating engine within your projects environment. Like this; manage.py generatereports --format=html But I don't think it is worth just using the Django Templating Engine instead of Jinja."
98687,24,"I have developed some custom DAO-like classes to meet some very specialized requirements for my project that is a server-side process that does not run inside any kind of framework. The solution works great except that every time a new request is made, I open a new connection via MySQLdb.connect. What is the best ""drop in"" solution to switch this over to using connection pooling in python? I am imagining something like the commons DBCP solution for Java. The process is long running and has many threads that need to make requests, but not all at the same time... specifically they do quite a lot of work before brief bursts of writing out a chunk of their results. Edited to add: After some more searching I found anitpool.py which looks decent, but as I'm relatively new to python I guess I just want to make sure I'm not missing a more obvious/more idiomatic/better solution.",What is the best solution for database connection pooling in python?,98703,98687,11,Wrap your connection class. Set a limit on how many connections you make. Return an unused connection. Intercept close to free the connection. Update: I put something like this in dbpool.py: import sqlalchemy.pool as pool import MySQLdb as mysql mysql = pool.manage(mysql)
98687,24,"I have developed some custom DAO-like classes to meet some very specialized requirements for my project that is a server-side process that does not run inside any kind of framework. The solution works great except that every time a new request is made, I open a new connection via MySQLdb.connect. What is the best ""drop in"" solution to switch this over to using connection pooling in python? I am imagining something like the commons DBCP solution for Java. The process is long running and has many threads that need to make requests, but not all at the same time... specifically they do quite a lot of work before brief bursts of writing out a chunk of their results. Edited to add: After some more searching I found anitpool.py which looks decent, but as I'm relatively new to python I guess I just want to make sure I'm not missing a more obvious/more idiomatic/better solution.",What is the best solution for database connection pooling in python?,98906,98687,12,"IMO, the ""more obvious/more idiomatic/better solution"" is to use an existing ORM rather than invent DAO-like classes. It appears to me that ORM's are more popular than ""raw"" SQL connections. Why? Because Python is OO, and the mapping from SQL row to to object is absolutely essential. There aren't many cases where you deal with SQL rows that don't map to Python objects. I think that SQLAlchemy or SQLObject (and the associated connection pooling) the more idiomatic Pythonic solution. Pooling as a separate feature isn't very common because pure SQL (without object mapping) isn't very popular for the kind of complex, long-running processes that benefit from connection pooling. Yes, pure SQL is used, but it's always used in simpler or more controlled applications where pooling isn't helpful. I think you might have two alternatives: Revise your classes to use SQLAlchemy or SQLObject. While this appears painful at first [all that work wasted], you should be able to leverage all the design and thought and it's merely an exercise in adopting a widely-used ORM and pooling solution. Roll your own simple connection pool using the algorithm you outlined -- a simple Set or List of connections that you cycle through."
98687,24,"I have developed some custom DAO-like classes to meet some very specialized requirements for my project that is a server-side process that does not run inside any kind of framework. The solution works great except that every time a new request is made, I open a new connection via MySQLdb.connect. What is the best ""drop in"" solution to switch this over to using connection pooling in python? I am imagining something like the commons DBCP solution for Java. The process is long running and has many threads that need to make requests, but not all at the same time... specifically they do quite a lot of work before brief bursts of writing out a chunk of their results. Edited to add: After some more searching I found anitpool.py which looks decent, but as I'm relatively new to python I guess I just want to make sure I'm not missing a more obvious/more idiomatic/better solution.",What is the best solution for database connection pooling in python?,99565,98687,21,"In MySQL? I'd say don't bother with the connection pooling. They're often a source of trouble and with MySQL they're not going to bring you the performance advantage you're hoping for. This road may be a lot of effort to follow--politically--because there's so much best practices hand waving and textbook verbiage in this space about the advantages of connection pooling. Connection pools are simply a bridge between the post-web era of stateless applications (e.g. HTTP protocol) and the pre-web era of stateful long-lived batch processing applications. Since connections were very expensive in pre-web databases (since no one used to care too much about how long a connection took to establish), post-web applications devised this connection pool scheme so that every hit didn't incur this huge processing overhead on the RDBMS. Since MySQL is more of a web-era RDBMS, connections are extremely lightweight and fast. I have written many high volume web applications that don't use a connection pool at all for MySQL. This is a complication you may benefit from doing without, so long as there isn't a political obstacle to overcome."
98687,24,"I have developed some custom DAO-like classes to meet some very specialized requirements for my project that is a server-side process that does not run inside any kind of framework. The solution works great except that every time a new request is made, I open a new connection via MySQLdb.connect. What is the best ""drop in"" solution to switch this over to using connection pooling in python? I am imagining something like the commons DBCP solution for Java. The process is long running and has many threads that need to make requests, but not all at the same time... specifically they do quite a lot of work before brief bursts of writing out a chunk of their results. Edited to add: After some more searching I found anitpool.py which looks decent, but as I'm relatively new to python I guess I just want to make sure I'm not missing a more obvious/more idiomatic/better solution.",What is the best solution for database connection pooling in python?,864728,98687,1,I've just been looking for the same sort of thing. I've found pysqlpool and the sqlalchemy pool module
100003,3219,What are metaclasses? What do you use them for?,What is a metaclass in Python?,100037,100003,217,"Metaclasses are the secret sauce that make 'class' work. The default metaclass for a new style object is called 'type'. class type(object) | type(object) -&gt; the object's type | type(name, bases, dict) -&gt; a new type Metaclasses take 3 args. 'name', 'bases' and 'dict' Here is where the secret starts. Look for where name, bases and the dict come from in this example class definition. class ThisIsTheName(Bases, Are, Here): All_the_code_here def doesIs(create, a): dict Lets define a metaclass that will demonstrate how 'class:' calls it. def test_metaclass(name, bases, dict): print 'The Class Name is', name print 'The Class Bases are', bases print 'The dict has', len(dict), 'elems, the keys are', dict.keys() return ""yellow"" class TestName(object, None, int, 1): __metaclass__ = test_metaclass foo = 1 def baz(self, arr): pass print 'TestName = ', repr(TestName) # output =&gt; The Class Name is TestName The Class Bases are (&lt;type 'object'&gt;, None, &lt;type 'int'&gt;, 1) The dict has 4 elems, the keys are ['baz', '__module__', 'foo', '__metaclass__'] TestName = 'yellow' And now, an example that actually means something, this will automatically make the variables in the list ""attributes"" set on the class, and set to None. def init_attributes(name, bases, dict): if 'attributes' in dict: for attr in dict['attributes']: dict[attr] = None return type(name, bases, dict) class Initialised(object): __metaclass__ = init_attributes attributes = ['foo', 'bar', 'baz'] print 'foo =&gt;', Initialised.foo # output=&gt; foo =&gt; None Note that the magic behaviour that 'Initalised' gains by having the metaclass init_attributes is not passed onto a subclass of Initalised. Here is an even more concrete example, showing how you can subclass 'type' to make a metaclass that performs an action when the class is created. This is quite tricky: class MetaSingleton(type): instance = None def __call__(cls, *args, **kw): if cls.instance is None: cls.instance = super(MetaSingleton, cls).__call__(*args, **kw) return cls.instance class Foo(object): __metaclass__ = MetaSingleton a = Foo() b = Foo() assert a is b"
100003,3219,What are metaclasses? What do you use them for?,What is a metaclass in Python?,100059,100003,56,"I think the ONLamp introduction to metaclass programming is well written and gives a really good introduction to the topic despite being several years old already. http://www.onlamp.com/pub/a/python/2003/04/17/metaclasses.html In short: A class is a blueprint for the creation of an instance, a metaclass is a blueprint for the creation of a class. It can be easily seen that in Python classes need to be first-class objects too to enable this behavior. I've never written one myself, but I think one of the nicest uses of metaclasses can be seen in the Django framework. The model classes use a metaclass approach to enable a declarative style of writing new models or form classes. While the metaclass is creating the class, all members get the possibility to customize the class itself. Creating a new model The metaclass enabling this The thing that's left to say is: If you don't know what metaclasses are, the probability that you will not need them is 99%."
100003,3219,What are metaclasses? What do you use them for?,What is a metaclass in Python?,100091,100003,82,"One use for metaclasses is adding new properties and methods to an instance automatically. For example, if you look at Django models, their definition looks a bit confusing. It looks as if you are only defining class properties: class Person(models.Model): first_name = models.CharField(max_length=30) last_name = models.CharField(max_length=30) However, at runtime the Person objects are filled with all sorts of useful methods. See the source for some amazing metaclassery."
100003,3219,What are metaclasses? What do you use them for?,What is a metaclass in Python?,100146,100003,1179,"A metaclass is the class of a class. Like a class defines how an instance of the class behaves, a metaclass defines how a class behaves. A class is an instance of a metaclass. While in Python you can use arbitrary callables for metaclasses (like Jerub shows), the more useful approach is actually to make it an actual class itself. type is the usual metaclass in Python. In case you're wondering, yes, type is itself a class, and it is its own type. You won't be able to recreate something like type purely in Python, but Python cheats a little. To create your own metaclass in Python you really just want to subclass type. A metaclass is most commonly used as a class-factory. Like you create an instance of the class by calling the class, Python creates a new class (when it executes the 'class' statement) by calling the metaclass. Combined with the normal __init__ and __new__ methods, metaclasses therefore allow you to do 'extra things' when creating a class, like registering the new class with some registry, or even replace the class with something else entirely. When the class statement is executed, Python first executes the body of the class statement as a normal block of code. The resulting namespace (a dict) holds the attributes of the class-to-be. The metaclass is determined by looking at the baseclasses of the class-to-be (metaclasses are inherited), at the __metaclass__ attribute of the class-to-be (if any) or the __metaclass__ global variable. The metaclass is then called with the name, bases and attributes of the class to instantiate it. However, metaclasses actually define the type of a class, not just a factory for it, so you can do much more with them. You can, for instance, define normal methods on the metaclass. These metaclass-methods are like classmethods, in that they can be called on the class without an instance, but they are also not like classmethods in that they cannot be called on an instance of the class. type.__subclasses__() is an example of a method on the type metaclass. You can also define the normal 'magic' methods, like __add__, __iter__ and __getattr__, to implement or change how the class behaves. Here's an aggregated example of the bits and pieces: def make_hook(f): """"""Decorator to turn 'foo' method into '__foo__'"""""" f.is_hook = 1 return f class MyType(type): def __new__(cls, name, bases, attrs): if name.startswith('None'): return None # Go over attributes and see if they should be renamed. newattrs = {} for attrname, attrvalue in attrs.iteritems(): if getattr(attrvalue, 'is_hook', 0): newattrs['__%s__' % attrname] = attrvalue else: newattrs[attrname] = attrvalue return super(MyType, cls).__new__(cls, name, bases, newattrs) def __init__(self, name, bases, attrs): super(MyType, self).__init__(name, bases, attrs) # classregistry.register(self, self.interfaces) print ""Would register class %s now."" % self def __add__(self, other): class AutoClass(self, other): pass return AutoClass # Alternatively, to autogenerate the classname as well as the class: # return type(self.__name__ + other.__name__, (self, other), {}) def unregister(self): # classregistry.unregister(self) print ""Would unregister class %s now."" % self class MyObject: __metaclass__ = MyType class NoneSample(MyObject): pass # Will print ""NoneType None"" print type(NoneSample), repr(NoneSample) class Example(MyObject): def __init__(self, value): self.value = value @make_hook def add(self, other): return self.__class__(self.value + other.value) # Will unregister the class Example.unregister() inst = Example(10) # Will fail with an AttributeError #inst.unregister() print inst + inst class Sibling(MyObject): pass ExampleSibling = Example + Sibling # ExampleSibling is now a subclass of both Example and Sibling (with no # content of its own) although it will believe it's called 'AutoClass' print ExampleSibling print ExampleSibling.__mro__"
100210,188,"Given a datetime.time value in Python, is there a standard way to add an integer number of seconds to it, so that 11:34:59 + 3 = 11:35:02, for example? These obvious ideas don't work: &gt;&gt;&gt; datetime.time(11, 34, 59) + 3 TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time' In the end I have written functions like this: def add_secs_to_time(timeval, secs_to_add): secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second secs += secs_to_add return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60) I can't help thinking that I'm missing an easier way to do this though. Related python time + timedelta equivalent",What is the standard way to add N seconds to datetime.time in Python?,100250,100210,1,"Try adding a datetime.datetime to a datetime.timedelta. If you only want the time portion, you can call the time() method on the resultant datetime.datetime object to get it."
100210,188,"Given a datetime.time value in Python, is there a standard way to add an integer number of seconds to it, so that 11:34:59 + 3 = 11:35:02, for example? These obvious ideas don't work: &gt;&gt;&gt; datetime.time(11, 34, 59) + 3 TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time' In the end I have written functions like this: def add_secs_to_time(timeval, secs_to_add): secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second secs += secs_to_add return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60) I can't help thinking that I'm missing an easier way to do this though. Related python time + timedelta equivalent",What is the standard way to add N seconds to datetime.time in Python?,100345,100210,281,"You can use full datetime variables with timedelta, and by providing a dummy date then using time to just get the time value. For example: import datetime a = datetime.datetime(100,1,1,11,34,59) b = a + datetime.timedelta(0,3) # days, seconds, then other fields. print a.time() print b.time() results in the two values, three seconds apart: 11:34:59 11:35:02 You could also opt for the more readable b = a + datetime.timedelta(seconds=3) if you're so inclined. If you're after a function that can do this, you can look into using addSecs below: import datetime def addSecs(tm, secs): fulldate = datetime.datetime(100, 1, 1, tm.hour, tm.minute, tm.second) fulldate = fulldate + datetime.timedelta(seconds=secs) return fulldate.time() a = datetime.datetime.now().time() b = addSecs(a, 300) print a print b This outputs: 09:11:55.775695 09:16:55"
100210,188,"Given a datetime.time value in Python, is there a standard way to add an integer number of seconds to it, so that 11:34:59 + 3 = 11:35:02, for example? These obvious ideas don't work: &gt;&gt;&gt; datetime.time(11, 34, 59) + 3 TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time' In the end I have written functions like this: def add_secs_to_time(timeval, secs_to_add): secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second secs += secs_to_add return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60) I can't help thinking that I'm missing an easier way to do this though. Related python time + timedelta equivalent",What is the standard way to add N seconds to datetime.time in Python?,100404,100210,9,"One little thing, might add clarity to override the default value for seconds &gt;&gt;&gt; b = a + datetime.timedelta(seconds=3000) &gt;&gt;&gt; b datetime.datetime(1, 1, 1, 12, 24, 59)"
100210,188,"Given a datetime.time value in Python, is there a standard way to add an integer number of seconds to it, so that 11:34:59 + 3 = 11:35:02, for example? These obvious ideas don't work: &gt;&gt;&gt; datetime.time(11, 34, 59) + 3 TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time' In the end I have written functions like this: def add_secs_to_time(timeval, secs_to_add): secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second secs += secs_to_add return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60) I can't help thinking that I'm missing an easier way to do this though. Related python time + timedelta equivalent",What is the standard way to add N seconds to datetime.time in Python?,100776,100210,7,"Thanks to @Pax Diablo, @bvmou and @Arachnid for the suggestion of using full datetimes throughout. If I have to accept datetime.time objects from an external source, then this seems to be an alternative add_secs_to_time() function: def add_secs_to_time(timeval, secs_to_add): dummy_date = datetime.date(1, 1, 1) full_datetime = datetime.datetime.combine(dummy_date, timeval) added_datetime = full_datetime + datetime.timedelta(seconds=secs_to_add) return added_datetime.time() This verbose code can be compressed to this one-liner: (datetime.datetime.combine(datetime.date(1, 1, 1), timeval) + datetime.timedelta(seconds=secs_to_add)).time() but I think I'd want to wrap that up in a function for code clarity anyway."
100210,188,"Given a datetime.time value in Python, is there a standard way to add an integer number of seconds to it, so that 11:34:59 + 3 = 11:35:02, for example? These obvious ideas don't work: &gt;&gt;&gt; datetime.time(11, 34, 59) + 3 TypeError: unsupported operand type(s) for +: 'datetime.time' and 'int' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.timedelta(0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.timedelta' &gt;&gt;&gt; datetime.time(11, 34, 59) + datetime.time(0, 0, 3) TypeError: unsupported operand type(s) for +: 'datetime.time' and 'datetime.time' In the end I have written functions like this: def add_secs_to_time(timeval, secs_to_add): secs = timeval.hour * 3600 + timeval.minute * 60 + timeval.second secs += secs_to_add return datetime.time(secs // 3600, (secs % 3600) // 60, secs % 60) I can't help thinking that I'm missing an easier way to do this though. Related python time + timedelta equivalent",What is the standard way to add N seconds to datetime.time in Python?,101947,100210,34,"As others here have stated, you can just use full datetime objects throughout: sometime = get_some_time() # the time to which you want to add 3 seconds later = (datetime.combine(date.today(), sometime) + timedelta(seconds=3)).time() However, I think it's worth explaining why full datetime objects are required. Consider what would happen if I added 2 hours to 11pm. What's the correct behavior? An exception, because you can't have a time larger than 11:59pm? Should it wrap back around? Different programmers will expect different things, so whichever result they picked would surprise a lot of people. Worse yet, programmers would write code that worked just fine when they tested it initially, and then have it break later by doing something unexpected. This is very bad, which is why you're not allowed to add timedelta objects to time objects."
100298,91,"I have a large source repository split across multiple projects. I would like to produce a report about the health of the source code, identifying problem areas that need to be addressed. Specifically, I'd like to call out routines with a high cyclomatic complexity, identify repetition, and perhaps run some lint-like static analysis to spot suspicious (and thus likely erroneous) constructs. How might I go about constructing such a report?",How can I analyze Python code to identify problematic areas?,100394,100298,17,"For static analysis there is pylint and pychecker. Personally I use pylint as it seems to be more comprehensive than pychecker. For cyclomatic complexity you can try this perl program, or this article which introduces a python program to do the same"
100298,91,"I have a large source repository split across multiple projects. I would like to produce a report about the health of the source code, identifying problem areas that need to be addressed. Specifically, I'd like to call out routines with a high cyclomatic complexity, identify repetition, and perhaps run some lint-like static analysis to spot suspicious (and thus likely erroneous) constructs. How might I go about constructing such a report?",How can I analyze Python code to identify problematic areas?,100687,100298,6,"Thanks to Pydev, you can integrate pylint in the Eclipse IDE really easily and get a code report each time you save a modified file."
100298,91,"I have a large source repository split across multiple projects. I would like to produce a report about the health of the source code, identifying problem areas that need to be addressed. Specifically, I'd like to call out routines with a high cyclomatic complexity, identify repetition, and perhaps run some lint-like static analysis to spot suspicious (and thus likely erroneous) constructs. How might I go about constructing such a report?",How can I analyze Python code to identify problematic areas?,105473,100298,29,"For measuring cyclomatic complexity, there's a nice tool available at traceback.org. The page also gives a good overview of how to interpret the results. +1 for pylint. It is great at verifying adherence to coding standards (be it PEP8 or your own organization's variant), which can in the end help to reduce cyclomatic complexity."
100298,91,"I have a large source repository split across multiple projects. I would like to produce a report about the health of the source code, identifying problem areas that need to be addressed. Specifically, I'd like to call out routines with a high cyclomatic complexity, identify repetition, and perhaps run some lint-like static analysis to spot suspicious (and thus likely erroneous) constructs. How might I go about constructing such a report?",How can I analyze Python code to identify problematic areas?,574673,100298,4,There is a tool called CloneDigger that helps you find similar code snippets.
100298,91,"I have a large source repository split across multiple projects. I would like to produce a report about the health of the source code, identifying problem areas that need to be addressed. Specifically, I'd like to call out routines with a high cyclomatic complexity, identify repetition, and perhaps run some lint-like static analysis to spot suspicious (and thus likely erroneous) constructs. How might I go about constructing such a report?",How can I analyze Python code to identify problematic areas?,2799127,100298,11,Pycana works like charm when you need to understand a new project! PyCAna (Python Code Analyzer) is a fancy name for a simple code analyzer for python that creates a class diagram after executing your code. See how it works: http://pycana.sourceforge.net/ output:
100624,20,"How to wait for multiple child processes in Python on Windows, without active wait (polling)? Something like this almost works for me: proc1 = subprocess.Popen(['python','mytest.py']) proc2 = subprocess.Popen(['python','mytest.py']) proc1.wait() print ""1 finished"" proc2.wait() print ""2 finished"" The problem is that when proc2 finishes before proc1, the parent process will still wait for proc1. On Unix one would use waitpid(0) in a loop to get the child processes' return codes as they finish - how to achieve something like this in Python on Windows?",Python on Windows - how to wait for multiple child processes?,100886,100624,12,"It might seem overkill, but, here it goes: import Queue, thread, subprocess results= Queue.Queue() def process_waiter(popen, description, que): try: popen.wait() finally: que.put( (description, popen.returncode) ) process_count= 0 proc1= subprocess.Popen( ['python', 'mytest.py'] ) thread.start_new_thread(process_waiter, (proc1, ""1 finished"", results)) process_count+= 1 proc2= subprocess.Popen( ['python', 'mytest.py'] ) thread.start_new_thread(process_waiter, (proc2, ""2 finished"", results)) process_count+= 1 # etc while process_count &gt; 0: description, rc= results.get() print ""job"", description, ""ended with rc ="", rc process_count-= 1"
100624,20,"How to wait for multiple child processes in Python on Windows, without active wait (polling)? Something like this almost works for me: proc1 = subprocess.Popen(['python','mytest.py']) proc2 = subprocess.Popen(['python','mytest.py']) proc1.wait() print ""1 finished"" proc2.wait() print ""2 finished"" The problem is that when proc2 finishes before proc1, the parent process will still wait for proc1. On Unix one would use waitpid(0) in a loop to get the child processes' return codes as they finish - how to achieve something like this in Python on Windows?",Python on Windows - how to wait for multiple child processes?,111225,100624,5,"Twisted has an asynchronous process-spawning API which works on Windows. There are actually several different implementations, many of which are not so great, but you can switch between them without changing your code."
100624,20,"How to wait for multiple child processes in Python on Windows, without active wait (polling)? Something like this almost works for me: proc1 = subprocess.Popen(['python','mytest.py']) proc2 = subprocess.Popen(['python','mytest.py']) proc1.wait() print ""1 finished"" proc2.wait() print ""2 finished"" The problem is that when proc2 finishes before proc1, the parent process will still wait for proc1. On Unix one would use waitpid(0) in a loop to get the child processes' return codes as they finish - how to achieve something like this in Python on Windows?",Python on Windows - how to wait for multiple child processes?,149327,100624,4,"Twisted on Windows will perform an active wait under the covers. If you don't want to use threads, you will have to use the win32 API to avoid polling. Something like this: import win32process import win32event # Note: CreateProcess() args are somewhat cryptic, look them up on MSDN proc1, thread1, pid1, tid1 = win32process.CreateProcess(...) proc2, thread2, pid2, tid2 = win32process.CreateProcess(...) thread1.close() thread2.close() processes = {proc1: ""proc1"", proc2: ""proc2""} while processes: handles = processes.keys() # Note: WaitForMultipleObjects() supports at most 64 processes at a time index = win32event.WaitForMultipleObjects(handles, False, win32event.INFINITE) finished = handles[index] exitcode = win32process.GetExitCodeProcess(finished) procname = processes.pop(finished) finished.close() print ""Subprocess %s finished with exit code %d"" % (procname, exitcode)"
100624,20,"How to wait for multiple child processes in Python on Windows, without active wait (polling)? Something like this almost works for me: proc1 = subprocess.Popen(['python','mytest.py']) proc2 = subprocess.Popen(['python','mytest.py']) proc1.wait() print ""1 finished"" proc2.wait() print ""2 finished"" The problem is that when proc2 finishes before proc1, the parent process will still wait for proc1. On Unix one would use waitpid(0) in a loop to get the child processes' return codes as they finish - how to achieve something like this in Python on Windows?",Python on Windows - how to wait for multiple child processes?,573196,100624,5,"Building on zseil's answer, you can do this with a mix of subprocess and win32 API calls. I used straight ctypes, because my Python doesn't happen to have win32api installed. I'm just spawning sleep.exe from MSYS here as an example, but clearly you could spawn any process you like. I use OpenProcess() to get a HANDLE from the process' PID, and then WaitForMultipleObjects to wait for any process to finish. import ctypes, subprocess from random import randint SYNCHRONIZE=0x00100000 INFINITE = -1 numprocs = 5 handles = {} for I in xrange(numprocs): sleeptime = randint(5,10) p = subprocess.Popen([r""c:\msys\1.0\bin\sleep.exe"", str(sleeptime)], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=False) h = ctypes.windll.kernel32.OpenProcess(SYNCHRONIZE, False, p.pid) handles[h] = p.pid print ""Spawned Process %d"" % p.pid while len(handles) &gt; 0: print ""Waiting for %d children..."" % len(handles) arrtype = ctypes.c_long * len(handles) handle_array = arrtype(*handles.keys()) ret = ctypes.windll.kernel32.WaitForMultipleObjects(len(handle_array), handle_array, False, INFINITE) h = handle_array[ret] ctypes.windll.kernel32.CloseHandle(h) print ""Process %d done"" % handles[h] del handles[h] print ""All done!"""
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100762,100732,139,"In the first test, Python try to convert the object to a bool value if it is not already one. Roughly, we are asking the object : are you meaningful or not ? This is done using the following algorithm : If the object has a __nonzero__ special method (as do numeric built-ins, int and float), it calls this method. It must either return a bool value which is then directly used, or an int value that is considered False if equal to zero. Otherwise, if the object has a __len__ special method (as do container built-ins, list, dict, set, tuple, ...), it calls this method, considering a container False if it is empty (length is zero). Otherwise, the object is considered True unless it is None in which case, it is considered False. In the second test, the object is compared for equality to None. Here, we are asking the object, ""Are you equal to this other value?"" This is done using the following algorithm : If the object has a __eq__ method, it is called, and the return value is then converted to a boolvalue and used to determine the outcome of the if. Otherwise, if the object has a __cmp__ method, it is called. This function must return an int indicating the order of the two object (-1 if self &lt; other, 0 if self == other, +1 if self &gt; other). Otherwise, the object are compared for identity (ie. they are reference to the same object, as can be tested by the is operator). There is another test possible using the is operator. We would be asking the object, ""Are you this particular object?"" Generally, I would recommend to use the first test with non-numerical values, to use the test for equality when you want to compare objects of the same nature (two strings, two numbers, ...) and to check for identity only when using sentinel values (None meaning not initialized for a member field for exemple, or when using the getattr or the __getitem__ methods). To summarize, we have : &gt;&gt;&gt; class A(object): ... def __repr__(self): ... return 'A()' ... def __nonzero__(self): ... return False &gt;&gt;&gt; class B(object): ... def __repr__(self): ... return 'B()' ... def __len__(self): ... return 0 &gt;&gt;&gt; class C(object): ... def __repr__(self): ... return 'C()' ... def __cmp__(self, other): ... return 0 &gt;&gt;&gt; class D(object): ... def __repr__(self): ... return 'D()' ... def __eq__(self, other): ... return True &gt;&gt;&gt; for obj in ['', (), [], {}, 0, 0., A(), B(), C(), D(), None]: ... print '%4s: bool(obj) -&gt; %5s, obj == None -&gt; %5s, obj is None -&gt; %5s' % \ ... (repr(obj), bool(obj), obj == None, obj is None) '': bool(obj) -&gt; False, obj == None -&gt; False, obj is None -&gt; False (): bool(obj) -&gt; False, obj == None -&gt; False, obj is None -&gt; False []: bool(obj) -&gt; False, obj == None -&gt; False, obj is None -&gt; False {}: bool(obj) -&gt; False, obj == None -&gt; False, obj is None -&gt; False 0: bool(obj) -&gt; False, obj == None -&gt; False, obj is None -&gt; False 0.0: bool(obj) -&gt; False, obj == None -&gt; False, obj is None -&gt; False A(): bool(obj) -&gt; False, obj == None -&gt; False, obj is None -&gt; False B(): bool(obj) -&gt; False, obj == None -&gt; False, obj is None -&gt; False C(): bool(obj) -&gt; True, obj == None -&gt; True, obj is None -&gt; False D(): bool(obj) -&gt; True, obj == None -&gt; True, obj is None -&gt; False None: bool(obj) -&gt; False, obj == None -&gt; True, obj is None -&gt; True"
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100764,100732,30,"Because None is not the only thing that is considered false. if not False: print ""False is false."" if not 0: print ""0 is false."" if not []: print ""An empty list is false."" if not (): print ""An empty tuple is false."" if not {}: print ""An empty dict is false."" if not """": print ""An empty string is false."" False, 0, (), [], {} and """" are all different from None, so your two code snippets are not equivalent. Moreover, consider the following: &gt;&gt;&gt; False == 0 True &gt;&gt;&gt; False == () False if object: is not an equality check. 0, (), [], None, {}, etc. are all different from each other, but they all evaluate to False. This is the ""magic"" behind short circuiting expressions like: foo = bar and spam or eggs which is shorthand for: if bar: foo = spam else: foo = eggs although you really should write: foo = spam if bar else egg"
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100766,100732,2,"These two comparisons serve different purposes. The former checks for boolean value of something, the second checks for identity with None value."
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100768,100732,0,For one the first example is shorter and looks nicer. As per the other posts what you choose also depends on what you really want to do with the comparison.
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100771,100732,1,"Style guide recommends to use is or is not if you are testing for None-ness - Comparisons to singletons like None should always be done with 'is' or 'is not', never the equality operators. On the other hand if you are testing for more than None-ness, you should use the boolean operator."
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100775,100732,0,"The answer is ""it depends"". I use the first example if I consider 0, """", [] and False (list not exhaustive) to be equivalent to None in this context."
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100828,100732,0,"Personally, I chose a consistent approach across languages: I do if (var) (or equivalent) only if var is declared as boolean (or defined as such, in C we don't have a specific type). I even prefix these variables with a b (so it would be bVar actually) to be sure I won't accidentally use another type here. I don't really like implicit casting to boolean, even less when there are numerous, complex rules. Of course, people will disagree. Some go farther, I see if (bVar == true) in the Java code at my work (too redundant for my taste!), others love too much compact syntax, going while (line = getNextLine()) (too ambiguous for me)."
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100903,100732,39,"These are actually both poor practices. Once upon a time, it was considered OK to casually treat None and False as similar. However, since Python 2.2 this is not the best policy. First, when you do an if x or if not x kind of test, Python has to implicitly convert x to boolean. The rules for the bool function describe a raft of things which are False; everything else is True. If the value of x wasn't properly boolean to begin with, this implicit conversion isn't really the clearest way to say things. Before Python 2.2, there was no bool function, so it was even less clear. Second, you shouldn't really test with == None. You should use is None and is not None. See PEP 8, Style Guide for Python Code. - Comparisons to singletons like None should always be done with 'is' or 'is not', never the equality operators. Also, beware of writing ""if x"" when you really mean ""if x is not None"" -- e.g. when testing whether a variable or argument that defaults to None was set to some other value. The other value might have a type (such as a container) that could be false in a boolean context! How many singletons are there? Five: None, True, False, NotImplemented and Ellipsis. Since you're really unlikely to use NotImplemented or Ellipsis, and you would never say if x is True (because simply if x is a lot clearer), you'll only ever test None."
100732,82,I've seen several examples of code like this: if not someobj: #do something But I'm wondering why not doing: if someobj == None: #do something Is there any difference? Does one have an advantage over the other?,"Why is ""if not someobj:"" better than ""if someobj == None:"" in Python?",100974,100732,3,"If you ask if not spam: print ""Sorry. No SPAM."" the __nonzero__ method of spam gets called. From the Python manual: __nonzero__(self) Called to implement truth value testing, and the built-in operation bool(); should return False or True, or their integer equivalents 0 or 1. When this method is not defined, __len__() is called, if it is defined (see below). If a class defines neither __len__() nor __nonzero__(), all its instances are considered true. If you ask if spam == None: print ""Sorry. No SPAM here either."" the __eq__ method of spam gets called with the argument None. For more information of the customization possibilities have a look at the Python documenation at https://docs.python.org/reference/datamodel.html#basic-customization"
101061,10,"I have a C extension module and it would be nice to distribute built binaries. Setuptools makes it easy to build extensions modules on OS X and GNU/Linux, since those OSs come with GCC, but I don't know how to do it in Windows. Would I need to buy a copy of Visual Studio, or does Visual Studio Express work? Can I just use Cygwin or MinGW?",Building Python C extension modules for Windows,101087,101061,13,"You can use both MinGW and VC++ Express (free, no need to buy it). See: http://eli.thegreenplace.net/2008/06/28/compiling-python-extensions-with-distutils-and-mingw/ http://eli.thegreenplace.net/2008/06/27/creating-python-extension-modules-in-c/"
101061,10,"I have a C extension module and it would be nice to distribute built binaries. Setuptools makes it easy to build extensions modules on OS X and GNU/Linux, since those OSs come with GCC, but I don't know how to do it in Windows. Would I need to buy a copy of Visual Studio, or does Visual Studio Express work? Can I just use Cygwin or MinGW?",Building Python C extension modules for Windows,101090,101061,1,"Setuptools and distutils don't come with gcc, but they use the same compiler Python was built with. The difference is mostly that on the typical UNIX system that compiler is 'gcc' and you have it installed. In order to compile extension modules on Windows, you need a compiler for Windows. MSVS will do, even the Express version I believe, but it does have to be the same MSVC++ version as Python was built with. Or you can use Cygwin or MinGW; See the appropriate section of Installing Python Modules."
101128,44,How do I read text from the (windows) clipboard from python?,How do I read text from the (windows) clipboard from python?,101143,101128,3,Try win32clipboard from the win32all package (that's probably installed if you're on ActiveState Python). See sample here: http://code.activestate.com/recipes/474121/
101128,44,How do I read text from the (windows) clipboard from python?,How do I read text from the (windows) clipboard from python?,101167,101128,47,"You can use the module called win32clipboard, which is part of pywin32. Here is an example that first sets the clipboard data then gets it: import win32clipboard # set clipboard data win32clipboard.OpenClipboard() win32clipboard.EmptyClipboard() win32clipboard.SetClipboardText('testing 123') win32clipboard.CloseClipboard() # get clipboard data win32clipboard.OpenClipboard() data = win32clipboard.GetClipboardData() win32clipboard.CloseClipboard() print data An important reminder from the documentation: When the window has finished examining or changing the clipboard, close the clipboard by calling CloseClipboard. This enables other windows to access the clipboard. Do not place an object on the clipboard after calling CloseClipboard."
101174,12,"In Python there is a really neat function called zip which can be used to iterate through two lists at the same time: list1 = [1, 2, 3] list2 = [""a"", ""b"", ""c""] for v1, v2 in zip(list1, list2): print v1 + "" "" + v2 The above code shoul produce the following: 1 a 2 b 3 c I wonder if there is a method like it available in .Net? I'm thinking about writing it myself, but there is no point if it's already available.",Is there a zip-like method in .Net?,101207,101174,5,"Nope, there is no such function in .NET. You have roll out your own. Note that C# doesn't support tuples, so python-like syntax sugar is missing too. You can use something like this: class Pair&lt;T1, T2&gt; { public T1 First { get; set;} public T2 Second { get; set;} } static IEnumerable&lt;Pair&lt;T1, T2&gt;&gt; Zip&lt;T1, T2&gt;(IEnumerable&lt;T1&gt; first, IEnumerable&lt;T2&gt; second) { if (first.Count() != second.Count()) throw new ArgumentException(""Blah blah""); using (IEnumerator&lt;T1&gt; e1 = first.GetEnumerator()) using (IEnumerator&lt;T2&gt; e2 = second.GetEnumerator()) { while (e1.MoveNext() &amp;&amp; e2.MoveNext()) { yield return new Pair&lt;T1, T2&gt;() {First = e1.Current, Second = e2.Current}; } } } ... var ints = new int[] {1, 2, 3}; var strings = new string[] {""A"", ""B"", ""C""}; foreach (var pair in Zip(ints, strings)) { Console.WriteLine(pair.First + "":"" + pair.Second); }"
101174,12,"In Python there is a really neat function called zip which can be used to iterate through two lists at the same time: list1 = [1, 2, 3] list2 = [""a"", ""b"", ""c""] for v1, v2 in zip(list1, list2): print v1 + "" "" + v2 The above code shoul produce the following: 1 a 2 b 3 c I wonder if there is a method like it available in .Net? I'm thinking about writing it myself, but there is no point if it's already available.",Is there a zip-like method in .Net?,101222,101174,25,"Update: It is built-in in C# 4 as System.Linq.Enumerable.Zip Method Here is a C# 3 version: IEnumerable&lt;TResult&gt; Zip&lt;TResult,T1,T2&gt; (IEnumerable&lt;T1&gt; a, IEnumerable&lt;T2&gt; b, Func&lt;T1,T2,TResult&gt; combine) { using (var f = a.GetEnumerator()) using (var s = b.GetEnumerator()) { while (f.MoveNext() &amp;&amp; s.MoveNext()) yield return combine(f.Current, s.Current); } } Dropped the C# 2 version as it was showing its age."
101174,12,"In Python there is a really neat function called zip which can be used to iterate through two lists at the same time: list1 = [1, 2, 3] list2 = [""a"", ""b"", ""c""] for v1, v2 in zip(list1, list2): print v1 + "" "" + v2 The above code shoul produce the following: 1 a 2 b 3 c I wonder if there is a method like it available in .Net? I'm thinking about writing it myself, but there is no point if it's already available.",Is there a zip-like method in .Net?,101227,101174,8,"As far as I know there is not. I wrote one for myself (as well as a few other useful extensions and put them in a project called NExtension on Codeplex. Apparently the Parallel extensions for .NET have a Zip function. Here's a simplified version from NExtension (but please check it out for more useful extension methods): public static IEnumerable&lt;TResult&gt; Zip&lt;T1, T2, TResult&gt;(this IEnumerable&lt;T1&gt; source1, IEnumerable&lt;T2&gt; source2, Func&lt;T1, T2, TResult&gt; combine) { using (IEnumerator&lt;T1&gt; data1 = source1.GetEnumerator()) using (IEnumerator&lt;T2&gt; data2 = source2.GetEnumerator()) while (data1.MoveNext() &amp;&amp; data2.MoveNext()) { yield return combine(data1.Current, data2.Current); } } Usage: int[] list1 = new int[] {1, 2, 3}; string[] list2 = new string[] {""a"", ""b"", ""c""}; foreach (var result in list1.Zip(list2, (i, s) =&gt; i.ToString() + "" "" + s)) Console.WriteLine(result);"
101174,12,"In Python there is a really neat function called zip which can be used to iterate through two lists at the same time: list1 = [1, 2, 3] list2 = [""a"", ""b"", ""c""] for v1, v2 in zip(list1, list2): print v1 + "" "" + v2 The above code shoul produce the following: 1 a 2 b 3 c I wonder if there is a method like it available in .Net? I'm thinking about writing it myself, but there is no point if it's already available.",Is there a zip-like method in .Net?,101284,101174,2,There's also one in F#: let zipped = Seq.zip firstEnumeration secondEnumation
101301,3,"For IronPython there is a project - IronClad, that aims to transparently run C extensions in it. Is there a similiar project for Jython?",IronClad equivalent for Jython,101539,101301,1,"You can probably use Java's loadLibrary to do that (provided it works in your platform's java). It is in the java library: java.System.loadLibrary(). Note that sometimes you will have to write a wrapper in C and/or in Java depending on the library you want to use and target system, since details are platform dependant. Refer to the documentation for more details."
101742,49,"I have a Google App Engine app - http://mylovelyapp.appspot.com/ It has a page - mylovelypage For the moment, the page just does self.response.out.write('OK') If I run the following Python at my computer: import urllib2 f = urllib2.urlopen(""http://mylovelyapp.appspot.com/mylovelypage"") s = f.read() print s f.close() it prints ""OK"" the problem is if I add login:required to this page in the app's yaml then this prints out the HTML of the Google Accounts login page I've tried ""normal"" authentication approaches. e.g. passman = urllib2.HTTPPasswordMgrWithDefaultRealm() auth_handler = urllib2.HTTPBasicAuthHandler() auth_handler.add_password(None, uri='http://mylovelyapp.appspot.com/mylovelypage', user='billy.bob@gmail.com', passwd='billybobspasswd') opener = urllib2.build_opener(auth_handler) urllib2.install_opener(opener) But it makes no difference - I still get the login page's HTML back. I've tried Google's ClientLogin auth API, but I can't get it to work. h = httplib2.Http() auth_uri = 'https://www.google.com/accounts/ClientLogin' headers = {'Content-Type': 'application/x-www-form-urlencoded'} myrequest = ""Email=%s&amp;Passwd=%s&amp;service=ah&amp;source=DALELANE-0.0"" % (""billy.bob@gmail.com"", ""billybobspassword"") response, content = h.request(auth_uri, 'POST', body=myrequest, headers=headers) if response['status'] == '200': authtok = re.search('Auth=(\S*)', content).group(1) headers = {} headers['Authorization'] = 'GoogleLogin auth=%s' % authtok.strip() headers['Content-Length'] = '0' response, content = h.request(""http://mylovelyapp.appspot.com/mylovelypage"", 'POST', body="""", headers=headers) while response['status'] == ""302"": response, content = h.request(response['location'], 'POST', body="""", headers=headers) print content I do seem to be able to get some token correctly, but attempts to use it in the header when I call 'mylovelypage' still just return me the login page's HTML. :-( Can anyone help, please? Could I use the GData client library to do this sort of thing? From what I've read, I think it should be able to access App Engine apps, but I haven't been any more successful at getting the authentication working for App Engine stuff there either Any pointers to samples, articles, or even just keywords I should be searching for to get me started, would be very much appreciated. Thanks!",How do you access an authenticated Google App Engine service from a (non-web) python client?,102158,101742,-1,"I'm not a python expert or a app engine expert. But did you try following the sample appl at http://code.google.com/appengine/docs/gettingstarted/usingusers.html. I created one at http://quizengine.appspot.com, it seemed to work fine with Google authentication and everything. Just a suggestion, but look in to the getting started guide. Take it easy if the suggestion sounds naive. :) Thanks."
101742,49,"I have a Google App Engine app - http://mylovelyapp.appspot.com/ It has a page - mylovelypage For the moment, the page just does self.response.out.write('OK') If I run the following Python at my computer: import urllib2 f = urllib2.urlopen(""http://mylovelyapp.appspot.com/mylovelypage"") s = f.read() print s f.close() it prints ""OK"" the problem is if I add login:required to this page in the app's yaml then this prints out the HTML of the Google Accounts login page I've tried ""normal"" authentication approaches. e.g. passman = urllib2.HTTPPasswordMgrWithDefaultRealm() auth_handler = urllib2.HTTPBasicAuthHandler() auth_handler.add_password(None, uri='http://mylovelyapp.appspot.com/mylovelypage', user='billy.bob@gmail.com', passwd='billybobspasswd') opener = urllib2.build_opener(auth_handler) urllib2.install_opener(opener) But it makes no difference - I still get the login page's HTML back. I've tried Google's ClientLogin auth API, but I can't get it to work. h = httplib2.Http() auth_uri = 'https://www.google.com/accounts/ClientLogin' headers = {'Content-Type': 'application/x-www-form-urlencoded'} myrequest = ""Email=%s&amp;Passwd=%s&amp;service=ah&amp;source=DALELANE-0.0"" % (""billy.bob@gmail.com"", ""billybobspassword"") response, content = h.request(auth_uri, 'POST', body=myrequest, headers=headers) if response['status'] == '200': authtok = re.search('Auth=(\S*)', content).group(1) headers = {} headers['Authorization'] = 'GoogleLogin auth=%s' % authtok.strip() headers['Content-Length'] = '0' response, content = h.request(""http://mylovelyapp.appspot.com/mylovelypage"", 'POST', body="""", headers=headers) while response['status'] == ""302"": response, content = h.request(response['location'], 'POST', body="""", headers=headers) print content I do seem to be able to get some token correctly, but attempts to use it in the header when I call 'mylovelypage' still just return me the login page's HTML. :-( Can anyone help, please? Could I use the GData client library to do this sort of thing? From what I've read, I think it should be able to access App Engine apps, but I haven't been any more successful at getting the authentication working for App Engine stuff there either Any pointers to samples, articles, or even just keywords I should be searching for to get me started, would be very much appreciated. Thanks!",How do you access an authenticated Google App Engine service from a (non-web) python client?,102162,101742,0,"Im not too familiar with AppEngine, or Googles web apis, but for a brute force approach you could write a script with something like mechanize (http://wwwsearch.sourceforge.net/mechanize/) to simply walk through the login process before you begin doing the real work of the client."
101742,49,"I have a Google App Engine app - http://mylovelyapp.appspot.com/ It has a page - mylovelypage For the moment, the page just does self.response.out.write('OK') If I run the following Python at my computer: import urllib2 f = urllib2.urlopen(""http://mylovelyapp.appspot.com/mylovelypage"") s = f.read() print s f.close() it prints ""OK"" the problem is if I add login:required to this page in the app's yaml then this prints out the HTML of the Google Accounts login page I've tried ""normal"" authentication approaches. e.g. passman = urllib2.HTTPPasswordMgrWithDefaultRealm() auth_handler = urllib2.HTTPBasicAuthHandler() auth_handler.add_password(None, uri='http://mylovelyapp.appspot.com/mylovelypage', user='billy.bob@gmail.com', passwd='billybobspasswd') opener = urllib2.build_opener(auth_handler) urllib2.install_opener(opener) But it makes no difference - I still get the login page's HTML back. I've tried Google's ClientLogin auth API, but I can't get it to work. h = httplib2.Http() auth_uri = 'https://www.google.com/accounts/ClientLogin' headers = {'Content-Type': 'application/x-www-form-urlencoded'} myrequest = ""Email=%s&amp;Passwd=%s&amp;service=ah&amp;source=DALELANE-0.0"" % (""billy.bob@gmail.com"", ""billybobspassword"") response, content = h.request(auth_uri, 'POST', body=myrequest, headers=headers) if response['status'] == '200': authtok = re.search('Auth=(\S*)', content).group(1) headers = {} headers['Authorization'] = 'GoogleLogin auth=%s' % authtok.strip() headers['Content-Length'] = '0' response, content = h.request(""http://mylovelyapp.appspot.com/mylovelypage"", 'POST', body="""", headers=headers) while response['status'] == ""302"": response, content = h.request(response['location'], 'POST', body="""", headers=headers) print content I do seem to be able to get some token correctly, but attempts to use it in the header when I call 'mylovelypage' still just return me the login page's HTML. :-( Can anyone help, please? Could I use the GData client library to do this sort of thing? From what I've read, I think it should be able to access App Engine apps, but I haven't been any more successful at getting the authentication working for App Engine stuff there either Any pointers to samples, articles, or even just keywords I should be searching for to get me started, would be very much appreciated. Thanks!",How do you access an authenticated Google App Engine service from a (non-web) python client?,102509,101742,38,"appcfg.py, the tool that uploads data to App Engine has to do exactly this to authenticate itself with the App Engine server. The relevant functionality is abstracted into appengine_rpc.py. In a nutshell, the solution is: Use the Google ClientLogin API to obtain an authentication token. appengine_rpc.py does this in _GetAuthToken Send the auth token to a special URL on your App Engine app. That page then returns a cookie and a 302 redirect. Ignore the redirect and store the cookie. appcfg.py does this in _GetAuthCookie Use the returned cookie in all future requests. You may also want to look at _Authenticate, to see how appcfg handles the various return codes from ClientLogin, and _GetOpener, to see how appcfg creates a urllib2 OpenerDirector that doesn't follow HTTP redirects. Or you could, in fact, just use the AbstractRpcServer and HttpRpcServer classes wholesale, since they do pretty much everything you need."
101742,49,"I have a Google App Engine app - http://mylovelyapp.appspot.com/ It has a page - mylovelypage For the moment, the page just does self.response.out.write('OK') If I run the following Python at my computer: import urllib2 f = urllib2.urlopen(""http://mylovelyapp.appspot.com/mylovelypage"") s = f.read() print s f.close() it prints ""OK"" the problem is if I add login:required to this page in the app's yaml then this prints out the HTML of the Google Accounts login page I've tried ""normal"" authentication approaches. e.g. passman = urllib2.HTTPPasswordMgrWithDefaultRealm() auth_handler = urllib2.HTTPBasicAuthHandler() auth_handler.add_password(None, uri='http://mylovelyapp.appspot.com/mylovelypage', user='billy.bob@gmail.com', passwd='billybobspasswd') opener = urllib2.build_opener(auth_handler) urllib2.install_opener(opener) But it makes no difference - I still get the login page's HTML back. I've tried Google's ClientLogin auth API, but I can't get it to work. h = httplib2.Http() auth_uri = 'https://www.google.com/accounts/ClientLogin' headers = {'Content-Type': 'application/x-www-form-urlencoded'} myrequest = ""Email=%s&amp;Passwd=%s&amp;service=ah&amp;source=DALELANE-0.0"" % (""billy.bob@gmail.com"", ""billybobspassword"") response, content = h.request(auth_uri, 'POST', body=myrequest, headers=headers) if response['status'] == '200': authtok = re.search('Auth=(\S*)', content).group(1) headers = {} headers['Authorization'] = 'GoogleLogin auth=%s' % authtok.strip() headers['Content-Length'] = '0' response, content = h.request(""http://mylovelyapp.appspot.com/mylovelypage"", 'POST', body="""", headers=headers) while response['status'] == ""302"": response, content = h.request(response['location'], 'POST', body="""", headers=headers) print content I do seem to be able to get some token correctly, but attempts to use it in the header when I call 'mylovelypage' still just return me the login page's HTML. :-( Can anyone help, please? Could I use the GData client library to do this sort of thing? From what I've read, I think it should be able to access App Engine apps, but I haven't been any more successful at getting the authentication working for App Engine stuff there either Any pointers to samples, articles, or even just keywords I should be searching for to get me started, would be very much appreciated. Thanks!",How do you access an authenticated Google App Engine service from a (non-web) python client?,103410,101742,34,"thanks to Arachnid for the answer - it worked as suggested here is a simplified copy of the code, in case it is helpful to the next person to try! import os import urllib import urllib2 import cookielib users_email_address = ""billy.bob@gmail.com"" users_password = ""billybobspassword"" target_authenticated_google_app_engine_uri = 'http://mylovelyapp.appspot.com/mylovelypage' my_app_name = ""yay-1.0"" # we use a cookie to authenticate with Google App Engine # by registering a cookie handler here, this will automatically store the # cookie returned when we use urllib2 to open http://currentcost.appspot.com/_ah/login cookiejar = cookielib.LWPCookieJar() opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookiejar)) urllib2.install_opener(opener) # # get an AuthToken from Google accounts # auth_uri = 'https://www.google.com/accounts/ClientLogin' authreq_data = urllib.urlencode({ ""Email"": users_email_address, ""Passwd"": users_password, ""service"": ""ah"", ""source"": my_app_name, ""accountType"": ""HOSTED_OR_GOOGLE"" }) auth_req = urllib2.Request(auth_uri, data=authreq_data) auth_resp = urllib2.urlopen(auth_req) auth_resp_body = auth_resp.read() # auth response includes several fields - we're interested in # the bit after Auth= auth_resp_dict = dict(x.split(""="") for x in auth_resp_body.split(""\n"") if x) authtoken = auth_resp_dict[""Auth""] # # get a cookie # # the call to request a cookie will also automatically redirect us to the page # that we want to go to # the cookie jar will automatically provide the cookie when we reach the # redirected location # this is where I actually want to go to serv_uri = target_authenticated_google_app_engine_uri serv_args = {} serv_args['continue'] = serv_uri serv_args['auth'] = authtoken full_serv_uri = ""http://mylovelyapp.appspot.com/_ah/login?%s"" % (urllib.urlencode(serv_args)) serv_req = urllib2.Request(full_serv_uri) serv_resp = urllib2.urlopen(serv_req) serv_resp_body = serv_resp.read() # serv_resp_body should contain the contents of the # target_authenticated_google_app_engine_uri page - as we will have been # redirected to that page automatically # # to prove this, I'm just gonna print it out print serv_resp_body"
101754,1360,"We are working on an S60 version and this platform has a nice Python API. However, there is nothing official about Python on Android, but since Jython exists, is there a way to let the snake and the robot work together?",Is there a way to run Python on Android?,101787,101754,20,Not at the moment and you would be lucky to get Jython to work soon. If you're planning to start your development now you would be better off with just sticking to Java for now on.
101754,1360,"We are working on an S60 version and this platform has a nice Python API. However, there is nothing official about Python on Android, but since Jython exists, is there a way to let the snake and the robot work together?",Is there a way to run Python on Android?,256069,101754,40,"As a Python lover and Android programmer, I am sad to say this is not really a good way to go. There are two problems. One problem is that there is a lot more than just a programming language to the Android development tools. A lot of the Android graphics involve XML files to configure the display, similar to HTML. The built-in java objects are really integrated with this XML layout, and it's a lot easier than writing your own code to go from logic to bitmap. The other problem is that the G1 (and probably other Android devices for the near future) are really not that fast. 200 MHz processors, and RAM is very limited. Even in Java you have to do a decent amount of rewriting-to-avoid-more-object-creation if you want to make your app perfectly smooth. Python is going to be too slow for a while still on mobile devices."
101754,1360,"We are working on an S60 version and this platform has a nice Python API. However, there is nothing official about Python on Android, but since Jython exists, is there a way to let the snake and the robot work together?",Is there a way to run Python on Android?,383473,101754,37,"I just posted some directions for cross compiling Python 2.4.5 for Android. It takes some patching, and not all modules are supported, but the basics are there."
101754,1360,"We are working on an S60 version and this platform has a nice Python API. However, there is nothing official about Python on Android, but since Jython exists, is there a way to let the snake and the robot work together?",Is there a way to run Python on Android?,973765,101754,143,"YES! An example via Matt Cutts -- ""hereâs a barcode scanner written in six lines of Python code: import android droid = android.Android() code = droid.scanBarcode() isbn = int(code['result']['SCAN_RESULT']) url = ""http://books.google.com?q=%d"" % isbn droid.startActivity('android.intent.action.VIEW', url)"
101754,1360,"We are working on an S60 version and this platform has a nice Python API. However, there is nothing official about Python on Android, but since Jython exists, is there a way to let the snake and the robot work together?",Is there a way to run Python on Android?,973786,101754,248,"There is also the new Android Scripting Environment (ASE) project. It looks awesome, and it has some integration with native Android components."
102394,4,"I am trying to sort a dict based on its key and return an iterator to the values from within an overridden iter method in a class. Is there a nicer and more efficient way of doing this than creating a new list, inserting into the list as I sort through the keys?",Sorting a dict on iter,102438,102394,2,"By far the easiest approach, and almost certainly the fastest, is something along the lines of: def sorted_dict(d): keys = d.keys() keys.sort() for key in keys: yield d[key] You can't sort without fetching all keys. Fetching all keys into a list and then sorting that list is the most efficient way to do that; list sorting is very fast, and fetching the keys list like that is as fast as it can be. You can then either create a new list of values or yield the values as the example does. Keep in mind that you can't modify the dict if you are iterating over it (the next iteration would fail) so if you want to modify the dict before you're done with the result of sorted_dict(), make it return a list."
102394,4,"I am trying to sort a dict based on its key and return an iterator to the values from within an overridden iter method in a class. Is there a nicer and more efficient way of doing this than creating a new list, inserting into the list as I sort through the keys?",Sorting a dict on iter,102443,102394,8,How about something like this: def itersorted(d): for key in sorted(d): yield d[key]
102394,4,"I am trying to sort a dict based on its key and return an iterator to the values from within an overridden iter method in a class. Is there a nicer and more efficient way of doing this than creating a new list, inserting into the list as I sort through the keys?",Sorting a dict on iter,102480,102394,-1,"Assuming you want a default sort order, you can used sorted(list) or list.sort(). If you want your own sort logic, Python lists support the ability to sort based on a function you pass in. For example, the following would be a way to sort numbers from least to greatest (the default behavior) using a function. def compareTwo(a, b): if a &gt; b: return 1 if a == b: return 0 if a &lt; b: return -1 List.Sort(compareTwo) print a This approach is conceptually a bit cleaner than manually creating a new list and appending the new values and allows you to control the sort logic."
102394,4,"I am trying to sort a dict based on its key and return an iterator to the values from within an overridden iter method in a class. Is there a nicer and more efficient way of doing this than creating a new list, inserting into the list as I sort through the keys?",Sorting a dict on iter,103187,102394,2,"def sortedDict(dictobj): return (value for key, value in sorted(dictobj.iteritems())) This will create a single intermediate list, the 'sorted()' method returns a real list. But at least it's only one."
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102612,102535,34,"See the ""Motivation"" section in PEP 255. A non-obvious use of generators is creating interruptible functions, which lets you do things like update UI or run several jobs ""simultaneously"" (interleaved, actually) while not using threads."
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102632,102535,183,"Generators give you lazy evaluation. You use them by iterating over them, either explicitly with 'for' or implicitly by passing it to any function or construct that iterates. You can think of generators as returning multiple items, as if they return a list, but instead of returning them all at once they return them one-by-one, and the generator function is paused until the next item is requested. Generators are good for calculating large sets of results (in particular calculations involving loops themselves) where you don't know if you are going to need all results, or where you don't want to allocate the memory for all results at the same time. Or for situations where the generator uses another generator, or consumes some other resource, and it's more convenient if that happened as late as possible. Another use for generators (that is really the same) is to replace callbacks with iteration. In some situations you want a function to do a lot of work and occasionally report back to the caller. Traditionally you'd use a callback function for this. You pass this callback to the work-function and it would periodically call this callback. The generator approach is that the work-function (now a generator) knows nothing about the callback, and merely yields whenever it wants to report something. The caller, instead of writing a separate callback and passing that to the work-function, does all the reporting work in a little 'for' loop around the generator. For example, say you wrote a 'filesystem search' program. You could perform the search in its entirety, collect the results and then display them one at a time. All of the results would have to be collected before you showed the first, and all of the results would be in memory at the same time. Or you could display the results while you find them, which would be more memory efficient and much friendlier towards the user. The latter could be done by passing the result-printing function to the filesystem-search function, or it could be done by just making the search function a generator and iterating over the result. If you want to see an example of the latter two approaches, see os.path.walk() (the old filesystem-walking function with callback) and os.walk() (the new filesystem-walking generator.) Of course, if you really wanted to collect all results in a list, the generator approach is trivial to convert to the big-list approach: big_list = list(the_generator)"
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102633,102535,6,Basically avoiding call-back functions when iterating over input maintaining state. See here and here for an overview of what can be done using generators.
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102634,102535,71,"One of the reasons to use generator is to make the solution clearer for some kind of solutions. The other is to treat results one at a time, avoiding building huge lists of results that you would process separated anyway. If you have a fibonacci-up-to-n function like this: # function version def fibon(n): a = b = 1 result = [] for I in xrange(n): result.append(a) a, b = b, a + b return result You can more easily write the function as this: # generator version def fibon(n): a = b = 1 for I in xrange(n): yield a a, b = b, a + b The function is clearer. And if you use the function like this: for x in fibon(1000000): print x, in this example, if using the generator version, the whole 1000000 item list won't be created at all, just one value at a time. That would not be the case when using the list version, where a list would be created first."
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102667,102535,12,"My favorite uses are ""filter"" and ""reduce"" operations. Let's say we're reading a file, and only want the lines which begin with ""##"". def filter2sharps( aSequence ): for l in aSequence: if l.startswith(""##""): yield l We can then use the generator function in a proper loop source= file( ... ) for line in filter2sharps( source.readlines() ): print line source.close() The reduce example is similar. Let's say we have a file where we need to locate blocks of &lt;Location&gt;...&lt;/Location&gt; lines. [Not HTML tags, but lines that happen to look tag-like.] def reduceLocation( aSequence ): keep= False block= None for line in aSequence: if line.startswith(""&lt;/Location""): block.append( line ) yield block block= None keep= False elif line.startsWith(""&lt;Location""): block= [ line ] keep= True elif keep: block.append( line ) else: pass if block is not None: yield block # A partial block, icky Again, we can use this generator in a proper for loop. source = file( ... ) for b in reduceLocation( source.readlines() ): print b source.close() The idea is that a generator function allows us to filter or reduce a sequence, producing a another sequence one value at a time."
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102674,102535,26,"Buffering. When it is efficient to fetch data in large chunks, but process it in small chunks, then a generator might help: def bufferedFetch(): while True: buffer = getBigChunkOfData() # insert some code to break on 'end of data' for I in buffer: yield I The above lets you easily separate buffering from processing. The consumer function can now just get the values one by one without worrying about buffering."
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102679,102535,1,"Piles of stuff. Any time you want to generate a sequence of items, but don't want to have to 'materialize' them all into a list at once. For example, you could have a simple generator that returns prime numbers: def primes(): primes_found = set() primes_found.add(2) yield 2 for I in itertools.count(1): candidate = I * 2 + 1 if not all(candidate % prime for prime in primes_found): primes_found.add(candidate) yield candidate You could then use that to generate the products of subsequent primes: def prime_products(): primeiter = primes() prev = primeiter.next() for prime in primeiter: yield prime * prev prev = prime These are fairly trivial examples, but you can see how it can be useful for processing large (potentially infinite!) datasets without generating them in advance, which is only one of the more obvious uses."
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102682,102535,17,"The simple explanation: Consider a for statement for item in iterable: do_stuff() A lot of the time, all the items in iterable doesn't need to be there from the start, but can be generated on the fly as they're required. This can be a lot more efficient in both space (you never need to store all the items simultaneously) and time (the iteration may finish before all the items are needed). Other times, you don't even know all the items ahead of time. For example: for command in user_input(): do_stuff_with(command) You have no way of knowing all the user's commands beforehand, but you can use a nice loop like this if you have a generator handing you commands: def user_input(): while True: wait_for_command() cmd = get_command() yield cmd With generators you can also have iteration over infinite sequences, which is of course not possible when iterating over containers."
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,102701,102535,2,I use generators when our web server is acting as a proxy: The client requests a proxied url from the server The server begins to load the target url The server yields to return the results to the client as soon as it gets them
102535,157,"I'm starting to learn Python and I've come across generator functions, those that have a yield statement in them. I want to know what types of problems that these functions are really good at solving.",What can you use Python generator functions for?,740763,102535,17,"I have found that generators are very helpful in cleaning up your code and by giving you a very unique way to encapsulate and modularize code. In a situation where you need something to constantly spit out values based on its own internal processing and when that something needs to be called from anywhere in your code (and not just within a loop or a block for example), generators are the feature to use. An abstract example would be a fibonacci number generator that does not live within a loop and when it is called from anywhere will always return the next number in sequence: def fib(): first=0 second=1 yield first yield second while 1: next=first+second yield next first=second second=next fibgen1=fib() fibgen2=fib() Now you have two fibonacci number generator objects which you can call from anywhere in your code and they will always return ever larger fibonacci numbers in sequence as follows: &gt;&gt;&gt; fibgen1.next(); fibgen1.next(); fibgen1.next(); fibgen1.next() 0 1 1 2 &gt;&gt;&gt; fibgen2.next(); fibgen2.next() 0 1 &gt;&gt;&gt; fibgen1.next(); fibgen1.next() 3 5 The lovely thing about generators is that they encapsulate state without having to go through the hoops of creating objects. One way of thinking about them is as ""functions"" which remember their internal state. I got the fibonacci example from http://www.neotitans.com/resources/python/python-generators-tutorial.html and with a little imagination, you can come up with a lot of other situations where generators make for a great alternative to for-loops and other traditional iteration constructs."
103844,14,"List Comprehension for me seems to be like the opaque block of granite that regular expressions are for me. I need pointers. Say, I have a 2D list: li = [[0,1,2],[3,4,5],[6,7,8]] I would like to merge this either into one long list li2 = [0,1,2,3,4,5,6,7,8] or into a string with separators: s = ""0,1,2,3,4,5,6,7,8"" Really, I'd like to know how to do both.",How do I merge a 2D array in Python into one string with List Comprehension?,103873,103844,-1,import itertools itertools.flatten( li )
103844,14,"List Comprehension for me seems to be like the opaque block of granite that regular expressions are for me. I need pointers. Say, I have a 2D list: li = [[0,1,2],[3,4,5],[6,7,8]] I would like to merge this either into one long list li2 = [0,1,2,3,4,5,6,7,8] or into a string with separators: s = ""0,1,2,3,4,5,6,7,8"" Really, I'd like to know how to do both.",How do I merge a 2D array in Python into one string with List Comprehension?,103883,103844,0,"To make it a flattened list use either: http://code.activestate.com/recipes/121294/ http://code.activestate.com/recipes/363051/ Then, join to make it a string."
103844,14,"List Comprehension for me seems to be like the opaque block of granite that regular expressions are for me. I need pointers. Say, I have a 2D list: li = [[0,1,2],[3,4,5],[6,7,8]] I would like to merge this either into one long list li2 = [0,1,2,3,4,5,6,7,8] or into a string with separators: s = ""0,1,2,3,4,5,6,7,8"" Really, I'd like to know how to do both.",How do I merge a 2D array in Python into one string with List Comprehension?,103886,103844,5,"There's a couple choices. First, you can just create a new list and add the contents of each list to it: li2 = [] for sublist in li: li2.extend(sublist) Alternately, you can use the itertools module's chain function, which produces an iterable containing all the items in multiple iterables: import itertools li2 = list(itertools.chain(*li)) If you take this approach, you can produce the string without creating an intermediate list: s = "","".join(itertools.chain(*li))"
103844,14,"List Comprehension for me seems to be like the opaque block of granite that regular expressions are for me. I need pointers. Say, I have a 2D list: li = [[0,1,2],[3,4,5],[6,7,8]] I would like to merge this either into one long list li2 = [0,1,2,3,4,5,6,7,8] or into a string with separators: s = ""0,1,2,3,4,5,6,7,8"" Really, I'd like to know how to do both.",How do I merge a 2D array in Python into one string with List Comprehension?,103887,103844,0,"For the second one, there is a built-in string method to do that : &gt;&gt;&gt; print ','.join(str(x) for x in li2) ""0,1,2,3,4,5,6,7,8"" For the first one, you can use join within a comprehension list : &gt;&gt;&gt; print "","".join(["","".join(str(x) for x in li]) ""0,1,2,3,4,5,6,7,8"" But it's easier to use itertools.flatten : &gt;&gt;&gt; import itertools &gt;&gt;&gt; print itertools.flatten(li) [0,1,2,3,4,5,6,7,8] &gt;&gt;&gt; print "","".join(str(x) for x in itertools.flatten(li)) ""0,1,2,3,4,5,6,7,8"" N.B : itertools is a module that help you to deal with common tasks with iterators such as list, tuples or string... It's handy because it does not store a copy of the structure you're working on but process the items one by one. EDIT : funny, I am learning plenty of way to do it. Who said that there was only one good way to do it ?"
103844,14,"List Comprehension for me seems to be like the opaque block of granite that regular expressions are for me. I need pointers. Say, I have a 2D list: li = [[0,1,2],[3,4,5],[6,7,8]] I would like to merge this either into one long list li2 = [0,1,2,3,4,5,6,7,8] or into a string with separators: s = ""0,1,2,3,4,5,6,7,8"" Really, I'd like to know how to do both.",How do I merge a 2D array in Python into one string with List Comprehension?,103890,103844,5,"My favorite, and the shortest one, is this: li2 = sum(li, []) and s = ','.join(li2) EDIT: use sum instead of reduce, (thanks Thomas Wouters!)"
103844,14,"List Comprehension for me seems to be like the opaque block of granite that regular expressions are for me. I need pointers. Say, I have a 2D list: li = [[0,1,2],[3,4,5],[6,7,8]] I would like to merge this either into one long list li2 = [0,1,2,3,4,5,6,7,8] or into a string with separators: s = ""0,1,2,3,4,5,6,7,8"" Really, I'd like to know how to do both.",How do I merge a 2D array in Python into one string with List Comprehension?,103895,103844,22,"Like so: [ item for innerlist in outerlist for item in innerlist ] Turning that directly into a string with separators: ','.join(str(item) for innerlist in outerlist for item in innerlist) Yes, the order of 'for innerlist in outerlist' and 'for item in innerlist' is correct. Even though the ""body"" of the loop is at the start of the listcomp, the order of nested loops (and 'if' clauses) is still the same as when you would write the loop out: for innerlist in outerlist: for item in innerlist: ..."
103844,14,"List Comprehension for me seems to be like the opaque block of granite that regular expressions are for me. I need pointers. Say, I have a 2D list: li = [[0,1,2],[3,4,5],[6,7,8]] I would like to merge this either into one long list li2 = [0,1,2,3,4,5,6,7,8] or into a string with separators: s = ""0,1,2,3,4,5,6,7,8"" Really, I'd like to know how to do both.",How do I merge a 2D array in Python into one string with List Comprehension?,103908,103844,6,"Try that: li=[[0,1,2],[3,4,5],[6,7,8]] li2 = [ y for x in li for y in x] You can read it like this: Give me the list of every ys. The ys come from the xs. The xs come from li. To map that in a string: ','.join(map(str,li2))"
103844,14,"List Comprehension for me seems to be like the opaque block of granite that regular expressions are for me. I need pointers. Say, I have a 2D list: li = [[0,1,2],[3,4,5],[6,7,8]] I would like to merge this either into one long list li2 = [0,1,2,3,4,5,6,7,8] or into a string with separators: s = ""0,1,2,3,4,5,6,7,8"" Really, I'd like to know how to do both.",How do I merge a 2D array in Python into one string with List Comprehension?,244477,103844,0,"There are many ways to do this problem. I like Numpy's tools because it is normally already imported in everything I do. However, if you aren't using Numpy for anything else this probably isn't a good method. import numpy li = [[0,1,2],[3,4,5],[6,7,8]] li2=li[0] #first element of array to merge i=1 while i&lt;len(li): li2=numpy.concatenate((li2,li[i])) i+=1 print li2 This would print [0 1 2 3 4 5 6 7 8] and then you can convert this into your string too."
104420,271,"How do you generate all the permutations of a list in Python, independently of the type of elements in that list? For example: permutations([]) [] permutations([1]) [1] permutations([1, 2]) [1, 2] [2, 1] permutations([1, 2, 3]) [1, 2, 3] [1, 3, 2] [2, 1, 3] [2, 3, 1] [3, 1, 2] [3, 2, 1] EDIT: Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the itertools module: import itertools itertools.permutations([1, 2, 3])",How to generate all permutations of a list in Python,104426,104420,15,"This solution implements a generator, to avoid holding all the permutations on memory: def permutations (orig_list): if not isinstance(orig_list, list): orig_list = list(orig_list) yield orig_list if len(orig_list) == 1: return for n in sorted(orig_list): new_list = orig_list[:] pos = new_list.index(n) del(new_list[pos]) new_list.insert(0, n) for resto in permutations(new_list[1:]): if new_list[:1] + resto &lt;&gt; orig_list: yield new_list[:1] + resto"
104420,271,"How do you generate all the permutations of a list in Python, independently of the type of elements in that list? For example: permutations([]) [] permutations([1]) [1] permutations([1, 2]) [1, 2] [2, 1] permutations([1, 2, 3]) [1, 2, 3] [1, 3, 2] [2, 1, 3] [2, 3, 1] [3, 1, 2] [3, 2, 1] EDIT: Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the itertools module: import itertools itertools.permutations([1, 2, 3])",How to generate all permutations of a list in Python,104436,104420,190,"Starting with Python 2.6 (and if you're on Python 3) you have a standard-library tool for this: itertools.permutations. If you're using an older Python (&lt;2.6) for some reason or are just curious to know how it works, here's one nice approach, taken from http://code.activestate.com/recipes/252178/: def all_perms(elements): if len(elements) &lt;=1: yield elements else: for perm in all_perms(elements[1:]): for I in range(len(elements)): # nb elements[0:1] works in both string and list contexts yield perm[:i] + elements[0:1] + perm[i:] A couple of alternative approaches are listed in the documentation of itertools.permutations. Here's one: def permutations(iterable, r=None): # permutations('ABCD', 2) --&gt; AB AC AD BA BC BD CA CB CD DA DB DC # permutations(range(3)) --&gt; 012 021 102 120 201 210 pool = tuple(iterable) n = len(pool) r = n if r is None else r if r &gt; n: return indices = range(n) cycles = range(n, n-r, -1) yield tuple(pool[i] for I in indices[:r]) while n: for I in reversed(range(r)): cycles[i] -= 1 if cycles[i] == 0: indices[i:] = indices[i+1:] + indices[i:i+1] cycles[i] = n - I else: j = cycles[i] indices[i], indices[-j] = indices[-j], indices[i] yield tuple(pool[i] for I in indices[:r]) break else: return And another, based on itertools.product: def permutations(iterable, r=None): pool = tuple(iterable) n = len(pool) r = n if r is None else r for indices in product(range(n), repeat=r): if len(set(indices)) == r: yield tuple(pool[i] for I in indices)"
104420,271,"How do you generate all the permutations of a list in Python, independently of the type of elements in that list? For example: permutations([]) [] permutations([1]) [1] permutations([1, 2]) [1, 2] [2, 1] permutations([1, 2, 3]) [1, 2, 3] [1, 3, 2] [2, 1, 3] [2, 3, 1] [3, 1, 2] [3, 2, 1] EDIT: Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the itertools module: import itertools itertools.permutations([1, 2, 3])",How to generate all permutations of a list in Python,104471,104420,255,"And in Python 2.6 onwards: import itertools itertools.permutations([1,2,3]) (returned as a generator. Use list(permutations(l)) to return as a list.)"
104420,271,"How do you generate all the permutations of a list in Python, independently of the type of elements in that list? For example: permutations([]) [] permutations([1]) [1] permutations([1, 2]) [1, 2] [2, 1] permutations([1, 2, 3]) [1, 2, 3] [1, 3, 2] [2, 1, 3] [2, 3, 1] [3, 1, 2] [3, 2, 1] EDIT: Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the itertools module: import itertools itertools.permutations([1, 2, 3])",How to generate all permutations of a list in Python,105774,104420,2,"Forgive my python illiteracy as I won't be offering the solution in python. As I do not know what method python 2.6 uses to generate the permutations and eliben's one looks like Johnson-Trotter permutation generation, you might look for article in Wikipedia on Permutations and their generation that looks quite like unrank function in paper by Myrvold and Ruskey. It would seem to me that this could be used in a generator in the same way as in other replies to lessen the memory requirement considerably. Just remember that the permutations will not be in lexicographic order."
104420,271,"How do you generate all the permutations of a list in Python, independently of the type of elements in that list? For example: permutations([]) [] permutations([1]) [1] permutations([1, 2]) [1, 2] [2, 1] permutations([1, 2, 3]) [1, 2, 3] [1, 3, 2] [2, 1, 3] [2, 3, 1] [3, 1, 2] [3, 2, 1] EDIT: Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the itertools module: import itertools itertools.permutations([1, 2, 3])",How to generate all permutations of a list in Python,108651,104420,10,"The following code is an in-place permutation of a given list, implemented as a generator. Since it only returns references to the list, the list should not be modified outside the generator. The solution is non-recursive, so uses low memory. Work well also with multiple copies of elements in the input list. def permute_in_place(a): a.sort() yield list(a) if len(a) &lt;= 1: return first = 0 last = len(a) while 1: I = last - 1 while 1: I = I - 1 if a[i] &lt; a[i+1]: j = last - 1 while not (a[i] &lt; a[j]): j = j - 1 a[i], a[j] = a[j], a[i] # swap the values r = a[i+1:last] r.reverse() a[i+1:last] = r yield list(a) break if I == first: a.reverse() return if __name__ == '__main__': for n in range(5): for a in permute_in_place(range(1, n+1)): print a print for a in permute_in_place([0, 0, 1, 1, 1]): print a print"
104420,271,"How do you generate all the permutations of a list in Python, independently of the type of elements in that list? For example: permutations([]) [] permutations([1]) [1] permutations([1, 2]) [1, 2] [2, 1] permutations([1, 2, 3]) [1, 2, 3] [1, 3, 2] [2, 1, 3] [2, 3, 1] [3, 1, 2] [3, 2, 1] EDIT: Eliben pointed to a solution that's similar to mine although simpler, so I'm choosing it as the accepted answer, although Python 2.6+ has a builtin solution in the itertools module: import itertools itertools.permutations([1, 2, 3])",How to generate all permutations of a list in Python,170248,104420,177,"The following code with Python 2.6 and above ONLY First, import itertools: import itertools Permutation (order matters): print list(itertools.permutations([1,2,3,4], 2)) [(1, 2), (1, 3), (1, 4), (2, 1), (2, 3), (2, 4), (3, 1), (3, 2), (3, 4), (4, 1), (4, 2), (4, 3)] Combination (order does NOT matter): print list(itertools.combinations('123', 2)) [('1', '2'), ('1', '3'), ('2', '3')] Cartesian product (with several iterables): print list(itertools.product([1,2,3], [4,5,6])) [(1, 4), (1, 5), (1, 6), (2, 4), (2, 5), (2, 6), (3, 4), (3, 5), (3, 6)] Cartesian product (with one iterable and itself): print list(itertools.product([1,2], repeat=3)) [(1, 1, 1), (1, 1, 2), (1, 2, 1), (1, 2, 2), (2, 1, 1), (2, 1, 2), (2, 2, 1), (2, 2, 2)]"
104983,62,"In Python specifically, how do variables get shared between threads? Although I have used threading.Thread before I never really understood or saw examples of how variables got shared. Are they shared between the main thread and the children or only among the children? When would I need to use thread local storage to avoid this sharing? I have seen many warnings about synchronizing access to shared data among threads by using locks but I have yet to see a really good example of the problem. Thanks in advance!","What is ""thread local storage"" in Python, and why do I need it?",105025,104983,48,"In Python, everything is shared, except for function-local variables (because each function call gets its own set of locals, and threads are always separate function calls.) And even then, only the variables themselves (the names that refer to objects) are local to the function; objects themselves are always global, and anything can refer to them. The Thread object for a particular thread is not a special object in this regard. If you store the Thread object somewhere all threads can access (like a global variable) then all threads can access that one Thread object. If you want to atomically modify anything that you didn't just create in this very same thread, and did not store anywhere another thread can get at it, you have to protect it by a lock. And all threads must of course share this very same lock, or it wouldn't be very effective. If you want actual thread-local storage, that's where threading.local comes in. Attributes of threading.local are not shared between threads; each thread sees only the attributes it itself placed in there. If you're curious about its implementation, the source is in _threading_local.py in the standard library."
104983,62,"In Python specifically, how do variables get shared between threads? Although I have used threading.Thread before I never really understood or saw examples of how variables got shared. Are they shared between the main thread and the children or only among the children? When would I need to use thread local storage to avoid this sharing? I have seen many warnings about synchronizing access to shared data among threads by using locks but I have yet to see a really good example of the problem. Thanks in advance!","What is ""thread local storage"" in Python, and why do I need it?",105058,104983,0,"Just like in every other language, every thread in Python has access to the same variables. There's no distinction between the 'main thread' and child threads. One difference with Python is that the Global Interpreter Lock means that only one thread can be running Python code at a time. This isn't much help when it comes to synchronising access, however, as all the usual pre-emption issues still apply, and you have to use threading primitives just like in other languages. It does mean you need to reconsider if you were using threads for performance, however."
104983,62,"In Python specifically, how do variables get shared between threads? Although I have used threading.Thread before I never really understood or saw examples of how variables got shared. Are they shared between the main thread and the children or only among the children? When would I need to use thread local storage to avoid this sharing? I have seen many warnings about synchronizing access to shared data among threads by using locks but I have yet to see a really good example of the problem. Thanks in advance!","What is ""thread local storage"" in Python, and why do I need it?",106560,104983,13,You can create thread local storage using threading.local(). &gt;&gt;&gt; tls = threading.local() &gt;&gt;&gt; tls.x = 4 &gt;&gt;&gt; tls.x 4 Data stored to the tls will be unique to each thread which will help ensure that unintentional sharing does not occur.
104983,62,"In Python specifically, how do variables get shared between threads? Although I have used threading.Thread before I never really understood or saw examples of how variables got shared. Are they shared between the main thread and the children or only among the children? When would I need to use thread local storage to avoid this sharing? I have seen many warnings about synchronizing access to shared data among threads by using locks but I have yet to see a really good example of the problem. Thanks in advance!","What is ""thread local storage"" in Python, and why do I need it?",1894371,104983,44,"Consider the following code: #/usr/bin/env python from time import sleep from random import random from threading import Thread, local data = local() def bar(): print ""I'm called from"", data.v def foo(): bar() class T(Thread): def run(self): sleep(random()) data.v = self.getName() # Thread-1 and Thread-2 accordingly sleep(1) foo() >> T().start(); T().start() I'm called from Thread-2 I'm called from Thread-1 Here threading.local() is used as a quick and dirty way to pass some data from run() to bar() without changing the interface of foo(). Note that using global variables won't do the trick: #/usr/bin/env python from time import sleep from random import random from threading import Thread def bar(): global v print ""I'm called from"", v def foo(): bar() class T(Thread): def run(self): global v sleep(random()) v = self.getName() # Thread-1 and Thread-2 accordingly sleep(1) foo() >> T().start(); T().start() I'm called from Thread-2 I'm called from Thread-2 Meanwhile, if you could afford passing this data through as an argument of foo() - it would be a more elegant and well-designed way: from threading import Thread def bar(v): print ""I'm called from"", v def foo(v): bar(v) class T(Thread): def run(self): foo(self.getName()) But this is not always possible when using third-party or poorly designed code."
105095,51,"If you are relying on an implementation of Python that has a Global Interpreter Lock (i.e. CPython) and writing multithreaded code, do you really need locks at all? If the GIL doesn't allow multiple instructions to be executed in parallel, wouldn't shared data be unnecessary to protect? sorry if this is a dumb question, but it is something I have always wondered about Python on multi-processor/core machines. same thing would apply to any other language implementation that has a GIL.",Are locks unnecessary in multi-threaded Python code because of the GIL?,105127,105095,1,You still need to use locks (your code could be interrupted at any time to execute another thread and this can cause data inconsistencies). The problem with GIL is that it prevents Python code from using more cores at the same time (or multiple processors if they are available).
105095,51,"If you are relying on an implementation of Python that has a Global Interpreter Lock (i.e. CPython) and writing multithreaded code, do you really need locks at all? If the GIL doesn't allow multiple instructions to be executed in parallel, wouldn't shared data be unnecessary to protect? sorry if this is a dumb question, but it is something I have always wondered about Python on multi-processor/core machines. same thing would apply to any other language implementation that has a GIL.",Are locks unnecessary in multi-threaded Python code because of the GIL?,105145,105095,20,"No - the GIL just protects python internals from multiple threads altering their state. This is a very low-level of locking, sufficient only to keep python's own structures in a consistent state. It doesn't cover the application level locking you'll need to do to cover thread safety in your own code. The essence of locking is to ensure that a particular block of code is only executed by one thread. The GIL enforces this for blocks the size of a single bytecode, but usually you want the lock to span a larger block of code than this."
105095,51,"If you are relying on an implementation of Python that has a Global Interpreter Lock (i.e. CPython) and writing multithreaded code, do you really need locks at all? If the GIL doesn't allow multiple instructions to be executed in parallel, wouldn't shared data be unnecessary to protect? sorry if this is a dumb question, but it is something I have always wondered about Python on multi-processor/core machines. same thing would apply to any other language implementation that has a GIL.",Are locks unnecessary in multi-threaded Python code because of the GIL?,105175,105095,6,"This post describes the GIL at a fairly high-level: https://web.archive.org/web/20080516010343/http://www.pyzine.com/Issue001/Section_Articles/article_ThreadingGlobalInterpreter.html Of particular interest are these quotes: Every ten instructions (this default can be changed), the core releases the GIL for the current thread. At that point, the OS chooses a thread from all the threads competing for the lock (possibly choosing the same thread that just released the GIL â you don't have any control over which thread gets chosen); that thread acquires the GIL and then runs for another ten bytecodes. and Note carefully that the GIL only restricts pure Python code. Extensions (external Python libraries usually written in C) can be written that release the lock, which then allows the Python interpreter to run separately from the extension until the extension reacquires the lock. It sounds like the GIL just provides fewer possible instances for a context switch, and makes multi-core/processor systems behave as a single core, with respect to each python interpreter instance, so yes, you still need to use synchronization mechanisms."
105095,51,"If you are relying on an implementation of Python that has a Global Interpreter Lock (i.e. CPython) and writing multithreaded code, do you really need locks at all? If the GIL doesn't allow multiple instructions to be executed in parallel, wouldn't shared data be unnecessary to protect? sorry if this is a dumb question, but it is something I have always wondered about Python on multi-processor/core machines. same thing would apply to any other language implementation that has a GIL.",Are locks unnecessary in multi-threaded Python code because of the GIL?,105272,105095,7,"The Global Interpreter Lock prevents threads from accessing the interpreter simultaneously (thus CPython only ever uses one core). However, as I understand it, the threads are still interrupted and scheduled preemptively, which means you still need locks on shared data structures, lest your threads stomp on each other's toes. The answer I've encountered time and time again is that multithreading in Python is rarely worth the overhead, because of this. I've heard good things about the PyProcessing project, which makes running multiple processes as ""simple"" as multithreading, with shared data structures, queues, etc. (PyProcessing will be introduced into the standard library of the upcoming Python 2.6 as the multiprocessing module.) This gets you around the GIL, as each process has its own interpreter."
105095,51,"If you are relying on an implementation of Python that has a Global Interpreter Lock (i.e. CPython) and writing multithreaded code, do you really need locks at all? If the GIL doesn't allow multiple instructions to be executed in parallel, wouldn't shared data be unnecessary to protect? sorry if this is a dumb question, but it is something I have always wondered about Python on multi-processor/core machines. same thing would apply to any other language implementation that has a GIL.",Are locks unnecessary in multi-threaded Python code because of the GIL?,105369,105095,57,"You will still need locks if you share state between threads. The GIL only protects the interpreter internally. You can still have inconsistent updates in your own code. For example: #!/usr/bin/env python import threading shared_balance = 0 class Deposit(threading.Thread): def run(self): for _ in xrange(1000000): global shared_balance balance = shared_balance balance += 100 shared_balance = balance class Withdraw(threading.Thread): def run(self): for _ in xrange(1000000): global shared_balance balance = shared_balance balance -= 100 shared_balance = balance threads = [Deposit(), Withdraw()] for thread in threads: thread.start() for thread in threads: thread.join() print shared_balance Here, your code can be interrupted between reading the shared state (balance = shared_balance) and writing the changed result back (shared_balance = balance), causing a lost update. The result is a random value for the shared state. To make the updates consistent, run methods would need to lock the shared state around the read-modify-write sections (inside the loops) or have some way to detect when the shared state had changed since it was read."
105095,51,"If you are relying on an implementation of Python that has a Global Interpreter Lock (i.e. CPython) and writing multithreaded code, do you really need locks at all? If the GIL doesn't allow multiple instructions to be executed in parallel, wouldn't shared data be unnecessary to protect? sorry if this is a dumb question, but it is something I have always wondered about Python on multi-processor/core machines. same thing would apply to any other language implementation that has a GIL.",Are locks unnecessary in multi-threaded Python code because of the GIL?,241814,105095,7,"Adding to the discussion: Because the GIL exists, some operations are atomic in Python and do not need a lock. http://www.python.org/doc/faq/library/#what-kinds-of-global-value-mutation-are-thread-safe As stated by the other answers, however, you still need to use locks whenever the application logic requires them (such as in a Producer/Consumer problem)."
105095,51,"If you are relying on an implementation of Python that has a Global Interpreter Lock (i.e. CPython) and writing multithreaded code, do you really need locks at all? If the GIL doesn't allow multiple instructions to be executed in parallel, wouldn't shared data be unnecessary to protect? sorry if this is a dumb question, but it is something I have always wondered about Python on multi-processor/core machines. same thing would apply to any other language implementation that has a GIL.",Are locks unnecessary in multi-threaded Python code because of the GIL?,385446,105095,0,"A little bit of update from Will Harris's example: class Withdraw(threading.Thread): def run(self): for _ in xrange(1000000): global shared_balance if shared_balance &gt;= 100: balance = shared_balance balance -= 100 shared_balance = balance Put a value check statement in the withdraw and I don't see negative anymore and updates seems consistent. My question is: If GIL prevents only one thread can be executed at any atomic time, then where would be the stale value? If no stale value, why we need lock? (Assuming we only talk about pure python code) If I understand correctly, the above condition check wouldn't work in a real threading environment. When more than one threads are executing concurrently, stale value can be created hence the inconsistency of the share state, then you really need a lock. But if python really only allows just one thread at any time (time slicing threading), then there shouldn't be possible for stale value to exist, right?"
105095,51,"If you are relying on an implementation of Python that has a Global Interpreter Lock (i.e. CPython) and writing multithreaded code, do you really need locks at all? If the GIL doesn't allow multiple instructions to be executed in parallel, wouldn't shared data be unnecessary to protect? sorry if this is a dumb question, but it is something I have always wondered about Python on multi-processor/core machines. same thing would apply to any other language implementation that has a GIL.",Are locks unnecessary in multi-threaded Python code because of the GIL?,385887,105095,3,"Think of it this way: On a single processor computer, multithreading happens by suspending one thread and starting another fast enough to make it appear to be running at the same time. This is like Python with the GIL: only one thread is ever actually running. The problem is that the thread can be suspended anywhere, for example, if I want to compute b = (a + b) * 3, this might produce instructions something like this: 1 a += b 2 a *= 3 3 b = a Now, lets say that is running in a thread and that thread is suspended after either line 1 or 2 and then another thread kicks in and runs: b = 5 Then when the other thread resumes, b is overwritten by the old computed values, which is probably not what was expected. So you can see that even though they're not ACTUALLY running at the same time, you still need locking."
105702,11,"I'm about to put a beta version of the site I'm working on up on the web. It needs to have a beta code to restrict access. The site is written in django. I don't want to change the fundamental Auth system to accommodate a beta code, and I don't care particularly that the security of the beta code is iron-clad, just that it's a significant stumbling block. How should I do this? It's a fairly large project, so adding code to every view is far from ideal. That solution works well. The Middleware Class I ended up with this this: from django.http import HttpResponseRedirect class BetaMiddleware(object): """""" Require beta code session key in order to view any page. """""" def process_request(self, request): if request.path != '/beta/' and not request.session.get('in_beta'): return HttpResponseRedirect('%s?next=%s' % ('/beta/', request.path))",Making a beta code for a public django site,105756,105702,0,"You should be able to add @login_required decorators across the board and be done with it. Unless you have a boat-load of view functions, it shouldn't be too horrible."
105702,11,"I'm about to put a beta version of the site I'm working on up on the web. It needs to have a beta code to restrict access. The site is written in django. I don't want to change the fundamental Auth system to accommodate a beta code, and I don't care particularly that the security of the beta code is iron-clad, just that it's a significant stumbling block. How should I do this? It's a fairly large project, so adding code to every view is far from ideal. That solution works well. The Middleware Class I ended up with this this: from django.http import HttpResponseRedirect class BetaMiddleware(object): """""" Require beta code session key in order to view any page. """""" def process_request(self, request): if request.path != '/beta/' and not request.session.get('in_beta'): return HttpResponseRedirect('%s?next=%s' % ('/beta/', request.path))",Making a beta code for a public django site,105764,105702,4,"You can probably restrict access to the entire site via apache with htaccess, taking the problem out of the django's project space entirely."
105702,11,"I'm about to put a beta version of the site I'm working on up on the web. It needs to have a beta code to restrict access. The site is written in django. I don't want to change the fundamental Auth system to accommodate a beta code, and I don't care particularly that the security of the beta code is iron-clad, just that it's a significant stumbling block. How should I do this? It's a fairly large project, so adding code to every view is far from ideal. That solution works well. The Middleware Class I ended up with this this: from django.http import HttpResponseRedirect class BetaMiddleware(object): """""" Require beta code session key in order to view any page. """""" def process_request(self, request): if request.path != '/beta/' and not request.session.get('in_beta'): return HttpResponseRedirect('%s?next=%s' % ('/beta/', request.path))",Making a beta code for a public django site,105945,105702,2,Do what StackOverflow did. They had a simple email/password form. It had a single hard-coded password (falkensmaze). When the user gets the password right set a cookie. eg. auth=1 Don't worry about it being unsecure. Who care's if someone hacks into the beta? Apache/htaccess is also a nice and simple solution.
105702,11,"I'm about to put a beta version of the site I'm working on up on the web. It needs to have a beta code to restrict access. The site is written in django. I don't want to change the fundamental Auth system to accommodate a beta code, and I don't care particularly that the security of the beta code is iron-clad, just that it's a significant stumbling block. How should I do this? It's a fairly large project, so adding code to every view is far from ideal. That solution works well. The Middleware Class I ended up with this this: from django.http import HttpResponseRedirect class BetaMiddleware(object): """""" Require beta code session key in order to view any page. """""" def process_request(self, request): if request.path != '/beta/' and not request.session.get('in_beta'): return HttpResponseRedirect('%s?next=%s' % ('/beta/', request.path))",Making a beta code for a public django site,106212,105702,18,"Start with this Django snippet, but modify it to check request.session['has_beta_access']. If they don't have it, then have it return a redirect to a ""enter beta code"" page that, when posted to with the right code, sets that session variable to True. Making it a public beta then just consists of removing that middleware from your MIDDLEWARE_CLASSES setting."
105702,11,"I'm about to put a beta version of the site I'm working on up on the web. It needs to have a beta code to restrict access. The site is written in django. I don't want to change the fundamental Auth system to accommodate a beta code, and I don't care particularly that the security of the beta code is iron-clad, just that it's a significant stumbling block. How should I do this? It's a fairly large project, so adding code to every view is far from ideal. That solution works well. The Middleware Class I ended up with this this: from django.http import HttpResponseRedirect class BetaMiddleware(object): """""" Require beta code session key in order to view any page. """""" def process_request(self, request): if request.path != '/beta/' and not request.session.get('in_beta'): return HttpResponseRedirect('%s?next=%s' % ('/beta/', request.path))",Making a beta code for a public django site,1249496,105702,0,"I'm not sure what version of the Pinax code you're using, but they've built in the ability to close the site off for a private beta so you don't need to do much work yourself. The link to the specific project template for a private beta site is here: http://github.com/pinax/pinax/tree/3ad73d1ba44f37365333bae17b507668b0eb7e16/pinax/projects/private_beta_project although I think they might have since added that functionality to all the project templates."
105702,11,"I'm about to put a beta version of the site I'm working on up on the web. It needs to have a beta code to restrict access. The site is written in django. I don't want to change the fundamental Auth system to accommodate a beta code, and I don't care particularly that the security of the beta code is iron-clad, just that it's a significant stumbling block. How should I do this? It's a fairly large project, so adding code to every view is far from ideal. That solution works well. The Middleware Class I ended up with this this: from django.http import HttpResponseRedirect class BetaMiddleware(object): """""" Require beta code session key in order to view any page. """""" def process_request(self, request): if request.path != '/beta/' and not request.session.get('in_beta'): return HttpResponseRedirect('%s?next=%s' % ('/beta/', request.path))",Making a beta code for a public django site,1770902,105702,0,"Great snippet but it resulted lots of problems for me related OpenId sessions. So I end up relying on Cookies instead of the Session: class BetaMiddleware(object): """""" Require beta code cookie key in order to view any page. """""" set_beta = False def process_request(self, request): referer = request.META.get('HTTP_REFERER', '') if request.method == 'GET' and not 'is_in_beta' in request.COOKIES: return HttpResponseRedirect('%s?next=%s' % ('/beta/', request.path)) if request.method == 'POST' and 'pass' in request.POST: code = request.POST['pass'] if code=='beta': self.set_beta = True return HttpResponseRedirect('%s' % '/') def process_response(self, request, response): if self.set_beta is True: response.set_cookie('is_in_beta', '1') return response It's not secure but that's enough for me. This also works with just a beta html page."
106630,5,"I start by creating a string variable with some non-ascii utf-8 encoded data on it: &gt;&gt;&gt; text = 'Ã¡' &gt;&gt;&gt; text '\xc3\xa1' &gt;&gt;&gt; text.decode('utf-8') u'\xe1' Using unicode() on it raises errors... &gt;&gt;&gt; unicode(text) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: ordinal not in range(128) ...but if I know the encoding I can use it as second parameter: &gt;&gt;&gt; unicode(text, 'utf-8') u'\xe1' &gt;&gt;&gt; unicode(text, 'utf-8') == text.decode('utf-8') True Now if I have a class that returns this text in the __str__() method: &gt;&gt;&gt; class ReturnsEncoded(object): ... def __str__(self): ... return text ... &gt;&gt;&gt; r = ReturnsEncoded() &gt;&gt;&gt; str(r) '\xc3\xa1' unicode(r) seems to use str() on it, since it raises the same error as unicode(text) above: &gt;&gt;&gt; unicode(r) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: ordinal not in range(128) Until now everything is as planned! But as no one would ever expect, unicode(r, 'utf-8') won't even try: &gt;&gt;&gt; unicode(r, 'utf-8') Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: coercing to Unicode: need string or buffer, ReturnsEncoded found Why? Why this inconsistent behavior? Is it a bug? is it intended? Very awkward.",Why unicode() uses str() on my object only with no encoding given?,106640,106630,4,"unicode does not guess the encoding of your text. If your object can print itself as unicode, define the __unicode__() method that returns a Unicode string. The secret is that unicode(r) is not actually calling __str__() itself. Instead, it's looking for a __unicode__() method. The default implementation of __unicode__() will call __str__() and then attempt to decode it using the ascii charset. When you pass the encoding, unicode() expects the first object to be something that can be decoded -- that is, an instance of basestring. Behavior is weird because it tries to decode as ascii if I don't pass 'utf-8'. But if I pass 'utf-8' it gives a different error... That's because when you specify ""utf-8"", it treats the first parameter as a string-like object to be decoded. Without it, it treats the parameter as an object to be coerced to unicode. I do not understand the confusion. If you know that the object's text attribute will always be UTF-8 encoded, just define __unicode__() and then everything will work fine."
106630,5,"I start by creating a string variable with some non-ascii utf-8 encoded data on it: &gt;&gt;&gt; text = 'Ã¡' &gt;&gt;&gt; text '\xc3\xa1' &gt;&gt;&gt; text.decode('utf-8') u'\xe1' Using unicode() on it raises errors... &gt;&gt;&gt; unicode(text) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: ordinal not in range(128) ...but if I know the encoding I can use it as second parameter: &gt;&gt;&gt; unicode(text, 'utf-8') u'\xe1' &gt;&gt;&gt; unicode(text, 'utf-8') == text.decode('utf-8') True Now if I have a class that returns this text in the __str__() method: &gt;&gt;&gt; class ReturnsEncoded(object): ... def __str__(self): ... return text ... &gt;&gt;&gt; r = ReturnsEncoded() &gt;&gt;&gt; str(r) '\xc3\xa1' unicode(r) seems to use str() on it, since it raises the same error as unicode(text) above: &gt;&gt;&gt; unicode(r) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: ordinal not in range(128) Until now everything is as planned! But as no one would ever expect, unicode(r, 'utf-8') won't even try: &gt;&gt;&gt; unicode(r, 'utf-8') Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: coercing to Unicode: need string or buffer, ReturnsEncoded found Why? Why this inconsistent behavior? Is it a bug? is it intended? Very awkward.",Why unicode() uses str() on my object only with no encoding given?,106709,106630,7,"The behaviour does seem confusing, but intensional. I reproduce here the entirety of the unicode documentation from the Python Built-In Functions documentation (for version 2.5.2, as I write this): unicode([object[, encoding [, errors]]]) Return the Unicode string version of object using one of the following modes: If encoding and/or errors are given, unicode() will decode the object which can either be an 8-bit string or a character buffer using the codec for encoding. The encoding parameter is a string giving the name of an encoding; if the encoding is not known, LookupError is raised. Error handling is done according to errors; this specifies the treatment of characters which are invalid in the input encoding. If errors is 'strict' (the default), a ValueError is raised on errors, while a value of 'ignore' causes errors to be silently ignored, and a value of 'replace' causes the official Unicode replacement character, U+FFFD, to be used to replace input characters which cannot be decoded. See also the codecs module. If no optional parameters are given, unicode() will mimic the behaviour of str() except that it returns Unicode strings instead of 8-bit strings. More precisely, if object is a Unicode string or subclass it will return that Unicode string without any additional decoding applied. For objects which provide a __unicode__() method, it will call this method without arguments to create a Unicode string. For all other objects, the 8-bit string version or representation is requested and then converted to a Unicode string using the codec for the default encoding in 'strict' mode. New in version 2.0. Changed in version 2.2: Support for __unicode__() added. So, when you call unicode(r, 'utf-8'), it requires an 8-bit string or a character buffer as the first argument, so it coerces your object using the __str__() method, and attempts to decode that using the utf-8 codec. Without the utf-8, the unicode() function looks for a for a __unicode__() method on your object, and not finding it, calls the __str__() method, as you suggested, attempting to use the default codec to convert to unicode."
106725,43,"I need to package my python application, its dependencies and python into a single MSI installer. The end result should desirably be: Python is installed in the standard location the package and its dependencies are installed in a separate directory (possibly site-packages) the installation directory should contain the python uncompressed and a standalone executable is not required",How to bundle a Python application including dependencies?,106730,106725,25,"Kind of a dup of this question about how to make a python into an executable. It boils down to: py2exe on windows, Freeze on Linux, and py2app on Mac."
106725,43,"I need to package my python application, its dependencies and python into a single MSI installer. The end result should desirably be: Python is installed in the standard location the package and its dependencies are installed in a separate directory (possibly site-packages) the installation directory should contain the python uncompressed and a standalone executable is not required",How to bundle a Python application including dependencies?,106731,106725,1,"py2exe is the best way to do this. It's a bit of a PITA to use, but the end result works very well."
106725,43,"I need to package my python application, its dependencies and python into a single MSI installer. The end result should desirably be: Python is installed in the standard location the package and its dependencies are installed in a separate directory (possibly site-packages) the installation directory should contain the python uncompressed and a standalone executable is not required",How to bundle a Python application including dependencies?,106733,106725,1,py2exe will make windows executables with python bundled in.
106725,43,"I need to package my python application, its dependencies and python into a single MSI installer. The end result should desirably be: Python is installed in the standard location the package and its dependencies are installed in a separate directory (possibly site-packages) the installation directory should contain the python uncompressed and a standalone executable is not required",How to bundle a Python application including dependencies?,106756,106725,13,"I use PyInstaller (the svn version) to create a stand-alone version of my program that includes Python and all the dependencies. It takes a little fiddling to get it to work right and include everything (as does py2exe and other similar programs, see this question), but then it works very well. You then need to create an installer. NSIS Works great for that and is free, but it creates .exe files not .msi. If .msi is not necessary, I highly recommend it. Otherwise check out the answers to this question for other options."
106725,43,"I need to package my python application, its dependencies and python into a single MSI installer. The end result should desirably be: Python is installed in the standard location the package and its dependencies are installed in a separate directory (possibly site-packages) the installation directory should contain the python uncompressed and a standalone executable is not required",How to bundle a Python application including dependencies?,114717,106725,4,"My company uses the free InnoSetup tool. It is a moderately complex program that has tons of flexibility for building installers for windows. I believe that it creates .exe and not .msi files, however. InnoSetup is not python specific but we have created an installer for one of our products that installs python along with dependencies to locations specified by the user at install time."
106766,22,"A common task in programs I've been working on lately is modifying a text file in some way. (Hey, I'm on Linux. Everything's a file. And I do large-scale system admin.) But the file the code modifies may not exist on my desktop box. And I probably don't want to modify it if it IS on my desktop. I've read about unit testing in Dive Into Python, and it's pretty clear what I want to do when testing an app that converts decimal to Roman Numerals (the example in DintoP). The testing is nicely self-contained. You don't need to verify that the program PRINTS the right thing, you just need to verify that the functions are returning the right output to a given input. In my case, however, we need to test that the program is modifying its environment correctly. Here's what I've come up with: 1) Create the ""original"" file in a standard location, perhaps /tmp. 2) Run the function that modifies the file, passing it the path to the file in /tmp. 3) Verify that the file in /tmp was changed correctly; pass/fail unit test accordingly. This seems kludgy to me. (Gets even kludgier if you want to verify that backup copies of the file are created properly, etc.) Has anyone come up with a better way?",Unit Testing File Modifications,106772,106766,2,"When I touch files in my code, I tend to prefer to mock the actual reading and writing of the file... so then I can give my classes exact contents I want in the test, and then assert that the test is writing back the contents I expect. I've done this in Java, and I imagine it is quite simple in Python... but it may require designing your classes/functions in such a way that it is EASY to mock the use of an actual file. For this, you can try passing in streams and then just pass in a simple string input/output stream which won't write to a file, or have a function that does the actual ""write this string to a file"" or ""read this string from a file"", and then replace that function in your tests."
106766,22,"A common task in programs I've been working on lately is modifying a text file in some way. (Hey, I'm on Linux. Everything's a file. And I do large-scale system admin.) But the file the code modifies may not exist on my desktop box. And I probably don't want to modify it if it IS on my desktop. I've read about unit testing in Dive Into Python, and it's pretty clear what I want to do when testing an app that converts decimal to Roman Numerals (the example in DintoP). The testing is nicely self-contained. You don't need to verify that the program PRINTS the right thing, you just need to verify that the functions are returning the right output to a given input. In my case, however, we need to test that the program is modifying its environment correctly. Here's what I've come up with: 1) Create the ""original"" file in a standard location, perhaps /tmp. 2) Run the function that modifies the file, passing it the path to the file in /tmp. 3) Verify that the file in /tmp was changed correctly; pass/fail unit test accordingly. This seems kludgy to me. (Gets even kludgier if you want to verify that backup copies of the file are created properly, etc.) Has anyone come up with a better way?",Unit Testing File Modifications,106779,106766,1,"I think you are on the right track. Depending on what you need to do chroot may help you set up an environment for your scrpits that 'looks' real, but isn't. If that doesn't work then you could write your scripts to take a 'root' path as an argument. In a production run the root path is just /. For testing you create a shadow environment under /tmp/test and then run your scripts with a root path of /tmp/test."
106766,22,"A common task in programs I've been working on lately is modifying a text file in some way. (Hey, I'm on Linux. Everything's a file. And I do large-scale system admin.) But the file the code modifies may not exist on my desktop box. And I probably don't want to modify it if it IS on my desktop. I've read about unit testing in Dive Into Python, and it's pretty clear what I want to do when testing an app that converts decimal to Roman Numerals (the example in DintoP). The testing is nicely self-contained. You don't need to verify that the program PRINTS the right thing, you just need to verify that the functions are returning the right output to a given input. In my case, however, we need to test that the program is modifying its environment correctly. Here's what I've come up with: 1) Create the ""original"" file in a standard location, perhaps /tmp. 2) Run the function that modifies the file, passing it the path to the file in /tmp. 3) Verify that the file in /tmp was changed correctly; pass/fail unit test accordingly. This seems kludgy to me. (Gets even kludgier if you want to verify that backup copies of the file are created properly, etc.) Has anyone come up with a better way?",Unit Testing File Modifications,106780,106766,6,"You have two levels of testing. Filtering and Modifying content. These are ""low-level"" operations that don't really require physical file I/O. These are the tests, decision-making, alternatives, etc. The ""Logic"" of the application. File system operations. Create, copy, rename, delete, backup. Sorry, but those are proper file system operations that -- well -- require a proper file system for testing. For this kind of testing, we often use a ""Mock"" object. You can design a ""FileSystemOperations"" class that embodies the various file system operations. You test this to be sure it does basic read, write, copy, rename, etc. There's no real logic in this. Just methods that invoke file system operations. You can then create a MockFileSystem which dummies out the various operations. You can use this Mock object to test your other classes. In some cases, all of your file system operations are in the os module. If that's the case, you can create a MockOS module with mock version of the operations you actually use. Put your MockOS module on the PYTHONPATH and you can conceal the real OS module. For production operations you use your well-tested ""Logic"" classes plus your FileSystemOperations class (or the real OS module.)"
106766,22,"A common task in programs I've been working on lately is modifying a text file in some way. (Hey, I'm on Linux. Everything's a file. And I do large-scale system admin.) But the file the code modifies may not exist on my desktop box. And I probably don't want to modify it if it IS on my desktop. I've read about unit testing in Dive Into Python, and it's pretty clear what I want to do when testing an app that converts decimal to Roman Numerals (the example in DintoP). The testing is nicely self-contained. You don't need to verify that the program PRINTS the right thing, you just need to verify that the functions are returning the right output to a given input. In my case, however, we need to test that the program is modifying its environment correctly. Here's what I've come up with: 1) Create the ""original"" file in a standard location, perhaps /tmp. 2) Run the function that modifies the file, passing it the path to the file in /tmp. 3) Verify that the file in /tmp was changed correctly; pass/fail unit test accordingly. This seems kludgy to me. (Gets even kludgier if you want to verify that backup copies of the file are created properly, etc.) Has anyone come up with a better way?",Unit Testing File Modifications,106781,106766,1,"You might want to setup the test so that it runs inside a chroot jail, so you have all the environment the test needs, even if paths and file locations are hardcoded in the code [not really a good practice, but sometimes one gets the file locations from other places...] and then check the results via the exit code."
106766,22,"A common task in programs I've been working on lately is modifying a text file in some way. (Hey, I'm on Linux. Everything's a file. And I do large-scale system admin.) But the file the code modifies may not exist on my desktop box. And I probably don't want to modify it if it IS on my desktop. I've read about unit testing in Dive Into Python, and it's pretty clear what I want to do when testing an app that converts decimal to Roman Numerals (the example in DintoP). The testing is nicely self-contained. You don't need to verify that the program PRINTS the right thing, you just need to verify that the functions are returning the right output to a given input. In my case, however, we need to test that the program is modifying its environment correctly. Here's what I've come up with: 1) Create the ""original"" file in a standard location, perhaps /tmp. 2) Run the function that modifies the file, passing it the path to the file in /tmp. 3) Verify that the file in /tmp was changed correctly; pass/fail unit test accordingly. This seems kludgy to me. (Gets even kludgier if you want to verify that backup copies of the file are created properly, etc.) Has anyone come up with a better way?",Unit Testing File Modifications,111199,106766,14,"You're talking about testing too much at once. If you start trying to attack a testing problem by saying ""Let's verify that it modifies its environment correctly"", you're doomed to failure. Environments have dozens, maybe even millions of potential variations. Instead, look at the pieces (""units"") of your program. For example, are you going to have a function that determines where the files are that have to be written? What are the inputs to that function? Perhaps an environment variable, perhaps some values read from a config file? Test that function, and don't actually do anything that modifies the filesystem. Don't pass it ""realistic"" values, pass it values that are easy to verify against. Make a temporary directory, populate it with files in your test's setUp method. Then test the code that writes the files. Just make sure it's writing the right contents file contents. Don't even write to a real filesystem! You don't need to make ""fake"" file objects for this, just use Python's handy StringIO modules; they're ""real"" implementations of the ""file"" interface, they're just not the ones that your program is actually going to be writing to. Ultimately you will have to test the final, everything-is-actually-hooked-up-for-real top-level function that passes the real environment variable and the real config file and puts everything together. But don't worry about that to get started. For one thing, you will start picking up tricks as you write individual tests for smaller functions and creating test mocks, fakes, and stubs will become second nature to you. For another: even if you can't quite figure out how to test that one function call, you will have a very high level of confidence that everything which it is calling works perfectly. Also, you'll notice that test-driven development forces you to make your APIs clearer and more flexible. For example: it's much easier to test something that calls an open() method on an object that came from somewhere abstract, than to test something that calls os.open on a string that you pass it. The open method is flexible; it can be faked, it can be implemented differently, but a string is a string and os.open doesn't give you any leeway to catch what methods are called on it. You can also build testing tools to make repetitive tasks easy. For example, twisted provides facilities for creating temporary files for testing built right into its testing tool. It's not uncommon for testing tools or larger projects with their own test libraries to have functionality like this."
106766,22,"A common task in programs I've been working on lately is modifying a text file in some way. (Hey, I'm on Linux. Everything's a file. And I do large-scale system admin.) But the file the code modifies may not exist on my desktop box. And I probably don't want to modify it if it IS on my desktop. I've read about unit testing in Dive Into Python, and it's pretty clear what I want to do when testing an app that converts decimal to Roman Numerals (the example in DintoP). The testing is nicely self-contained. You don't need to verify that the program PRINTS the right thing, you just need to verify that the functions are returning the right output to a given input. In my case, however, we need to test that the program is modifying its environment correctly. Here's what I've come up with: 1) Create the ""original"" file in a standard location, perhaps /tmp. 2) Run the function that modifies the file, passing it the path to the file in /tmp. 3) Verify that the file in /tmp was changed correctly; pass/fail unit test accordingly. This seems kludgy to me. (Gets even kludgier if you want to verify that backup copies of the file are created properly, etc.) Has anyone come up with a better way?",Unit Testing File Modifications,1866162,106766,3,"For later readers who just want a way to test that code writing to files is working correctly, here is a ""fake_open"" that patches the open builtin of a module to use StringIO. fake_open returns a dict of opened files which can be examined in a unit test or doctest, all without needing a real file-system. def fake_open(module): """"""Patch module's `open` builtin so that it returns StringIOs instead of creating real files, which is useful for testing. Returns a dict that maps opened file names to StringIO objects."""""" from contextlib import closing from StringIO import StringIO streams = {} def fakeopen(filename,mode): stream = StringIO() stream.close = lambda: None streams[filename] = stream return closing(stream) module.open = fakeopen return streams"
106850,5,"I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game. I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible. Is there a way to delete characters from the console? '\b' I've heard is unreliable. Or is there an easier alternative route to outputting to the console for this sort of app?",How best to draw in the console?,106851,106850,5,It looks like there is a curses port/library for Python: https://docs.python.org/library/curses.html
106850,5,"I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game. I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible. Is there a way to delete characters from the console? '\b' I've heard is unreliable. Or is there an easier alternative route to outputting to the console for this sort of app?",How best to draw in the console?,106853,106850,0,I would investigate using the curses module. It will take care of a lot of the details and let you focus on the higher level stuff.
106850,5,"I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game. I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible. Is there a way to delete characters from the console? '\b' I've heard is unreliable. Or is there an easier alternative route to outputting to the console for this sort of app?",How best to draw in the console?,106860,106850,0,This previous StackOverflow question should give you some more useful information.
106850,5,"I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game. I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible. Is there a way to delete characters from the console? '\b' I've heard is unreliable. Or is there an easier alternative route to outputting to the console for this sort of app?",How best to draw in the console?,107700,106850,1,"You can use curses. It has a Windows Port and Unix Port, and plenty of documentation. You can also use some helper libs."
106850,5,"I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game. I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible. Is there a way to delete characters from the console? '\b' I've heard is unreliable. Or is there an easier alternative route to outputting to the console for this sort of app?",How best to draw in the console?,287791,106850,3,"There are actually two libraries that solve this, the older curses and the newer S-Lang. Curses has a tendency to make buggy line art, especially on Windows and on unicode consoles (it's unicode support is shit). S-Lang's screen management functions are better. While I haven't used either of them in Python, and it seems curses is better supported, in C at least I'm switching my code to S-Lang because of those issues, and because deep down I never really liked the curses API."
106850,5,"I'm trying to write a console (as in terminal, not gaming console) pong game in python and I'm having trouble figuring how best to (re)draw the game. I was thinking of having an 2d array as a sort of bitmap, editing the array to reflect the ball/paddles new positions and then casting each row to a string and printing it. However that means that the old ""frames"" will remain, and if the dimensions of the game are smaller than the console window, old frames will still be visible. Is there a way to delete characters from the console? '\b' I've heard is unreliable. Or is there an easier alternative route to outputting to the console for this sort of app?",How best to draw in the console?,1176195,106850,1,"Try urwid. One of the examples bundled with urwid is a simulator for animated bar graphs. The bar graphs clear the screen well, without leaving artifacts of the old ""frame""."
107405,97,"What I'm trying to do here is get the headers of a given URL so I can determine the MIME type. I want to be able to see if http://somedomain/foo/ will return an HTML document or a JPEG image for example. Thus, I need to figure out how to send a HEAD request so that I can read the MIME type without having to download the content. Does anyone know of an easy way of doing this?",How do you send a HEAD HTTP request in Python 2?,107427,107405,94,"edit: This answer works, but nowadays you should just use the requests library as mentioned by other answers below. Use httplib. &gt;&gt;&gt; import httplib &gt;&gt;&gt; conn = httplib.HTTPConnection(""www.google.com"") &gt;&gt;&gt; conn.request(""HEAD"", ""/index.html"") &gt;&gt;&gt; res = conn.getresponse() &gt;&gt;&gt; print res.status, res.reason 200 OK &gt;&gt;&gt; print res.getheaders() [('content-length', '0'), ('expires', '-1'), ('server', 'gws'), ('cache-control', 'private, max-age=0'), ('date', 'Sat, 20 Sep 2008 06:43:36 GMT'), ('content-type', 'text/html; charset=ISO-8859-1')] There's also a getheader(name) to get a specific header."
107405,97,"What I'm trying to do here is get the headers of a given URL so I can determine the MIME type. I want to be able to see if http://somedomain/foo/ will return an HTML document or a JPEG image for example. Thus, I need to figure out how to send a HEAD request so that I can read the MIME type without having to download the content. Does anyone know of an easy way of doing this?",How do you send a HEAD HTTP request in Python 2?,358075,107405,-4,"Probably easier: use urllib or urllib2. &gt;&gt;&gt; import urllib &gt;&gt;&gt; f = urllib.urlopen('http://google.com') &gt;&gt;&gt; f.info().gettype() 'text/html' f.info() is a dictionary-like object, so you can do f.info()['content-type'], etc. http://docs.python.org/library/urllib.html http://docs.python.org/library/urllib2.html http://docs.python.org/library/httplib.html The docs note that httplib is not normally used directly."
107405,97,"What I'm trying to do here is get the headers of a given URL so I can determine the MIME type. I want to be able to see if http://somedomain/foo/ will return an HTML document or a JPEG image for example. Thus, I need to figure out how to send a HEAD request so that I can read the MIME type without having to download the content. Does anyone know of an easy way of doing this?",How do you send a HEAD HTTP request in Python 2?,779985,107405,1,"As an aside, when using the httplib (at least on 2.5.2), trying to read the response of a HEAD request will block (on readline) and subsequently fail. If you do not issue read on the response, you are unable to send another request on the connection, you will need to open a new one. Or accept a long delay between requests."
107405,97,"What I'm trying to do here is get the headers of a given URL so I can determine the MIME type. I want to be able to see if http://somedomain/foo/ will return an HTML document or a JPEG image for example. Thus, I need to figure out how to send a HEAD request so that I can read the MIME type without having to download the content. Does anyone know of an easy way of doing this?",How do you send a HEAD HTTP request in Python 2?,2070916,107405,99,"urllib2 can be used to perform a HEAD request. This is a little nicer than using httplib since urllib2 parses the URL for you instead of requiring you to split the URL into host name and path. &gt;&gt;&gt; import urllib2 &gt;&gt;&gt; class HeadRequest(urllib2.Request): ... def get_method(self): ... return ""HEAD"" ... &gt;&gt;&gt; response = urllib2.urlopen(HeadRequest(""http://google.com/index.html"")) Headers are available via response.info() as before. Interestingly, you can find the URL that you were redirected to: &gt;&gt;&gt; print response.geturl() http://www.google.com.au/index.html"
107405,97,"What I'm trying to do here is get the headers of a given URL so I can determine the MIME type. I want to be able to see if http://somedomain/foo/ will return an HTML document or a JPEG image for example. Thus, I need to figure out how to send a HEAD request so that I can read the MIME type without having to download the content. Does anyone know of an easy way of doing this?",How do you send a HEAD HTTP request in Python 2?,2630687,107405,1,"I have found that httplib is slightly faster than urllib2. I timed two programs - one using httplib and the other using urllib2 - sending HEAD requests to 10,000 URL's. The httplib one was faster by several minutes. httplib's total stats were: real 6m21.334s user 0m2.124s sys 0m16.372s And urllib2's total stats were: real 9m1.380s user 0m16.666s sys 0m28.565s Does anybody else have input on this?"
107616,3,"So the official XML-RPC standard doesn't support 64-bit values. But in these modern times, 64-bit values are increasingly common. How do you handle these? What XML-RPC extensions are the most common? What language bindings are there? I'm especially interested in Python and C++, but all information is appreciated.",XML-RPC: best way to handle 64-bit values?,107637,107616,0,"I don't know anything about how XMLRPC could be extended but I did find this mail about the subject: In XML-RPC, everything is transmitted as a string, so I don't think that choice is really that bad - except of course for the additional clumsiness for invoking explicit conversion functions. But no, XML-RPC doesn't have a data type that can represent integers above 2**32. If you can accept losing precision, you can use doubles (but you still would have to convert explicitly on the sender)."
107616,3,"So the official XML-RPC standard doesn't support 64-bit values. But in these modern times, 64-bit values are increasingly common. How do you handle these? What XML-RPC extensions are the most common? What language bindings are there? I'm especially interested in Python and C++, but all information is appreciated.",XML-RPC: best way to handle 64-bit values?,108032,107616,7,"Some libraries support 64 bits extensions, indeed, but there doesn't seem to be a standard. xmlrpc-c, for example, has a so called i8 but it doesn't work with python (at least not by default). I would recommend to either: Convert the integer to string by hand and send it as such. XMLRPC will convert it to string anyway, so I would say this is reasonable. Break it in two 32 bits integers and send it as such."
107616,3,"So the official XML-RPC standard doesn't support 64-bit values. But in these modern times, 64-bit values are increasingly common. How do you handle these? What XML-RPC extensions are the most common? What language bindings are there? I'm especially interested in Python and C++, but all information is appreciated.",XML-RPC: best way to handle 64-bit values?,113493,107616,1,"The use of ""i8"" as a data-type is becoming more and more common. I recently added this to my Perl XML-RPC module (http://metacpan.org/pod/RPC::XML) in response to a request from a large group that needed it in order to work with a server written in Java. I don't know what toolkit the server used, but it was already accepting i8 as a type. One thing that I feel still has to be addressed, is whether the ""int"" alias for ""i4"" should also accept i8, the way it currently does i4. Or, for that matter, if a parameter typed as i8 should quietly accept an input typed as i4. XML-RPC has great potential as a lightweight, low-overhead protocol handy when you don't need all the coverage of SOAP, but it is often overlooked in the religious wars between REST and SOAP. XML-RPC is in need of some updating and revision, if we could just get the original author to permit it..."
107675,10,"I'd like to unit test responses from the Google App Engine webapp.WSGIApplication, for example request the url '/' and test that the responses status code is 200, using GAEUnit. How can I do this? I'd like to use the webapp framework and GAEUnit, which runs within the App Engine sandbox (unfortunately WebTest does not work within the sandbox).",How can I unit test responses from the webapp WSGI application in Google App Engine?,107753,107675,1,"Actually WebTest does work within the sandbox, as long as you comment out import webbrowser in webtest/__init__.py"
107675,10,"I'd like to unit test responses from the Google App Engine webapp.WSGIApplication, for example request the url '/' and test that the responses status code is 200, using GAEUnit. How can I do this? I'd like to use the webapp framework and GAEUnit, which runs within the App Engine sandbox (unfortunately WebTest does not work within the sandbox).",How can I unit test responses from the webapp WSGI application in Google App Engine?,114449,107675,10,"I have added a sample application to the GAEUnit project which demonstrates how to write and execute a web test using GAEUnit. The sample includes a slightly modified version of the 'webtest' module ('import webbrowser' is commented out, as recommended by David Coffin). Here's the 'web_tests.py' file from the sample application 'test' directory: import unittest from webtest import TestApp from google.appengine.ext import webapp import index class IndexTest(unittest.TestCase): def setUp(self): self.application = webapp.WSGIApplication([('/', index.IndexHandler)], debug=True) def test_default_page(self): app = TestApp(self.application) response = app.get('/') self.assertEqual('200 OK', response.status) self.assertTrue('Hello, World!' in response) def test_page_with_param(self): app = TestApp(self.application) response = app.get('/?name=Bob') self.assertEqual('200 OK', response.status) self.assertTrue('Hello, Bob!' in response)"
107705,285,"Is output buffering enabled by default in Python's interpreter for sys.stdout? If the answer is positive, what are all the ways to disable it? Suggestions so far: Use the -u command line switch Wrap sys.stdout in an object that flushes after every write Set PYTHONUNBUFFERED env var sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Is there any other way to set some global flag in sys/sys.stdout programmatically during execution?",Disable output buffering,107717,107705,251,"From Magnus Lycka answer on a mailing list: You can skip buffering for a whole python process using ""python -u"" (or#!/usr/bin/env python -u etc) or by setting the environment variable PYTHONUNBUFFERED. You could also replace sys.stdout with some other stream like wrapper which does a flush after every call. class Unbuffered(object): def __init__(self, stream): self.stream = stream def write(self, data): self.stream.write(data) self.stream.flush() def __getattr__(self, attr): return getattr(self.stream, attr) import sys sys.stdout = Unbuffered(sys.stdout) print 'Hello'"
107705,285,"Is output buffering enabled by default in Python's interpreter for sys.stdout? If the answer is positive, what are all the ways to disable it? Suggestions so far: Use the -u command line switch Wrap sys.stdout in an object that flushes after every write Set PYTHONUNBUFFERED env var sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Is there any other way to set some global flag in sys/sys.stdout programmatically during execution?",Disable output buffering,107720,107705,24,"Yes, it is. You can disable it on the commandline with the ""-u"" switch. Alternatively, you could call .flush() on sys.stdout on every write (or wrap it with an object that does this automatically)"
107705,285,"Is output buffering enabled by default in Python's interpreter for sys.stdout? If the answer is positive, what are all the ways to disable it? Suggestions so far: Use the -u command line switch Wrap sys.stdout in an object that flushes after every write Set PYTHONUNBUFFERED env var sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Is there any other way to set some global flag in sys/sys.stdout programmatically during execution?",Disable output buffering,107721,107705,5,"Yes, it is enabled by default. You can disable it by using the -u option on the command line when calling python."
107705,285,"Is output buffering enabled by default in Python's interpreter for sys.stdout? If the answer is positive, what are all the ways to disable it? Suggestions so far: Use the -u command line switch Wrap sys.stdout in an object that flushes after every write Set PYTHONUNBUFFERED env var sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Is there any other way to set some global flag in sys/sys.stdout programmatically during execution?",Disable output buffering,107746,107705,4,"One way to get unbuffered output would be to use sys.stderr instead of sys.stdout or to simply call sys.stdout.flush() to explicitly force a write to occur. You could easily redirect everything printed by doing: import sys; sys.stdout = sys.stderr print ""Hello World!"" Or to redirect just for a particular print statement: print &gt;&gt;sys.stderr, ""Hello World!"" To reset stdout you can just do: sys.stdout = sys.__stdout__"
107705,285,"Is output buffering enabled by default in Python's interpreter for sys.stdout? If the answer is positive, what are all the ways to disable it? Suggestions so far: Use the -u command line switch Wrap sys.stdout in an object that flushes after every write Set PYTHONUNBUFFERED env var sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Is there any other way to set some global flag in sys/sys.stdout programmatically during execution?",Disable output buffering,107854,107705,2,"You can create an unbuffered file and assign this file to sys.stdout. import sys myFile= open( ""a.log"", ""w"", 0 ) sys.stdout= myFile You can't magically change the system-supplied stdout; since it's supplied to your python program by the OS."
107705,285,"Is output buffering enabled by default in Python's interpreter for sys.stdout? If the answer is positive, what are all the ways to disable it? Suggestions so far: Use the -u command line switch Wrap sys.stdout in an object that flushes after every write Set PYTHONUNBUFFERED env var sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Is there any other way to set some global flag in sys/sys.stdout programmatically during execution?",Disable output buffering,181654,107705,58,"# reopen stdout file descriptor with write mode # and 0 as the buffer size (unbuffered) sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Credits: ""Sebastian"", somewhere on the Python mailing list."
107705,285,"Is output buffering enabled by default in Python's interpreter for sys.stdout? If the answer is positive, what are all the ways to disable it? Suggestions so far: Use the -u command line switch Wrap sys.stdout in an object that flushes after every write Set PYTHONUNBUFFERED env var sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Is there any other way to set some global flag in sys/sys.stdout programmatically during execution?",Disable output buffering,1736047,107705,5,"You can also use fcntl to change the file flags in-fly. fl = fcntl.fcntl(fd.fileno(), fcntl.F_GETFL) fl |= os.O_SYNC # or os.O_DSYNC (if you don't care the file timestamp updates) fcntl.fcntl(fd.fileno(), fcntl.F_SETFL, fl)"
107705,285,"Is output buffering enabled by default in Python's interpreter for sys.stdout? If the answer is positive, what are all the ways to disable it? Suggestions so far: Use the -u command line switch Wrap sys.stdout in an object that flushes after every write Set PYTHONUNBUFFERED env var sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) Is there any other way to set some global flag in sys/sys.stdout programmatically during execution?",Disable output buffering,3678114,107705,10,"def disable_stdout_buffering(): # Appending to gc.garbage is a way to stop an object from being # destroyed. If the old sys.stdout is ever collected, it will # close() stdout, which is not good. gc.garbage.append(sys.stdout) sys.stdout = os.fdopen(sys.stdout.fileno(), 'w', 0) # Then this will give output in the correct order: disable_stdout_buffering() print ""hello"" subprocess.call([""echo"", ""bye""]) Without saving the old sys.stdout, disable_stdout_buffering() isn't idempotent, and multiple calls will result in an error like this: Traceback (most recent call last): File ""test/buffering.py"", line 17, in &lt;module&gt; print ""hello"" IOError: [Errno 9] Bad file descriptor close failed: [Errno 9] Bad file descriptor Another possibility is: def disable_stdout_buffering(): fileno = sys.stdout.fileno() temp_fd = os.dup(fileno) sys.stdout.close() os.dup2(temp_fd, fileno) os.close(temp_fd) sys.stdout = os.fdopen(fileno, ""w"", 0) (Appending to gc.garbage is not such a good idea because it's where unfreeable cycles get put, and you might want to check for those.)"
108009,3,"I'm writing a C parser using PLY, and recently ran into a problem. This code: typedef int my_type; my_type x; Is correct C code, because my_type is defined as a type previously to being used as such. I handle it by filling a type symbol table in the parser that gets used by the lexer to differentiate between types and simple identifiers. However, while the type declaration rule ends with SEMI (the ';' token), PLY shifts the token my_type from the second line before deciding it's done with the first one. Because of this, I have no chance to pass the update in the type symbol table to the lexer and it sees my_type as an identifier and not a type. Any ideas for a fix ? The full code is at: http://code.google.com/p/pycparser/source/browse/trunk/src/c_parser.py Not sure how I can create a smaller example out of this. Edit: Problem solved. See my solution below.",PLY: Token shifting problem in C parser,108033,108009,1,"I think you need to move the check for whether an ID is a TYPEID from c_lexer.py to c_parser.py. As you said, since the parser is looking ahead 1 token, you can't make that decision in the lexer. Instead, alter your parser to check ID's to see if they are TYPEID's in declarations, and, if they aren't, generate an error. As Pax Diablo said in his excellent answer, the lexer/tokenizer's job isn't to make those kinds of decisions about tokens. That's the parser's job."
108009,3,"I'm writing a C parser using PLY, and recently ran into a problem. This code: typedef int my_type; my_type x; Is correct C code, because my_type is defined as a type previously to being used as such. I handle it by filling a type symbol table in the parser that gets used by the lexer to differentiate between types and simple identifiers. However, while the type declaration rule ends with SEMI (the ';' token), PLY shifts the token my_type from the second line before deciding it's done with the first one. Because of this, I have no chance to pass the update in the type symbol table to the lexer and it sees my_type as an identifier and not a type. Any ideas for a fix ? The full code is at: http://code.google.com/p/pycparser/source/browse/trunk/src/c_parser.py Not sure how I can create a smaller example out of this. Edit: Problem solved. See my solution below.",PLY: Token shifting problem in C parser,108054,108009,3,"Not sure why you're doing that level of analysis in your lexer. Lexical analysis should probably be used to separate the input stream into lexical tokens (number, line-change, keyword and so on). It's the parsing phase that should be doing that level of analysis, including table lookups for typedefs and such. That's the way I've always separated the duties between lexx and yacc, my tools of choice."
108009,3,"I'm writing a C parser using PLY, and recently ran into a problem. This code: typedef int my_type; my_type x; Is correct C code, because my_type is defined as a type previously to being used as such. I handle it by filling a type symbol table in the parser that gets used by the lexer to differentiate between types and simple identifiers. However, while the type declaration rule ends with SEMI (the ';' token), PLY shifts the token my_type from the second line before deciding it's done with the first one. Because of this, I have no chance to pass the update in the type symbol table to the lexer and it sees my_type as an identifier and not a type. Any ideas for a fix ? The full code is at: http://code.google.com/p/pycparser/source/browse/trunk/src/c_parser.py Not sure how I can create a smaller example out of this. Edit: Problem solved. See my solution below.",PLY: Token shifting problem in C parser,108482,108009,2,"With some help from Dave Beazley (PLY's creator), my problem was solved. The idea is to use special sub-rules and do the actions in them. In my case, I split the declaration rule to: def p_decl_body(self, p): """""" decl_body : declaration_specifiers init_declarator_list_opt """""" # &lt;&lt;Handle the declaration here&gt;&gt; def p_declaration(self, p): """""" declaration : decl_body SEMI """""" p[0] = p[1] decl_body is always reduced before the token after SEMI is shifted in, so my action gets executed at the correct time."
108134,3,"I am using pyexcelerator Python module to generate Excel files. I want to apply bold style to part of cell text, but not to the whole cell. How to do it?",How to apply bold style to a specific word in Excel file using Python?,108204,108134,1,"This is an example from Excel documentation: With Worksheets(""Sheet1"").Range(""B1"") .Value = ""New Title"" .Characters(5, 5).Font.Bold = True End With So the Characters property of the cell you want to manipulate is the answer to your question. It's used as Characters(start, length). PS: I've never used the module in question, but I've used Excel COM automation in python scripts. The Characters property is available using win32com."
108134,3,"I am using pyexcelerator Python module to generate Excel files. I want to apply bold style to part of cell text, but not to the whole cell. How to do it?",How to apply bold style to a specific word in Excel file using Python?,109724,108134,2,"Found example here: Generate an Excel Formatted File Right in Python Notice that you make a font object and then give it to a style object, and then provide that style object when writing to the sheet: import pyExcelerator as xl def save_in_excel(headers,values): #Open new workbook mydoc=xl.Workbook() #Add a worksheet mysheet=mydoc.add_sheet(""test"") #write headers header_font=xl.Font() #make a font object header_font.bold=True header_font.underline=True #font needs to be style actually header_style = xl.XFStyle(); header_style.font = header_font for col,value in enumerate(headers): mysheet.write(0,col,value,header_style) #write values and highlight those that match my criteria highlighted_row_font=xl.Font() #no real highlighting available? highlighted_row_font.bold=True highlighted_row_font.colour_index=2 #2 is red, highlighted_row_style = xl.XFStyle(); highlighted_row_style.font = highlighted_row_font for row_num,row_values in enumerate(values): row_num+=1 #start at row 1 if row_values[1]=='Manatee': for col,value in enumerate(row_values): #make Manatee's (sp) red mysheet.write(row_num,col,value,highlighted_row_style) else: for col,value in enumerate(row_values): #normal row mysheet.write(row_num,col,value) #save file mydoc.save(r'C:testpyexel.xlt') headers=['Date','Name','Localatity'] data=[ ['June 11, 2006','Greg','San Jose'], ['June 11, 2006','Greg','San Jose'], ['June 11, 2006','Greg','San Jose'], ['June 11, 2006','Greg','San Jose'], ['June 11, 2006','Manatee','San Jose'], ['June 11, 2006','Greg','San Jose'], ['June 11, 2006','Manatee','San Jose'], ] save_in_excel(headers,data)"
108193,30,"class Tag(models.Model): name = models.CharField(maxlength=100) class Blog(models.Model): name = models.CharField(maxlength=100) tags = models.ManyToManyField(Tag) Simple models just to ask my question. I wonder how can I query blogs using tags in two different ways. Blog entries that are tagged with ""tag1"" or ""tag2"": Blog.objects.filter(tags_in=[1,2]).distinct() Blog objects that are tagged with ""tag1"" and ""tag2"" : ? Blog objects that are tagged with exactly ""tag1"" and ""tag2"" and nothing else : ?? Tag and Blog is just used for an example.",Union and Intersect in Django,108404,108193,19,"You could use Q objects for #1: # Blogs who have either hockey or django tags. from django.db.models import Q Blog.objects.filter( Q(tags__name__iexact='hockey') | Q(tags__name__iexact='django') ) Unions and intersections, I believe, are a bit outside the scope of the Django ORM, but its possible to to these. The following examples are from a Django application called called django-tagging that provides the functionality. Line 346 of models.py: For part two, you're looking for a union of two queries, basically def get_union_by_model(self, queryset_or_model, tags): """""" Create a ``QuerySet`` containing instances of the specified model associated with *any* of the given list of tags. """""" tags = get_tag_list(tags) tag_count = len(tags) queryset, model = get_queryset_and_model(queryset_or_model) if not tag_count: return model._default_manager.none() model_table = qn(model._meta.db_table) # This query selects the ids of all objects which have any of # the given tags. query = """""" SELECT %(model_pk)s FROM %(model)s, %(tagged_item)s WHERE %(tagged_item)s.content_type_id = %(content_type_id)s AND %(tagged_item)s.tag_id IN (%(tag_id_placeholders)s) AND %(model_pk)s = %(tagged_item)s.object_id GROUP BY %(model_pk)s"""""" % { 'model_pk': '%s.%s' % (model_table, qn(model._meta.pk.column)), 'model': model_table, 'tagged_item': qn(self.model._meta.db_table), 'content_type_id': ContentType.objects.get_for_model(model).pk, 'tag_id_placeholders': ','.join(['%s'] * tag_count), } cursor = connection.cursor() cursor.execute(query, [tag.pk for tag in tags]) object_ids = [row[0] for row in cursor.fetchall()] if len(object_ids) &gt; 0: return queryset.filter(pk__in=object_ids) else: return model._default_manager.none() For part #3 I believe you're looking for an intersection. See line 307 of models.py def get_intersection_by_model(self, queryset_or_model, tags): """""" Create a ``QuerySet`` containing instances of the specified model associated with *all* of the given list of tags. """""" tags = get_tag_list(tags) tag_count = len(tags) queryset, model = get_queryset_and_model(queryset_or_model) if not tag_count: return model._default_manager.none() model_table = qn(model._meta.db_table) # This query selects the ids of all objects which have all the # given tags. query = """""" SELECT %(model_pk)s FROM %(model)s, %(tagged_item)s WHERE %(tagged_item)s.content_type_id = %(content_type_id)s AND %(tagged_item)s.tag_id IN (%(tag_id_placeholders)s) AND %(model_pk)s = %(tagged_item)s.object_id GROUP BY %(model_pk)s HAVING COUNT(%(model_pk)s) = %(tag_count)s"""""" % { 'model_pk': '%s.%s' % (model_table, qn(model._meta.pk.column)), 'model': model_table, 'tagged_item': qn(self.model._meta.db_table), 'content_type_id': ContentType.objects.get_for_model(model).pk, 'tag_id_placeholders': ','.join(['%s'] * tag_count), 'tag_count': tag_count, } cursor = connection.cursor() cursor.execute(query, [tag.pk for tag in tags]) object_ids = [row[0] for row in cursor.fetchall()] if len(object_ids) &gt; 0: return queryset.filter(pk__in=object_ids) else: return model._default_manager.none()"
108193,30,"class Tag(models.Model): name = models.CharField(maxlength=100) class Blog(models.Model): name = models.CharField(maxlength=100) tags = models.ManyToManyField(Tag) Simple models just to ask my question. I wonder how can I query blogs using tags in two different ways. Blog entries that are tagged with ""tag1"" or ""tag2"": Blog.objects.filter(tags_in=[1,2]).distinct() Blog objects that are tagged with ""tag1"" and ""tag2"" : ? Blog objects that are tagged with exactly ""tag1"" and ""tag2"" and nothing else : ?? Tag and Blog is just used for an example.",Union and Intersect in Django,108500,108193,15,"I've tested these out with Django 1.0: The ""or"" queries: Blog.objects.filter(tags__name__in=['tag1', 'tag2']).distinct() or you could use the Q class: Blog.objects.filter(Q(tags__name='tag1') | Q(tags__name='tag2')).distinct() The ""and"" query: Blog.objects.filter(tags__name='tag1').filter(tags__name='tag2') I'm not sure about the third one, you'll probably need to drop to SQL to do it."
108193,30,"class Tag(models.Model): name = models.CharField(maxlength=100) class Blog(models.Model): name = models.CharField(maxlength=100) tags = models.ManyToManyField(Tag) Simple models just to ask my question. I wonder how can I query blogs using tags in two different ways. Blog entries that are tagged with ""tag1"" or ""tag2"": Blog.objects.filter(tags_in=[1,2]).distinct() Blog objects that are tagged with ""tag1"" and ""tag2"" : ? Blog objects that are tagged with exactly ""tag1"" and ""tag2"" and nothing else : ?? Tag and Blog is just used for an example.",Union and Intersect in Django,110437,108193,9,"Please don't reinvent the wheel and use django-tagging application which was made exactly for your use case. It can do all queries you describe, and much more. If you need to add custom fields to your Tag model, you can also take a look at my branch of django-tagging."
108523,6,"I've been using a small class to emulate Enums in some Python projects. Is there a better way or does this make the most sense for some situations? Class code here: class Enum(object): '''Simple Enum Class Example Usage: &gt;&gt;&gt; codes = Enum('FOO BAR BAZ') # codes.BAZ will be 2 and so on ...''' def __init__(self, names): for number, name in enumerate(names.split()): setattr(self, name, number)",How should I best emulate and/or avoid enum's in Python?,108547,108523,5,"Enums have been proposed for inclusion into the language before, but were rejected (see http://www.python.org/dev/peps/pep-0354/), though there are existing packages you could use instead of writing your own implementation: enum: http://pypi.python.org/pypi/enum SymbolType (not quite the same as enums, but still useful): http://pypi.python.org/pypi/SymbolType Or just do a search"
108523,6,"I've been using a small class to emulate Enums in some Python projects. Is there a better way or does this make the most sense for some situations? Class code here: class Enum(object): '''Simple Enum Class Example Usage: &gt;&gt;&gt; codes = Enum('FOO BAR BAZ') # codes.BAZ will be 2 and so on ...''' def __init__(self, names): for number, name in enumerate(names.split()): setattr(self, name, number)",How should I best emulate and/or avoid enum's in Python?,108549,108523,2,"The builtin way to do enums is: (FOO, BAR, BAZ) = range(3) which works fine for small sets, but has some drawbacks: you need to count the number of elements by hand you can't skip values if you add one name, you also need to update the range number For a complete enum implementation in python, see: http://code.activestate.com/recipes/67107/"
108523,6,"I've been using a small class to emulate Enums in some Python projects. Is there a better way or does this make the most sense for some situations? Class code here: class Enum(object): '''Simple Enum Class Example Usage: &gt;&gt;&gt; codes = Enum('FOO BAR BAZ') # codes.BAZ will be 2 and so on ...''' def __init__(self, names): for number, name in enumerate(names.split()): setattr(self, name, number)",How should I best emulate and/or avoid enum's in Python?,108556,108523,3,"What I see more often is this, in top-level module context: FOO_BAR = 'FOO_BAR' FOO_BAZ = 'FOO_BAZ' FOO_QUX = 'FOO_QUX' ...and later... if something is FOO_BAR: pass # do something here elif something is FOO_BAZ: pass # do something else elif something is FOO_QUX: pass # do something else else: raise Exception('Invalid value for something') Note that the use of is rather than == is taking a risk here -- it assumes that folks are using your_module.FOO_BAR rather than the string 'FOO_BAR' (which will normally be interned such that is will match, but that certainly can't be counted on), and so may not be appropriate depending on context. One advantage of doing it this way is that by looking anywhere a reference to that string is being stored, it's immediately obvious where it came from; FOO_BAZ is much less ambiguous than 2. Besides that, the other thing that offends my Pythonic sensibilities re the class you propose is the use of split(). Why not just pass in a tuple, list or other enumerable to start with?"
108523,6,"I've been using a small class to emulate Enums in some Python projects. Is there a better way or does this make the most sense for some situations? Class code here: class Enum(object): '''Simple Enum Class Example Usage: &gt;&gt;&gt; codes = Enum('FOO BAR BAZ') # codes.BAZ will be 2 and so on ...''' def __init__(self, names): for number, name in enumerate(names.split()): setattr(self, name, number)",How should I best emulate and/or avoid enum's in Python?,108557,108523,3,There's a lot of good discussion here.
108523,6,"I've been using a small class to emulate Enums in some Python projects. Is there a better way or does this make the most sense for some situations? Class code here: class Enum(object): '''Simple Enum Class Example Usage: &gt;&gt;&gt; codes = Enum('FOO BAR BAZ') # codes.BAZ will be 2 and so on ...''' def __init__(self, names): for number, name in enumerate(names.split()): setattr(self, name, number)",How should I best emulate and/or avoid enum's in Python?,108816,108523,4,"The most common enum case is enumerated values that are part of a State or Strategy design pattern. The enums are specific states or specific optional strategies to be used. In this case, they're almost always part and parcel of some class definition class DoTheNeedful( object ): ONE_CHOICE = 1 ANOTHER_CHOICE = 2 YET_ANOTHER = 99 def __init__( self, aSelection ): assert aSelection in ( self.ONE_CHOICE, self.ANOTHER_CHOICE, self.YET_ANOTHER ) self.selection= aSelection Then, in a client of this class. dtn = DoTheNeeful( DoTheNeeful.ONE_CHOICE )"
108523,6,"I've been using a small class to emulate Enums in some Python projects. Is there a better way or does this make the most sense for some situations? Class code here: class Enum(object): '''Simple Enum Class Example Usage: &gt;&gt;&gt; codes = Enum('FOO BAR BAZ') # codes.BAZ will be 2 and so on ...''' def __init__(self, names): for number, name in enumerate(names.split()): setattr(self, name, number)",How should I best emulate and/or avoid enum's in Python?,674652,108523,1,"I started with something that looks a lot like S.Lott's answer but I only overloaded 'str' and 'eq' (instead of the whole object class) so I could print and compare the enum's value. class enumSeason(): Spring = 0 Summer = 1 Fall = 2 Winter = 3 def __init__(self, Type): self.value = Type def __str__(self): if self.value == enumSeason.Spring: return 'Spring' if self.value == enumSeason.Summer: return 'Summer' if self.value == enumSeason.Fall: return 'Fall' if self.value == enumSeason.Winter: return 'Winter' def __eq__(self,y): return self.value==y.value Print(x) will yield the name instead of the value and two values holding Spring will be equal to one another. &gt;&gt;&gt; x = enumSeason(enumSeason.Spring) &gt;&gt;&gt; print(x) Spring &gt;&gt;&gt; y = enumSeason(enumSeason.Spring) &gt;&gt;&gt; x == y True"
108586,3,"Data: a dependency list, already verified to be acyclic. So here, 'a' depends on 'b','c' (c depends on d), etc... A = { 'a' : dict(b=1, c=1), 'c' : dict(d=1), 'd' : dict(e=1,f=1,g=1), 'h' : dict(j=1) } I'd like to have a top-down, recursive solution to let's say, find the chain starting at 'a': a, c, d, e, g, f, b So, right now (a non-generator solution): def get_all(D,k): L = [] def get2(D,k): L.append(k) for ii in D.get(k,[]): get2(D, ii) get2(D,k) return L Obviously, this is pretty weak :) I've been banging my head about how to how to get yields inside there, and I'd appreciate any py-foo y'all can bring to this.","Topological sort, recursive, using generators",108606,108586,4,"Try this: #!/usr/bin/env python def get_all(D, k): yield k for ii in D.get(k, []): for jj in get_all(D, ii): yield jj A = { 'a' : dict(b=1, c=1), 'c' : dict(d=1), 'd' : dict(e=1,f=1,g=1), 'h' : dict(j=1) } for ii in get_all(A,'a'): print ii Gives me steve@rei:~/code/tmp $ python recur.py a c d e g f b"
108586,3,"Data: a dependency list, already verified to be acyclic. So here, 'a' depends on 'b','c' (c depends on d), etc... A = { 'a' : dict(b=1, c=1), 'c' : dict(d=1), 'd' : dict(e=1,f=1,g=1), 'h' : dict(j=1) } I'd like to have a top-down, recursive solution to let's say, find the chain starting at 'a': a, c, d, e, g, f, b So, right now (a non-generator solution): def get_all(D,k): L = [] def get2(D,k): L.append(k) for ii in D.get(k,[]): get2(D, ii) get2(D,k) return L Obviously, this is pretty weak :) I've been banging my head about how to how to get yields inside there, and I'd appreciate any py-foo y'all can bring to this.","Topological sort, recursive, using generators",108852,108586,6,"Both answers give the same result, but if my reading of the question is correct give the wrong answer to a simple alteration to the given graph - if you add a dependency on 'c' from 'b' (which doesn't introduce a cycle as the graph is directed) the output is: a c d e g f b d e g f which isn't totally helpful. Try this small variation, which keeps track of which nodes of the graph have already been visited: def get_all(D, k, seen=None): if not seen: seen = set( ) if k not in seen: seen.add(k) yield k for ii in D.get(k, []): for jj in get_all(D, ii, seen): yield jj"
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,108939,108822,9,"Presumably your hack was something like this: # Deleting all messages older than ""earliest_date"" q = db.GqlQuery(""SELECT * FROM Message WHERE create_date &lt; :1"", earliest_date) results = q.fetch(1000) while results: db.delete(results) results = q.fetch(1000, len(results)) As you say, if there's sufficient data, you're going to hit the request timeout before it gets through all the records. You'd have to re-invoke this request multiple times from outside to ensure all the data was erased; easy enough to do, but hardly ideal. The admin console doesn't seem to offer any help, as (from my own experience with it), it seems to only allow entities of a given type to be listed and then deleted on a page-by-page basis. When testing, I've had to purge my database on startup to get rid of existing data. I would infer from this that Google operates on the principle that disk is cheap, and so data is typically orphaned (indexes to redundant data replaced), rather than deleted. Given there's a fixed amount of data available to each app at the moment (0.5 GB), that's not much help for non-Google App Engine users."
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,109018,108822,3,"Unfortunately, there's no way to easily do a bulk delete. Your best bet is to write a script that deletes a reasonable number of entries per invocation, and then call it repeatedly - for example, by having your delete script return a 302 redirect whenever there's more data to delete, then fetching it with ""wget --max-redirect=10000"" (or some other large number)."
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,118828,108822,4,"The official answer from Google is that you have to delete in chunks spread over multiple requests. You can use AJAX, meta refresh, or request your URL from a script until there are no entities left."
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,291819,108822,9,Try using App Engine Console then you dont even have to deploy any special code
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,323041,108822,7,"I've tried db.delete(results) and App Engine Console, and none of them seems to be working for me. Manually removing entries from Data Viewer (increased limit up to 200) didn't work either since I have uploaded more than 10000 entries. I ended writing this script from google.appengine.ext import db from google.appengine.ext import webapp from google.appengine.ext.webapp.util import run_wsgi_app import wsgiref.handlers from mainPage import YourData #replace this with your data class CleanTable(webapp.RequestHandler): def get(self, param): txt = self.request.get('table') q = db.GqlQuery(""SELECT * FROM ""+txt) results = q.fetch(10) self.response.headers['Content-Type'] = 'text/plain' #replace yourapp and YouData your app info below. self.response.out.write("""""" &lt;html&gt; &lt;meta HTTP-EQUIV=""REFRESH"" content=""5; url=http://yourapp.appspot.com/cleanTable?table=YourData""&gt; &lt;body&gt;"""""") try: for I in range(10): db.delete(results) results = q.fetch(10, len(results)) self.response.out.write(""&lt;p&gt;10 removed&lt;/p&gt;"") self.response.out.write("""""" &lt;/body&gt; &lt;/html&gt;"""""") except Exception, ints: self.response.out.write(str(inst)) def main(): application = webapp.WSGIApplication([ ('/cleanTable(.*)', CleanTable), ]) wsgiref.handlers.CGIHandler().run(application) The trick was to include redirect in html instead of using self.redirect. I'm ready to wait overnight to get rid of all the data in my table. Hopefully, GAE team will make it easier to drop tables in the future."
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,1023729,108822,27,"I am currently deleting the entities by their key, and it seems to be faster. from google.appengine.ext import db class bulkdelete(webapp.RequestHandler): def get(self): self.response.headers['Content-Type'] = 'text/plain' try: while True: q = db.GqlQuery(""SELECT __key__ FROM MyModel"") assert q.count() db.delete(q.fetch(200)) time.sleep(0.5) except Exception, e: self.response.out.write(repr(e)+'\n') pass from the terminal, I run curl -N http://..."
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,1400490,108822,4,"One tip. I suggest you get to know the remote_api for these types of uses (bulk deleting, modifying, etc.). But, even with the remote api, batch size can be limited to a few hundred at a time."
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,1882697,108822,10,"If I were a paranoid person, I would say Google App Engine (GAE) has not made it easy for us to remove data if we want to. I am going to skip discussion on index sizes and how they translate a 6 GB of data to 35 GB of storage (being billed for). That's another story, but they do have ways to work around that - limit number of properties to create index on (automatically generated indexes) et cetera. The reason I decided to write this post is that I need to ""nuke"" all my Kinds in a sandbox. I read about it and finally came up with this code: package com.intillium.formshnuker; import java.io.IOException; import java.util.ArrayList; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import com.google.appengine.api.datastore.Key; import com.google.appengine.api.datastore.Query; import com.google.appengine.api.datastore.Entity; import com.google.appengine.api.datastore.FetchOptions; import com.google.appengine.api.datastore.DatastoreService; import com.google.appengine.api.datastore.DatastoreServiceFactory; import com.google.appengine.api.labs.taskqueue.QueueFactory; import com.google.appengine.api.labs.taskqueue.TaskOptions.Method; import static com.google.appengine.api.labs.taskqueue.TaskOptions.Builder.url; @SuppressWarnings(""serial"") public class FormsnukerServlet extends HttpServlet { public void doGet(final HttpServletRequest request, final HttpServletResponse response) throws IOException { response.setContentType(""text/plain""); final String kind = request.getParameter(""kind""); final String passcode = request.getParameter(""passcode""); if (kind == null) { throw new NullPointerException(); } if (passcode == null) { throw new NullPointerException(); } if (!passcode.equals(""LONGSECRETCODE"")) { response.getWriter().println(""BAD PASSCODE!""); return; } System.err.println(""*** deleting entities form "" + kind); final long start = System.currentTimeMillis(); int deleted_count = 0; boolean is_finished = false; final DatastoreService dss = DatastoreServiceFactory.getDatastoreService(); while (System.currentTimeMillis() - start &lt; 16384) { final Query query = new Query(kind); query.setKeysOnly(); final ArrayList&lt;Key&gt; keys = new ArrayList&lt;Key&gt;(); for (final Entity entity: dss.prepare(query).asIterable(FetchOptions.Builder.withLimit(128))) { keys.add(entity.getKey()); } keys.trimToSize(); if (keys.size() == 0) { is_finished = true; break; } while (System.currentTimeMillis() - start &lt; 16384) { try { dss.delete(keys); deleted_count += keys.size(); break; } catch (Throwable ignore) { continue; } } } System.err.println(""*** deleted "" + deleted_count + "" entities form "" + kind); if (is_finished) { System.err.println(""*** deletion job for "" + kind + "" is completed.""); } else { final int taskcount; final String tcs = request.getParameter(""taskcount""); if (tcs == null) { taskcount = 0; } else { taskcount = Integer.parseInt(tcs) + 1; } QueueFactory.getDefaultQueue().add( url(""/formsnuker?kind="" + kind + ""&amp;passcode=LONGSECRETCODE&amp;taskcount="" + taskcount).method(Method.GET)); System.err.println(""*** deletion task # "" + taskcount + "" for "" + kind + "" is queued.""); } response.getWriter().println(""OK""); } } I have over 6 million records. That's a lot. I have no idea what the cost will be to delete the records (maybe more economical not to delete them). Another alternative would be to request a deletion for the entire application (sandbox). But that's not realistic in most cases. I decided to go with smaller groups of records (in easy query). I know I could go for 500 entities, but then I started receiving very high rates of failure (re delete function). My request from GAE team: please add a feature to delete all entities of a kind in a single transaction."
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,2245189,108822,0,"You can use the task queues to delete chunks of say 100 objects. Deleting objects in GAE shows how limited the Admin capabilities are in GAE. You have to work with batches on 1000 entities or less. You can use the bulkloader tool that works with csv's but the documentation does not cover java. I am using GAE Java and my strategy for deletions involves having 2 servlets, one for doing the actually delete and another to load the task queues. When I want to do a delete, I run the queue loading servlet, it loads the queues and then GAE goes to work executing all the tasks in the queue. How to do it: Create a servlet that deletes a small number of objects. Add the servlet to your task queues. Go home or work on something else ;) Check the datastore every so often ... I have a datastore with about 5000 objects that I purge every week and it takes about 6 hours to clean out, so I run the task on Friday night. I use the same technique to bulk load my data which happens to be about 5000 objects, with about a dozen properties."
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,2511446,108822,1,"With django, setup url: url(r'^Model/bdelete/$', v.bulk_delete_models, {'model':'ModelKind'}), Setup view def bulk_delete_models(request, model): import time limit = request.GET['limit'] or 200 start = time.clock() set = db.GqlQuery(""SELECT __key__ FROM %s"" % model).fetch(int(limit)) count = len(set) db.delete(set) return HttpResponse(""Deleted %s %s in %s"" % (count,model,(time.clock() - start))) Then run in powershell: $client = new-object System.Net.WebClient $client.DownloadString(""http://your-app.com/Model/bdelete/?limit=400"")"
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,3376429,108822,0,"This worked for me: class ClearHandler(webapp.RequestHandler): def get(self): self.response.headers['Content-Type'] = 'text/plain' q = db.GqlQuery(""SELECT * FROM SomeModel"") self.response.out.write(""deleting..."") db.delete(q)"
108822,40,"I would like to wipe out all data for a specific kind in Google App Engine. What is the best way to do this? I wrote a delete script (hack), but since there is so much data is timeout's out after a few hundred records.",Delete all data for a kind in Google App Engine,3671769,108822,5,"The fastest and efficient way to handle bulk delete on Datastore is by using the new mapper API announced on the latest Google I/O. If your language of choice is Python, you just have to register your mapper in a mapreduce.yaml file and define a function like this: from mapreduce import operation as op def process(entity): yield op.db.Delete(entity) On Java you should have a look to this article that suggests a function like this: @Override public void map(Key key, Entity value, Context context) { log.info(""Adding key to deletion pool: "" + key); DatastoreMutationPool mutationPool = this.getAppEngineContext(context) .getMutationPool(); mutationPool.delete(value.getKey()); }"
108848,36,"I'm looking at writing a little drum machine in Python for fun. I've googled some and found the python pages on music and basic audio as well as a StackOverflow question on generating audio files, but what I'm looking for is a decent library for music creation. Has anyone on here tried to do something like this before? If so, what was your solution? What, either of the ones I've found, or something I haven't found, would be a decent library for audio manipulation? Minimally, I'd like to be able to do something similar to Audacity's scope within python, but if anyone knows of a library that can do more... I'm all ears.",Python Music Library?,108885,108848,4,"There is a variety of Python music software, you can find a catalog here. If you scroll down the linked page, you find a section on Music Programming in Python describing several music creation packages including MusicKit and PySndObj."
108848,36,"I'm looking at writing a little drum machine in Python for fun. I've googled some and found the python pages on music and basic audio as well as a StackOverflow question on generating audio files, but what I'm looking for is a decent library for music creation. Has anyone on here tried to do something like this before? If so, what was your solution? What, either of the ones I've found, or something I haven't found, would be a decent library for audio manipulation? Minimally, I'd like to be able to do something similar to Audacity's scope within python, but if anyone knows of a library that can do more... I'm all ears.",Python Music Library?,108936,108848,7,"I had to do this years ago. I used pymedia. I am not sure if it is still around any way here is some test code I wrote when I was playing with it. It is about 3 years old though. Edit: The sample code plays an MP3 file import pymedia import time demuxer = pymedia.muxer.Demuxer('mp3') #this thing decodes the multipart file I call it a demucker f = open(r""path to \song.mp3"", 'rb') spot = f.read() frames = demuxer.parse(spot) print 'read it has %i frames' % len(frames) decoder = pymedia.audio.acodec.Decoder(demuxer.streams[0]) #this thing does the actual decoding frame = decoder.decode(spot) print dir(frame) #sys.exit(1) sound = pymedia.audio.sound print frame.bitrate, frame.sample_rate song = sound.Output( frame.sample_rate, frame.channels, 16 ) #this thing handles playing the song while len(spot) &gt; 0: try: if frame: song.play(frame.data) spot = f.read(512) frame = decoder.decode(spot) except: pass while song.isPlaying(): time.sleep(.05) print 'well done'"
108848,36,"I'm looking at writing a little drum machine in Python for fun. I've googled some and found the python pages on music and basic audio as well as a StackOverflow question on generating audio files, but what I'm looking for is a decent library for music creation. Has anyone on here tried to do something like this before? If so, what was your solution? What, either of the ones I've found, or something I haven't found, would be a decent library for audio manipulation? Minimally, I'd like to be able to do something similar to Audacity's scope within python, but if anyone knows of a library that can do more... I'm all ears.",Python Music Library?,109147,108848,13,"Take a close look at cSounds. There are Python bindings allow you to do pretty flexible digital synthesis. There are some pretty complete packages available, too. See http://www.csounds.com/node/188 for a package. See http://www.csounds.com/journal/issue6/pythonOpcodes.html for information on Python scripting within cSounds."
108848,36,"I'm looking at writing a little drum machine in Python for fun. I've googled some and found the python pages on music and basic audio as well as a StackOverflow question on generating audio files, but what I'm looking for is a decent library for music creation. Has anyone on here tried to do something like this before? If so, what was your solution? What, either of the ones I've found, or something I haven't found, would be a decent library for audio manipulation? Minimally, I'd like to be able to do something similar to Audacity's scope within python, but if anyone knows of a library that can do more... I'm all ears.",Python Music Library?,109642,108848,1,"In addition to what has been mentioned previously, I wrote a simple Python audio editor. http://code.google.com/p/yaalp/source/browse/#svn/trunk See main.py. It also has audio manipulation and some effects. Code's GPL, so this could be a starting point for you."
108848,36,"I'm looking at writing a little drum machine in Python for fun. I've googled some and found the python pages on music and basic audio as well as a StackOverflow question on generating audio files, but what I'm looking for is a decent library for music creation. Has anyone on here tried to do something like this before? If so, what was your solution? What, either of the ones I've found, or something I haven't found, would be a decent library for audio manipulation? Minimally, I'd like to be able to do something similar to Audacity's scope within python, but if anyone knows of a library that can do more... I'm all ears.",Python Music Library?,3761953,108848,2,Also check out http://code.google.com/p/pyo/
108892,39,"Basically, growl notifications (or other callbacks) when tests break or pass. Does anything like this exist? If not, it should be pretty easy to write.. Easiest way would be to.. run python-autotest myfile1.py myfile2.py etc.py Check if files-to-be-monitored have been modified (possibly just if they've been saved). Run any tests in those files. If a test fails, but in the previous run it passed, generate a growl alert. Same with tests that fail then pass. Wait, and repeat steps 2-5. The problem I can see there is if the tests are in a different file. The simple solution would be to run all the tests after each save.. but with slower tests, this might take longer than the time between saves, and/or could use a lot of CPU power etc.. The best way to do it would be to actually see what bits of code have changed, if function abc() has changed, only run tests that interact with this.. While this would be great, I think it'd be extremely complex to implement? To summarise: Is there anything like the Ruby tool autotest (part of the ZenTest package), but for Python code? How do you check which functions have changed between two revisions of a script? Is it possible to determine which functions a command will call? (Somewhat like a reverse traceback)",Is there something like 'autotest' for Python unittests?,108911,108892,2,Maybe buildbot would be useful http://buildbot.net/trac
108892,39,"Basically, growl notifications (or other callbacks) when tests break or pass. Does anything like this exist? If not, it should be pretty easy to write.. Easiest way would be to.. run python-autotest myfile1.py myfile2.py etc.py Check if files-to-be-monitored have been modified (possibly just if they've been saved). Run any tests in those files. If a test fails, but in the previous run it passed, generate a growl alert. Same with tests that fail then pass. Wait, and repeat steps 2-5. The problem I can see there is if the tests are in a different file. The simple solution would be to run all the tests after each save.. but with slower tests, this might take longer than the time between saves, and/or could use a lot of CPU power etc.. The best way to do it would be to actually see what bits of code have changed, if function abc() has changed, only run tests that interact with this.. While this would be great, I think it'd be extremely complex to implement? To summarise: Is there anything like the Ruby tool autotest (part of the ZenTest package), but for Python code? How do you check which functions have changed between two revisions of a script? Is it possible to determine which functions a command will call? (Somewhat like a reverse traceback)",Is there something like 'autotest' for Python unittests?,108934,108892,2,"For your third question, maybe the trace module is what you need: &gt;&gt;&gt; def y(a): return a*a &gt;&gt;&gt; def x(a): return y(a) &gt;&gt;&gt; import trace &gt;&gt;&gt; tracer = trace.Trace(countfuncs = 1) &gt;&gt;&gt; tracer.runfunc(x, 2) 4 &gt;&gt;&gt; res = tracer.results() &gt;&gt;&gt; res.calledfuncs {('&lt;stdin&gt;', '&lt;stdin&gt;', 'y'): 1, ('&lt;stdin&gt;', '&lt;stdin&gt;', 'x'): 1} res.calledfuncs contains the functions that were called. If you specify countcallers = 1 when creating the tracer, you can get caller/callee relationships. See the docs of the trace module for more information. You can also try to get the calls via static analysis, but this can be dangerous due to the dynamic nature of Python."
108892,39,"Basically, growl notifications (or other callbacks) when tests break or pass. Does anything like this exist? If not, it should be pretty easy to write.. Easiest way would be to.. run python-autotest myfile1.py myfile2.py etc.py Check if files-to-be-monitored have been modified (possibly just if they've been saved). Run any tests in those files. If a test fails, but in the previous run it passed, generate a growl alert. Same with tests that fail then pass. Wait, and repeat steps 2-5. The problem I can see there is if the tests are in a different file. The simple solution would be to run all the tests after each save.. but with slower tests, this might take longer than the time between saves, and/or could use a lot of CPU power etc.. The best way to do it would be to actually see what bits of code have changed, if function abc() has changed, only run tests that interact with this.. While this would be great, I think it'd be extremely complex to implement? To summarise: Is there anything like the Ruby tool autotest (part of the ZenTest package), but for Python code? How do you check which functions have changed between two revisions of a script? Is it possible to determine which functions a command will call? (Somewhat like a reverse traceback)",Is there something like 'autotest' for Python unittests?,109007,108892,2,Django's development server has a file change monitor that watches for modifications and automatically reloads itself. You could re-use this code to launch unit tests on file modification.
108892,39,"Basically, growl notifications (or other callbacks) when tests break or pass. Does anything like this exist? If not, it should be pretty easy to write.. Easiest way would be to.. run python-autotest myfile1.py myfile2.py etc.py Check if files-to-be-monitored have been modified (possibly just if they've been saved). Run any tests in those files. If a test fails, but in the previous run it passed, generate a growl alert. Same with tests that fail then pass. Wait, and repeat steps 2-5. The problem I can see there is if the tests are in a different file. The simple solution would be to run all the tests after each save.. but with slower tests, this might take longer than the time between saves, and/or could use a lot of CPU power etc.. The best way to do it would be to actually see what bits of code have changed, if function abc() has changed, only run tests that interact with this.. While this would be great, I think it'd be extremely complex to implement? To summarise: Is there anything like the Ruby tool autotest (part of the ZenTest package), but for Python code? How do you check which functions have changed between two revisions of a script? Is it possible to determine which functions a command will call? (Somewhat like a reverse traceback)",Is there something like 'autotest' for Python unittests?,109011,108892,2,Maybe Nose http://somethingaboutorange.com/mrl/projects/nose/ has a plugin http://somethingaboutorange.com/mrl/projects/nose/doc/writing_plugins.html Found this: http://jeffwinkler.net/2006/04/27/keeping-your-nose-green/
108892,39,"Basically, growl notifications (or other callbacks) when tests break or pass. Does anything like this exist? If not, it should be pretty easy to write.. Easiest way would be to.. run python-autotest myfile1.py myfile2.py etc.py Check if files-to-be-monitored have been modified (possibly just if they've been saved). Run any tests in those files. If a test fails, but in the previous run it passed, generate a growl alert. Same with tests that fail then pass. Wait, and repeat steps 2-5. The problem I can see there is if the tests are in a different file. The simple solution would be to run all the tests after each save.. but with slower tests, this might take longer than the time between saves, and/or could use a lot of CPU power etc.. The best way to do it would be to actually see what bits of code have changed, if function abc() has changed, only run tests that interact with this.. While this would be great, I think it'd be extremely complex to implement? To summarise: Is there anything like the Ruby tool autotest (part of the ZenTest package), but for Python code? How do you check which functions have changed between two revisions of a script? Is it possible to determine which functions a command will call? (Somewhat like a reverse traceback)",Is there something like 'autotest' for Python unittests?,482668,108892,16,"autonose created by gfxmonk: Autonose is an autotest-like tool for python, using the excellent nosetest library. autotest tracks filesystem changes and automatically re-run any changed tests or dependencies whenever a file is added, removed or updated. A file counts as changed if it has iself been modified, or if any file it imports has changed. ... Autonose currently has a native GUI for OSX and GTK. If neither of those are available to you, you can instead run the console version (with the --console option)."
108892,39,"Basically, growl notifications (or other callbacks) when tests break or pass. Does anything like this exist? If not, it should be pretty easy to write.. Easiest way would be to.. run python-autotest myfile1.py myfile2.py etc.py Check if files-to-be-monitored have been modified (possibly just if they've been saved). Run any tests in those files. If a test fails, but in the previous run it passed, generate a growl alert. Same with tests that fail then pass. Wait, and repeat steps 2-5. The problem I can see there is if the tests are in a different file. The simple solution would be to run all the tests after each save.. but with slower tests, this might take longer than the time between saves, and/or could use a lot of CPU power etc.. The best way to do it would be to actually see what bits of code have changed, if function abc() has changed, only run tests that interact with this.. While this would be great, I think it'd be extremely complex to implement? To summarise: Is there anything like the Ruby tool autotest (part of the ZenTest package), but for Python code? How do you check which functions have changed between two revisions of a script? Is it possible to determine which functions a command will call? (Somewhat like a reverse traceback)",Is there something like 'autotest' for Python unittests?,1744498,108892,3,"I just found this: http://www.metareal.org/p/modipyd/ I'm currently using thumb.py, but as my current project transitions from a small project to a medium sized one, I've been looking for something that can do a bit more thorough dependency analysis, and with a few tweaks, I got modipyd up and running pretty quickly."
109087,66,"Is there a built-in method in Python to get an array of all a class' instance variables? For example, if I have this code: class hi: def __init__(self): self.ii = ""foo"" self.kk = ""bar"" Is there a way for me to do this: &gt;&gt;&gt; mystery_method(hi) [""ii"", ""kk""] Thanks guys! Edit: I originally had asked for class variables erroneously. Thanks to all who brought this to my attention!",How to get instance variables in Python?,109106,109087,78,Every object has a __dict__ variable containing all the variables and its values in it. Try this &gt;&gt;&gt; hi_obj = hi() &gt;&gt;&gt; hi_obj.__dict__.keys()
109087,66,"Is there a built-in method in Python to get an array of all a class' instance variables? For example, if I have this code: class hi: def __init__(self): self.ii = ""foo"" self.kk = ""bar"" Is there a way for me to do this: &gt;&gt;&gt; mystery_method(hi) [""ii"", ""kk""] Thanks guys! Edit: I originally had asked for class variables erroneously. Thanks to all who brought this to my attention!",How to get instance variables in Python?,109118,109087,13,"You normally can't get instance attributes given just a class, at least not without instantiating the class. You can get instance attributes given an instance, though, or class attributes given a class. See the 'inspect' module. You can't get a list of instance attributes because instances really can have anything as attribute, and -- as in your example -- the normal way to create them is to just assign to them in the __init__ method. An exception is if your class uses slots, which is a fixed list of attributes that the class allows instances to have. Slots are explained in http://www.python.org/2.2.3/descrintro.html, but there are various pitfalls with slots; they affect memory layout, so multiple inheritance may be problematic, and inheritance in general has to take slots into account, too."
109087,66,"Is there a built-in method in Python to get an array of all a class' instance variables? For example, if I have this code: class hi: def __init__(self): self.ii = ""foo"" self.kk = ""bar"" Is there a way for me to do this: &gt;&gt;&gt; mystery_method(hi) [""ii"", ""kk""] Thanks guys! Edit: I originally had asked for class variables erroneously. Thanks to all who brought this to my attention!",How to get instance variables in Python?,109122,109087,8,"You can also test if an object has a specific variable with: &gt;&gt;&gt; hi_obj = hi() &gt;&gt;&gt; hasattr(hi_obj, ""some attribute"")"
109087,66,"Is there a built-in method in Python to get an array of all a class' instance variables? For example, if I have this code: class hi: def __init__(self): self.ii = ""foo"" self.kk = ""bar"" Is there a way for me to do this: &gt;&gt;&gt; mystery_method(hi) [""ii"", ""kk""] Thanks guys! Edit: I originally had asked for class variables erroneously. Thanks to all who brought this to my attention!",How to get instance variables in Python?,109127,109087,4,"Your example shows ""instance variables"", not really class variables. Look in hi_obj.__class__.__dict__.items() for the class variables, along with other other class members like member functions and the containing module. class Hi( object ): class_var = ( 23, 'skidoo' ) # class variable def __init__( self ): self.ii = ""foo"" # instance variable self.jj = ""bar"" Class variables are shared by all instances of the class."
109087,66,"Is there a built-in method in Python to get an array of all a class' instance variables? For example, if I have this code: class hi: def __init__(self): self.ii = ""foo"" self.kk = ""bar"" Is there a way for me to do this: &gt;&gt;&gt; mystery_method(hi) [""ii"", ""kk""] Thanks guys! Edit: I originally had asked for class variables erroneously. Thanks to all who brought this to my attention!",How to get instance variables in Python?,109173,109087,63,"Use vars() class Foo(object): def __init__(self): self.a = 1 self.b = 2 vars(Foo()) #==&gt; {'a': 1, 'b': 2} vars(Foo()).keys() #==&gt; ['a', 'b']"
109087,66,"Is there a built-in method in Python to get an array of all a class' instance variables? For example, if I have this code: class hi: def __init__(self): self.ii = ""foo"" self.kk = ""bar"" Is there a way for me to do this: &gt;&gt;&gt; mystery_method(hi) [""ii"", ""kk""] Thanks guys! Edit: I originally had asked for class variables erroneously. Thanks to all who brought this to my attention!",How to get instance variables in Python?,109207,109087,6,"Suggest &gt;&gt;&gt; print vars.__doc__ vars([object]) -&gt; dictionary Without arguments, equivalent to locals(). With an argument, equivalent to object.__dict__. In otherwords, it essentially just wraps __dict__"
109087,66,"Is there a built-in method in Python to get an array of all a class' instance variables? For example, if I have this code: class hi: def __init__(self): self.ii = ""foo"" self.kk = ""bar"" Is there a way for me to do this: &gt;&gt;&gt; mystery_method(hi) [""ii"", ""kk""] Thanks guys! Edit: I originally had asked for class variables erroneously. Thanks to all who brought this to my attention!",How to get instance variables in Python?,111876,109087,5,"Although not directly an answer to the OP question, there is a pretty sweet way of finding out what variables are in scope in a function. take a look at this code: &gt;&gt;&gt; def f(x, y): z = x**2 + y**2 sqrt_z = z**.5 return sqrt_z &gt;&gt;&gt; f.func_code.co_varnames ('x', 'y', 'z', 'sqrt_z') &gt;&gt;&gt; The func_code attribute has all kinds of interesting things in it. It allows you todo some cool stuff. Here is an example of how I have have used this: def exec_command(self, cmd, msg, sig): def message(msg): a = self.link.process(self.link.recieved_message(msg)) self.exec_command(*a) def error(msg): self.printer.printInfo(msg) def set_usrlist(msg): self.client.connected_users = msg def chatmessage(msg): self.printer.printInfo(msg) if not locals().has_key(cmd): return cmd = locals()[cmd] try: if 'sig' in cmd.func_code.co_varnames and \ 'msg' in cmd.func_code.co_varnames: cmd(msg, sig) elif 'msg' in cmd.func_code.co_varnames: cmd(msg) else: cmd() except Exception, e: print '\n-----------ERROR-----------' print 'error: ', e print 'Error proccessing: ', cmd.__name__ print 'Message: ', msg print 'Sig: ', sig print '-----------ERROR-----------\n'"
109705,9,"The following program is very simple: it outputs a single dot each half a second. If it recieves a SIGQUIT, it proceeds to output ten Qs. If it recieves a SIGTSTP (Ctrl-Z), it outputs ten Zs. If it recieves a SIGTSTP while printing Qs, it will print ten Zs after it's done with the ten Qs. This is a good thing. However, if it recieves a SIGQUIT while printing Zs, it fails to print Qs after them. Instead, it prints them out only after I manually terminate execution via a KeyboardInterrupt. I want the Qs to be printed immediately after the Zs. This happens using Python2.3. I hope I've made a silly, easily-correctable mistake somewhere. What am I doing wrong? Muchas gracias. ^^ #!/usr/bin/python from signal import * from time import sleep from sys import stdout def write(text): stdout.write(text) stdout.flush() def process_quit(signum, frame): for I in range(10): write(""Q"") sleep(0.5) def process_tstp(signum, frame): for I in range(10): write(""Z"") sleep(0.5) signal(SIGQUIT, process_quit) signal(SIGTSTP, process_tstp) while 1: write('.') sleep(0.5)",Python signal woes: SIGQUIT handler delays execution if SIGQUIT recieved during execution of another signal handler?,109783,109705,5,"Your larger problem is blocking in signal handlers. This is usually discouraged since it can lead to strange timing conditions. But it's not quite the cause of your problem since the timing condition you're vulnerable to exists because of your choice of signal handlers. Anyway, here's how to at least minimize the timing condition by only setting flags in your handlers and leaving the main while loop to do the actual work. The explanation for why your code is behaving strangely is described after the code. #!/usr/bin/python from signal import * from time import sleep from sys import stdout print_Qs = 0 print_Zs = 0 def write(text): stdout.write(text) stdout.flush() def process_quit(signum, frame): global print_Qs print_Qs = 10 def process_tstp(signum, frame): global print_Zs print_Zs = 10 signal(SIGQUIT, process_quit) signal(SIGTSTP, process_tstp) while 1: if print_Zs: print_Zs -= 1 c = 'Z' elif print_Qs: print_Qs -= 1 c = 'Q' else: c = '.' write(c) sleep(0.5) Anyway, here's what's going on. SIGTSTP is more special than SIGQUIT. SIGTSTP masks the other signals from being delivered while its signal handler is running. When the kernel goes to deliver SIGQUIT and sees that SIGTSTP's handler is still running, it simply saves it for later. Once another signal comes through for delivery, such as SIGINT when you CTRL+C (aka KeyboardInterrupt), the kernel remembers that it never delivered SIGQUIT and delivers it now. You will notice if you change while 1: to for I in range(60): in the main loop and do your test case again, the program will exit without running the SIGTSTP handler since exit doesn't re-trigger the kernel's signal delivery mechanism. Good luck!"
109705,9,"The following program is very simple: it outputs a single dot each half a second. If it recieves a SIGQUIT, it proceeds to output ten Qs. If it recieves a SIGTSTP (Ctrl-Z), it outputs ten Zs. If it recieves a SIGTSTP while printing Qs, it will print ten Zs after it's done with the ten Qs. This is a good thing. However, if it recieves a SIGQUIT while printing Zs, it fails to print Qs after them. Instead, it prints them out only after I manually terminate execution via a KeyboardInterrupt. I want the Qs to be printed immediately after the Zs. This happens using Python2.3. I hope I've made a silly, easily-correctable mistake somewhere. What am I doing wrong? Muchas gracias. ^^ #!/usr/bin/python from signal import * from time import sleep from sys import stdout def write(text): stdout.write(text) stdout.flush() def process_quit(signum, frame): for I in range(10): write(""Q"") sleep(0.5) def process_tstp(signum, frame): for I in range(10): write(""Z"") sleep(0.5) signal(SIGQUIT, process_quit) signal(SIGTSTP, process_tstp) while 1: write('.') sleep(0.5)",Python signal woes: SIGQUIT handler delays execution if SIGQUIT recieved during execution of another signal handler?,109803,109705,1,"On Python 2.5.2 on Linux 2.6.24, your code works exactly as you describe your desired results (if a signal is received while still processing a previous signal, the new signal is processed immediately after the first one is finished). On Python 2.4.4 on Linux 2.6.16, I see the problem behavior you describe. I don't know whether this is due to a change in Python or in the Linux kernel."
110378,42,How can I change the width of a textarea form element if I used ModelForm to create it? Here is my product class: class ProductForm(ModelForm): long_desc = forms.CharField(widget=forms.Textarea) short_desc = forms.CharField(widget=forms.Textarea) class Meta: model = Product And the template code... {% for f in form %} {{ f.name }}:{{ f }} {% endfor %} f is the actual form element...,Change the width of form elements created with ModelForm in Django,110414,110378,91,"The easiest way for your use case is to use CSS. It's a language meant for defining presentation. Look at the code generated by form, take note of the ids for fields that interest you, and change appearance of these fields through CSS. Example for long_desc field in your ProductForm (when your form does not have a custom prefix): #id_long_desc { width: 300px; height: 200px; } Second approach is to pass the attrs keyword to your widget constructor. class ProductForm(ModelForm): long_desc = forms.CharField(widget=forms.Textarea(attrs={'cols': 10, 'rows': 20})) short_desc = forms.CharField(widget=forms.Textarea) class Meta: model = Product It's described in Django documentation. Third approach is to leave the nice declarative interface of newforms for a while and set your widget attributes in custom constructor. class ProductForm(ModelForm): long_desc = forms.CharField(widget=forms.Textarea) short_desc = forms.CharField(widget=forms.Textarea) class Meta: model = Product # Edit by bryan def __init__(self, *args, **kwargs): super(ProductForm, self).__init__(*args, **kwargs) # Call to ModelForm constructor self.fields['long_desc'].widget.attrs['cols'] = 10 self.fields['long_desc'].widget.attrs['rows'] = 20 This approach has the following advantages: You can define widget attributes for fields that are generated automatically from your model without redefining whole fields. It doesn't depend on the prefix of your form."
110378,42,How can I change the width of a textarea form element if I used ModelForm to create it? Here is my product class: class ProductForm(ModelForm): long_desc = forms.CharField(widget=forms.Textarea) short_desc = forms.CharField(widget=forms.Textarea) class Meta: model = Product And the template code... {% for f in form %} {{ f.name }}:{{ f }} {% endfor %} f is the actual form element...,Change the width of form elements created with ModelForm in Django,640680,110378,14,"Excellent answer by zuber, but I believe there's an error in the example code for the third approach. The constructor should be: def __init__(self, *args, **kwargs): super(ProductForm, self).__init__(*args, **kwargs) # Call to ModelForm constructor self.fields['long_desc'].widget.attrs['cols'] = 10 self.fields['long_desc'].widget.attrs['cols'] = 20 The Field objects have no 'attrs' attributes, but their widgets do."
110498,24,"Looking at the source of urllib2 it looks like the easiest way to do it would be to subclass HTTPRedirectHandler and then use build_opener to override the default HTTPRedirectHandler, but this seems like a lot of (relatively complicated) work to do what seems like it should be pretty simple.",Is there an easy way to request a URL in python and NOT follow redirects?,110547,110498,34,"Dive Into Python has a good chapter on handling redirects with urllib2. Another solution is httplib. &gt;&gt;&gt; import httplib &gt;&gt;&gt; conn = httplib.HTTPConnection(""www.bogosoft.com"") &gt;&gt;&gt; conn.request(""GET"", """") &gt;&gt;&gt; r1 = conn.getresponse() &gt;&gt;&gt; print r1.status, r1.reason 301 Moved Permanently &gt;&gt;&gt; print r1.getheader('Location') http://www.bogosoft.com/new/location"
110498,24,"Looking at the source of urllib2 it looks like the easiest way to do it would be to subclass HTTPRedirectHandler and then use build_opener to override the default HTTPRedirectHandler, but this seems like a lot of (relatively complicated) work to do what seems like it should be pretty simple.",Is there an easy way to request a URL in python and NOT follow redirects?,110808,110498,5,"I second olt's pointer to Dive into Python. Here's an implementation using urllib2 redirect handlers, more work than it should be? Maybe, shrug. import sys import urllib2 class RedirectHandler(urllib2.HTTPRedirectHandler): def http_error_301(self, req, fp, code, msg, headers): result = urllib2.HTTPRedirectHandler.http_error_301( self, req, fp, code, msg, headers) result.status = code raise Exception(""Permanent Redirect: %s"" % 301) def http_error_302(self, req, fp, code, msg, headers): result = urllib2.HTTPRedirectHandler.http_error_302( self, req, fp, code, msg, headers) result.status = code raise Exception(""Temporary Redirect: %s"" % 302) def main(script_name, url): opener = urllib2.build_opener(RedirectHandler) urllib2.install_opener(opener) print urllib2.urlopen(url).read() if __name__ == ""__main__"": main(*sys.argv)"
110498,24,"Looking at the source of urllib2 it looks like the easiest way to do it would be to subclass HTTPRedirectHandler and then use build_opener to override the default HTTPRedirectHandler, but this seems like a lot of (relatively complicated) work to do what seems like it should be pretty simple.",Is there an easy way to request a URL in python and NOT follow redirects?,111066,110498,8,"I suppose this would help from httplib2 import Http def get_html(uri,num_redirections=0): # put it as 0 for not to follow redirects conn = Http() return conn.request(uri,redirections=num_redirections)"
110760,3,"I am writing a web app using TurboGears, and in that app the users must be able to generate different reports. The data the reports need is stored in a database (MySQL). The reports must be returned either as a easily printable html document, or a pdf file. I have previously used jasper and iReport for creating the documents, but if I can avoid having to fire up Java to create the report I would be happy. Ideally I would like to specify reports in a easily readable markup language and then just feed the template data with some kind of library that produces the report. I gladly accept any kind of hints on how I should go about generating these reports!",Report generation,110817,110760,1,"A partial answer: the easily readable format you are looking for might be DocBook. From there it is very easy to go to PDF, html, RTF, etc. etc."
110760,3,"I am writing a web app using TurboGears, and in that app the users must be able to generate different reports. The data the reports need is stored in a database (MySQL). The reports must be returned either as a easily printable html document, or a pdf file. I have previously used jasper and iReport for creating the documents, but if I can avoid having to fire up Java to create the report I would be happy. Ideally I would like to specify reports in a easily readable markup language and then just feed the template data with some kind of library that produces the report. I gladly accept any kind of hints on how I should go about generating these reports!",Report generation,110936,110760,2,You can build some fancy PDFs from Python with the ReportLab toolkit.
110760,3,"I am writing a web app using TurboGears, and in that app the users must be able to generate different reports. The data the reports need is stored in a database (MySQL). The reports must be returned either as a easily printable html document, or a pdf file. I have previously used jasper and iReport for creating the documents, but if I can avoid having to fire up Java to create the report I would be happy. Ideally I would like to specify reports in a easily readable markup language and then just feed the template data with some kind of library that produces the report. I gladly accept any kind of hints on how I should go about generating these reports!",Report generation,111144,110760,3,Pod is my favorite solution to your problem.
110774,8,"Say I have a blogging app in Django. How can I re-order the posts using a draggable table in the default admin? It would be best if I didn't have to add any extra fields to the model, but if I really have to I can.",Re-ordering entries in a model using drag-and-drop,110788,110774,1,"In model class you would probably have to add ""order"" field, to maintain specific order (eg. item with order = 10 is the last one and order = 1 is the first one). Then you can add a JS code in admin change_list template (see this) to maintain drag&amp;drop feature. Finally change ordering in Meta of model to something like ['order']."
110774,8,"Say I have a blogging app in Django. How can I re-order the posts using a draggable table in the default admin? It would be best if I didn't have to add any extra fields to the model, but if I really have to I can.",Re-ordering entries in a model using drag-and-drop,110830,110774,4,"Note on the ""It would be best if I didn't have to add any extra fields to the model, but if I really have to I can."" Sorry, but order of information in a database is determined by the information itself: you always have to add a column for ordering. There's really no choice about that. Further, to retrieve things in this order, you'll need to specifically add .order_by(x) to your queries or add ordering to your model. class InOrder( models.Model ): position = models.IntegerField() data = models.TextField() class Meta: ordering = [ 'position' ] Without the additional field ordering cannot happen. It's one of the rules of relational databases."
110774,8,"Say I have a blogging app in Django. How can I re-order the posts using a draggable table in the default admin? It would be best if I didn't have to add any extra fields to the model, but if I really have to I can.",Re-ordering entries in a model using drag-and-drop,111084,110774,5,"For working code to do this, check out snippet 1053 at djangosnippets.org."
110803,26,"In my app I need to save changed values (old and new) when model gets saved. Any examples or working code? I need this for premoderation of content. For example, if user changes something in model, then administrator can see all changes in separate table and then decide to apply them or not.",Dirty fields in django,110821,110803,1,"If you're using your own transactions (not the default admin application), you can save the before and after versions of your object. You can save the before version in the session, or you can put it in ""hidden"" fields in the form. Hidden fields is a security nightmare. Therefore, use the session to retain history of what's happening with this user. Additionally, of course, you do have to fetch the previous object so you can make changes to it. So you have several ways to monitor the differences. def updateSomething( request, object_id ): object= Model.objects.get( id=object_id ) if request.method == ""GET"": request.session['before']= object form= SomethingForm( instance=object ) else request.method == ""POST"" form= SomethingForm( request.POST ) if form.is_valid(): # You have before in the session # You have the old object # You have after in the form.cleaned_data # Log the changes # Apply the changes to the object object.save()"
110803,26,"In my app I need to save changed values (old and new) when model gets saved. Any examples or working code? I need this for premoderation of content. For example, if user changes something in model, then administrator can see all changes in separate table and then decide to apply them or not.",Dirty fields in django,111091,110803,11,"You haven't said very much about your specific use case or needs. In particular, it would be helpful to know what you need to do with the change information (how long do you need to store it?). If you only need to store it for transient purposes, @S.Lott's session solution may be best. If you want a full audit trail of all changes to your objects stored in the DB, try this AuditTrail solution. UPDATE: The AuditTrail code I linked to above is the closest I've seen to a full solution that would work for your case, though it has some limitations (doesn't work at all for ManyToMany fields). It will store all previous versions of your objects in the DB, so the admin could roll back to any previous version. You'd have to work with it a bit if you want the change to not take effect until approved. You could also build a custom solution based on something like @Armin Ronacher's DiffingMixin. You'd store the diff dictionary (maybe pickled?) in a table for the admin to review later and apply if desired (you'd need to write the code to take the diff dictionary and apply it to an instance)."
110803,26,"In my app I need to save changed values (old and new) when model gets saved. Any examples or working code? I need this for premoderation of content. For example, if user changes something in model, then administrator can see all changes in separate table and then decide to apply them or not.",Dirty fields in django,111364,110803,10,"Django is currently sending all columns to the database, even if you just changed one. To change this, some changes in the database system would be necessary. This could be easily implemented on the existing code by adding a set of dirty fields to the model and adding column names to it, each time you __set__ a column value. If you need that feature, I would suggest you look at the Django ORM, implement it and put a patch into the Django trac. It should be very easy to add that and it would help other users too. When you do that, add a hook that is called each time a column is set. If you don't want to hack on Django itself, you could copy the dict on object creation and diff it. Maybe with a mixin like this: class DiffingMixin(object): def __init__(self, *args, **kwargs): super(DiffingMixin, self).__init__(*args, **kwargs) self._original_state = dict(self.__dict__) def get_changed_columns(self): missing = object() result = {} for key, value in self._original_state.iteritems(): if key != self.__dict__.get(key, missing): result[key] = value return result class MyModel(DiffingMixin, models.Model): pass This code is untested but should work. When you call model.get_changed_columns() you get a dict of all changed values. This of course won't work for mutable objects in columns because the original state is a flat copy of the dict."
110803,26,"In my app I need to save changed values (old and new) when model gets saved. Any examples or working code? I need this for premoderation of content. For example, if user changes something in model, then administrator can see all changes in separate table and then decide to apply them or not.",Dirty fields in django,332225,110803,18,"I've found Armin's idea very useful. Here is my variation; class DirtyFieldsMixin(object): def __init__(self, *args, **kwargs): super(DirtyFieldsMixin, self).__init__(*args, **kwargs) self._original_state = self._as_dict() def _as_dict(self): return dict([(f.name, getattr(self, f.name)) for f in self._meta.local_fields if not f.rel]) def get_dirty_fields(self): new_state = self._as_dict() return dict([(key, value) for key, value in self._original_state.iteritems() if value != new_state[key]]) Edit: I've tested this BTW. Sorry about the long lines. The difference is (aside from the names) it only caches local non-relation fields. In other words it doesn't cache a parent model's fields if present. And there's one more thing; you need to reset _original_state dict after saving. But I didn't want to overwrite save() method since most of the times we discard model instances after saving. def save(self, *args, **kwargs): super(Klass, self).save(*args, **kwargs) self._original_state = self._as_dict()"
110803,26,"In my app I need to save changed values (old and new) when model gets saved. Any examples or working code? I need this for premoderation of content. For example, if user changes something in model, then administrator can see all changes in separate table and then decide to apply them or not.",Dirty fields in django,1030155,110803,-1,"for everyone's information, muhuk's solution fails under python2.6 as it raises an exception stating 'object.__ init __()' accepts no argument... edit: ho! apparently it might've been me misusing the the mixin... I didnt pay attention and declared it as the last parent and because of that the call to init ended up in the object parent rather than the next parent as it noramlly would with diamond diagram inheritance! so please disregard my comment :)"
110803,26,"In my app I need to save changed values (old and new) when model gets saved. Any examples or working code? I need this for premoderation of content. For example, if user changes something in model, then administrator can see all changes in separate table and then decide to apply them or not.",Dirty fields in django,1716046,110803,3,"Continuing on Muhuk's suggestion &amp; adding Django's signals and a unique dispatch_uid you could reset the state on save without overriding save(): from django.db.models.signals import post_save class DirtyFieldsMixin(object): def __init__(self, *args, **kwargs): super(DirtyFieldsMixin, self).__init__(*args, **kwargs) post_save.connect(self._reset_state, sender=self.__class__, dispatch_uid='%s-DirtyFieldsMixin-sweeper' % self.__class__.__name__) self._reset_state() def _reset_state(self, *args, **kwargs): self._original_state = self._as_dict() def _as_dict(self): return dict([(f.name, getattr(self, f.name)) for f in self._meta.local_fields if not f.rel]) def get_dirty_fields(self): new_state = self._as_dict() return dict([(key, value) for key, value in self._original_state.iteritems() if value != new_state[key]]) Which would clean the original state once saved without having to override save(). The code works but not sure what the performance penalty is of connecting signals at __init__"
110923,32,"How do I end a Tkinter program? Let's say I have this code: from Tkinter import * def quit(): # code to exit root = Tk() Button(root, text=""Quit"", command=quit).pack() root.mainloop() How should I define the quit function?",Close a tkinter window?,110929,110923,32,We can use: def quit(): root.quit() or def quit(): root.destroy()
110923,32,"How do I end a Tkinter program? Let's say I have this code: from Tkinter import * def quit(): # code to exit root = Tk() Button(root, text=""Quit"", command=quit).pack() root.mainloop() How should I define the quit function?",Close a tkinter window?,111011,110923,3,The usual method to exit a Python program: sys.exit() (to which you can also pass an exit status) or raise SystemExit will work fine in a Tkinter program.
110923,32,"How do I end a Tkinter program? Let's say I have this code: from Tkinter import * def quit(): # code to exit root = Tk() Button(root, text=""Quit"", command=quit).pack() root.mainloop() How should I define the quit function?",Close a tkinter window?,294199,110923,11,"import Tkinter as tk def quit(root): root.destroy() root = tk.Tk() tk.Button(root, text=""Quit"", command=lambda root=root:quit(root)).pack() root.mainloop()"
111155,43,How do I handle the window close event (user clicking the 'X' button) in a Python Tkinter program?,How do I handle the window close event in Tkinter?,111160,111155,51,"Tkinter supports a mechanism called protocol handlers. Here, the term protocol refers to the interaction between the application and the window manager. The most commonly used protocol is called WM_DELETE_WINDOW, and is used to define what happens when the user explicitly closes a window using the window manager. You can use the protocol method to install a handler for this protocol (the widget must be a Tk or Toplevel widget): Here you have a concrete example: import tkinter as tk from tkinter import messagebox root = tk.Tk() def on_closing(): if messagebox.askokcancel(""Quit"", ""Do you want to quit?""): root.destroy() root.protocol(""WM_DELETE_WINDOW"", on_closing) root.mainloop()"
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",111251,111234,8,"A Callable is an object that has the __call__ method. This means you can fake callable functions or do neat things like Partial Function Application where you take a function and add something that enhances it or fills in some of the parameters, returning something that can be called in turn (known as Currying in functional programming circles). Certain typographic errors will have the interpreter attempting to call something you did not intend, such as (for example) a string. This can produce errors where the interpreter attempts to execute a non-callable application. You can see this happening in a python interpreter by doing something like the transcript below. [nigel@k9 ~]$ python Python 2.5 (r25:51908, Nov 6 2007, 15:55:44) [GCC 4.1.2 20070925 (Red Hat 4.1.2-27)] on linux2 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. &gt;&gt;&gt; 'aaa'() # &lt;== Here we attempt to call a string. Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: 'str' object is not callable &gt;&gt;&gt;"
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",111252,111234,5,"Quite simply, a ""callable"" is something that can be called like a method. The built in function ""callable()"" will tell you whether something appears to be callable, as will checking for a call property. Functions are callable as are classes, class instances can be callable. See more about this here and here."
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",111253,111234,0,"It's something you can put ""(args)"" after and expect it to work. A callable is usually a method or a class. Methods get called, classes get instantiated."
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",111255,111234,181,"A callable is anything that can be called. The built-in callable (PyCallable_Check in objects.c) checks if the argument is either: an instance of a class with a __call__ method or is of a type that has a non null tp_call (c struct) member which indicates callability otherwise (such as in functions, methods etc.) The method named __call__ is (according to the documentation) Called when the instance is ''called'' as a function Example class Foo: def __call__(self): print 'called' foo_instance = Foo() foo_instance() #this is calling the __call__ method"
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",111267,111234,5,"__call__ makes any object be callable as a function. This example will output 8: class Adder(object): def __init__(self, val): self.val = val def __call__(self, val): return self.val + val func = Adder(5) print func(3)"
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",111371,111234,2,"In Python a callable is an object which type has a __call__ method: &gt;&gt;&gt; class Foo: ... pass ... &gt;&gt;&gt; class Bar(object): ... pass ... &gt;&gt;&gt; type(Foo).__call__(Foo) &lt;__main__.Foo instance at 0x711440&gt; &gt;&gt;&gt; type(Bar).__call__(Bar) &lt;__main__.Bar object at 0x712110&gt; &gt;&gt;&gt; def foo(bar): ... return bar ... &gt;&gt;&gt; type(foo).__call__(foo, 42) 42 As simple as that :) This of course can be overloaded: &gt;&gt;&gt; class Foo(object): ... def __call__(self): ... return 42 ... &gt;&gt;&gt; f = Foo() &gt;&gt;&gt; f() 42"
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",115349,111234,59,"From Python's sources object.c: /* Test whether an object can be called */ int PyCallable_Check(PyObject *x) { if (x == NULL) return 0; if (PyInstance_Check(x)) { PyObject *call = PyObject_GetAttrString(x, ""__call__""); if (call == NULL) { PyErr_Clear(); return 0; } /* Could test recursively but don't, for fear of endless recursion if some joker sets self.__call__ = self */ Py_DECREF(call); return 1; } else { return x-&gt;ob_type-&gt;tp_call != NULL; } } It says: If an object is an instance of some class then it is callable iff it has __call__ attribute. Else the object x is callable iff x-&gt;ob_type-&gt;tp_call != NULL Desciption of tp_call field: ternaryfunc tp_call An optional pointer to a function that implements calling the object. This should be NULL if the object is not callable. The signature is the same as for PyObject_Call(). This field is inherited by subtypes. You can always use built-in callable function to determine whether given object is callable or not; or better yet just call it and catch TypeError later. callable is removed in Python 3.0 and 3.1, use callable = lambda o: hasattr(o, '__call__') or isinstance(o, collections.Callable). Example, a simplistic cache implementation: class Cached: def __init__(self, function): self.function = function self.cache = {} def __call__(self, *args): try: return self.cache[args] except KeyError: ret = self.cache[args] = self.function(*args) return ret Usage: @Cached def ack(x, y): return ack(x-1, ack(x, y-1)) if x*y else (x + y + 1) Example from standard library, file site.py, definition of built-in exit() and quit() functions: class Quitter(object): def __init__(self, name): self.name = name def __repr__(self): return 'Use %s() or %s to exit' % (self.name, eof) def __call__(self, code=None): # Shells like IDLE catch the SystemExit, but listen when their # stdin wrapper is closed. try: sys.stdin.close() except: pass raise SystemExit(code) __builtin__.quit = Quitter('quit') __builtin__.exit = Quitter('exit')"
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",139469,111234,19,"A callable is an object allows you to use round parenthesis ( ) and eventually pass some parameters, just like functions. Every time you define a function python creates a callable object. In example, you could define the function func in these ways (it's the same): class a(object): def __call__(self, *args): print 'Hello' func = a() # or ... def func(*args): print 'Hello' You could use this method instead of methods like doit or run, I think it's just more clear to see obj() than obj.doit()"
111234,170,"Now that it's clear what a metaclass is, there is an associated concept that I use all the time without knowing what it really means. I suppose everybody made once a mistake with parenthesis, resulting in an ""object is not callable"" exception. What's more, using __init__ and __new__ lead to wonder what this bloody __call__ can be used for. Could you give me some explanations, including examples with the magic method ?","What is a ""callable"" in Python?",3665797,111234,0,Good examples here.
111934,3,"I want to create some text in a canvas: myText = self.canvas.create_text(5, 5, anchor=NW, text=""TEST"") Now how do I find the width and height of myText?",How do I find out the size of a canvas item in Python/Tkinter?,111974,111934,11,"bounds = self.canvas.bbox(myText) # returns a tuple like (x1, y1, x2, y2) width = bounds[2] - bounds[0] height = bounds[3] - bounds[1] See the TkInter reference."
111945,166,"I need to upload some data to a server using HTTP PUT in python. From my brief reading of the urllib2 docs, it only does HTTP POST. Is there any way to do an HTTP PUT in python?",Is there any way to do HTTP PUT in python,111952,111945,2,Have you taken a look at put.py? I've used it in the past. You can also just hack up your own request with urllib.
111945,166,"I need to upload some data to a server using HTTP PUT in python. From my brief reading of the urllib2 docs, it only does HTTP POST. Is there any way to do an HTTP PUT in python?",Is there any way to do HTTP PUT in python,111968,111945,2,"You can of course roll your own with the existing standard libraries at any level from sockets up to tweaking urllib. http://pycurl.sourceforge.net/ ""PyCurl is a Python interface to libcurl."" ""libcurl is a free and easy-to-use client-side URL transfer library, ... supports ... HTTP PUT"" ""The main drawback with PycURL is that it is a relative thin layer over libcurl without any of those nice Pythonic class hierarchies. This means it has a somewhat steep learning curve unless you are already familiar with libcurl's C API. """
111945,166,"I need to upload some data to a server using HTTP PUT in python. From my brief reading of the urllib2 docs, it only does HTTP POST. Is there any way to do an HTTP PUT in python?",Is there any way to do HTTP PUT in python,111973,111945,8,You should have a look at the httplib module. It should let you make whatever sort of HTTP request you want.
111945,166,"I need to upload some data to a server using HTTP PUT in python. From my brief reading of the urllib2 docs, it only does HTTP POST. Is there any way to do an HTTP PUT in python?",Is there any way to do HTTP PUT in python,111988,111945,197,"import urllib2 opener = urllib2.build_opener(urllib2.HTTPHandler) request = urllib2.Request('http://example.org', data='your_put_data') request.add_header('Content-Type', 'your/contenttype') request.get_method = lambda: 'PUT' url = opener.open(request)"
111945,166,"I need to upload some data to a server using HTTP PUT in python. From my brief reading of the urllib2 docs, it only does HTTP POST. Is there any way to do an HTTP PUT in python?",Is there any way to do HTTP PUT in python,114648,111945,8,I needed to solve this problem too a while back so that I could act as a client for a RESTful API. I settled on httplib2 because it allowed me to send PUT and DELETE in addition to GET and POST. Httplib2 is not part of the standard library but you can easily get it from the cheese shop.
111945,166,"I need to upload some data to a server using HTTP PUT in python. From my brief reading of the urllib2 docs, it only does HTTP POST. Is there any way to do an HTTP PUT in python?",Is there any way to do HTTP PUT in python,116122,111945,6,I also recommend httplib2 by Joe Gregario. I use this regularly instead of httplib in the standard lib.
111945,166,"I need to upload some data to a server using HTTP PUT in python. From my brief reading of the urllib2 docs, it only does HTTP POST. Is there any way to do an HTTP PUT in python?",Is there any way to do HTTP PUT in python,3919484,111945,45,"Httplib seems like a cleaner choice. import httplib connection = httplib.HTTPConnection('1.2.3.4:1234') body_content = 'BODY CONTENT GOES HERE' connection.request('PUT', '/url/path/to/put/to', body_content) result = connection.getresponse() # Now result.status and result.reason contains interesting stuff"
111954,35,"You can use ftplib for full FTP support in Python. However the preferred way of getting a directory listing is: # File: ftplib-example-1.py import ftplib ftp = ftplib.FTP(""www.python.org"") ftp.login(""anonymous"", ""ftplib-example-1"") data = [] ftp.dir(data.append) ftp.quit() for line in data: print ""-"", line Which yields: $ python ftplib-example-1.py - total 34 - drwxrwxr-x 11 root 4127 512 Sep 14 14:18 . - drwxrwxr-x 11 root 4127 512 Sep 14 14:18 .. - drwxrwxr-x 2 root 4127 512 Sep 13 15:18 RCS - lrwxrwxrwx 1 root bin 11 Jun 29 14:34 README -&gt; welcome.msg - drwxr-xr-x 3 root wheel 512 May 19 1998 bin - drwxr-sr-x 3 root 1400 512 Jun 9 1997 dev - drwxrwxr-- 2 root 4127 512 Feb 8 1998 dup - drwxr-xr-x 3 root wheel 512 May 19 1998 etc ... I guess the idea is to parse the results to get the directory listing. However this listing is directly dependent on the FTP server's way of formatting the list. It would be very messy to write code for this having to anticipate all the different ways FTP servers might format this list. Is there a portable way to get an array filled with the directory listing? (The array should only have the folder names.)","Using Python's ftplib to get a directory listing, portably",111966,111954,73,"Try to use ftp.nlst(dir). However, note that if the folder is empty, it might throw an error: files = [] try: files = ftp.nlst() except ftplib.error_perm, resp: if str(resp) == ""550 No files found"": print ""No files in this directory"" else: raise for f in files: print f"
111954,35,"You can use ftplib for full FTP support in Python. However the preferred way of getting a directory listing is: # File: ftplib-example-1.py import ftplib ftp = ftplib.FTP(""www.python.org"") ftp.login(""anonymous"", ""ftplib-example-1"") data = [] ftp.dir(data.append) ftp.quit() for line in data: print ""-"", line Which yields: $ python ftplib-example-1.py - total 34 - drwxrwxr-x 11 root 4127 512 Sep 14 14:18 . - drwxrwxr-x 11 root 4127 512 Sep 14 14:18 .. - drwxrwxr-x 2 root 4127 512 Sep 13 15:18 RCS - lrwxrwxrwx 1 root bin 11 Jun 29 14:34 README -&gt; welcome.msg - drwxr-xr-x 3 root wheel 512 May 19 1998 bin - drwxr-sr-x 3 root 1400 512 Jun 9 1997 dev - drwxrwxr-- 2 root 4127 512 Feb 8 1998 dup - drwxr-xr-x 3 root wheel 512 May 19 1998 etc ... I guess the idea is to parse the results to get the directory listing. However this listing is directly dependent on the FTP server's way of formatting the list. It would be very messy to write code for this having to anticipate all the different ways FTP servers might format this list. Is there a portable way to get an array filled with the directory listing? (The array should only have the folder names.)","Using Python's ftplib to get a directory listing, portably",111978,111954,2,"There's no standard for the layout of the LIST response. You'd have to write code to handle the most popular layouts. I'd start with Linux ls and Windows Server DIR formats. There's a lot of variety out there, though. Fall back to the nlst method (returning the result of the NLST command) if you can't parse the longer list. For bonus points, cheat: perhaps the longest number in the line containing a known file name is its length."
111983,27,If you are creating a 1d array in Python is there any benefit to using the NumPy package?,python.array versus numpy.array,112025,111983,40,"It all depends on what you plan to do with the array. If all you're doing is creating arrays of simple data types and doing I/O, the array module will do just fine. If, on the other hand, you want to do any kind of numerical calculations, the array module doesn't provide any help with that. NumPy (and SciPy) give you a wide variety of operations between arrays and special functions that are useful not only for scientific work but for things like advanced image manipulation or in general anything where you need to perform efficient calculations with large amounts of data. Numpy is also much more flexible, e.g. it supports arrays of any type of Python objects, and is also able to interact ""natively"" with your own objects if they conform to the array interface."
112263,2,"I want to put a Canvas with an image in my window, and then I want to pack widgets on top of it, so the Canvas acts as a background. Is it possible to have two states for the pack manager: one for one set of widgets and another for another set?",How do I overlap widgets with the Tkinter pack geometry manager?,112337,112263,2,"The answer to your specific question is no. You can't have two states or otherwise use pack two different ways in the same parent. However, what I think you want to accomplish is simple. Use the built-in features of the canvas to create an image item that is part of the canvas, then pack things into the canvas as if it were a frame. You can accomplish a similar thing by creating a label widget with an image, then pack your other widgets into the label. One advantage to using a canvas is you can easily tile an image to fill the whole canvas with a repeating background image so as the window grows the image will continue to fill the window (of course you can just use a sufficiently large original image...)"
112263,2,"I want to put a Canvas with an image in my window, and then I want to pack widgets on top of it, so the Canvas acts as a background. Is it possible to have two states for the pack manager: one for one set of widgets and another for another set?",How do I overlap widgets with the Tkinter pack geometry manager?,112397,112263,1,"I believe that Bryan's answer is probably the best general solution. However, you may also want to look at the place geometry manager. The place geometry manager lets you specify the exact size and position of the widget... which can get tedious quickly, but will get the job done."
112263,2,"I want to put a Canvas with an image in my window, and then I want to pack widgets on top of it, so the Canvas acts as a background. Is it possible to have two states for the pack manager: one for one set of widgets and another for another set?",How do I overlap widgets with the Tkinter pack geometry manager?,112432,112263,0,"Not without swapping widget trees in and out, which I don't think can be done cleanly with Tk. Other toolkits can do this a little more elegantly. COM/VB/MFC can do this with an ActiveX control - you can hide/show multiple ActiveX controls in the same region. Any of the containers will let you do this by changing the child around. If you're doing a windows-specific program you may be able to accomplish it this way. QT will also let you do this in a similar manner. GTK is slightly harder."
112263,2,"I want to put a Canvas with an image in my window, and then I want to pack widgets on top of it, so the Canvas acts as a background. Is it possible to have two states for the pack manager: one for one set of widgets and another for another set?",How do I overlap widgets with the Tkinter pack geometry manager?,114941,112263,1,"... turned out to be unworkable because I wanted to add labels and more canvases to it, but I can't find any way to make their backgrounds transparent If it is acceptable to load an additional extension, take a look at Tkzinc. From the web site, Tkzinc (historically called Zinc) widget is very similar to the Tk Canvas in that they both support structured graphics. Like the Canvas, Tkzinc implements items used to display graphical entities. Those items can be manipulated and bindings can be associated with them to implement interaction behaviors. But unlike the Canvas, Tkzinc can structure the items in a hierarchy, has support for scaling and rotation, clipping can be set for sub-trees of the item hierarchy, supports muti-contour curves. It also provides advanced rendering with the help of OpenGL, such as color gradient, antialiasing, transparencies and a triangles item. I'm currently using it on a tcl project and am quite pleased with the results. Extensions for tcl, perl, and python are available."
112483,1,"I'm specifically looking for one that lets me display a map of US states with each one as it's own ""object"" in the sense that I can control the color, on click, and on mouseover of each one individually. GTK is my personal preference, but at this point I'd settle for just about anything. The application itself will be written in Python, FWIW.","Does anyone know of a widget for a desktop toolkit(GTK, Qt, WX) for displaying a map of US states?",112505,112483,2,"You can use QGraphicsView in PyQt. Each state is a new QGraphicsItem, which is either a bitmap or a path object. You just need to provide the outlines (or bitmaps) and the positions of the states. If you have SVGs of the states, you can use them, too. There is no generally accepted canvas class for GTK+."
112483,1,"I'm specifically looking for one that lets me display a map of US states with each one as it's own ""object"" in the sense that I can control the color, on click, and on mouseover of each one individually. GTK is my personal preference, but at this point I'd settle for just about anything. The application itself will be written in Python, FWIW.","Does anyone know of a widget for a desktop toolkit(GTK, Qt, WX) for displaying a map of US states?",112608,112483,-1,"Yes, you can use cairo, but cairo is not a canvas. You have to code behavior like mouseover/onclick yourself."
112483,1,"I'm specifically looking for one that lets me display a map of US states with each one as it's own ""object"" in the sense that I can control the color, on click, and on mouseover of each one individually. GTK is my personal preference, but at this point I'd settle for just about anything. The application itself will be written in Python, FWIW.","Does anyone know of a widget for a desktop toolkit(GTK, Qt, WX) for displaying a map of US states?",122701,112483,0,"Quick tip, if you color each state differently you can identify which one to pick from the color under mouse cursor rather than doing a complex point in polygon routine."
112483,1,"I'm specifically looking for one that lets me display a map of US states with each one as it's own ""object"" in the sense that I can control the color, on click, and on mouseover of each one individually. GTK is my personal preference, but at this point I'd settle for just about anything. The application itself will be written in Python, FWIW.","Does anyone know of a widget for a desktop toolkit(GTK, Qt, WX) for displaying a map of US states?",146015,112483,1,"If you consider Qt, consider also throwing in kdelibs dependency, then you'll have marble widget, which handles maps in neat way. If you stick only to Qt, then QGraphicsView is a framework to go. (note: kdelibs != running whole kde desktop)"
112483,1,"I'm specifically looking for one that lets me display a map of US states with each one as it's own ""object"" in the sense that I can control the color, on click, and on mouseover of each one individually. GTK is my personal preference, but at this point I'd settle for just about anything. The application itself will be written in Python, FWIW.","Does anyone know of a widget for a desktop toolkit(GTK, Qt, WX) for displaying a map of US states?",146047,112483,1,"You can use Quantum GIS. QGIS is a Open Source Geographic Information System using the Qt Framework. QGIS can also be used with Python. You can either extend it with plugins written in Python or use the PyGIS Python bindings to write your own application. They have a Wiki with some good informations for developers. Maybe QGIS is to heavy for your purpose, but I add it here for completition anyway."
112483,1,"I'm specifically looking for one that lets me display a map of US states with each one as it's own ""object"" in the sense that I can control the color, on click, and on mouseover of each one individually. GTK is my personal preference, but at this point I'd settle for just about anything. The application itself will be written in Python, FWIW.","Does anyone know of a widget for a desktop toolkit(GTK, Qt, WX) for displaying a map of US states?",302298,112483,0,"If you consider Qt, consider also throwing in kdelibs dependency, then you'll have marble widget, which handles maps in neat way. Thanks for advertizing Marble. But you are incorrect: The Marble Widget doesn't depend on kdelibs at all. It just depends on Qt (>=4.3). Additionally Marble also has just received Python bindings. I think that the given problem can be solved using Marble. Would just take a few days of work at max. If you have questions about Marble, feel free to ask us on our mailing list or IRC. Best Regards, Torsten Rahn"
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112540,112532,2,"var words = from word in dictionary where word.key.StartsWith(""bla-bla-bla""); select word;"
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112541,112532,1,"Try using regex to search through your list of words, e.g. /^word/ and report all matches."
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112556,112532,2,"def main(script, name): for word in open(""/usr/share/dict/words""): if word.startswith(name): print word, if __name__ == ""__main__"": import sys main(*sys.argv)"
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112557,112532,8,"One of the best ways to do this is to use a directed graph to store your dictionary. It takes a little bit of setting up, but once done it is fairly easy to then do the type of searches you are talking about. The nodes in the graph correspond to a letter in your word, so each node will have one incoming link and up to 26 (in English) outgoing links. You could also use a hybrid approach where you maintain a sorted list containing your dictionary and use the directed graph as an index into your dictionary. Then you just look up your prefix in your directed graph and then go to that point in your dictionary and spit out all words matching your search criteria."
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112559,112532,10,"Use a trie. Add your list of words to a trie. Each path from the root to a leaf is a valid word. A path from a root to an intermediate node represents a prefix, and the children of the intermediate node are valid completions for the prefix."
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112560,112532,2,If you really want to be efficient - use suffix trees or suffix arrays - wikipedia article. Your problem is what suffix trees were designed to handle. There is even implementation for Python - here
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112562,112532,1,"If you need to be really fast, use a tree: build an array and split the words in 26 sets based on the first letter, then split each item in 26 based on the second letter, then again. So if your user types ""abd"" you would look for Array[0][1][3] and get a list of all the words starting like that. At that point your list should be small enough to pass over to the client and use javascript to filter."
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112563,112532,6,"If you on a debian[-like] machine, #!/bin/bash echo -n ""Enter a word: "" read input grep ""^$input"" /usr/share/dict/words Takes all of 0.040s on my P200."
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112587,112532,4,"egrep `read input &amp;&amp; echo ^$input` /usr/share/dict/words oh I didn't see the Python edit, here is the same thing in python my_input = raw_input(""Enter beginning of word: "") my_words = open(""/usr/share/dict/words"").readlines() my_found_words = [x for x in my_words if x[0:len(my_input)] == my_input]"
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112598,112532,4,"If you really want speed, use a trie/automaton. However, something that will be faster than simply scanning the whole list, given that the list of words is sorted: from itertools import takewhile, islice import bisect def prefixes(words, pfx): return list( takewhile(lambda x: x.startswith(pfx), islice(words, bisect.bisect_right(words, pfx), len(words))) Note that an automaton is O(1) with regard to the size of your dictionary, while this algorithm is O(log(m)) and then O(n) with regard to the number of strings that actually start with the prefix, while the full scan is O(m), with n &lt;&lt; m."
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,112843,112532,0,"If your dictionary is really big, i'd suggest indexing with a python text index (PyLucene - note that i've never used the python extension for lucene) The search would be efficient and you could even return a search 'score'. Also, if your dictionary is relatively static you won't even have the overhead of re-indexing very often."
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,114002,112532,0,"Don't use a bazooka to kill a fly. Use something simple just like SQLite. There are all the tools you need for every modern languages and you can just do : ""SELECT word FROM dict WHERE word LIKE ""user_entry%"" It's lightning fast and a baby could do it. What's more it's portable, persistent and so easy to maintain. Python tuto : http://www.initd.org/pub/software/pysqlite/doc/usage-guide.html"
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,306465,112532,0,"A linear scan is slow, but a prefix tree is probably overkill. Keeping the words sorted and using a binary search is a fast and simple compromise. import bisect words = sorted(map(str.strip, open('/usr/share/dict/words'))) def lookup(prefix): return words[bisect.bisect_left(words, prefix):bisect.bisect_right(words, prefix+'~')] &gt;&gt;&gt; lookup('abdicat') ['abdicate', 'abdication', 'abdicative', 'abdicator']"
112532,7,"How would a go about making a program where the user enters a string, and the program generates a list of words beginning with that string? Ex: User: ""abd"" Program:abdicate, abdomen, abduct... Thanks! Edit: I'm using python, but I assume that this is a fairly language-independent problem.",List all words in a dictionary that start with,308443,112532,0,"Most Pythonic solution # set your list of words, whatever the source words_list = ('cat', 'dog', 'banana') # get the word from the user inpuit user_word = raw_input(""Enter a word:\n"") # create an generator, so your output is flexible and store almost nothing in memory word_generator = (word for word in words_list if word.startswith(user_word)) # now you in, you can make anything you want with it # here we just list it : for word in word_generator : print word Remember generators can be only used once, so turn it to a list (using list(word_generator)) or use the itertools.tee function if you expect using it more than once. Best way to do it : Store it into a database and use SQL to look for the word you need. If there is a lot of words in your dictionary, it will be much faster and efficient. Python got thousand of DB API to help you do the job ;-)"
112564,3,"I recently discovered the genshi.builder module. It reminds me of Divmod Nevow's Stan module. How would one use genshi.builder.tag to build an HTML document with a particular doctype? Or is this even a good thing to do? If not, what is the right way?",How do I use genshi.builder to programmatically build an HTML document?,112659,112564,2,"Genshi.builder is for ""programmatically generating markup streams""[1]. I believe the purpose of it is as a backend for the templating language. You're probably looking for the templating language for generating a whole page. You can, however do the following: &gt;&gt;&gt; import genshi.output &gt;&gt;&gt; genshi.output.DocType('html') ('html', '-//W3C//DTD HTML 4.01//EN', 'http://www.w3.org/TR/html4/strict.dtd') See other Doctypes here: http://genshi.edgewall.org/wiki/ApiDocs/genshi.output#genshi.output:DocType [1] genshi.builder.__doc__"
112564,3,"I recently discovered the genshi.builder module. It reminds me of Divmod Nevow's Stan module. How would one use genshi.builder.tag to build an HTML document with a particular doctype? Or is this even a good thing to do? If not, what is the right way?",How do I use genshi.builder to programmatically build an HTML document?,112860,112564,4,"It's not possible to build an entire page using just genshi.builder.tag -- you would need to perform some surgery on the resulting stream to insert the doctype. Besides, the resulting code would look horrific. The recommended way to use Genshi is to use a separate template file, generate a stream from it, and then render that stream to the output type you want. genshi.builder.tag is mostly useful for when you need to generate simple markup from within Python, such as when you're building a form or doing some sort of logic-heavy modification of the output. See documentation for: Creating and using templates The XML-based template language genshi.builder API docs If you really want to generate a full document using only builder.tag, this (completely untested) code could be a good starting point: from itertools import chain from genshi.core import DOCTYPE, Stream from genshi.output import DocType from genshi.builder import tag as t # Build the page using `genshi.builder.tag` page = t.html (t.head (t.title (""Hello world!"")), t.body (t.div (""Body text""))) # Convert the page element into a stream stream = page.generate () # Chain the page stream with a stream containing only an HTML4 doctype declaration stream = Stream (chain ([(DOCTYPE, DocType.get ('html4'), None)], stream)) # Convert the stream to text using the ""html"" renderer (could also be xml, xhtml, text, etc) text = stream.render ('html') The resulting page will have no whitespace in it -- it'll look normal, but you'll have a hard time reading the source code because it will be entirely on one line. Implementing appropriate filters to add whitespace is left as an exercise to the reader."
112698,112,"I thought I heard that py2exe was able to do this, but I never figured it out. Has anyone successfully done this? Can I see your setup.py file, and what command line options you used? Basically I'm thinking of it giving me a single executable file that does something like unzips itself to maybe /temp and runs.",py2exe - generate single executable file,112708,112698,-5,"No, it's doesn't give you a single executable in the sense that you only have one file afterwards - but you have a directory which contains everything you need for running your program, including an exe file. I just wrote this setup.py today. You only need to invoke python setup.py py2exe."
112698,112,"I thought I heard that py2exe was able to do this, but I never figured it out. Has anyone successfully done this? Can I see your setup.py file, and what command line options you used? Basically I'm thinking of it giving me a single executable file that does something like unzips itself to maybe /temp and runs.",py2exe - generate single executable file,112713,112698,72,"PyInstaller will create a single .exe file with no dependencies; use the --onefile option. It does this by packing all the needed shared libs into the executable, and unpacking them before it runs, just as you describe (EDIT: py2exe also has this feature, see minty's answer) I use the version of PyInstaller from svn, since the latest release (1.3) is somewhat outdated. It's been working really well for an app which depends on PyQt, PyQwt, numpy, scipy and a few more."
112698,112,"I thought I heard that py2exe was able to do this, but I never figured it out. Has anyone successfully done this? Can I see your setup.py file, and what command line options you used? Basically I'm thinking of it giving me a single executable file that does something like unzips itself to maybe /temp and runs.",py2exe - generate single executable file,112716,112698,-2,"I recently used py2exe to create an executable for post-review for sending reviews to ReviewBoard. This was the setup.py I used from distutils.core import setup import py2exe setup(console=['post-review']) It created a directory containing the exe file and the libraries needed. I don't think it is possible to use py2exe to get just a single .exe file. If you need that you will need to first use py2exe and then use some form of installer to make the final executable. One thing to take care of is that any egg files you use in your application need to be unzipped, otherwise py2exe can't include them. This is covered in the py2exe docs."
112698,112,"I thought I heard that py2exe was able to do this, but I never figured it out. Has anyone successfully done this? Can I see your setup.py file, and what command line options you used? Basically I'm thinking of it giving me a single executable file that does something like unzips itself to maybe /temp and runs.",py2exe - generate single executable file,113014,112698,150,"The way to do this using py2exe is to use the bundle_files option in your setup.py file. For a single file you will want to set bundle_files to 1, compressed to True, and set the zipfile option to None. That way it creates one compressed file for easy distribution. Here is a more complete description of the bundle_file option quoted directly from the py2exe site* Using ""bundle_files"" and ""zipfile"" An easier (and better) way to create single-file executables is to set bundle_files to 1 or 2, and to set zipfile to None. This approach does not require extracting files to a temporary location, which provides much faster program startup. Valid values for bundle_files are: 3 (default) don't bundle 2 bundle everything but the Python interpreter 1 bundle everything, including the Python interpreter If zipfile is set to None, the files will be bundle within the executable instead of library.zip. Here is a sample setup.py: from distutils.core import setup import py2exe, sys, os sys.argv.append('py2exe') setup( options = {'py2exe': {'bundle_files': 1, 'compressed': True}}, windows = [{'script': ""single.py""}], zipfile = None, )"
112698,112,"I thought I heard that py2exe was able to do this, but I never figured it out. Has anyone successfully done this? Can I see your setup.py file, and what command line options you used? Basically I'm thinking of it giving me a single executable file that does something like unzips itself to maybe /temp and runs.",py2exe - generate single executable file,333483,112698,8,"As the other poster mention, py2exe, will generate an executable + some libraries to load. You can also have some data to add to your program. Next step is to use an installer, to package all this into one easy-to-use installable/unistallable program. I have used InnoSetup ( http://www.jrsoftware.org/isinfo.php ) with delight for several years and for commercial programs, so I heartily recommend it."
112698,112,"I thought I heard that py2exe was able to do this, but I never figured it out. Has anyone successfully done this? Can I see your setup.py file, and what command line options you used? Basically I'm thinking of it giving me a single executable file that does something like unzips itself to maybe /temp and runs.",py2exe - generate single executable file,563909,112698,1,"I'm told bbfreeze will create a single file .EXE, and is newer than py2exe."
112698,112,"I thought I heard that py2exe was able to do this, but I never figured it out. Has anyone successfully done this? Can I see your setup.py file, and what command line options you used? Basically I'm thinking of it giving me a single executable file that does something like unzips itself to maybe /temp and runs.",py2exe - generate single executable file,3702931,112698,4,"You should create an installer, as mentioned before. Even though it is also possible to let py2exe bundle everything into a single executable, by setting bundle_files option to 1 and the zipfile keyword argument to None, I don't recommend this for PyGTK applications. That's because of GTK+ tries to load its data files (locals, themes, etc.) from the directory it was loaded from. So you have to make sure that the directory of your executable contains also the libraries used by GTK+ and the directories lib, share and etc from your installation of GTK+. Otherwise you will get problems running your application on a machine where GTK+ is not installed system-wide. For more details read my guide to py2exe for PyGTK applications. It also explains how to bundle everything, but GTK+."
112768,2,"(ClientCookie is a module for (automatic) cookie-handling: http://wwwsearch.sourceforge.net/ClientCookie) # I encode the data I'll be sending: data = urllib.urlencode({'username': 'mandark', 'password': 'deedee'}) # And I send it and read the page: page = ClientCookie.urlopen('http://www.forum.com/ucp.php?mode=login', data) output = page.read() The script doesn't log in, but rather seems to get redirected back to the same login page asking it for a username and password. What am I doing wrong? Any help would be greatly appreciated! Thanks!","How would one log into a phpBB3 forum through a Python script using urllib, urllib2 and ClientCookie?",112819,112768,2,"Have you tried fetching the login page first? I would suggest using Tamper Data to have a peek at exactly what's being sent when you request the login page and then log in normally using a web browser from a fresh start, with no initial cookies in place, so that your script can replicate it exactly. That's the approach I used when writing the following, extracted from a script which needs to login to an Invision Power Board forum, using cookielib and urllib2 - you may find it useful as a reference. import cookielib import logging import sys import urllib import urllib2 cookies = cookielib.LWPCookieJar() opener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cookies)) urllib2.install_opener(opener) headers = { 'User-Agent': 'Mozilla/5.0 (Windows; U; Windows NT 5.0; en-GB; rv:1.8.1.12) Gecko/20080201 Firefox/2.0.0.12', 'Accept': 'text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5', 'Accept-Language': 'en-gb,en;q=0.5', 'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7', } # Fetch the login page to set initial cookies urllib2.urlopen(urllib2.Request('http://www.rllmukforum.com/index.php?act=Login&amp;CODE=00', None, headers)) # Login so we can access the Off Topic forum login_headers = headers.copy() login_headers.update({ 'Referer': 'http://www.rllmukforum.com/index.php?act=Login&amp;CODE=00', 'Content-Type': 'application/x-www-form-urlencoded', }) html = urllib2.urlopen(urllib2.Request('http://www.rllmukforum.com/index.php?act=Login&amp;CODE=01', urllib.urlencode({ 'referer': 'http://www.rllmukforum.com/index.php?', 'UserName': RLLMUK_USERNAME, 'PassWord': RLLMUK_PASSWORD, }), login_headers)).read() if 'The following errors were found' in html: logging.error('RLLMUK login failed') logging.info(html) sys.exit(1)"
112768,2,"(ClientCookie is a module for (automatic) cookie-handling: http://wwwsearch.sourceforge.net/ClientCookie) # I encode the data I'll be sending: data = urllib.urlencode({'username': 'mandark', 'password': 'deedee'}) # And I send it and read the page: page = ClientCookie.urlopen('http://www.forum.com/ucp.php?mode=login', data) output = page.read() The script doesn't log in, but rather seems to get redirected back to the same login page asking it for a username and password. What am I doing wrong? Any help would be greatly appreciated! Thanks!","How would one log into a phpBB3 forum through a Python script using urllib, urllib2 and ClientCookie?",112895,112768,1,I'd recommend taking a look at the mechanize library; it's designed for precisely this type of task. It's also far easier than doing it by hand.
112970,119,What's the difference between file and open in Python? When should I use which one? (Say I'm in 2.5),Python - When to use file vs open,112980,112970,129,"You should always use open(). As the documentation states: When opening a file, it's preferable to use open() instead of invoking this constructor directly. file is more suited to type testing (for example, writing ""isinstance(f, file)""). Also, file() has been removed since Python 3.0."
112970,119,What's the difference between file and open in Python? When should I use which one? (Say I'm in 2.5),Python - When to use file vs open,112982,112970,4,"Functionally, the two are the same; open will call file anyway, so currently the difference is a matter of style. The Python docs recommend using open. When opening a file, it's preferable to use open() instead of invoking the file constructor directly. The reason is that in future versions they is not guaranteed to be the same (open will become a factory function, which returns objects of different types depending on the path it's opening)."
112970,119,What's the difference between file and open in Python? When should I use which one? (Say I'm in 2.5),Python - When to use file vs open,112989,112970,28,"Two reasons: The python philosophy of ""There ought to be one way to do it"" and file is going away. file is the actual type (using e.g. file('myfile.txt') is calling its constructor). open is a factory function that will return a file object. In python 3.0 file is going to move from being a built-in to being implemented by multiple classes in the io library (somewhat similar to Java with buffered readers, etc.)"
112970,119,What's the difference between file and open in Python? When should I use which one? (Say I'm in 2.5),Python - When to use file vs open,112990,112970,3,"Only ever use open() for opening files. file() is actually being removed in 3.0, and it's deprecated at the moment. They've had a sort of strange relationship, but file() is going now, so there's no need to worry anymore. The following is from the Python 2.6 docs. [bracket stuff] added by me. When opening a file, itâs preferable to use open() instead of invoking this [file()] constructor directly. file is more suited to type testing (for example, writing isinstance(f, file)"
112970,119,What's the difference between file and open in Python? When should I use which one? (Say I'm in 2.5),Python - When to use file vs open,112993,112970,1,"According to Mr Van Rossum, although open() is currently an alias for file() you should use open() because this might change in the future."
112970,119,What's the difference between file and open in Python? When should I use which one? (Say I'm in 2.5),Python - When to use file vs open,113050,112970,16,"file() is a type, like an int or a list. open() is a function for opening files, and will return a file object. This is an example of when you should use open: f = open(filename, 'r') for line in f: process(line) f.close() This is an example of when you should use file: class LoggingFile(file): def write(self, data): sys.stderr.write(""Wrote %d bytes\n"" % len(data)) super(LoggingFile, self).write(data) As you can see, there's a good reason for both to exist, and a clear use-case for both."
113007,9,Is it possible to write to the windows logs in python?,Writing to the windows logs in Python,113011,113007,12,"Yes, just use Windows Python Extension, as stated here. import win32evtlogutil win32evtlogutil.ReportEvent(ApplicationName, EventID, EventCategory, EventType, Inserts, Data, SID)"
113170,3,"It appears the Python signal module doesn't have anything similar to the sighold and sigrelse functions found in C, using signal.h. Are there Python equivalents of any sort? Many thanks!",What are the Python equivalents of the sighold and sigrelse functions found in C?,113201,113170,2,There is no way to ``block'' signals temporarily from critical sections (since this is not supported by all Unix flavors). https://docs.python.org/library/signal.html
113170,3,"It appears the Python signal module doesn't have anything similar to the sighold and sigrelse functions found in C, using signal.h. Are there Python equivalents of any sort? Many thanks!",What are the Python equivalents of the sighold and sigrelse functions found in C?,113219,113170,2,"There are no direct bindings for this in Python. Accessing them through ctypes is easy enough; here is an example. import ctypes, signal libc = ctypes.cdll.LoadLibrary(""libc.so.6"") libc.sighold(signal.SIGKILL) libc.sigrelse(signal.SIGKILL) I'm not familiar with the use of these calls, but be aware that Python's signal handlers work differently than C. When Python code is attached to a signal callback, the signal is caught on the C side of the interpreter and queued. The interpreter is occasionally interrupted for internal housekeeping (and thread switching, etc). It is during that interrupt the Python handler for the signal will be called. All that to say, just be aware that Python's signal handling is a little less asynchronous than normal C signal handlers."
113185,9,"I've installed owfs and am trying to read the data off a iButton temperature logger. owfs lets me mount the iButton as a fuse filesystem and I can see all the data. I'm having trouble figuring out what is the best way to access the data though. I can get individual readings by catting the files, e.g. cat onewire/{deviceid}/log/temperature.1, but the onewire/{deviceid}/log/temperature.ALL file is ""broken"" (possible too large, as histogram/temperature.ALL work fine). A python script to read all files seems to work but takes a very long time. Is there a better way to do it? Does anyone have any examples? I'm using Ubuntu 8.04 and couldn't get the java ""one wire viewer"" app to run. Update: Using owpython (installed with owfs), I can get the current temperature but can't figure out how to get access to the recorded logs: &gt;&gt;&gt; import ow &gt;&gt;&gt; ow.init(""u"") # initialize USB &gt;&gt;&gt; ow.Sensor(""/"").sensorList() [Sensor(""/81.7FD921000000""), Sensor(""/21.C4B912000000"")] &gt;&gt;&gt; x = ow.Sensor(""/21.C4B912000000"") &gt;&gt;&gt; print x.type, x.temperature DS1921 22 x.log gives an AttributeError.",How do I use owfs to read an iButton temperature logger?,117532,113185,2,I don't think there is a clever way. owpython doesn't support that telling from the API documentation. I guess /proc is your safest bet. Maybe have a look at the source of the owpython module and check if you can find out how it works.
113185,9,"I've installed owfs and am trying to read the data off a iButton temperature logger. owfs lets me mount the iButton as a fuse filesystem and I can see all the data. I'm having trouble figuring out what is the best way to access the data though. I can get individual readings by catting the files, e.g. cat onewire/{deviceid}/log/temperature.1, but the onewire/{deviceid}/log/temperature.ALL file is ""broken"" (possible too large, as histogram/temperature.ALL work fine). A python script to read all files seems to work but takes a very long time. Is there a better way to do it? Does anyone have any examples? I'm using Ubuntu 8.04 and couldn't get the java ""one wire viewer"" app to run. Update: Using owpython (installed with owfs), I can get the current temperature but can't figure out how to get access to the recorded logs: &gt;&gt;&gt; import ow &gt;&gt;&gt; ow.init(""u"") # initialize USB &gt;&gt;&gt; ow.Sensor(""/"").sensorList() [Sensor(""/81.7FD921000000""), Sensor(""/21.C4B912000000"")] &gt;&gt;&gt; x = ow.Sensor(""/21.C4B912000000"") &gt;&gt;&gt; print x.type, x.temperature DS1921 22 x.log gives an AttributeError.",How do I use owfs to read an iButton temperature logger?,181511,113185,2,"I've also had problems with owfs. I found it to be an overengineered solution to what is a simple problem. Now I'm using the DigiTemp code without a problem. I found it to be flexible and reliable. For instance, I store the room's temperature in a log file every minute by running /usr/local/bin/digitemp_DS9097U -c /usr/local/etc/digitemp.conf \ -q -t0 -n0 -d60 -l/var/log/temperature To reach that point I downloaded the source file, untarred it and then did the following. # Compile the hardware-specific command make ds9097u # Initialize the configuration file ./digitemp_DS9097U -s/dev/ttyS0 -i # Run command to obtain temperature, and verify your setup ./digitemp_DS9097U -a # Copy the configuration file to an accessible place cp .digitemprc /usr/local/etc/digitemp.conf I also hand-edited my configuration file to adjust it to my setup. This is how it ended-up. TTY /dev/ttyS0 READ_TIME 1000 LOG_TYPE 1 LOG_FORMAT ""%b %d %H:%M:%S Sensor %s C: %.2C F: %.2F"" CNT_FORMAT ""%b %d %H:%M:%S Sensor %s #%n %C"" HUM_FORMAT ""%b %d %H:%M:%S Sensor %s C: %.2C F: %.2F H: %h%%"" SENSORS 1 ROM 0 0x10 0xD3 0x5B 0x07 0x00 0x00 0x00 0x05 In my case I also created a /etc/init.d/digitemp file and enabled it to run at startup. #! /bin/sh # # System startup script for the temperature monitoring daemon # ### BEGIN INIT INFO # Provides: digitemp # Required-Start: # Should-Start: # Required-Stop: # Should-Stop: # Default-Start: 2 3 5 # Default-Stop: 0 1 6 # Description: Start the temperature monitoring daemon ### END INIT INFO DIGITEMP=/usr/local/bin/digitemp_DS9097U test -x $DIGITEMP || exit 5 DIGITEMP_CONFIG=/root/digitemp.conf test -f $DIGITEMP_CONFIG || exit 6 DIGITEMP_LOGFILE=/var/log/temperature # Source SuSE config . /etc/rc.status rc_reset case ""$1"" in start) echo -n ""Starting temperature monitoring daemon"" startproc $DIGITEMP -c $DIGITEMP_CONFIG -q -t0 -n0 -d60 -l$DIGITEMP_LOGFILE rc_status -v ;; stop) echo -n ""Shutting down temperature monitoring daemon"" killproc -TERM $DIGITEMP rc_status -v ;; try-restart) $0 status &gt;/dev/null &amp;&amp; $0 restart rc_status ;; restart) $0 stop $0 start rc_status ;; force-reload) $0 try-restart rc_status ;; reload) $0 try-restart rc_status ;; status) echo -n ""Checking for temperature monitoring service"" checkproc $DIGITEMP rc_status -v ;; *) echo ""Usage: $0 {start|stop|status|try-restart|restart|force-reload|reload}"" exit 1 ;; esac rc_exit"
113185,9,"I've installed owfs and am trying to read the data off a iButton temperature logger. owfs lets me mount the iButton as a fuse filesystem and I can see all the data. I'm having trouble figuring out what is the best way to access the data though. I can get individual readings by catting the files, e.g. cat onewire/{deviceid}/log/temperature.1, but the onewire/{deviceid}/log/temperature.ALL file is ""broken"" (possible too large, as histogram/temperature.ALL work fine). A python script to read all files seems to work but takes a very long time. Is there a better way to do it? Does anyone have any examples? I'm using Ubuntu 8.04 and couldn't get the java ""one wire viewer"" app to run. Update: Using owpython (installed with owfs), I can get the current temperature but can't figure out how to get access to the recorded logs: &gt;&gt;&gt; import ow &gt;&gt;&gt; ow.init(""u"") # initialize USB &gt;&gt;&gt; ow.Sensor(""/"").sensorList() [Sensor(""/81.7FD921000000""), Sensor(""/21.C4B912000000"")] &gt;&gt;&gt; x = ow.Sensor(""/21.C4B912000000"") &gt;&gt;&gt; print x.type, x.temperature DS1921 22 x.log gives an AttributeError.",How do I use owfs to read an iButton temperature logger?,3383201,113185,2,Well I have just started to look at ibuttons and want to use python. This looks more promising: http://www.ohloh.net/p/pyonewire
113341,2,"I'm trying to create a character generation wizard for a game. In one class I calculate the attributes of the character. In a different class, I'm displaying to the user which specialties are available based on the attributes of the character. However, I can't remember how to pass variables between different classes. Here is an example of what I have: class BasicInfoPage(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) &lt;---snip---&gt; self.intelligence = self.genAttribs() class MOS(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) def eligibleMOS(self, event): if self.intelligence &gt;= 12: self.MOS_list.append(""Analyst"") The problem is that I can't figure out how to use the ""intelligence"" variable from the BasicInfoPage class to the MOS class. I've tried several different things from around the Internet but nothing seems to work. What am I missing? Edit I realized after I posted this that I didn't explain it that well. I'm trying to create a computer version of the Twilight 2000 RPG from the 1980s. I'm using wxPython to create a wizard; the parent class of my classes is the Wizard from wxPython. That wizard will walk a user through the creation of a character, so the Basic Information page (class BasicInfoPage) lets the user give the character's name and ""roll"" for the character's attributes. That's where the ""self.intelligence"" comes from. I'm trying to use the attributes created her for a page further on in the wizard, where the user selects the speciality of the character. The specialities that are available depend on the attributes the character has, e.g. if the intelligence is high enough, the character can be an Intel Anaylst. It's been several years since I've programmed, especially with OOP ideas. That's why I'm confused on how to create what's essentially a global variable with classes and methods.",Python-passing variable between classes,113374,113341,0,"If I understood you correctly, then the answer is: You can't. intelligence should be an attribute of WizardPageSimple, if you'd want both classes to inherit it. Depending on your situation, you might try to extract intelligence and related attributes into another baseclass. Then you could inherit from both: class MOS(wiz.WizardPageSimple, wiz.IntelligenceAttributes): # Or something like that. In that case you must use the co-operative super. In fact, you should be using it already. Instead of calling wiz.WizardPageSimple.__init__(self, parent) call super(MOS, self).__init__(self, parent)"
113341,2,"I'm trying to create a character generation wizard for a game. In one class I calculate the attributes of the character. In a different class, I'm displaying to the user which specialties are available based on the attributes of the character. However, I can't remember how to pass variables between different classes. Here is an example of what I have: class BasicInfoPage(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) &lt;---snip---&gt; self.intelligence = self.genAttribs() class MOS(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) def eligibleMOS(self, event): if self.intelligence &gt;= 12: self.MOS_list.append(""Analyst"") The problem is that I can't figure out how to use the ""intelligence"" variable from the BasicInfoPage class to the MOS class. I've tried several different things from around the Internet but nothing seems to work. What am I missing? Edit I realized after I posted this that I didn't explain it that well. I'm trying to create a computer version of the Twilight 2000 RPG from the 1980s. I'm using wxPython to create a wizard; the parent class of my classes is the Wizard from wxPython. That wizard will walk a user through the creation of a character, so the Basic Information page (class BasicInfoPage) lets the user give the character's name and ""roll"" for the character's attributes. That's where the ""self.intelligence"" comes from. I'm trying to use the attributes created her for a page further on in the wizard, where the user selects the speciality of the character. The specialities that are available depend on the attributes the character has, e.g. if the intelligence is high enough, the character can be an Intel Anaylst. It's been several years since I've programmed, especially with OOP ideas. That's why I'm confused on how to create what's essentially a global variable with classes and methods.",Python-passing variable between classes,113388,113341,1,"All you need is a reference. It's not really a simple problem that I can give some one-line solution to (other than a simple ugly global that would probably break something else), but one of program structure. You don't magically get access to a variable that was created on another instance of another class. You have to either give the intelligence reference to MOS, or take it from BasicInfoPage, however that might happen. It seems to me that the classes are designed rather oddly-- an information page, for one thing, should not generate anything, and if it does, it should give it back to whatever needs to know-- some sort of central place, which should have been the one generating it in the first place. Ordinarily, you'd set the variables there, and get them from there. Or at least, I would. If you want the basic answer of ""how do I pass variables between different classes"", then here you go, but I doubt it's exactly what you want, as you look to be using some sort of controlling framework: class Foo(object): def __init__(self, var): self.var = var class Bar(object): def do_something(self, var): print var*3 if __name__ == '__main__': f = Foo(3) b = Bar() # look, I'm using the variable from one instance in another! b.do_something(f.var)"
113341,2,"I'm trying to create a character generation wizard for a game. In one class I calculate the attributes of the character. In a different class, I'm displaying to the user which specialties are available based on the attributes of the character. However, I can't remember how to pass variables between different classes. Here is an example of what I have: class BasicInfoPage(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) &lt;---snip---&gt; self.intelligence = self.genAttribs() class MOS(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) def eligibleMOS(self, event): if self.intelligence &gt;= 12: self.MOS_list.append(""Analyst"") The problem is that I can't figure out how to use the ""intelligence"" variable from the BasicInfoPage class to the MOS class. I've tried several different things from around the Internet but nothing seems to work. What am I missing? Edit I realized after I posted this that I didn't explain it that well. I'm trying to create a computer version of the Twilight 2000 RPG from the 1980s. I'm using wxPython to create a wizard; the parent class of my classes is the Wizard from wxPython. That wizard will walk a user through the creation of a character, so the Basic Information page (class BasicInfoPage) lets the user give the character's name and ""roll"" for the character's attributes. That's where the ""self.intelligence"" comes from. I'm trying to use the attributes created her for a page further on in the wizard, where the user selects the speciality of the character. The specialities that are available depend on the attributes the character has, e.g. if the intelligence is high enough, the character can be an Intel Anaylst. It's been several years since I've programmed, especially with OOP ideas. That's why I'm confused on how to create what's essentially a global variable with classes and methods.",Python-passing variable between classes,114114,113341,6,"You may have ""Class"" and ""Instance"" confused. It's not clear from your example, so I'll presume that you're using a lot of class definitions and don't have appropriate object instances of those classes. Classes don't really have usable attribute values. A class is just a common set of definitions for a collection of objects. You should think of of classes as definitions, not actual things. Instances of classes, ""objects"", are actual things that have actual attribute values and execute method functions. You don't pass variables among classes. You pass variables among instances. As a practical matter only instance variables matter. [Yes, there are class variables, but they're a fairly specialized and often confusing thing, best avoided.] When you create an object (an instance of a class) b= BasicInfoPage(...) Then b.intelligence is the value of intelligence for the b instance of BasicInfoPage. A really common thing is class MOS( wx.wizard.PageSimple ): def __init__( self, parent, title, basicInfoPage ): &lt;snip&gt; self.basicInfo= basicInfoPage Now, within MOS methods, you can say self.basicInfo.intelligence because MOS has an object that's a BasicInfoPage available to it. When you build MOS, you provide it with the instance of BasicInfoPage that it's supposed to use. someBasicInfoPage= BasicInfoPage( ... ) m= MOS( ..., someBasicInfoPage ) Now, the object m can examine someBasicInfoPage.intelligence"
113341,2,"I'm trying to create a character generation wizard for a game. In one class I calculate the attributes of the character. In a different class, I'm displaying to the user which specialties are available based on the attributes of the character. However, I can't remember how to pass variables between different classes. Here is an example of what I have: class BasicInfoPage(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) &lt;---snip---&gt; self.intelligence = self.genAttribs() class MOS(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) def eligibleMOS(self, event): if self.intelligence &gt;= 12: self.MOS_list.append(""Analyst"") The problem is that I can't figure out how to use the ""intelligence"" variable from the BasicInfoPage class to the MOS class. I've tried several different things from around the Internet but nothing seems to work. What am I missing? Edit I realized after I posted this that I didn't explain it that well. I'm trying to create a computer version of the Twilight 2000 RPG from the 1980s. I'm using wxPython to create a wizard; the parent class of my classes is the Wizard from wxPython. That wizard will walk a user through the creation of a character, so the Basic Information page (class BasicInfoPage) lets the user give the character's name and ""roll"" for the character's attributes. That's where the ""self.intelligence"" comes from. I'm trying to use the attributes created her for a page further on in the wizard, where the user selects the speciality of the character. The specialities that are available depend on the attributes the character has, e.g. if the intelligence is high enough, the character can be an Intel Anaylst. It's been several years since I've programmed, especially with OOP ideas. That's why I'm confused on how to create what's essentially a global variable with classes and methods.",Python-passing variable between classes,114128,113341,3,"Each page of a Wizard -- by itself -- shouldn't actually be the container for the information you're gathering. Read up on the Model-View-Control design pattern. Your pages have the View and Control parts of the design. They aren't the data model, however. You'll be happier if you have a separate object that is ""built"" by the pages. Each page will set some attributes of that underlying model object. Then, the pages are independent of each other, since the pages all get and set values of this underlying model object. Since you're building a character, you'd have some class like this class Character( object ): def __init__( self ): self.intelligence= 10 &lt;default values for all attributes.&gt; Then your various Wizard instances just need to be given the underlying Character object as a place to put and get values."
113341,2,"I'm trying to create a character generation wizard for a game. In one class I calculate the attributes of the character. In a different class, I'm displaying to the user which specialties are available based on the attributes of the character. However, I can't remember how to pass variables between different classes. Here is an example of what I have: class BasicInfoPage(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) &lt;---snip---&gt; self.intelligence = self.genAttribs() class MOS(wx.wizard.WizardPageSimple): def __init__(self, parent, title): wiz.WizardPageSimple.__init__(self, parent) self.next = self.prev = None self.sizer = makePageTitle(self, title) def eligibleMOS(self, event): if self.intelligence &gt;= 12: self.MOS_list.append(""Analyst"") The problem is that I can't figure out how to use the ""intelligence"" variable from the BasicInfoPage class to the MOS class. I've tried several different things from around the Internet but nothing seems to work. What am I missing? Edit I realized after I posted this that I didn't explain it that well. I'm trying to create a computer version of the Twilight 2000 RPG from the 1980s. I'm using wxPython to create a wizard; the parent class of my classes is the Wizard from wxPython. That wizard will walk a user through the creation of a character, so the Basic Information page (class BasicInfoPage) lets the user give the character's name and ""roll"" for the character's attributes. That's where the ""self.intelligence"" comes from. I'm trying to use the attributes created her for a page further on in the wizard, where the user selects the speciality of the character. The specialities that are available depend on the attributes the character has, e.g. if the intelligence is high enough, the character can be an Intel Anaylst. It's been several years since I've programmed, especially with OOP ideas. That's why I'm confused on how to create what's essentially a global variable with classes and methods.",Python-passing variable between classes,120109,113341,2,"My problem was indeed the confusion of classes vs. instances. I was trying to do everything via classes without ever creating an actual instance. Plus, I was forcing the ""BasicInfoPage"" class to do too much work. Ultimately, I created a new class (BaseAttribs) to hold all the variables I need. I then created in instance of that class when I run the wizard and pass that instance as an argument to the classes that need it, as shown below: #---Run the wizard if __name__ == ""__main__"": app = wx.PySimpleApp() wizard = wiz.Wizard(None, -1, ""TW2K Character Creation"") attribs = BaseAttribs #---Create each page page1 = IntroPage(wizard, ""Introduction"") page2 = BasicInfoPage(wizard, ""Basic Info"", attribs) page3 = Ethnicity(wizard, ""Ethnicity"") page4 = MOS(wizard, ""Military Occupational Specialty"", attribs) I then used the information S.Lott provided and created individual instances (if that's what it's called) within each class; each class is accessing the same variables though. Everything works, as far as I can tell. Thanks."
113534,12,"Is there a function in Python to split a string without ignoring the spaces in the resulting list? E.g: s=""This is the string I want to split"".split() gives me &gt;&gt;&gt; s ['This', 'is', 'the', 'string', 'I', 'want', 'to', 'split'] I want something like ['This',' ','is',' ', 'the',' ','string', ' ', .....]",Is there a function in Python to split a string without ignoring the spaces?,113554,113534,1,"The hard part with what you're trying to do is that you aren't giving it a character to split on. split() explodes a string on the character you provide to it, and removes that character. Perhaps this may help: s = ""String to split"" mylist = [] for item in s.split(): mylist.append(item) mylist.append(' ') mylist = mylist[:-1] Messy, but it'll do the trick for you..."
113534,12,"Is there a function in Python to split a string without ignoring the spaces in the resulting list? E.g: s=""This is the string I want to split"".split() gives me &gt;&gt;&gt; s ['This', 'is', 'the', 'string', 'I', 'want', 'to', 'split'] I want something like ['This',' ','is',' ', 'the',' ','string', ' ', .....]",Is there a function in Python to split a string without ignoring the spaces?,113555,113534,40,"&gt;&gt;&gt; import re &gt;&gt;&gt; re.split(r""(\s+)"", ""This is the string I want to split"") ['This', ' ', 'is', ' ', 'the', ' ', 'string', ' ', 'I', ' ', 'want', ' ', 'to', ' ', 'split'] Using the capturing parentheses in re.split() causes the function to return the separators as well."
113534,12,"Is there a function in Python to split a string without ignoring the spaces in the resulting list? E.g: s=""This is the string I want to split"".split() gives me &gt;&gt;&gt; s ['This', 'is', 'the', 'string', 'I', 'want', 'to', 'split'] I want something like ['This',' ','is',' ', 'the',' ','string', ' ', .....]",Is there a function in Python to split a string without ignoring the spaces?,113558,113534,4,"I don't think there is a function in the standard library that does that by itself, but ""partition"" comes close The best way is probably to use regular expressions (which is how I'd do this in any language!) import re print re.split(r""(\s+)"", ""Your string here"")"
113655,41,"Is there a function in python to split a word into a list of single letters? e.g: s=""Word to Split"" to get wordlist=['W','o','r','d','','t','o' ....]",Is there a function in python to split a word into a list?,113662,113655,119,"&gt;&gt;&gt; list(""Word to Split"") ['W', 'o', 'r', 'd', ' ', 't', 'o', ' ', 'S', 'p', 'l', 'i', 't']"
113655,41,"Is there a function in python to split a word into a list of single letters? e.g: s=""Word to Split"" to get wordlist=['W','o','r','d','','t','o' ....]",Is there a function in python to split a word into a list?,113680,113655,9,"The easiest way is probably just to use list(), but there is at least one other option as well: s = ""Word to Split"" wordlist = list(s) # option 1, wordlist = [ch for ch in s] # option 2, list comprehension. They should both give you what you need: ['W','o','r','d',' ','t','o',' ','S','p','l','i','t'] As stated, the first is likely the most preferable for your example but there are use cases that may make the latter quite handy for more complex stuff, such as if you want to apply some arbitrary function to the items, such as with: [doSomethingWith(ch) for ch in s]"
113655,41,"Is there a function in python to split a word into a list of single letters? e.g: s=""Word to Split"" to get wordlist=['W','o','r','d','','t','o' ....]",Is there a function in python to split a word into a list?,113681,113655,1,"The list function will do this &gt;&gt;&gt; list('foo') ['f', 'o', 'o']"
113655,41,"Is there a function in python to split a word into a list of single letters? e.g: s=""Word to Split"" to get wordlist=['W','o','r','d','','t','o' ....]",Is there a function in python to split a word into a list?,115195,113655,2,"Abuse of the rules, same result: (x for x in 'Word to split') Actually an iterator, not a list. But it's likely you won't really care."
114112,12,"I have tried following guides like this one but it just didnt work for me. So my question is this: What is a good guide for deploying Django, and how do you deploy your Django. I keep hearing that capastrano is pretty nifty to use, but I have no idea as to how to work it or what it does (apart from automation of deploying code), or even if I want/need to use it or not.",Deploying Django: How do you do it?,114127,114112,0,This looks like a good place to start: http://www.unessa.net/en/hoyci/2007/06/using-capistrano-deploy-django-apps/
114112,12,"I have tried following guides like this one but it just didnt work for me. So my question is this: What is a good guide for deploying Django, and how do you deploy your Django. I keep hearing that capastrano is pretty nifty to use, but I have no idea as to how to work it or what it does (apart from automation of deploying code), or even if I want/need to use it or not.",Deploying Django: How do you do it?,114137,114112,-2,"The easiest way would be to use one of the sites on http://djangofriendly.com/hosts/ that will provide the hosting and set up for you, but even if you're wanting to roll your own it will allow you to see what set up other sites are using."
114112,12,"I have tried following guides like this one but it just didnt work for me. So my question is this: What is a good guide for deploying Django, and how do you deploy your Django. I keep hearing that capastrano is pretty nifty to use, but I have no idea as to how to work it or what it does (apart from automation of deploying code), or even if I want/need to use it or not.",Deploying Django: How do you do it?,114228,114112,1,I have had success with mod_wsgi
114112,12,"I have tried following guides like this one but it just didnt work for me. So my question is this: What is a good guide for deploying Django, and how do you deploy your Django. I keep hearing that capastrano is pretty nifty to use, but I have no idea as to how to work it or what it does (apart from automation of deploying code), or even if I want/need to use it or not.",Deploying Django: How do you do it?,114268,114112,7,"mod_wsgi in combination with a virtualenv for all the dependencies, a mercurial checkout into the virtualenv and a fabric recipe to check out the changes on the server. I wrote an article about my usual workflow: Deploying Python Web Applications. Hope that helps."
114112,12,"I have tried following guides like this one but it just didnt work for me. So my question is this: What is a good guide for deploying Django, and how do you deploy your Django. I keep hearing that capastrano is pretty nifty to use, but I have no idea as to how to work it or what it does (apart from automation of deploying code), or even if I want/need to use it or not.",Deploying Django: How do you do it?,117095,114112,1,"In my previous work we had real genius guy on deployment duties, he deployed application (Python, SQL, Perl and Java code) as set of deb files built for Ubuntu. Unfortunately now, I have no such support. We are deploying apps manually to virtualenv-ed environments with separate nginx configs for FastCGI. We use paver to deploy to remote servers. It's painful, but it works."
114112,12,"I have tried following guides like this one but it just didnt work for me. So my question is this: What is a good guide for deploying Django, and how do you deploy your Django. I keep hearing that capastrano is pretty nifty to use, but I have no idea as to how to work it or what it does (apart from automation of deploying code), or even if I want/need to use it or not.",Deploying Django: How do you do it?,1546416,114112,0,"I use mod_python, and have every site in a git repository with the following subdirs: mysite template media I have mysite/settings.py in .gitignore, and work like this: do development on my local machine create remote repository on webserver push my changes to webserver repo set up apache vhost config file, tweak live server settings.py run git checkout &amp;&amp; git reset --hard &amp;&amp; sudo /etc/init.d/apache2 restart on webserver repo to get up-to-date version to its working copy and restart apache repeat steps 1, 3 and 5 whenever change request comes"
114214,190,"What is the difference between the following class methods? Is it that one is static and the other is not? class Test(object): def method_one(self): print ""Called method_one"" def method_two(): print ""Called method_two"" a_test = Test() a_test.method_one() a_test.method_two()","Class method differences in Python: bound, unbound and static",114232,114214,10,"When you call a class member, Python automatically uses a reference to the object as the first parameter. The variable self actually means nothing, it's just a coding convention. You could call it gargaloo if you wanted. That said, the call to method_two would raise a TypeError, because Python is automatically trying to pass a parameter (the reference to its parent object) to a method that was defined as having no parameters. To actually make it work, you could append this to your class definition: method_two = staticmethod(method_two) or you could use the @staticmethod function decorator."
114214,190,"What is the difference between the following class methods? Is it that one is static and the other is not? class Test(object): def method_one(self): print ""Called method_one"" def method_two(): print ""Called method_two"" a_test = Test() a_test.method_one() a_test.method_two()","Class method differences in Python: bound, unbound and static",114250,114214,4,"method_two won't work because you're defining a member function but not telling it what the function is a member of. If you execute the last line you'll get: &gt;&gt;&gt; a_test.method_two() Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: method_two() takes no arguments (1 given) If you're defining member functions for a class the first argument must always be 'self'."
114214,190,"What is the difference between the following class methods? Is it that one is static and the other is not? class Test(object): def method_one(self): print ""Called method_one"" def method_two(): print ""Called method_two"" a_test = Test() a_test.method_one() a_test.method_two()","Class method differences in Python: bound, unbound and static",114251,114214,1,"The call to method_two will throw an exception for not accepting the self parameter the Python runtime will automatically pass it. If you want to create a static method in a Python class, decorate it with the staticmethod decorator. Class Test(Object): @staticmethod def method_two(): print ""Called method_two"" Test.method_two()"
114214,190,"What is the difference between the following class methods? Is it that one is static and the other is not? class Test(object): def method_one(self): print ""Called method_one"" def method_two(): print ""Called method_two"" a_test = Test() a_test.method_one() a_test.method_two()","Class method differences in Python: bound, unbound and static",114267,114214,325,"In Python, there is a distinction between bound and unbound methods. Basically, a call to a member function (like method_one), a bound function a_test.method_one() is translated to Test.method_one(a_test) i.e. a call to an unbound method. Because of that, a call to your version of method_two will fail with a TypeError &gt;&gt;&gt; a_test = Test() &gt;&gt;&gt; a_test.method_two() Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: method_two() takes no arguments (1 given) You can change the behavior of a method using a decorator class Test(object): def method_one(self): print ""Called method_one"" @staticmethod def method_two(): print ""Called method two"" The decorator tells the built-in default metaclass type (the class of a class, cf. this question) to not create bound methods for method_two. Now, you can invoke static method both on an instance or on the class directly: &gt;&gt;&gt; a_test = Test() &gt;&gt;&gt; a_test.method_one() Called method_one &gt;&gt;&gt; a_test.method_two() Called method_two &gt;&gt;&gt; Test.method_two() Called method_two"
114214,190,"What is the difference between the following class methods? Is it that one is static and the other is not? class Test(object): def method_one(self): print ""Called method_one"" def method_two(): print ""Called method_two"" a_test = Test() a_test.method_one() a_test.method_two()","Class method differences in Python: bound, unbound and static",114281,114214,1,"that is an error. first of all, first line should be like this (be careful of capitals) class Test(object): Whenever you call a method of a class, it gets itself as the first argument (hence the name self) and method_two gives this error &gt;&gt;&gt; a.method_two() Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: method_two() takes no arguments (1 given)"
114214,190,"What is the difference between the following class methods? Is it that one is static and the other is not? class Test(object): def method_one(self): print ""Called method_one"" def method_two(): print ""Called method_two"" a_test = Test() a_test.method_one() a_test.method_two()","Class method differences in Python: bound, unbound and static",114285,114214,1,"The second one won't work because when you call it like that python internally tries to call it with the a_test instance as the first argument, but your method_two doesn't accept any arguments, so it wont work, you'll get a runtime error. If you want the equivalent of a static method you can use a class method. There's much less need for class methods in Python than static methods in languages like Java or C#. Most often the best solution is to use a method in the module, outside a class definition, those work more efficiently than class methods."
114214,190,"What is the difference between the following class methods? Is it that one is static and the other is not? class Test(object): def method_one(self): print ""Called method_one"" def method_two(): print ""Called method_two"" a_test = Test() a_test.method_one() a_test.method_two()","Class method differences in Python: bound, unbound and static",114289,114214,163,"Methods in Python are a very, very simple thing once you understood the basics of the descriptor system. Imagine the following class: class C(object): def foo(self): pass Now let's have a look at that class in the shell: &gt;&gt;&gt; C.foo &lt;unbound method C.foo&gt; &gt;&gt;&gt; C.__dict__['foo'] &lt;function foo at 0x17d05b0&gt; As you can see if you access the foo attribute on the class you get back an unbound method, however inside the class storage (the dict) there is a function. Why's that? The reason for this is that the class of your class implements a __getattribute__ that resolves descriptors. Sounds complex, but is not. C.foo is roughly equivalent to this code in that special case: &gt;&gt;&gt; C.__dict__['foo'].__get__(None, C) &lt;unbound method C.foo&gt; That's because functions have a __get__ method which makes them descriptors. If you have an instance of a class it's nearly the same, just that None is the class instance: &gt;&gt;&gt; c = C() &gt;&gt;&gt; C.__dict__['foo'].__get__(c, C) &lt;bound method C.foo of &lt;__main__.C object at 0x17bd4d0&gt;&gt; Now why does Python do that? Because the method object binds the first parameter of a function to the instance of the class. That's where self comes from. Now sometimes you don't want your class to make a function a method, that's where staticmethod comes into play: class C(object): @staticmethod def foo(): pass The staticmethod decorator wraps your class and implements a dummy __get__ that returns the wrapped function as function and not as a method: &gt;&gt;&gt; C.__dict__['foo'].__get__(None, C) &lt;function foo at 0x17d0c30&gt; Hope that explains it."
114214,190,"What is the difference between the following class methods? Is it that one is static and the other is not? class Test(object): def method_one(self): print ""Called method_one"" def method_two(): print ""Called method_two"" a_test = Test() a_test.method_one() a_test.method_two()","Class method differences in Python: bound, unbound and static",2696019,114214,10,"&gt;&gt;&gt; class Class(object): ... def __init__(self): ... self.i = 0 ... def instance_method(self): ... self.i += 1 ... print self.i ... c = 0 ... @classmethod ... def class_method(cls): ... cls.c += 1 ... print cls.c ... @staticmethod ... def static_method(s): ... s += 1 ... print s ... &gt;&gt;&gt; a = Class() &gt;&gt;&gt; a.class_method() 1 &gt;&gt;&gt; Class.class_method() # The class shares this value across instances 2 &gt;&gt;&gt; a.instance_method() 1 &gt;&gt;&gt; Class.instance_method() # The class cannot use an instance method Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: unbound method instance_method() must be called with Class instance as first argument (got nothing instead) &gt;&gt;&gt; Class.instance_method(a) 2 &gt;&gt;&gt; b = 0 &gt;&gt;&gt; a.static_method(b) 1 &gt;&gt;&gt; a.static_method(a.c) # Static method does not have direct access to &gt;&gt;&gt; # class or instance properties. 3 &gt;&gt;&gt; Class.c # a.c above was passed by value and not by reference. 2 &gt;&gt;&gt; a.c 2 &gt;&gt;&gt; a.c = 5 # The connection between the instance &gt;&gt;&gt; Class.c # and its class is weak as seen here. 2 &gt;&gt;&gt; Class.class_method() 3 &gt;&gt;&gt; a.c 5"
114283,7,"I want to emulate the delete confirmation page behavior before saving certain models in the admin. In my case if I change one object, certain others should be deleted as they depend upon the object's now out-of-date state. I understand where to implement the actual cascaded updates (inside the parent model's save method), but I don't see a quick way to ask the user for confirmation (and then rollback if they decide not to save). I suppose I could implement some weird confirmation logic directly inside the save method (sort of a two phase save) but that seems...ugly. Any thoughts, even general pointers into the django codebase? Thanks!",Where can a save confirmation page be hooked into the Django admin? (similar to delete confirmation),114348,114283,1,"I'm by no means a Django expert, so this answer might misguide you. Start looking somewhere around django.contrib.admin.options.ModelAdmin, especially render_change_form and response_change. I guess you would need to subclass ModelAdmin for your model and provide required behavior around those methods."
114283,7,"I want to emulate the delete confirmation page behavior before saving certain models in the admin. In my case if I change one object, certain others should be deleted as they depend upon the object's now out-of-date state. I understand where to implement the actual cascaded updates (inside the parent model's save method), but I don't see a quick way to ask the user for confirmation (and then rollback if they decide not to save). I suppose I could implement some weird confirmation logic directly inside the save method (sort of a two phase save) but that seems...ugly. Any thoughts, even general pointers into the django codebase? Thanks!",Where can a save confirmation page be hooked into the Django admin? (similar to delete confirmation),114373,114283,2,You could overload the get_form method of your model admin and add an extra checkbox to the generated form that has to be ticket. Alternatively you can override change_view and intercept the request.
114283,7,"I want to emulate the delete confirmation page behavior before saving certain models in the admin. In my case if I change one object, certain others should be deleted as they depend upon the object's now out-of-date state. I understand where to implement the actual cascaded updates (inside the parent model's save method), but I don't see a quick way to ask the user for confirmation (and then rollback if they decide not to save). I suppose I could implement some weird confirmation logic directly inside the save method (sort of a two phase save) but that seems...ugly. Any thoughts, even general pointers into the django codebase? Thanks!",Where can a save confirmation page be hooked into the Django admin? (similar to delete confirmation),121796,114283,0,"Have you considered overriding the administrative templates for the models in question? This link provides an excellent overview of the process. In this particular situation, having a finer-grained level of control may be the best way to achieve the desired result."
114597,5,"I am required to display a two dimensional numpy.array of int16 at 20fps or so. Using Matplotlib's imshow chokes on anything above 10fps. There obviously are some issues with scaling and interpolation. I should add that the dimensions of the array are not known, but will probably be around thirty by four hundred. These are data from a sensor that are supposed to have a real-time display, so the data has to be re-sampled on the fly.",What is the fastest way to scale and display an image in Python?,114626,114597,6,"The fastest way to display 30x400 data points is to: Use OpenGL color arrays If you can quickly transform your data to what OpenGL understands as color array, you could create a vertex array describing quads, one for each sensor, then update your color array and draw this orthographically on screen. Use OpenGL textures If you can quickly transform your datapoints to an opengl texture you can draw one quad with fixed UV coordinates that is bound to this texture. Use pygame Pygame has support for conversion of Numpy/Numarray to surfaces, Pygame can then transform such surfaces which involves resampling, after resampling you can blit it on screen. Misc pyglet makes dealing with opengl very easy"
114830,88,"One of the basic data structures in Python is the dictionary, which allows one to record ""keys"" for looking up ""values"" of any type. Is this implemented internally as a hash table? If not, what is it?",Is a Python dictionary an example of a hash table?,114831,114830,127,"Yes, it is a hash mapping or hash table. You can read a description of python's dict implementation, as written by Tim Peters, here. That's why you can't use something 'not hashable' as a dict key, like a list: &gt;&gt;&gt; a = {} &gt;&gt;&gt; b = ['some', 'list'] &gt;&gt;&gt; hash(b) Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: list objects are unhashable &gt;&gt;&gt; a[b] = 'some' Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: list objects are unhashable You can read more about hash tables or check how it has been implemented in python and why it is implemented that way."
114830,88,"One of the basic data structures in Python is the dictionary, which allows one to record ""keys"" for looking up ""values"" of any type. Is this implemented internally as a hash table? If not, what is it?",Is a Python dictionary an example of a hash table?,114848,114830,14,Yes. Internally it is implemented as open hashing based on a primitive polynomial over Z/2 (source).
114830,88,"One of the basic data structures in Python is the dictionary, which allows one to record ""keys"" for looking up ""values"" of any type. Is this implemented internally as a hash table? If not, what is it?",Is a Python dictionary an example of a hash table?,114853,114830,25,"If you're interested in the technical details, one article in Beautiful Code deals with the internals of Python's dict implementation."
114830,88,"One of the basic data structures in Python is the dictionary, which allows one to record ""keys"" for looking up ""values"" of any type. Is this implemented internally as a hash table? If not, what is it?",Is a Python dictionary an example of a hash table?,115379,114830,5,"To expand upon nosklo's explanation: a = {} b = ['some', 'list'] a[b] = 'some' # this won't work a[tuple(b)] = 'some' # this will, same as a['some', 'list']"
115316,102,"I want to use a WSDL SOAP based web service in Python. I have looked at the Dive Into Python code but the SOAPpy module does not work under Python 2.5. I have tried using suds which works partly, but breaks with certain types (suds.TypeNotFound: Type not found: 'item'). I have also looked at Client but this does not appear to support WSDL. And I have looked at ZSI but it looks very complex. Does anyone have any sample code for it? The WSDL is https://ws.pingdom.com/soap/PingdomAPI.wsdl and works fine with the PHP 5 SOAP client.",How can I consume a WSDL (SOAP) web service in Python?,115700,115316,9,"Right now (as of 2008), all the SOAP libraries available for Python suck. I recommend avoiding SOAP if possible. The last time we where forced to use a SOAP web service from Python, we wrote a wrapper in C# that handled the SOAP on one side and spoke COM out the other."
115316,102,"I want to use a WSDL SOAP based web service in Python. I have looked at the Dive Into Python code but the SOAPpy module does not work under Python 2.5. I have tried using suds which works partly, but breaks with certain types (suds.TypeNotFound: Type not found: 'item'). I have also looked at Client but this does not appear to support WSDL. And I have looked at ZSI but it looks very complex. Does anyone have any sample code for it? The WSDL is https://ws.pingdom.com/soap/PingdomAPI.wsdl and works fine with the PHP 5 SOAP client.",How can I consume a WSDL (SOAP) web service in Python?,117025,115316,2,"It's not true SOAPpy does not work with Python 2.5 - it works, although it's very simple and really, really basic. If you want to talk to any more complicated webservice, ZSI is your only friend. The really useful demo I found is at http://www.ebi.ac.uk/Tools/webservices/tutorials/python - this really helped me to understand how ZSI works."
115316,102,"I want to use a WSDL SOAP based web service in Python. I have looked at the Dive Into Python code but the SOAPpy module does not work under Python 2.5. I have tried using suds which works partly, but breaks with certain types (suds.TypeNotFound: Type not found: 'item'). I have also looked at Client but this does not appear to support WSDL. And I have looked at ZSI but it looks very complex. Does anyone have any sample code for it? The WSDL is https://ws.pingdom.com/soap/PingdomAPI.wsdl and works fine with the PHP 5 SOAP client.",How can I consume a WSDL (SOAP) web service in Python?,1793052,115316,30,I know this is an old thread but it was showing up at the top of Google's results so I wanted to share a more current discussion on Python and SOAP. See: http://www.diveintopython.net/soap_web_services/index.html
115316,102,"I want to use a WSDL SOAP based web service in Python. I have looked at the Dive Into Python code but the SOAPpy module does not work under Python 2.5. I have tried using suds which works partly, but breaks with certain types (suds.TypeNotFound: Type not found: 'item'). I have also looked at Client but this does not appear to support WSDL. And I have looked at ZSI but it looks very complex. Does anyone have any sample code for it? The WSDL is https://ws.pingdom.com/soap/PingdomAPI.wsdl and works fine with the PHP 5 SOAP client.",How can I consume a WSDL (SOAP) web service in Python?,2092983,115316,1,If you're rolling your own I'd highly recommend looking at http://effbot.org/zone/element-soap.htm.
115316,102,"I want to use a WSDL SOAP based web service in Python. I have looked at the Dive Into Python code but the SOAPpy module does not work under Python 2.5. I have tried using suds which works partly, but breaks with certain types (suds.TypeNotFound: Type not found: 'item'). I have also looked at Client but this does not appear to support WSDL. And I have looked at ZSI but it looks very complex. Does anyone have any sample code for it? The WSDL is https://ws.pingdom.com/soap/PingdomAPI.wsdl and works fine with the PHP 5 SOAP client.",How can I consume a WSDL (SOAP) web service in Python?,2567815,115316,1,"SOAPpy is now obsolete, AFAIK, replaced by ZSL. It's a moot point, because I can't get either one to work, much less compile, on either Python 2.5 or Python 2.6"
115316,102,"I want to use a WSDL SOAP based web service in Python. I have looked at the Dive Into Python code but the SOAPpy module does not work under Python 2.5. I have tried using suds which works partly, but breaks with certain types (suds.TypeNotFound: Type not found: 'item'). I have also looked at Client but this does not appear to support WSDL. And I have looked at ZSI but it looks very complex. Does anyone have any sample code for it? The WSDL is https://ws.pingdom.com/soap/PingdomAPI.wsdl and works fine with the PHP 5 SOAP client.",How can I consume a WSDL (SOAP) web service in Python?,2829486,115316,44,"I would recommend that you have a look at SUDS ""Suds is a lightweight SOAP python client for consuming Web Services."""
115744,5,"I have an application for Tomcat which needs to offer/consume web services. Since Java web services are a nightmare (xml, code generation, etc.) compared with what is possible in Python, I would like to learn from your experience using jython instead of java for offerring/consuming web services. What I have done so far involves adapting http://pywebsvcs.sourceforge.net/ to Jython. I still get errors (namespaces, types and so), although some of it is succesful for the simplest services.",What is the simplest way to offer/consume web services in jython?,116027,115744,0,"PyServlet helps you configure Tomcat to serve up Jython scripts from a URL. You could use this is a ""REST-like"" way to do some basic web services without much effort. (It is also described here.) We used a similar home grown framework to provide a variety of data services in a large multiple web application very successfully."
115744,5,"I have an application for Tomcat which needs to offer/consume web services. Since Java web services are a nightmare (xml, code generation, etc.) compared with what is possible in Python, I would like to learn from your experience using jython instead of java for offerring/consuming web services. What I have done so far involves adapting http://pywebsvcs.sourceforge.net/ to Jython. I still get errors (namespaces, types and so), although some of it is succesful for the simplest services.",What is the simplest way to offer/consume web services in jython?,148455,115744,2,I've put together more details on how to use webservices in jython using axis. Read about it here: How To Script Webservices with Jython and Axis.
115764,3,"I have some Python code that creates a Calendar object based on parsed VEvent objects from and iCalendar file. The calendar object just has a method that adds events as they get parsed. Now I want to create a factory function that creates a calendar from a file object, path, or URL. I've been using the iCalendar python module, which implements a factory function as a class method directly on the Class that it returns an instance of: cal = icalendar.Calendar.from_string(data) From what little I know about Java, this is a common pattern in Java code, though I seem to find more references to a factory method being on a different class than the class you actually want to instantiate instances from. The question is, is this also considered Pythonic ? Or is it considered more pythonic to just create a module-level method as the factory function ?","Which is more pythonic, factory as a function in a module, or as a method on the class it creates?",115777,115764,6,"It's pythonic not to think about esoteric difference in some pattern you read somewhere and now want to use everywhere, like the factory pattern. Most of the time you would think of a @staticmethod as a solution it's probably better to use a module function, except when you stuff multiple classes in one module and each has a different implementation of the same interface, then it's better to use a @staticmethod Ultimately weather you create your instances by a @staticmethod or by module function makes little difference. I'd probably use the initializer ( __init__ ) of a class because one of the more accepted ""patterns"" in python is that the factory for a class is the class initialization."
115764,3,"I have some Python code that creates a Calendar object based on parsed VEvent objects from and iCalendar file. The calendar object just has a method that adds events as they get parsed. Now I want to create a factory function that creates a calendar from a file object, path, or URL. I've been using the iCalendar python module, which implements a factory function as a class method directly on the Class that it returns an instance of: cal = icalendar.Calendar.from_string(data) From what little I know about Java, this is a common pattern in Java code, though I seem to find more references to a factory method being on a different class than the class you actually want to instantiate instances from. The question is, is this also considered Pythonic ? Or is it considered more pythonic to just create a module-level method as the factory function ?","Which is more pythonic, factory as a function in a module, or as a method on the class it creates?",115802,115764,0,"The factory pattern has its own strengths and weaknesses. However, choosing one way to create instances usually has little pragmatic effect on your code."
115764,3,"I have some Python code that creates a Calendar object based on parsed VEvent objects from and iCalendar file. The calendar object just has a method that adds events as they get parsed. Now I want to create a factory function that creates a calendar from a file object, path, or URL. I've been using the iCalendar python module, which implements a factory function as a class method directly on the Class that it returns an instance of: cal = icalendar.Calendar.from_string(data) From what little I know about Java, this is a common pattern in Java code, though I seem to find more references to a factory method being on a different class than the class you actually want to instantiate instances from. The question is, is this also considered Pythonic ? Or is it considered more pythonic to just create a module-level method as the factory function ?","Which is more pythonic, factory as a function in a module, or as a method on the class it creates?",115807,115764,2,"IMHO a module-level method is a cleaner solution. It hides behind the Python module system that gives it a unique namespace prefix, something the ""factory pattern"" is commonly used for."
115764,3,"I have some Python code that creates a Calendar object based on parsed VEvent objects from and iCalendar file. The calendar object just has a method that adds events as they get parsed. Now I want to create a factory function that creates a calendar from a file object, path, or URL. I've been using the iCalendar python module, which implements a factory function as a class method directly on the Class that it returns an instance of: cal = icalendar.Calendar.from_string(data) From what little I know about Java, this is a common pattern in Java code, though I seem to find more references to a factory method being on a different class than the class you actually want to instantiate instances from. The question is, is this also considered Pythonic ? Or is it considered more pythonic to just create a module-level method as the factory function ?","Which is more pythonic, factory as a function in a module, or as a method on the class it creates?",115853,115764,11,"[Note. Be very cautious about separating ""Calendar"" a collection of events, and ""Event"" - a single event on a calendar. In your question, it seems like there could be some confusion.] There are many variations on the Factory design pattern. A stand-alone convenience function (e.g., calendarMaker(data)) A separate class (e.g., CalendarParser) which builds your target class (Calendar). A class-level method (e.g. Calendar.from_string) method. These have different purposes. All are Pythonic, the questions are ""what do you mean?"" and ""what's likely to change?"" Meaning is everything; change is important. Convenience functions are Pythonic. Languages like Java can't have free-floating functions; you must wrap a lonely function in a class. Python allows you to have a lonely function without the overhead of a class. A function is relevant when your constructor has no state changes or alternate strategies or any memory of previous actions. Sometimes folks will define a class and then provide a convenience function that makes an instance of the class, sets the usual parameters for state and strategy and any other configuration, and then calls the single relevant method of the class. This gives you both the statefulness of class plus the flexibility of a stand-alone function. The class-level method pattern is used, but it has limitations. One, it's forced to rely on class-level variables. Since these can be confusing, a complex constructor as a static method runs into problems when you need to add features (like statefulness or alternative strategies.) Be sure you're never going to expand the static method. Two, it's more-or-less irrelevant to the rest of the class methods and attributes. This kind of from_string is just one of many alternative encodings for your Calendar objects. You might have a from_xml, from_JSON, from_YAML and on and on. None of this has the least relevance to what a Calendar IS or what it DOES. These methods are all about how a Calendar is encoded for transmission. What you'll see in the mature Python libraries is that factories are separate from the things they create. Encoding (as strings, XML, JSON, YAML) is subject to a great deal of more-or-less random change. The essential thing, however, rarely changes. Separate the two concerns. Keep encoding and representation as far away from state and behavior as you can."
115764,3,"I have some Python code that creates a Calendar object based on parsed VEvent objects from and iCalendar file. The calendar object just has a method that adds events as they get parsed. Now I want to create a factory function that creates a calendar from a file object, path, or URL. I've been using the iCalendar python module, which implements a factory function as a class method directly on the Class that it returns an instance of: cal = icalendar.Calendar.from_string(data) From what little I know about Java, this is a common pattern in Java code, though I seem to find more references to a factory method being on a different class than the class you actually want to instantiate instances from. The question is, is this also considered Pythonic ? Or is it considered more pythonic to just create a module-level method as the factory function ?","Which is more pythonic, factory as a function in a module, or as a method on the class it creates?",115933,115764,0,"A staticmethod rarely has value, but a classmethod may be useful. It depends on what you want the class and the factory function to actually do. A factory function in a module would always make an instance of the 'right' type (where 'right' in your case is the 'Calendar' class always, but you might also make it dependant on the contents of what it is creating the instance out of.) Use a classmethod if you wish to make it dependant not on the data, but on the class you call it on. A classmethod is like a staticmethod in that you can call it on the class, without an instance, but it receives the class it was called on as first argument. This allows you to actually create an instance of that class, which may be a subclass of the original class. An example of a classmethod is dict.fromkeys(), which creates a dict from a list of keys and a single value (defaulting to None.) Because it's a classmethod, when you subclass dict you get the 'fromkeys' method entirely for free. Here's an example of how one could write dict.fromkeys() oneself: class dict_with_fromkeys(dict): @classmethod def fromkeys(cls, keys, value=None): self = cls() for key in keys: self[key] = value return self"
115773,15,"I'm using python and CherryPy to create a simple internal website that about 2 people use. I use the built in webserver with CherryPy.quickstart and never messed with the config files. I recently changed machines so I installed the latest Python and cherrypy and when I run the site I can access it from localhost:8080 but not through the IP or the windows machine name. It could be a machine configuration difference or a newer version of CherryPy or Python. Any ideas how I can bind to the correct IP address? Edit: to make it clear, I currently don't have a config file at all.",How do I configure the ip address with CherryPy?,115826,115773,13,"That depends on how you are running the cherrypy init. If using cherrypy 3.1 syntax, that wold do it: cherrypy.server.socket_host = 'www.machinename.com' cherrypy.engine.start() cherrypy.engine.block() Of course you can have something more fancy, like subclassing the server class, or using config files. Those uses are covered in the documentation. But that should be enough. If not just tell us what you are doing and cherrypy version, and I will edit this answer."
115773,15,"I'm using python and CherryPy to create a simple internal website that about 2 people use. I use the built in webserver with CherryPy.quickstart and never messed with the config files. I recently changed machines so I installed the latest Python and cherrypy and when I run the site I can access it from localhost:8080 but not through the IP or the windows machine name. It could be a machine configuration difference or a newer version of CherryPy or Python. Any ideas how I can bind to the correct IP address? Edit: to make it clear, I currently don't have a config file at all.",How do I configure the ip address with CherryPy?,152012,115773,29,"server.socket_host: '0.0.0.0' ...would also work. That's IPv4 INADDR_ANY, which means, ""listen on all interfaces"". In a config file, the syntax is: [global] server.socket_host: '0.0.0.0' In code: cherrypy.server.socket_host = '0.0.0.0'"
115866,6,Convert mysql timestamp to epoch time in python - is there an easy way to do this?,Convert mysql timestamp to epoch time in python,115903,115866,24,Why not let MySQL do the hard work? select unix_timestamp(fieldname) from tablename;
115866,6,Convert mysql timestamp to epoch time in python - is there an easy way to do this?,Convert mysql timestamp to epoch time in python,118236,115866,3,"If you don't want to have MySQL do the work for some reason, then you can do this in Python easily enough. When you get a datetime column back from MySQLdb, you get a Python datetime.datetime object. To convert one of these, you can use time.mktime. For example: import time # Connecting to database skipped (also closing connection later) c.execute(""SELECT my_datetime_field FROM my_table"") d = c.fetchone()[0] print time.mktime(d.timetuple())"
115866,6,Convert mysql timestamp to epoch time in python - is there an easy way to do this?,Convert mysql timestamp to epoch time in python,126034,115866,1,"I use something like the following to get seconds since the epoch (UTC) from a MySQL date (local time): calendar.timegm( time.gmtime( time.mktime( time.strptime(t, ""%Y-%m-%d %H:%M:%S"")))) More info in this question: http://stackoverflow.com/questions/79797/how-do-i-convert-local-time-to-utc-in-python"
115866,6,Convert mysql timestamp to epoch time in python - is there an easy way to do this?,Convert mysql timestamp to epoch time in python,2407400,115866,7,"converting mysql time to epoch: &gt;&gt;&gt; import time &gt;&gt;&gt; import calendar &gt;&gt;&gt; mysql_time = ""2010-01-02 03:04:05"" &gt;&gt;&gt; mysql_time_struct = time.strptime(mysql_time, '%Y-%m-%d %H:%M:%S') &gt;&gt;&gt; print mysql_time_struct (2010, 1, 2, 3, 4, 5, 5, 2, -1) &gt;&gt;&gt; mysql_time_epoch = calendar.timegm(mysql_time_struct) &gt;&gt;&gt; print mysql_time_epoch 1262401445 converting epoch to something MySQL can use: &gt;&gt;&gt; import time &gt;&gt;&gt; time_epoch = time.time() &gt;&gt;&gt; print time_epoch 1268121070.7 &gt;&gt;&gt; time_struct = time.gmtime(time_epoch) &gt;&gt;&gt; print time_struct (2010, 3, 9, 7, 51, 10, 1, 68, 0) &gt;&gt;&gt; time_formatted = time.strftime('%Y-%m-%d %H:%M:%S', time_struct) &gt;&gt;&gt; print time_formatted 2010-03-09 07:51:10"
115974,10,"What would be the simplest way to daemonize a python script in Linux ? I need that this works with every flavor of Linux, so it should only use python based tools.",What would be the simplest way to daemonize a python script in Linux?,115985,115974,4,nohup Creating a daemon the Python way
115974,10,"What would be the simplest way to daemonize a python script in Linux ? I need that this works with every flavor of Linux, so it should only use python based tools.",What would be the simplest way to daemonize a python script in Linux?,116035,115974,20,"See Stevens and also this lengthy thread on activestate which I found personally to be both mostly incorrect and much to verbose, and I came up with this: from os import fork, setsid, umask, dup2 from sys import stdin, stdout, stderr if fork(): exit(0) umask(0) setsid() if fork(): exit(0) stdout.flush() stderr.flush() si = file('/dev/null', 'r') so = file('/dev/null', 'a+') se = file('/dev/null', 'a+', 0) dup2(si.fileno(), stdin.fileno()) dup2(so.fileno(), stdout.fileno()) dup2(se.fileno(), stderr.fileno()) If you need to stop that process again, it is required to know the pid, the usual solution to this is pidfiles. Do this if you need one from os import getpid outfile = open(pid_file, 'w') outfile.write('%i' % getpid()) outfile.close() For security reasons you might consider any of these after demonizing from os import setuid, setgid, chdir from pwd import getpwnam from grp import getgrnam setuid(getpwnam('someuser').pw_uid) setgid(getgrnam('somegroup').gr_gid) chdir('/') You could also use nohup but that does not work well with python's subprocess module"
115974,10,"What would be the simplest way to daemonize a python script in Linux ? I need that this works with every flavor of Linux, so it should only use python based tools.",What would be the simplest way to daemonize a python script in Linux?,116081,115974,0,"Use grizzled.os.daemonize: $ easy_install grizzled &gt;&gt;&gt; from grizzled.os import daemonize &gt;&gt;&gt; daemon.daemonize() To understand how this works or to do it yourself, read the discussion on ActiveState."
115974,10,"What would be the simplest way to daemonize a python script in Linux ? I need that this works with every flavor of Linux, so it should only use python based tools.",What would be the simplest way to daemonize a python script in Linux?,117176,115974,1,"If you do not care for actual discussions (which tend to go offtopic and do not offer authoritative response), you can choose some library that will make your tast easier. I'd recomment taking a look at ll-xist, this library contains large amount of life-saving code, like cron jobs helper, daemon framework, and (what is not interesting to you, but is really great) object-oriented XSL (ll-xist itself)."
115974,10,"What would be the simplest way to daemonize a python script in Linux ? I need that this works with every flavor of Linux, so it should only use python based tools.",What would be the simplest way to daemonize a python script in Linux?,3606303,115974,2,"I have recently used Turkmenbashi : $ easy_install turkmenbashi import Turkmenbashi class DebugDaemon (Turkmenbashi.Daemon): def config(self): self.debugging = True def go(self): self.debug('a debug message') self.info('an info message') self.warn('a warning message') self.error('an error message') self.critical('a critical message') if __name__==""__main__"": d = DebugDaemon() d.config() d.setenv(30, '/var/run/daemon.pid', '/tmp', None) d.start(d.go)"
115977,89,"I would very much like to integrate pylint into the build process for my python projects, but I have run into one show-stopper: One of the error types that I find extremely useful--:E1101: *%s %r has no %r member*--constantly reports errors when using common django fields, for example: E1101:125:get_user_tags: Class 'Tag' has no 'objects' member which is caused by this code: def get_user_tags(username): """""" Gets all the tags that username has used. Returns a query set. """""" return Tag.objects.filter( ## This line triggers the error. tagownership__users__username__exact=username).distinct() # Here is the Tag class, models.Model is provided by Django: class Tag(models.Model): """""" Model for user-defined strings that help categorize Events on on a per-user basis. """""" name = models.CharField(max_length=500, null=False, unique=True) def __unicode__(self): return self.name How can I tune Pylint to properly take fields such as objects into account? (I've also looked into the Django source, and I have been unable to find the implementation of objects, so I suspect it is not ""just"" a class field. On the other hand, I'm fairly new to python, so I may very well have overlooked something.) Edit: The only way I've found to tell pylint to not warn about these warnings is by blocking all errors of the type (E1101) which is not an acceptable solution, since that is (in my opinion) an extremely useful error. If there is another way, without augmenting the pylint source, please point me to specifics :) See here for a summary of the problems I've had with pychecker and pyflakes -- they've proven to be far to unstable for general use. (In pychecker's case, the crashes originated in the pychecker code -- not source it was loading/invoking.)",Using Pylint with Django,116025,115977,15,"Because of how pylint works (it examines the source itself, without letting Python actually execute it) it's very hard for pylint to figure out how metaclasses and complex baseclasses actually affect a class and its instances. The 'pychecker' tool is a bit better in this regard, because it does actually let Python execute the code; it imports the modules and examines the resulting objects. However, that approach has other problems, because it does actually let Python execute the code :-) You could extend pylint to teach it about the magic Django uses, or to make it understand metaclasses or complex baseclasses better, or to just ignore such cases after detecting one or more features it doesn't quite understand. I don't think it would be particularly easy. You can also just tell pylint to not warn about these things, through special comments in the source, command-line options or a .pylintrc file."
115977,89,"I would very much like to integrate pylint into the build process for my python projects, but I have run into one show-stopper: One of the error types that I find extremely useful--:E1101: *%s %r has no %r member*--constantly reports errors when using common django fields, for example: E1101:125:get_user_tags: Class 'Tag' has no 'objects' member which is caused by this code: def get_user_tags(username): """""" Gets all the tags that username has used. Returns a query set. """""" return Tag.objects.filter( ## This line triggers the error. tagownership__users__username__exact=username).distinct() # Here is the Tag class, models.Model is provided by Django: class Tag(models.Model): """""" Model for user-defined strings that help categorize Events on on a per-user basis. """""" name = models.CharField(max_length=500, null=False, unique=True) def __unicode__(self): return self.name How can I tune Pylint to properly take fields such as objects into account? (I've also looked into the Django source, and I have been unable to find the implementation of objects, so I suspect it is not ""just"" a class field. On the other hand, I'm fairly new to python, so I may very well have overlooked something.) Edit: The only way I've found to tell pylint to not warn about these warnings is by blocking all errors of the type (E1101) which is not an acceptable solution, since that is (in my opinion) an extremely useful error. If there is another way, without augmenting the pylint source, please point me to specifics :) See here for a summary of the problems I've had with pychecker and pyflakes -- they've proven to be far to unstable for general use. (In pychecker's case, the crashes originated in the pychecker code -- not source it was loading/invoking.)",Using Pylint with Django,116047,115977,5,"Try running pylint with pylint --ignored-classes=Tags If that works, add all the other Django classes - possibly using a script, in say, python :P The documentation for --ignore-classes is: --ignored-classes=&lt;members names&gt; List of classes names for which member attributes should not be checked (useful for classes with attributes dynamicaly set). [current: %default] I should add this is not a particular elegant solution in my view, but it should work."
115977,89,"I would very much like to integrate pylint into the build process for my python projects, but I have run into one show-stopper: One of the error types that I find extremely useful--:E1101: *%s %r has no %r member*--constantly reports errors when using common django fields, for example: E1101:125:get_user_tags: Class 'Tag' has no 'objects' member which is caused by this code: def get_user_tags(username): """""" Gets all the tags that username has used. Returns a query set. """""" return Tag.objects.filter( ## This line triggers the error. tagownership__users__username__exact=username).distinct() # Here is the Tag class, models.Model is provided by Django: class Tag(models.Model): """""" Model for user-defined strings that help categorize Events on on a per-user basis. """""" name = models.CharField(max_length=500, null=False, unique=True) def __unicode__(self): return self.name How can I tune Pylint to properly take fields such as objects into account? (I've also looked into the Django source, and I have been unable to find the implementation of objects, so I suspect it is not ""just"" a class field. On the other hand, I'm fairly new to python, so I may very well have overlooked something.) Edit: The only way I've found to tell pylint to not warn about these warnings is by blocking all errors of the type (E1101) which is not an acceptable solution, since that is (in my opinion) an extremely useful error. If there is another way, without augmenting the pylint source, please point me to specifics :) See here for a summary of the problems I've had with pychecker and pyflakes -- they've proven to be far to unstable for general use. (In pychecker's case, the crashes originated in the pychecker code -- not source it was loading/invoking.)",Using Pylint with Django,117299,115977,6,"I resigned from using pylint/pychecker in favor of using pyflakes with Django code - it just tries to import module and reports any problem it finds, like unused imports or uninitialized local names."
115977,89,"I would very much like to integrate pylint into the build process for my python projects, but I have run into one show-stopper: One of the error types that I find extremely useful--:E1101: *%s %r has no %r member*--constantly reports errors when using common django fields, for example: E1101:125:get_user_tags: Class 'Tag' has no 'objects' member which is caused by this code: def get_user_tags(username): """""" Gets all the tags that username has used. Returns a query set. """""" return Tag.objects.filter( ## This line triggers the error. tagownership__users__username__exact=username).distinct() # Here is the Tag class, models.Model is provided by Django: class Tag(models.Model): """""" Model for user-defined strings that help categorize Events on on a per-user basis. """""" name = models.CharField(max_length=500, null=False, unique=True) def __unicode__(self): return self.name How can I tune Pylint to properly take fields such as objects into account? (I've also looked into the Django source, and I have been unable to find the implementation of objects, so I suspect it is not ""just"" a class field. On the other hand, I'm fairly new to python, so I may very well have overlooked something.) Edit: The only way I've found to tell pylint to not warn about these warnings is by blocking all errors of the type (E1101) which is not an acceptable solution, since that is (in my opinion) an extremely useful error. If there is another way, without augmenting the pylint source, please point me to specifics :) See here for a summary of the problems I've had with pychecker and pyflakes -- they've proven to be far to unstable for general use. (In pychecker's case, the crashes originated in the pychecker code -- not source it was loading/invoking.)",Using Pylint with Django,118375,115977,7,"This is not a solution, but you can add objects = models.Manager() to your Django models without changing any behavior. I myself only use pyflakes, primarily due to some dumb defaults in pylint and laziness on my part (not wanting to look up how to change the defaults)."
115977,89,"I would very much like to integrate pylint into the build process for my python projects, but I have run into one show-stopper: One of the error types that I find extremely useful--:E1101: *%s %r has no %r member*--constantly reports errors when using common django fields, for example: E1101:125:get_user_tags: Class 'Tag' has no 'objects' member which is caused by this code: def get_user_tags(username): """""" Gets all the tags that username has used. Returns a query set. """""" return Tag.objects.filter( ## This line triggers the error. tagownership__users__username__exact=username).distinct() # Here is the Tag class, models.Model is provided by Django: class Tag(models.Model): """""" Model for user-defined strings that help categorize Events on on a per-user basis. """""" name = models.CharField(max_length=500, null=False, unique=True) def __unicode__(self): return self.name How can I tune Pylint to properly take fields such as objects into account? (I've also looked into the Django source, and I have been unable to find the implementation of objects, so I suspect it is not ""just"" a class field. On the other hand, I'm fairly new to python, so I may very well have overlooked something.) Edit: The only way I've found to tell pylint to not warn about these warnings is by blocking all errors of the type (E1101) which is not an acceptable solution, since that is (in my opinion) an extremely useful error. If there is another way, without augmenting the pylint source, please point me to specifics :) See here for a summary of the problems I've had with pychecker and pyflakes -- they've proven to be far to unstable for general use. (In pychecker's case, the crashes originated in the pychecker code -- not source it was loading/invoking.)",Using Pylint with Django,410860,115977,2,"So far I have found no real solution to that but work around: In our company we require a pylint score > 8. This allows coding practices pylint doesn't understand while ensuring that the code isn't too ""unusual"". So far we havn't seen any instance where E1101 kept us from reaching a score of 8 or higher. Our 'make check' targets filter out ""for has no 'objects' member"" messages to remove most of the distraction caused by pylint not understanding Django."
115977,89,"I would very much like to integrate pylint into the build process for my python projects, but I have run into one show-stopper: One of the error types that I find extremely useful--:E1101: *%s %r has no %r member*--constantly reports errors when using common django fields, for example: E1101:125:get_user_tags: Class 'Tag' has no 'objects' member which is caused by this code: def get_user_tags(username): """""" Gets all the tags that username has used. Returns a query set. """""" return Tag.objects.filter( ## This line triggers the error. tagownership__users__username__exact=username).distinct() # Here is the Tag class, models.Model is provided by Django: class Tag(models.Model): """""" Model for user-defined strings that help categorize Events on on a per-user basis. """""" name = models.CharField(max_length=500, null=False, unique=True) def __unicode__(self): return self.name How can I tune Pylint to properly take fields such as objects into account? (I've also looked into the Django source, and I have been unable to find the implementation of objects, so I suspect it is not ""just"" a class field. On the other hand, I'm fairly new to python, so I may very well have overlooked something.) Edit: The only way I've found to tell pylint to not warn about these warnings is by blocking all errors of the type (E1101) which is not an acceptable solution, since that is (in my opinion) an extremely useful error. If there is another way, without augmenting the pylint source, please point me to specifics :) See here for a summary of the problems I've had with pychecker and pyflakes -- they've proven to be far to unstable for general use. (In pychecker's case, the crashes originated in the pychecker code -- not source it was loading/invoking.)",Using Pylint with Django,1416297,115977,59,I use the following: pylint --generated-members=objects
115977,89,"I would very much like to integrate pylint into the build process for my python projects, but I have run into one show-stopper: One of the error types that I find extremely useful--:E1101: *%s %r has no %r member*--constantly reports errors when using common django fields, for example: E1101:125:get_user_tags: Class 'Tag' has no 'objects' member which is caused by this code: def get_user_tags(username): """""" Gets all the tags that username has used. Returns a query set. """""" return Tag.objects.filter( ## This line triggers the error. tagownership__users__username__exact=username).distinct() # Here is the Tag class, models.Model is provided by Django: class Tag(models.Model): """""" Model for user-defined strings that help categorize Events on on a per-user basis. """""" name = models.CharField(max_length=500, null=False, unique=True) def __unicode__(self): return self.name How can I tune Pylint to properly take fields such as objects into account? (I've also looked into the Django source, and I have been unable to find the implementation of objects, so I suspect it is not ""just"" a class field. On the other hand, I'm fairly new to python, so I may very well have overlooked something.) Edit: The only way I've found to tell pylint to not warn about these warnings is by blocking all errors of the type (E1101) which is not an acceptable solution, since that is (in my opinion) an extremely useful error. If there is another way, without augmenting the pylint source, please point me to specifics :) See here for a summary of the problems I've had with pychecker and pyflakes -- they've proven to be far to unstable for general use. (In pychecker's case, the crashes originated in the pychecker code -- not source it was loading/invoking.)",Using Pylint with Django,2456436,115977,18,django-lint is a nice tool which wraps pylint with django specific settings : http://chris-lamb.co.uk/projects/django-lint/ github project: https://github.com/lamby/django-lint
115977,89,"I would very much like to integrate pylint into the build process for my python projects, but I have run into one show-stopper: One of the error types that I find extremely useful--:E1101: *%s %r has no %r member*--constantly reports errors when using common django fields, for example: E1101:125:get_user_tags: Class 'Tag' has no 'objects' member which is caused by this code: def get_user_tags(username): """""" Gets all the tags that username has used. Returns a query set. """""" return Tag.objects.filter( ## This line triggers the error. tagownership__users__username__exact=username).distinct() # Here is the Tag class, models.Model is provided by Django: class Tag(models.Model): """""" Model for user-defined strings that help categorize Events on on a per-user basis. """""" name = models.CharField(max_length=500, null=False, unique=True) def __unicode__(self): return self.name How can I tune Pylint to properly take fields such as objects into account? (I've also looked into the Django source, and I have been unable to find the implementation of objects, so I suspect it is not ""just"" a class field. On the other hand, I'm fairly new to python, so I may very well have overlooked something.) Edit: The only way I've found to tell pylint to not warn about these warnings is by blocking all errors of the type (E1101) which is not an acceptable solution, since that is (in my opinion) an extremely useful error. If there is another way, without augmenting the pylint source, please point me to specifics :) See here for a summary of the problems I've had with pychecker and pyflakes -- they've proven to be far to unstable for general use. (In pychecker's case, the crashes originated in the pychecker code -- not source it was loading/invoking.)",Using Pylint with Django,4162971,115977,27,"My ~/.pylintrc contains [TYPECHECK] generated-members=REQUEST,acl_users,aq_parent,objects,_meta,id the last two are specifically for Django. Note that there is a bug in PyLint 0.21.1 which needs patching to make this work. Edit: After messing around with this a little more, I decided to hack PyLint just a tiny bit to allow me to expand the above into: [TYPECHECK] generated-members=REQUEST,acl_users,aq_parent,objects,_meta,id,[a-zA-Z]+_set I simply added: import re for pattern in self.config.generated_members: if re.match(pattern, node.attrname): return after the fix mentioned in the bug report (i.e., at line 129). Happy days!"
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,116194,116139,4,A docx is just a zip archive with lots of files inside. Maybe you can look at some of the contents of those files? Other than that you probably have to find a lib that understands the word format so that you can filter out things you're not interested in. A second choice would be to interop with word and do the search through it.
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,116197,116139,2,a docx file is essentially a zip file with an xml inside it. the xml contains the formatting but it also contains the text.
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,116199,116139,0,"You should be able to use the MSWord ActiveX interface to extract the text to search (or, possibly, do the search). I have no idea how you access ActiveX from Python though."
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,116217,116139,30,"More exactly, a .docx document is a Zip archive in OpenXML format: you have first to uncompress it. I downloaded a sample (Google: some search term filetype:docx) and after unzipping I found some folders. The word folder contains the document itself, in file document.xml."
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,118136,116139,1,"OLE Automation would probably be the easiest. You have to consider formatting, because the text could look like this in the XML: &lt;b&gt;Looking &lt;i&gt;for&lt;/i&gt; this &lt;u&gt;phrase&lt;/u&gt; There's no easy way to find that using a simple text scan."
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,118175,116139,14,"In this example, ""Course Outline.docx"" is a Word 2007 document, which does contain the word ""Windows"", and does not contain the phrase ""random other string"". &gt;&gt;&gt; import zipfile &gt;&gt;&gt; z = zipfile.ZipFile(""Course Outline.docx"") &gt;&gt;&gt; ""Windows"" in z.read(""word/document.xml"") True &gt;&gt;&gt; ""random other string"" in z.read(""word/document.xml"") False &gt;&gt;&gt; z.close() Basically, you just open the docx file (which is a zip archive) using zipfile, and find the content in the 'document.xml' file in the 'word' folder. If you wanted to be more sophisticated, you could then parse the XML, but if you're just looking for a phrase (which you know won't be a tag), then you can just look in the XML for the string."
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,138231,116139,0,Here is a example of using XLINQ to search throu a word document
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,215479,116139,0,You may also consider using the library from OpenXMLDeveloper.org
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,1737242,116139,13,"A problem with searching inside a Word document XML file is that the text can be split into elements at any character. It will certainly be split if formatting is different, for example as in Hello World. But it can be split at any point and that is valid in OOXML. So you will end up dealing with XML like this even if formatting does not change in the middle of the phrase! &lt;w:p w:rsidR=""00C07F31"" w:rsidRDefault=""003F6D7A""&gt; &lt;w:r w:rsidRPr=""003F6D7A""&gt; &lt;w:rPr&gt; &lt;w:b /&gt; &lt;/w:rPr&gt; &lt;w:t&gt;Hello&lt;/w:t&gt; &lt;/w:r&gt; &lt;w:r&gt; &lt;w:t xml:space=""preserve""&gt;World.&lt;/w:t&gt; &lt;/w:r&gt; &lt;/w:p&gt; You can of course load it into an XML DOM tree (not sure what this will be in Python) and ask to get text only as a string, but you could end up with many other ""dead ends"" just because the OOXML spec is around 6000 pages long and MS Word can write lots of ""stuff"" you don't expect. So you could end up writing your own document processing library. Or you can try using Aspose.Words. It is available as .NET and Java products. Both can be used from Python. One via COM Interop another via JPype. See Aspose.Words Programmers Guide, Utilize Aspose.Words in Other Programming Languages (sorry I can't post a second link, stackoverflow does not let me yet)."
116139,40,"I'd like to search a Word 2007 file (.docx) for a text string, e.g., ""some special phrase"" that could/would be found from a search within Word. Is there a way from Python to see the text? I have no interest in formatting - I just want to classify documents as having or not having ""some special phrase"".",How can I search a word in a Word 2007 .docx file?,1979864,116139,127,"After reading your post above, I made a 100% native Python docx module to solve this specific problem. # Import the module from docx import * # Open the .docx file document = opendocx('A document.docx') # Search returns true if found search(document,'your search string') The docx module is at https://python-docx.readthedocs.org/en/latest/"
116494,3,"How would one write a regular expression to use in python to split paragraphs? A paragraph is defined by 2 linebreaks (\n). But one can have any ammount of spaces/tabs together with the line breaks, and it still should be considered as a paragraph. I am using python so the solution can use python's regular expression syntax which is extended. (can make use of (?P...) stuff) Examples: the_str = 'paragraph1\n\nparagraph2' # splitting should yield ['paragraph1', 'paragraph2'] the_str = 'p1\n\t\np2\t\n\tstill p2\t \n \n\tp3' # should yield ['p1', 'p2\t\n\tstill p2', 'p3'] the_str = 'p1\n\n\n\tp2' # should yield ['p1', '\n\tp2'] The best I could come with is: r'[ \t\r\f\v]*\n[ \t\r\f\v]*\n[ \t\r\f\v]*' but that is ugly. Anything better? EDIT: Suggestions rejected: r'\s*?\n\s*?\n\s*?' -> That would make example 2 and 3 fail, since \s includes \n, so it would allow paragraph breaks with more than 2 \ns.",python regular expression to split paragraphs,116557,116494,0,"Almost the same, but using non-greedy quantifiers and taking advantage of the whitespace sequence. \s*?\n\s*?\n\s*?"
116494,3,"How would one write a regular expression to use in python to split paragraphs? A paragraph is defined by 2 linebreaks (\n). But one can have any ammount of spaces/tabs together with the line breaks, and it still should be considered as a paragraph. I am using python so the solution can use python's regular expression syntax which is extended. (can make use of (?P...) stuff) Examples: the_str = 'paragraph1\n\nparagraph2' # splitting should yield ['paragraph1', 'paragraph2'] the_str = 'p1\n\t\np2\t\n\tstill p2\t \n \n\tp3' # should yield ['p1', 'p2\t\n\tstill p2', 'p3'] the_str = 'p1\n\n\n\tp2' # should yield ['p1', '\n\tp2'] The best I could come with is: r'[ \t\r\f\v]*\n[ \t\r\f\v]*\n[ \t\r\f\v]*' but that is ugly. Anything better? EDIT: Suggestions rejected: r'\s*?\n\s*?\n\s*?' -> That would make example 2 and 3 fail, since \s includes \n, so it would allow paragraph breaks with more than 2 \ns.",python regular expression to split paragraphs,116621,116494,2,Are you trying to deduce the structure of a document in plain test? Are you doing what docutils does? You might be able to simply use the Docutils parser rather than roll your own.
116494,3,"How would one write a regular expression to use in python to split paragraphs? A paragraph is defined by 2 linebreaks (\n). But one can have any ammount of spaces/tabs together with the line breaks, and it still should be considered as a paragraph. I am using python so the solution can use python's regular expression syntax which is extended. (can make use of (?P...) stuff) Examples: the_str = 'paragraph1\n\nparagraph2' # splitting should yield ['paragraph1', 'paragraph2'] the_str = 'p1\n\t\np2\t\n\tstill p2\t \n \n\tp3' # should yield ['p1', 'p2\t\n\tstill p2', 'p3'] the_str = 'p1\n\n\n\tp2' # should yield ['p1', '\n\tp2'] The best I could come with is: r'[ \t\r\f\v]*\n[ \t\r\f\v]*\n[ \t\r\f\v]*' but that is ugly. Anything better? EDIT: Suggestions rejected: r'\s*?\n\s*?\n\s*?' -> That would make example 2 and 3 fail, since \s includes \n, so it would allow paragraph breaks with more than 2 \ns.",python regular expression to split paragraphs,116622,116494,3,"Unfortunately there's no nice way to write ""space but not a newline"". I think the best you can do is add some space with the x modifier and try to factor out the ugliness a bit, but that's questionable: (?x) (?: [ \t\r\f\v]*? \n ){2} [ \t\r\f\v]*? You could also try creating a subrule just for the character class and interpolating it three times."
116494,3,"How would one write a regular expression to use in python to split paragraphs? A paragraph is defined by 2 linebreaks (\n). But one can have any ammount of spaces/tabs together with the line breaks, and it still should be considered as a paragraph. I am using python so the solution can use python's regular expression syntax which is extended. (can make use of (?P...) stuff) Examples: the_str = 'paragraph1\n\nparagraph2' # splitting should yield ['paragraph1', 'paragraph2'] the_str = 'p1\n\t\np2\t\n\tstill p2\t \n \n\tp3' # should yield ['p1', 'p2\t\n\tstill p2', 'p3'] the_str = 'p1\n\n\n\tp2' # should yield ['p1', '\n\tp2'] The best I could come with is: r'[ \t\r\f\v]*\n[ \t\r\f\v]*\n[ \t\r\f\v]*' but that is ugly. Anything better? EDIT: Suggestions rejected: r'\s*?\n\s*?\n\s*?' -> That would make example 2 and 3 fail, since \s includes \n, so it would allow paragraph breaks with more than 2 \ns.",python regular expression to split paragraphs,123806,116494,1,"Not a regexp but really elegant: from itertools import groupby def paragraph(lines) : for group_separator, line_iteration in groupby(lines.splitlines(True), key = str.isspace) : if not group_separator : yield ''.join(line_iteration) for p in paragraph('p1\n\t\np2\t\n\tstill p2\t \n \n\tp'): print repr(p) 'p1\n' 'p2\t\n\tstill p2\t \n' '\tp3' It's up to you to strip the output as you need it of course. Inspired from the famous ""Python Cookbook"" ;-)"
116657,23,"I want to create a mac osx application from python package and then put it in a disk image. Because I load some resources out of the package, the package should not reside in a zip file. The resulting disk image should display the background picture to ""drag here -> applications"" for installation.",How do you create an osx application/dmg from a python package?,116901,116657,7,"I don't know the correct way to do it, but this manual method is the approach I've used for simple scripts which seems to have preformed suitably. I'll assume that whatever directory I'm in, the Python files for my program are in the relative src/ directory, and that the file I want to execute (which has the proper shebang and execute permissions) is named main.py. $ mkdir -p MyApplication.app/Contents/MacOS $ mv src/* MyApplication.app/Contents/MacOS $ cd MyApplication.app/Contents/MacOS $ mv main.py MyApplication At this point we have an application bundle which, as far as I know, should work on any Mac OS system with Python installed (which I think it has by default). It doesn't have an icon or anything, that requires adding some more metadata to the package which is unnecessary for my purposes and I'm not familiar with. To create the drag-and-drop installer is quite simple. Use Disk Utility to create a New Disk Image of approximately the size you require to store your application. Open it up, copy your application and an alias of /Applications to the drive, then use View Options to position them as you want. The drag-and-drop message is just a background of the disk image, which you can also specify in View Options. I haven't done it before, but I'd assume that after you whip up an image in your editor of choice you could copy it over, set it as the background and then use chflags hidden to prevent it from cluttering up your nice window. I know these aren't the clearest, simplest or most detailed instructions out there, but I hope somebody may find them useful."
116894,3,"I am writing a simple Python web application that consists of several pages of business data formatted for the iPhone. I'm comfortable programming Python, but I'm not very familiar with Python ""idiom,"" especially regarding classes and objects. Python's object oriented design differs somewhat from other languages I've worked with. So, even though my application is working, I'm curious whether there is a better way to accomplish my goals. Specifics: How does one typically implement the request-transform-render database workflow in Python? Currently, I am using pyodbc to fetch data, copying the results into attributes on an object, performing some calculations and merges using a list of these objects, then rendering the output from the list of objects. (Sample code below, SQL queries redacted.) Is this sane? Is there a better way? Are there any specific ""gotchas"" I've stumbled into in my relative ignorance of Python? I'm particularly concerned about how I've implemented the list of rows using the empty ""Record"" class. class Record(object): pass def calculate_pnl(records, node_prices): for record in records: try: # fill RT and DA prices from the hash retrieved above if hasattr(record, 'sink') and record.sink: record.da = node_prices[record.sink][0] - node_prices[record.id][0] record.rt = node_prices[record.sink][1] - node_prices[record.id][1] else: record.da = node_prices[record.id][0] record.rt = node_prices[record.id][1] # calculate dependent values: RT-DA and PNL record.rtda = record.rt - record.da record.pnl = record.rtda * record.mw except: print sys.exc_info() def map_rows(cursor, mappings, callback=None): records = [] for row in cursor: record = Record() for field, attr in mappings.iteritems(): setattr(record, attr, getattr(row, field, None)) if not callback or callback(record): records.append(record) return records def get_positions(cursor): # get the latest position time cursor.execute(""SELECT latest data time"") time = cursor.fetchone().time hour = eelib.util.get_hour_ending(time) # fetch the current positions cursor.execute(""SELECT stuff FROM atable"", (hour)) # read the rows nodes = {} def record_callback(record): if abs(record.mw) &gt; 0: if record.id: nodes[record.id] = None return True else: return False records = util.map_rows(cursor, { 'id': 'id', 'name': 'name', 'mw': 'mw' }, record_callback) # query prices for node_id in nodes: # RT price row = cursor.execute(""SELECT price WHERE ? ? ?"", (node_id, time, time)).fetchone() rt5 = row.lmp if row else None # DA price row = cursor.execute(""SELECT price WHERE ? ? ?"", (node_id, hour, hour)).fetchone() da = row.da_lmp if row else None # update the hash value nodes[node_id] = (da, rt5) # calculate the position pricing calculate_pnl(records, nodes) # sort records.sort(key=lambda r: r.name) # return the records return records",Best practices for manipulating database result sets in Python?,116974,116894,1,"Have you considered using an ORM? SQLAlchemy is pretty good, and Elixir makes it beautiful. It can really reduce the ammount of boilerplate code needed to deal with databases. Also, a lot of the gotchas mentioned have already shown up and the SQLAlchemy developers dealt with them."
116894,3,"I am writing a simple Python web application that consists of several pages of business data formatted for the iPhone. I'm comfortable programming Python, but I'm not very familiar with Python ""idiom,"" especially regarding classes and objects. Python's object oriented design differs somewhat from other languages I've worked with. So, even though my application is working, I'm curious whether there is a better way to accomplish my goals. Specifics: How does one typically implement the request-transform-render database workflow in Python? Currently, I am using pyodbc to fetch data, copying the results into attributes on an object, performing some calculations and merges using a list of these objects, then rendering the output from the list of objects. (Sample code below, SQL queries redacted.) Is this sane? Is there a better way? Are there any specific ""gotchas"" I've stumbled into in my relative ignorance of Python? I'm particularly concerned about how I've implemented the list of rows using the empty ""Record"" class. class Record(object): pass def calculate_pnl(records, node_prices): for record in records: try: # fill RT and DA prices from the hash retrieved above if hasattr(record, 'sink') and record.sink: record.da = node_prices[record.sink][0] - node_prices[record.id][0] record.rt = node_prices[record.sink][1] - node_prices[record.id][1] else: record.da = node_prices[record.id][0] record.rt = node_prices[record.id][1] # calculate dependent values: RT-DA and PNL record.rtda = record.rt - record.da record.pnl = record.rtda * record.mw except: print sys.exc_info() def map_rows(cursor, mappings, callback=None): records = [] for row in cursor: record = Record() for field, attr in mappings.iteritems(): setattr(record, attr, getattr(row, field, None)) if not callback or callback(record): records.append(record) return records def get_positions(cursor): # get the latest position time cursor.execute(""SELECT latest data time"") time = cursor.fetchone().time hour = eelib.util.get_hour_ending(time) # fetch the current positions cursor.execute(""SELECT stuff FROM atable"", (hour)) # read the rows nodes = {} def record_callback(record): if abs(record.mw) &gt; 0: if record.id: nodes[record.id] = None return True else: return False records = util.map_rows(cursor, { 'id': 'id', 'name': 'name', 'mw': 'mw' }, record_callback) # query prices for node_id in nodes: # RT price row = cursor.execute(""SELECT price WHERE ? ? ?"", (node_id, time, time)).fetchone() rt5 = row.lmp if row else None # DA price row = cursor.execute(""SELECT price WHERE ? ? ?"", (node_id, hour, hour)).fetchone() da = row.da_lmp if row else None # update the hash value nodes[node_id] = (da, rt5) # calculate the position pricing calculate_pnl(records, nodes) # sort records.sort(key=lambda r: r.name) # return the records return records",Best practices for manipulating database result sets in Python?,117012,116894,-2,"Using a ORM for an iPhone app might be a bad idea because of performance issues, you want your code to be as fast as possible. So you can't avoid boilerplate code. If you are considering a ORM, besides SQLAlchemy I'd recommend Storm."
116894,3,"I am writing a simple Python web application that consists of several pages of business data formatted for the iPhone. I'm comfortable programming Python, but I'm not very familiar with Python ""idiom,"" especially regarding classes and objects. Python's object oriented design differs somewhat from other languages I've worked with. So, even though my application is working, I'm curious whether there is a better way to accomplish my goals. Specifics: How does one typically implement the request-transform-render database workflow in Python? Currently, I am using pyodbc to fetch data, copying the results into attributes on an object, performing some calculations and merges using a list of these objects, then rendering the output from the list of objects. (Sample code below, SQL queries redacted.) Is this sane? Is there a better way? Are there any specific ""gotchas"" I've stumbled into in my relative ignorance of Python? I'm particularly concerned about how I've implemented the list of rows using the empty ""Record"" class. class Record(object): pass def calculate_pnl(records, node_prices): for record in records: try: # fill RT and DA prices from the hash retrieved above if hasattr(record, 'sink') and record.sink: record.da = node_prices[record.sink][0] - node_prices[record.id][0] record.rt = node_prices[record.sink][1] - node_prices[record.id][1] else: record.da = node_prices[record.id][0] record.rt = node_prices[record.id][1] # calculate dependent values: RT-DA and PNL record.rtda = record.rt - record.da record.pnl = record.rtda * record.mw except: print sys.exc_info() def map_rows(cursor, mappings, callback=None): records = [] for row in cursor: record = Record() for field, attr in mappings.iteritems(): setattr(record, attr, getattr(row, field, None)) if not callback or callback(record): records.append(record) return records def get_positions(cursor): # get the latest position time cursor.execute(""SELECT latest data time"") time = cursor.fetchone().time hour = eelib.util.get_hour_ending(time) # fetch the current positions cursor.execute(""SELECT stuff FROM atable"", (hour)) # read the rows nodes = {} def record_callback(record): if abs(record.mw) &gt; 0: if record.id: nodes[record.id] = None return True else: return False records = util.map_rows(cursor, { 'id': 'id', 'name': 'name', 'mw': 'mw' }, record_callback) # query prices for node_id in nodes: # RT price row = cursor.execute(""SELECT price WHERE ? ? ?"", (node_id, time, time)).fetchone() rt5 = row.lmp if row else None # DA price row = cursor.execute(""SELECT price WHERE ? ? ?"", (node_id, hour, hour)).fetchone() da = row.da_lmp if row else None # update the hash value nodes[node_id] = (da, rt5) # calculate the position pricing calculate_pnl(records, nodes) # sort records.sort(key=lambda r: r.name) # return the records return records",Best practices for manipulating database result sets in Python?,117769,116894,0,"Depending on how much you want to do with the data you may not need to populate an intermediate object. The cursor's header data structure will let you get the column names - a bit of introspection will let you make a dictionary with col-name:value pairs for the row. You can pass the dictionary to the % operator. The docs for the odbc module will explain how to get at the column metadata. This snippet of code to shows the application of the % operator in this manner. &gt;&gt;&gt; a={'col1': 'foo', 'col2': 'bar', 'col3': 'wibble'} &gt;&gt;&gt; 'Col1=%(col1)s, Col2=%(col2)s, Col3=%(col3)s' % a 'Col1=foo, Col2=bar, Col3=wibble' &gt;&gt;&gt;"
116894,3,"I am writing a simple Python web application that consists of several pages of business data formatted for the iPhone. I'm comfortable programming Python, but I'm not very familiar with Python ""idiom,"" especially regarding classes and objects. Python's object oriented design differs somewhat from other languages I've worked with. So, even though my application is working, I'm curious whether there is a better way to accomplish my goals. Specifics: How does one typically implement the request-transform-render database workflow in Python? Currently, I am using pyodbc to fetch data, copying the results into attributes on an object, performing some calculations and merges using a list of these objects, then rendering the output from the list of objects. (Sample code below, SQL queries redacted.) Is this sane? Is there a better way? Are there any specific ""gotchas"" I've stumbled into in my relative ignorance of Python? I'm particularly concerned about how I've implemented the list of rows using the empty ""Record"" class. class Record(object): pass def calculate_pnl(records, node_prices): for record in records: try: # fill RT and DA prices from the hash retrieved above if hasattr(record, 'sink') and record.sink: record.da = node_prices[record.sink][0] - node_prices[record.id][0] record.rt = node_prices[record.sink][1] - node_prices[record.id][1] else: record.da = node_prices[record.id][0] record.rt = node_prices[record.id][1] # calculate dependent values: RT-DA and PNL record.rtda = record.rt - record.da record.pnl = record.rtda * record.mw except: print sys.exc_info() def map_rows(cursor, mappings, callback=None): records = [] for row in cursor: record = Record() for field, attr in mappings.iteritems(): setattr(record, attr, getattr(row, field, None)) if not callback or callback(record): records.append(record) return records def get_positions(cursor): # get the latest position time cursor.execute(""SELECT latest data time"") time = cursor.fetchone().time hour = eelib.util.get_hour_ending(time) # fetch the current positions cursor.execute(""SELECT stuff FROM atable"", (hour)) # read the rows nodes = {} def record_callback(record): if abs(record.mw) &gt; 0: if record.id: nodes[record.id] = None return True else: return False records = util.map_rows(cursor, { 'id': 'id', 'name': 'name', 'mw': 'mw' }, record_callback) # query prices for node_id in nodes: # RT price row = cursor.execute(""SELECT price WHERE ? ? ?"", (node_id, time, time)).fetchone() rt5 = row.lmp if row else None # DA price row = cursor.execute(""SELECT price WHERE ? ? ?"", (node_id, hour, hour)).fetchone() da = row.da_lmp if row else None # update the hash value nodes[node_id] = (da, rt5) # calculate the position pricing calculate_pnl(records, nodes) # sort records.sort(key=lambda r: r.name) # return the records return records",Best practices for manipulating database result sets in Python?,117994,116894,1,"The empty Record class and the free-floating function that (generally) applies to an individual Record is a hint that you haven't designed your class properly. class Record( object ): """"""Assuming rtda and pnl must exist."""""" def __init__( self ): self.da= 0 self.rt= 0 self.rtda= 0 # or whatever self.pnl= None # self.sink = None # Not clear what this is def setPnl( self, node_prices ): # fill RT and DA prices from the hash retrieved above # calculate dependent values: RT-DA and PNL Now, your calculate_pnl( records, node_prices ) is simpler and uses the object properly. def calculate_pnl( records, node_prices ): for record in records: record.setPnl( node_prices ) The point isn't to trivially refactor the code in small ways. The point is this: A Class Encapsulates Responsibility. Yes, an empty-looking class is usually a problem. It means the responsibilities are scattered somewhere else. A similar analysis holds for the collection of records. This is more than a simple list, since the collection -- as a whole -- has operations it performs. The ""Request-Transform-Render"" isn't quite right. You have a Model (the Record class). Instances of the Model get built (possibly because of a Request.) The Model objects are responsible for their own state transformations and updates. Perhaps they get displayed (or rendered) by some object that examines their state. It's that ""Transform"" step that often violates good design by scattering responsibility all over the place. ""Transform"" is a hold-over from non-object design, where responsibility was a nebulous concept."
117014,18,"How can I retrieve the name of the currently logged in user, using a python script? The function should work regardless of whether it is a domain/ad user or a local user.",How to Retrieve name of current Windows User (AD or local) using Python?,117047,117014,26,"Try this: import os; print os.environ.get( ""USERNAME"" ) That should do the job."
117014,18,"How can I retrieve the name of the currently logged in user, using a python script? The function should work regardless of whether it is a domain/ad user or a local user.",How to Retrieve name of current Windows User (AD or local) using Python?,117092,117014,1,"I don't know Python, but for windows the underlying api is GetUserNameEx, I assume you can call that in Python if os.environ.get( ""USERNAME"" ) doesn't tell you everything you need to know."
117014,18,"How can I retrieve the name of the currently logged in user, using a python script? The function should work regardless of whether it is a domain/ad user or a local user.",How to Retrieve name of current Windows User (AD or local) using Python?,1992923,117014,2,win32api.GetUserName() win32api.GetUserNameEx(...) See: http://timgolden.me.uk/python/win32_how_do_i/get-the-owner-of-a-file.html
117127,2,"Please excuse the vague title. If anyone has a suggestion, please let me know! Also please retag with more appropriate tags! The Problem I want to have an instance of an imported class be able to view things in the scope (globals, locals) of the importer. Since I'm not sure of the exact mechanism at work here, I can describe it much better with snippets than words. ## File 1 def f1(): print ""go f1!"" class C1(object): def do_eval(self,x): # maybe this should be do_evil, given what happens print ""evaling"" eval(x) eval(x,globals(),locals()) Then run this code from an iteractive session, there there will be lots of NameErrors ## interactive class C2(object): def do_eval(self,x): # maybe this should be do_evil, given what happens print ""evaling"" eval(x) eval(x,globals(),locals()) def f2(): print ""go f2!"" from file1 import C1 import file1 C1().do_eval('file1.f1()') C1().do_eval('f1()') C1().do_eval('f2()') file1.C1().do_eval('file1.f1()') file1.C1().do_eval('f1()') file1.C1().do_eval('f2()') C2().do_eval('f2()') C2().do_eval('file1.f1()') C2().do_eval('f1()') Is there a common idiom / pattern for this sort of task? Am I barking up the wrong tree entirely?",What is the scope for imported classes in python?,117174,117127,1,"Functions are always executed in the scope they are defined in, as are methods and class bodies. They are never executed in another scope. Because importing is just another assignment statement, and everything in Python is a reference, the functions, classes and modules don't even know where they are imported to. You can do two things: explicitly pass the 'environment' you want them to use, or use stack hackery to access their caller's namespace. The former is vastly preferred over the latter, as it's not as implementation-dependent and fragile as the latter. You may wish to look at the string.Template class, which tries to do something similar."
117127,2,"Please excuse the vague title. If anyone has a suggestion, please let me know! Also please retag with more appropriate tags! The Problem I want to have an instance of an imported class be able to view things in the scope (globals, locals) of the importer. Since I'm not sure of the exact mechanism at work here, I can describe it much better with snippets than words. ## File 1 def f1(): print ""go f1!"" class C1(object): def do_eval(self,x): # maybe this should be do_evil, given what happens print ""evaling"" eval(x) eval(x,globals(),locals()) Then run this code from an iteractive session, there there will be lots of NameErrors ## interactive class C2(object): def do_eval(self,x): # maybe this should be do_evil, given what happens print ""evaling"" eval(x) eval(x,globals(),locals()) def f2(): print ""go f2!"" from file1 import C1 import file1 C1().do_eval('file1.f1()') C1().do_eval('f1()') C1().do_eval('f2()') file1.C1().do_eval('file1.f1()') file1.C1().do_eval('f1()') file1.C1().do_eval('f2()') C2().do_eval('f2()') C2().do_eval('file1.f1()') C2().do_eval('f1()') Is there a common idiom / pattern for this sort of task? Am I barking up the wrong tree entirely?",What is the scope for imported classes in python?,117433,117127,1,"In this example, you can simply hand over functions as objects to the methods in C1: &gt;&gt;&gt; class C1(object): &gt;&gt;&gt; def eval(self, x): &gt;&gt;&gt; x() &gt;&gt;&gt; &gt;&gt;&gt; def f2(): print ""go f2"" &gt;&gt;&gt; c = C1() &gt;&gt;&gt; c.eval(f2) go f2 In Python, you can pass functions and classes to other methods and invoke/create them there. If you want to actually evaluate a code string, you have to specify the environment, as already mentioned by Thomas. Your module from above, slightly changed: ## File 1 def f1(): print ""go f1!"" class C1(object): def do_eval(self, x, e_globals = globals(), e_locals = locals()): eval(x, e_globals, e_locals) Now, in the interactive interpreter: &gt;&gt;&gt; def f2(): &gt;&gt;&gt; print ""go f2!"" &gt;&gt;&gt; from file1 import * # 1 &gt;&gt;&gt; C1().do_eval(""f2()"") # 2 NameError: name 'f2' is not defined &gt;&gt;&gt; C1().do_eval(""f2()"", globals(), locals()) #3 go f2! &gt;&gt;&gt; C1().do_eval(""f1()"", globals(), locals()) #4 go f1! Some annotations Here, we insert all objects from file1 into this module's namespace f2 is not in the namespace of file1, therefore we get a NameError Now we pass the environment explictly, and the code can be evaluated f1 is in the namespace of this module, because we imported it Edit: Added code sample on how to explicitly pass environment for eval."
117167,4,"In PHP I simply write: $bob = $_POST['bob']; How do I do the same in Python? And yes, I do normally check that it exists etc, I'm just stripping it down specifically to the functionality I am after. Edit: I am not using a framework",Python and POST data,117201,117167,10,"The simplest method is the 'cgi' module: import cgi data = cgi.FieldStorage() data['bob'] But the context you are executing in (frameworks you're using, WSGI or even (heaven forbid) mod_python) may have different, more efficient or more direct methods of access."
117211,2,"I have a Tix.ComboBox with an editable text field. How do I force the variable holding the value for the text to update? Let me give a more concrete explanation. I have a combo box and a button. When I click the button, it pops up a message box with the value of the combo box. Let's say the combo box text field currently has the value ""thing1"". If I type ""new"" into the box and then click on the button with my mouse, it will pops up the message ""thing1"". If I type ""new"" in the box and then tab focus away from the combo box and then click the button the pop up message says ""new"". Ho do I force the combo box to update it's value to new without requiring that I tab away from the combo box? I have included sample code. import Tix import tkMessageBox class App(object): def __init__(self, window): window.winfo_toplevel().wm_title(""test"") self.window = window self.combo = Tix.ComboBox(window) self.combo.insert(Tix.END, 'thing1') self.combo.insert(Tix.END, 'thing2') self.combo.entry['state'] = ""normal"" self.combo['editable'] = True self.combo.pack() button = Tix.Button(window) button['text'] = ""Go"" button['command'] = self.go button.pack() def go(self): tkMessageBox.showinfo('info', self.combo['value']) if __name__ == '__main__': root = Tix.Tk() App(root) root.mainloop()",How to update a Tix.ComboBox's text?,117384,117211,5,woo! solved it on my own. Use self.combo['selection'] instead of self.combo['value']
117211,2,"I have a Tix.ComboBox with an editable text field. How do I force the variable holding the value for the text to update? Let me give a more concrete explanation. I have a combo box and a button. When I click the button, it pops up a message box with the value of the combo box. Let's say the combo box text field currently has the value ""thing1"". If I type ""new"" into the box and then click on the button with my mouse, it will pops up the message ""thing1"". If I type ""new"" in the box and then tab focus away from the combo box and then click the button the pop up message says ""new"". Ho do I force the combo box to update it's value to new without requiring that I tab away from the combo box? I have included sample code. import Tix import tkMessageBox class App(object): def __init__(self, window): window.winfo_toplevel().wm_title(""test"") self.window = window self.combo = Tix.ComboBox(window) self.combo.insert(Tix.END, 'thing1') self.combo.insert(Tix.END, 'thing2') self.combo.entry['state'] = ""normal"" self.combo['editable'] = True self.combo.pack() button = Tix.Button(window) button['text'] = ""Go"" button['command'] = self.go button.pack() def go(self): tkMessageBox.showinfo('info', self.combo['value']) if __name__ == '__main__': root = Tix.Tk() App(root) root.mainloop()",How to update a Tix.ComboBox's text?,207117,117211,1,NOTE: copy of Moe's answer that can be selected as chosen answer woo! solved it on my own. Use self.combo['selection'] instead of self.combo['value']
117250,31,"For example, the standard division symbol '/' rounds to zero: &gt;&gt;&gt; 4 / 100 0 However, I want it to return 0.04. What do I use?",How do I get a decimal value when using the division operator in Python?,117256,117250,1,Try 4.0/100
117250,31,"For example, the standard division symbol '/' rounds to zero: &gt;&gt;&gt; 4 / 100 0 However, I want it to return 0.04. What do I use?",How do I get a decimal value when using the division operator in Python?,117257,117250,1,A simple route 4 / 100.0 or 4.0 / 100
117250,31,"For example, the standard division symbol '/' rounds to zero: &gt;&gt;&gt; 4 / 100 0 However, I want it to return 0.04. What do I use?",How do I get a decimal value when using the division operator in Python?,117258,117250,3,"You need to tell Python to use floating point values, not integers. You can do that simply by using a decimal point yourself in the inputs: &gt;&gt;&gt; 4/100.0 0.040000000000000001"
117250,31,"For example, the standard division symbol '/' rounds to zero: &gt;&gt;&gt; 4 / 100 0 However, I want it to return 0.04. What do I use?",How do I get a decimal value when using the division operator in Python?,117264,117250,79,"There are three options: &gt;&gt;&gt; 4 / float(100) 0.04 &gt;&gt;&gt; 4 / 100.0 0.04 which is the same behavior as the C, C++, Java etc, or &gt;&gt;&gt; from __future__ import division &gt;&gt;&gt; 4 / 100 0.04 You can also activate this behavior by passing the argument -Qnew to the Python interpreter: $ python -Qnew &gt;&gt;&gt; 4 / 100 0.04 The second option will be the default in Python 3.0. If you want to have the old integer division, you have to use the // operator. Edit: added section about -Qnew, thanks to Î¤ÎÎ©Î¤ÎÎÎÎ¥!"
117250,31,"For example, the standard division symbol '/' rounds to zero: &gt;&gt;&gt; 4 / 100 0 However, I want it to return 0.04. What do I use?",How do I get a decimal value when using the division operator in Python?,117270,117250,7,"Make one or both of the terms a floating point number, like so: 4.0/100.0 Alternatively, turn on the feature that will be default in Python 3.0, 'true division', that does what you want. At the top of your module or script, do: from __future__ import division"
117250,31,"For example, the standard division symbol '/' rounds to zero: &gt;&gt;&gt; 4 / 100 0 However, I want it to return 0.04. What do I use?",How do I get a decimal value when using the division operator in Python?,117285,117250,0,"You cant get a decimal value by dividing one integer with another, you'll allways get an integer that way (result truncated to integer). You need at least one value to be a decimal number."
117250,31,"For example, the standard division symbol '/' rounds to zero: &gt;&gt;&gt; 4 / 100 0 However, I want it to return 0.04. What do I use?",How do I get a decimal value when using the division operator in Python?,117682,117250,21,"Other answers suggest how to get a floating-point value. While this wlil be close to what you want, it won't be exact: &gt;&gt;&gt; 0.4/100. 0.0040000000000000001 If you actually want a decimal value, do this: &gt;&gt;&gt; import decimal &gt;&gt;&gt; decimal.Decimal('4') / decimal.Decimal('100') Decimal(""0.04"") That will give you an object that properly knows that 4 / 100 in base 10 is ""0.04"". Floating-point numbers are actually in base 2, i.e. binary, not decimal."
117250,31,"For example, the standard division symbol '/' rounds to zero: &gt;&gt;&gt; 4 / 100 0 However, I want it to return 0.04. What do I use?",How do I get a decimal value when using the division operator in Python?,117806,117250,2,"You might want to look at Python's decimal package, also. This will provide nice decimal results. &gt;&gt;&gt; decimal.Decimal('4')/100 Decimal(""0.04"")"
117477,10,"A while ago I came across a Python library that formats regular text to HTML similar to Markdown, reStructuredText and Textile, just that it had no syntax at all. It detected indentatations, quotes, links and newlines/paragraphs only. Unfortunately I lost the name of the library and was unable to Google it. Anyone any ideas? Edit: reStructuredText aka rst == docutils. That's not what I'm looking for :)",What's the Name of the Python Module that Formats arbitrary Text to nicely looking HTML?,117543,117477,0,"Sphinx is a documentation generator using reStructuredText. It's quite nice, although I haven't used it personally. The website Hazel Tree, which compiles python text uses Sphinx, and so does the new Python documentation."
117477,10,"A while ago I came across a Python library that formats regular text to HTML similar to Markdown, reStructuredText and Textile, just that it had no syntax at all. It detected indentatations, quotes, links and newlines/paragraphs only. Unfortunately I lost the name of the library and was unable to Google it. Anyone any ideas? Edit: reStructuredText aka rst == docutils. That's not what I'm looking for :)",What's the Name of the Python Module that Formats arbitrary Text to nicely looking HTML?,117819,117477,1,"Markdown in python is a python implementation of the perl based markdown utility. Markown converts various forms of structured text to valid html, and one of the supported forms is just plain ascii. Use is pretty straight forward. python markdown.py input_file.txt &gt; output_file.html Markdown can be easily called as a module too: import markdown html = markdown.markdown(your_text_string)"
117477,10,"A while ago I came across a Python library that formats regular text to HTML similar to Markdown, reStructuredText and Textile, just that it had no syntax at all. It detected indentatations, quotes, links and newlines/paragraphs only. Unfortunately I lost the name of the library and was unable to Google it. Anyone any ideas? Edit: reStructuredText aka rst == docutils. That's not what I'm looking for :)",What's the Name of the Python Module that Formats arbitrary Text to nicely looking HTML?,117824,117477,14,Okay. I found it now. It's called PottyMouth.
117514,37,"How do I properly represent a different timezone in my timezone? The below example only works because I know that EDT is one hour ahead of me, so I can uncomment the subtraction of myTimeZone() import datetime, re from datetime import tzinfo class myTimeZone(tzinfo): """"""docstring for myTimeZone"""""" def utfoffset(self, dt): return timedelta(hours=1) def myDateHandler(aDateString): """"""u'Sat, 6 Sep 2008 21:16:33 EDT'"""""" _my_date_pattern = re.compile(r'\w+\,\s+(\d+)\s+(\w+)\s+(\d+)\s+(\d+)\:(\d+)\:(\d+)') day, month, year, hour, minute, second = _my_date_pattern.search(aDateString).groups() month = [ 'JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC' ].index(month.upper()) + 1 dt = datetime.datetime( int(year), int(month), int(day), int(hour), int(minute), int(second) ) # dt = dt - datetime.timedelta(hours=1) # dt = dt - dt.tzinfo.utfoffset(myTimeZone()) return (dt.year, dt.month, dt.day, dt.hour, dt.minute, dt.second, 0, 0, 0) def main(): print myDateHandler(""Sat, 6 Sep 2008 21:16:33 EDT"") if __name__ == '__main__': main()",How do I use timezones with a datetime object in python?,117523,117514,9,"The Python standard library doesn't contain timezone information, because unfortunately timezone data changes a lot faster than Python. You need a third-party module for this; the usual choice is pytz"
117514,37,"How do I properly represent a different timezone in my timezone? The below example only works because I know that EDT is one hour ahead of me, so I can uncomment the subtraction of myTimeZone() import datetime, re from datetime import tzinfo class myTimeZone(tzinfo): """"""docstring for myTimeZone"""""" def utfoffset(self, dt): return timedelta(hours=1) def myDateHandler(aDateString): """"""u'Sat, 6 Sep 2008 21:16:33 EDT'"""""" _my_date_pattern = re.compile(r'\w+\,\s+(\d+)\s+(\w+)\s+(\d+)\s+(\d+)\:(\d+)\:(\d+)') day, month, year, hour, minute, second = _my_date_pattern.search(aDateString).groups() month = [ 'JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC' ].index(month.upper()) + 1 dt = datetime.datetime( int(year), int(month), int(day), int(hour), int(minute), int(second) ) # dt = dt - datetime.timedelta(hours=1) # dt = dt - dt.tzinfo.utfoffset(myTimeZone()) return (dt.year, dt.month, dt.day, dt.hour, dt.minute, dt.second, 0, 0, 0) def main(): print myDateHandler(""Sat, 6 Sep 2008 21:16:33 EDT"") if __name__ == '__main__': main()",How do I use timezones with a datetime object in python?,117615,117514,36,I recommend babel and pytz when working with timezones. Keep your internal datetime objects naive and in UTC and convert to your timezone for formatting only. The reason why you probably want naive objects (objects without timezone information) is that many libraries and database adapters have no idea about timezones. Babel pytz
117514,37,"How do I properly represent a different timezone in my timezone? The below example only works because I know that EDT is one hour ahead of me, so I can uncomment the subtraction of myTimeZone() import datetime, re from datetime import tzinfo class myTimeZone(tzinfo): """"""docstring for myTimeZone"""""" def utfoffset(self, dt): return timedelta(hours=1) def myDateHandler(aDateString): """"""u'Sat, 6 Sep 2008 21:16:33 EDT'"""""" _my_date_pattern = re.compile(r'\w+\,\s+(\d+)\s+(\w+)\s+(\d+)\s+(\d+)\:(\d+)\:(\d+)') day, month, year, hour, minute, second = _my_date_pattern.search(aDateString).groups() month = [ 'JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC' ].index(month.upper()) + 1 dt = datetime.datetime( int(year), int(month), int(day), int(hour), int(minute), int(second) ) # dt = dt - datetime.timedelta(hours=1) # dt = dt - dt.tzinfo.utfoffset(myTimeZone()) return (dt.year, dt.month, dt.day, dt.hour, dt.minute, dt.second, 0, 0, 0) def main(): print myDateHandler(""Sat, 6 Sep 2008 21:16:33 EDT"") if __name__ == '__main__': main()",How do I use timezones with a datetime object in python?,1893437,117514,7,"For the current local timezone, you can you use: &gt;&gt;&gt; import time &gt;&gt;&gt; offset = time.timezone if (time.localtime().tm_isdst == 0) else time.altzone &gt;&gt;&gt; offset / 60 / 60 * -1 -9 The value returned is in seconds West of UTC (with areas East of UTC getting a negative value). This is the opposite to how we'd actually like it, hence the * -1. localtime().tm_isdst will be zero if daylight savings is currently not in effect (although this may not be correct if an area has recently changed their daylight savings law)."
117732,4,"Take this simple C# LINQ query, and imagine that 'db.Numbers' is an SQL table with one column, Number: var result = from n in db.Numbers where n.Number &lt; 5 select n.Number; This will run very efficiently in C#, because it generates an SQL query something like ""select Number from Numbers where Number &lt; 5"". What it doesn't do is select all the numbers from the database, and then filter them in C#, as it might appear to do at first. Python supports a similar syntax: result = [n.Number for n in Numbers if n.Number &lt; 5] But it the ""if"" clause here does the filtering on the client side, rather than the server side, which is much less efficient. Is there something as efficient as LINQ in Python? (I'm currently evaluating Python vs. IronPython vs. Boo, so an answer that works in any of those languages is fine.)",Can you do LINQ-like queries in a language like Python or Boo?,117794,117732,5,Look closely at SQLAlchemy. This can probably do much of what you want. It gives you Python syntax for plain-old SQL that runs on the server.
117732,4,"Take this simple C# LINQ query, and imagine that 'db.Numbers' is an SQL table with one column, Number: var result = from n in db.Numbers where n.Number &lt; 5 select n.Number; This will run very efficiently in C#, because it generates an SQL query something like ""select Number from Numbers where Number &lt; 5"". What it doesn't do is select all the numbers from the database, and then filter them in C#, as it might appear to do at first. Python supports a similar syntax: result = [n.Number for n in Numbers if n.Number &lt; 5] But it the ""if"" clause here does the filtering on the client side, rather than the server side, which is much less efficient. Is there something as efficient as LINQ in Python? (I'm currently evaluating Python vs. IronPython vs. Boo, so an answer that works in any of those languages is fine.)",Can you do LINQ-like queries in a language like Python or Boo?,117818,117732,5,"LINQ is a language feature of C# and VB.NET. It is a special syntax recognized by the compiler and treated specially. It is also dependent on another language feature called expression trees. Expression trees are a little different in that they are not special syntax. They are written just like any other class instantiation, but the compiler does treat them specially under the covers by turning a lambda into an instantiation of a run-time abstract syntax tree. These can be manipulated at run-time to produce a command in another language (i.e. SQL). The C# and VB.NET compilers take LINQ syntax, and turn it into lambdas, then pass those into expression tree instantiations. Then there are a bunch of framework classes that manipulate these trees to produce SQL. You can also find other libraries, both MS-produced and third party, that offer ""LINQ providers"", which basically pop a different AST processer in to produce something from the LINQ other than SQL. So one obstacle to doing these things in another language is the question whether they support run-time AST building/manipulation. I don't know whether any implementations of Python or Boo do, but I haven't heard of any such features."
117732,4,"Take this simple C# LINQ query, and imagine that 'db.Numbers' is an SQL table with one column, Number: var result = from n in db.Numbers where n.Number &lt; 5 select n.Number; This will run very efficiently in C#, because it generates an SQL query something like ""select Number from Numbers where Number &lt; 5"". What it doesn't do is select all the numbers from the database, and then filter them in C#, as it might appear to do at first. Python supports a similar syntax: result = [n.Number for n in Numbers if n.Number &lt; 5] But it the ""if"" clause here does the filtering on the client side, rather than the server side, which is much less efficient. Is there something as efficient as LINQ in Python? (I'm currently evaluating Python vs. IronPython vs. Boo, so an answer that works in any of those languages is fine.)",Can you do LINQ-like queries in a language like Python or Boo?,118350,117732,4,"I believe that when IronPython 2.0 is complete, it will have LINQ support (see this thread for some example discussion). Right now you should be able to write something like: Queryable.Select(Queryable.Where(someInputSequence, somePredicate), someFuncThatReturnsTheSequenceElement) Something better might have made it into IronPython 2.0b4 - there's a lot of current discussion about how naming conflicts were handled."
117732,4,"Take this simple C# LINQ query, and imagine that 'db.Numbers' is an SQL table with one column, Number: var result = from n in db.Numbers where n.Number &lt; 5 select n.Number; This will run very efficiently in C#, because it generates an SQL query something like ""select Number from Numbers where Number &lt; 5"". What it doesn't do is select all the numbers from the database, and then filter them in C#, as it might appear to do at first. Python supports a similar syntax: result = [n.Number for n in Numbers if n.Number &lt; 5] But it the ""if"" clause here does the filtering on the client side, rather than the server side, which is much less efficient. Is there something as efficient as LINQ in Python? (I'm currently evaluating Python vs. IronPython vs. Boo, so an answer that works in any of those languages is fine.)",Can you do LINQ-like queries in a language like Python or Boo?,118496,117732,6,sqlsoup in sqlalchemy gives you the quickest solution in python I think if you want a clear(ish) one liner . Look at the page to see. It should be something like... result = [n.Number for n in db.Numbers.filter(db.Numbers.Number &lt; 5).all()]
117732,4,"Take this simple C# LINQ query, and imagine that 'db.Numbers' is an SQL table with one column, Number: var result = from n in db.Numbers where n.Number &lt; 5 select n.Number; This will run very efficiently in C#, because it generates an SQL query something like ""select Number from Numbers where Number &lt; 5"". What it doesn't do is select all the numbers from the database, and then filter them in C#, as it might appear to do at first. Python supports a similar syntax: result = [n.Number for n in Numbers if n.Number &lt; 5] But it the ""if"" clause here does the filtering on the client side, rather than the server side, which is much less efficient. Is there something as efficient as LINQ in Python? (I'm currently evaluating Python vs. IronPython vs. Boo, so an answer that works in any of those languages is fine.)",Can you do LINQ-like queries in a language like Python or Boo?,235727,117732,1,"A key factor for LINQ is the ability of the compiler to generate expression trees. I am using a macro in Nemerle that converts a given Nemerle expression into an Expression tree object. I can then pass this to the Where/Select/etc extension methods on IQueryables. It's not quite the syntax of C# and VB, but it's close enough for me. I got the Nemerle macro via a link on this post: http://groups.google.com/group/nemerle-dev/browse_thread/thread/99b9dcfe204a578e It should be possible to create a similar macro for Boo. It's quite a bit of work however, given the large set of possible expressions you need to support. Ayende has given a proof of concept here: http://ayende.com/Blog/archive/2008/08/05/Ugly-Linq.aspx"
117732,4,"Take this simple C# LINQ query, and imagine that 'db.Numbers' is an SQL table with one column, Number: var result = from n in db.Numbers where n.Number &lt; 5 select n.Number; This will run very efficiently in C#, because it generates an SQL query something like ""select Number from Numbers where Number &lt; 5"". What it doesn't do is select all the numbers from the database, and then filter them in C#, as it might appear to do at first. Python supports a similar syntax: result = [n.Number for n in Numbers if n.Number &lt; 5] But it the ""if"" clause here does the filtering on the client side, rather than the server side, which is much less efficient. Is there something as efficient as LINQ in Python? (I'm currently evaluating Python vs. IronPython vs. Boo, so an answer that works in any of those languages is fine.)",Can you do LINQ-like queries in a language like Python or Boo?,254524,117732,1,"Boo supports list generator expressions using the same syntax as python. For more information on that, check out the Boo documentation on Generator expressions and List comprehensions."
117986,1,"I'm searching a wsgi middleware which I can warp around a wsgi applications and which lets me monitor incoming and outgoing http requests and header fields. Something like firefox live headers, but for the server side.",Debug/Monitor middleware for python wsgi applications,118037,117986,2,"That shouldn't be too hard to write yourself as long as you only need the headers. Try that: import sys def log_headers(app, stream=None): if stream is None: stream = sys.stdout def proxy(environ, start_response): for key, value in environ.iteritems(): if key.startswith('HTTP_'): stream.write('%s: %s\n' % (key[5:].title().replace('_', '-'), value)) return app(environ, start_response) return proxy"
117986,1,"I'm searching a wsgi middleware which I can warp around a wsgi applications and which lets me monitor incoming and outgoing http requests and header fields. Something like firefox live headers, but for the server side.",Debug/Monitor middleware for python wsgi applications,118142,117986,2,"The middleware from wsgiref.util import request_uri import sys def logging_middleware(application, stream=sys.stdout): def _logger(environ, start_response): stream.write('REQUEST\n') stream.write('%s %s\n' %( environ['REQUEST_METHOD'], request_uri(environ), )) for name, value in environ.items(): if name.startswith('HTTP_'): stream.write(' %s: %s\n' %( name[5:].title().replace('_', '-'), value, )) stream.flush() def _start_response(code, headers): stream.write('RESPONSE\n') stream.write('%s\n' % code) for data in headers: stream.write(' %s: %s\n' % data) stream.flush() start_response(code, headers) return application(environ, _start_response) return _logger The test def application(environ, start_response): start_response('200 OK', [ ('Content-Type', 'text/html') ]) return ['Hello World'] if __name__ == '__main__': logger = logging_middleware(application) from wsgiref.simple_server import make_server httpd = make_server('', 1234, logger) httpd.serve_forever() See also the werkzeug debugger Armin wrote, it's usefull for interactive debugging."
117986,1,"I'm searching a wsgi middleware which I can warp around a wsgi applications and which lets me monitor incoming and outgoing http requests and header fields. Something like firefox live headers, but for the server side.",Debug/Monitor middleware for python wsgi applications,307547,117986,2,"If you want Apache-style logs, try paste.translogger But for something more complete, though not in a very handy or stable location (maybe copy it into your source) is wsgifilter.proxyapp.DebugHeaders And writing one using WebOb: import webob, sys class LogHeaders(object): def __init__(self, app, stream=sys.stderr): self.app = app self.stream = stream def __call__(self, environ, start_response): req = webob.Request(environ) resp = req.get_response(self.app) print &gt;&gt; self.stream, 'Request:\n%s\n\nResponse:\n%s\n\n\n' % (req, resp) return resp(environ, start_response)"
117986,1,"I'm searching a wsgi middleware which I can warp around a wsgi applications and which lets me monitor incoming and outgoing http requests and header fields. Something like firefox live headers, but for the server side.",Debug/Monitor middleware for python wsgi applications,1041821,117986,1,The mod_wsgi documentation provides various tips on debugging which are applicable to any WSGI hosting mechanism and not just mod_wsgi. See: http://code.google.com/p/modwsgi/wiki/DebuggingTechniques This includes an example WSGI middleware that captures request and response.
117986,1,"I'm searching a wsgi middleware which I can warp around a wsgi applications and which lets me monitor incoming and outgoing http requests and header fields. Something like firefox live headers, but for the server side.",Debug/Monitor middleware for python wsgi applications,2384940,117986,1,"My WebCore project has a bit of middleware that logs the entire WSGI environment (thus Beaker sessions, headers, etc.) for the incoming request, headers for outbound responses, as well as performance information to a MongoDB database. Average overhead is around 4ms. The module has been removed from the core package, but hasnât yet been integrated into its own. The current version as of this answer is available in the Git history: http://github.com/GothAlice/WebCore/blob/cd1d6dcbd081323869968c51a78eceb1a32007d8/web/extras/cprofile.py"
118096,19,"I need to be able to take a string like: '''foo, bar, ""one, two"", three four''' into: ['foo', 'bar', 'one, two', 'three four'] I have an feeling (with hints from #python) that the solution is going to involve the shlex module.",How can I parse a comma delimited string into a list (caveat)?,118110,118096,5,"You may also want to consider the csv module. I haven't tried it, but it looks like your input data is closer to CSV than to shell syntax (which is what shlex parses)."
118096,19,"I need to be able to take a string like: '''foo, bar, ""one, two"", three four''' into: ['foo', 'bar', 'one, two', 'three four'] I have an feeling (with hints from #python) that the solution is going to involve the shlex module.",How can I parse a comma delimited string into a list (caveat)?,118132,118096,1,"You could do something like this: &gt;&gt;&gt; import re &gt;&gt;&gt; pattern = re.compile(r'\s*(""[^""]*""|.*?)\s*,') &gt;&gt;&gt; def split(line): ... return [x[1:-1] if x[:1] == x[-1:] == '""' else x ... for x in pattern.findall(line.rstrip(',') + ',')] ... &gt;&gt;&gt; split(""foo, bar, baz"") ['foo', 'bar', 'baz'] &gt;&gt;&gt; split('foo, bar, baz, ""blub blah""') ['foo', 'bar', 'baz', 'blub blah']"
118096,19,"I need to be able to take a string like: '''foo, bar, ""one, two"", three four''' into: ['foo', 'bar', 'one, two', 'three four'] I have an feeling (with hints from #python) that the solution is going to involve the shlex module.",How can I parse a comma delimited string into a list (caveat)?,118161,118096,-2,"If it doesn't need to be pretty, this might get you on your way: def f(s, splitifeven): if splitifeven &amp; 1: return [s] return [x.strip() for x in s.split("","") if x.strip() != ''] ss = 'foo, bar, ""one, two"", three four' print sum([f(s, sie) for sie, s in enumerate(ss.split('""'))], [])"
118096,19,"I need to be able to take a string like: '''foo, bar, ""one, two"", three four''' into: ['foo', 'bar', 'one, two', 'three four'] I have an feeling (with hints from #python) that the solution is going to involve the shlex module.",How can I parse a comma delimited string into a list (caveat)?,118162,118096,39,"It depends how complicated you want to get... do you want to allow more than one type of quoting. How about escaped quotes? Your syntax looks very much like the common CSV file format, which is supported by the Python standard library: import csv reader = csv.reader(['''foo, bar, ""one, two"", three four'''], skipinitialspace=True) for r in reader: print r Outputs: ['foo', 'bar', 'one, two', 'three four'] HTH!"
118096,19,"I need to be able to take a string like: '''foo, bar, ""one, two"", three four''' into: ['foo', 'bar', 'one, two', 'three four'] I have an feeling (with hints from #python) that the solution is going to involve the shlex module.",How can I parse a comma delimited string into a list (caveat)?,118187,118096,21,"The shlex module solution allows escaped quotes, one quote escape another, and all fancy stuff shell supports. &gt;&gt;&gt; import shlex &gt;&gt;&gt; my_splitter = shlex.shlex('''foo, bar, ""one, two"", three four''', posix=True) &gt;&gt;&gt; my_splitter.whitespace += ',' &gt;&gt;&gt; my_splitter.whitespace_split = True &gt;&gt;&gt; print list(my_splitter) ['foo', 'bar', 'one, two', 'three', 'four'] escaped quotes example: &gt;&gt;&gt; my_splitter = shlex.shlex('''""test, a"",'foo,bar"",baz',bar \xc3\xa4 baz''', posix=True) &gt;&gt;&gt; my_splitter.whitespace = ',' ; my_splitter.whitespace_split = True &gt;&gt;&gt; print list(my_splitter) ['test, a', 'foo,bar"",baz', 'bar \xc3\xa4 baz']"
118096,19,"I need to be able to take a string like: '''foo, bar, ""one, two"", three four''' into: ['foo', 'bar', 'one, two', 'three four'] I have an feeling (with hints from #python) that the solution is going to involve the shlex module.",How can I parse a comma delimited string into a list (caveat)?,157771,118096,0,"I'd say a regular expression would be what you're looking for here, though I'm not terribly familiar with Python's Regex engine. Assuming you use lazy matches, you can get a set of matches on a string which you can put into your array."
118138,7,"I have read that it is possible to build GTK+ on MacOS X. I know that it's possible to create a bundle of a GTK+ application on MacOS. I also know that it's possible to create widgets that look sort of native. However, searching around I am not really clear on how to create a bundle that includes the native theme stuff, and uses Python rather than its own C main-point. There are also rumors that it's possible to build PyGTK, but it sounds like there might still be some wrinkles in that process. However, there is no step-by-step guide that explains how one can set up an environment where an application might be run from Python source, then built and deployed in an app bundle. How can I go about doing that?","How do I develop and create a self-contained PyGTK application bundle for MacOS, with native-looking widgets?",121180,118138,1,"I'm not sure if I'm grokking all the details of your question, but looking at your problem in general (how do I deploy a python app on mac), I'm inclined to say that the answer is py2app. Basically this will bundle a python interpreter and all relevant python files for you, and give you a scriptable system that you can use to add in whatever other resources/dependencies you need."
118138,7,"I have read that it is possible to build GTK+ on MacOS X. I know that it's possible to create a bundle of a GTK+ application on MacOS. I also know that it's possible to create widgets that look sort of native. However, searching around I am not really clear on how to create a bundle that includes the native theme stuff, and uses Python rather than its own C main-point. There are also rumors that it's possible to build PyGTK, but it sounds like there might still be some wrinkles in that process. However, there is no step-by-step guide that explains how one can set up an environment where an application might be run from Python source, then built and deployed in an app bundle. How can I go about doing that?","How do I develop and create a self-contained PyGTK application bundle for MacOS, with native-looking widgets?",126313,118138,1,"While it's not a guide solely targetted at python/GTK+/OS X, this post is a good, detailed description of someone else's attempt to do most of what you describe. Obviously, the app-specific stuff is going to vary."
118138,7,"I have read that it is possible to build GTK+ on MacOS X. I know that it's possible to create a bundle of a GTK+ application on MacOS. I also know that it's possible to create widgets that look sort of native. However, searching around I am not really clear on how to create a bundle that includes the native theme stuff, and uses Python rather than its own C main-point. There are also rumors that it's possible to build PyGTK, but it sounds like there might still be some wrinkles in that process. However, there is no step-by-step guide that explains how one can set up an environment where an application might be run from Python source, then built and deployed in an app bundle. How can I go about doing that?","How do I develop and create a self-contained PyGTK application bundle for MacOS, with native-looking widgets?",126346,118138,3,Native looking widgets is quite complicated. There's a beginning of quartz engine (for theming) found here http://git.gnome.org/browse/gtk+/tree/gdk/quartz For self-contained applications check out the newly released bundle on http://live.gnome.org/GTK%2B/OSX
118143,3,"No not a competition, it is instead me trying to find why a certain regex works in one but not the other. (25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?) That's my Regex and I'm trying to run it on 127.255.0.0 Using Pythons regex I get nothing, using PHP I match it, below are the two calls I am making (just incase it's something to do with that). Essentially I am trying to work out why it works in PHP but not Python. re.findall(regex, string) preg_match_all($regex, $string, $matches); Solution found, it was due to the way that I was iterating through the results, this regex turned them into groups and then it didn't want to print them out in the same way etc etc. Thank you all for your help, it's really appreciated :)",Python Regex vs PHP Regex,118163,118143,7,"It works for me. You must be doing something wrong. &gt;&gt;&gt; re.match(r'(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)', '127.255.0.0').groups() ('127', '255', '0', '0') Don't forget to escape the regex using raw strings: r'regex_here' as stated in the Regex Howto"
118143,3,"No not a competition, it is instead me trying to find why a certain regex works in one but not the other. (25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?) That's my Regex and I'm trying to run it on 127.255.0.0 Using Pythons regex I get nothing, using PHP I match it, below are the two calls I am making (just incase it's something to do with that). Essentially I am trying to work out why it works in PHP but not Python. re.findall(regex, string) preg_match_all($regex, $string, $matches); Solution found, it was due to the way that I was iterating through the results, this regex turned them into groups and then it didn't want to print them out in the same way etc etc. Thank you all for your help, it's really appreciated :)",Python Regex vs PHP Regex,118165,118143,1,"That regular expression matches here, no idea what you are doing wrong: &gt;&gt;&gt; import re &gt;&gt;&gt; x = re.compile(r'(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|' ... r'2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9]' ... r'[0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)') &gt;&gt;&gt; x.match(""127.0.0.1"") &lt;_sre.SRE_Match object at 0x5a8860&gt; &gt;&gt;&gt; x.match(""127.255.0.1"") &lt;_sre.SRE_Match object at 0x5a8910&gt; &gt;&gt;&gt; x.match(""127.255.0.0"") &lt;_sre.SRE_Match object at 0x5a8860&gt; Please note that preg_match translates to re.search in Python and not re.match. re.match is for useful for lexing because it's anchored."
118143,3,"No not a competition, it is instead me trying to find why a certain regex works in one but not the other. (25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?) That's my Regex and I'm trying to run it on 127.255.0.0 Using Pythons regex I get nothing, using PHP I match it, below are the two calls I am making (just incase it's something to do with that). Essentially I am trying to work out why it works in PHP but not Python. re.findall(regex, string) preg_match_all($regex, $string, $matches); Solution found, it was due to the way that I was iterating through the results, this regex turned them into groups and then it didn't want to print them out in the same way etc etc. Thank you all for your help, it's really appreciated :)",Python Regex vs PHP Regex,118180,118143,1,"PHP uses 3 different flavors of regex, while python uses only one. I don't code in python, so I make no expert claims on how it uses REGEX. O'Reilly Mastering Regular Expressions is a great book, as most of their works are."
118143,3,"No not a competition, it is instead me trying to find why a certain regex works in one but not the other. (25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?) That's my Regex and I'm trying to run it on 127.255.0.0 Using Pythons regex I get nothing, using PHP I match it, below are the two calls I am making (just incase it's something to do with that). Essentially I am trying to work out why it works in PHP but not Python. re.findall(regex, string) preg_match_all($regex, $string, $matches); Solution found, it was due to the way that I was iterating through the results, this regex turned them into groups and then it didn't want to print them out in the same way etc etc. Thank you all for your help, it's really appreciated :)",Python Regex vs PHP Regex,118181,118143,4,"I would suggest that using a regex for decimal range validation is not necessarily the correct answer for this problem. This is far more readable: def valid_ip(s): m = re.match(r""(\d+)\.(\d+)\.(\d+)\.(\d+)$"", s) if m is None: return False parts = [int(m.group(1+x)) for x in range(4)] if max(parts) &gt; 255: return False return True"
118143,3,"No not a competition, it is instead me trying to find why a certain regex works in one but not the other. (25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?) That's my Regex and I'm trying to run it on 127.255.0.0 Using Pythons regex I get nothing, using PHP I match it, below are the two calls I am making (just incase it's something to do with that). Essentially I am trying to work out why it works in PHP but not Python. re.findall(regex, string) preg_match_all($regex, $string, $matches); Solution found, it was due to the way that I was iterating through the results, this regex turned them into groups and then it didn't want to print them out in the same way etc etc. Thank you all for your help, it's really appreciated :)",Python Regex vs PHP Regex,118182,118143,2,"Without further details, I'd guess it's quote escaping of some kind. Both PHP and python's RegEX objects take strings as arguments. These strings will be escaped by the languge before being passed on to the RegEx engine. I always using Python's ""raw"" string format when working with regular expressions. It ensure that ""backslashes are not handled in any special way"" r'(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)'"
118143,3,"No not a competition, it is instead me trying to find why a certain regex works in one but not the other. (25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?) That's my Regex and I'm trying to run it on 127.255.0.0 Using Pythons regex I get nothing, using PHP I match it, below are the two calls I am making (just incase it's something to do with that). Essentially I am trying to work out why it works in PHP but not Python. re.findall(regex, string) preg_match_all($regex, $string, $matches); Solution found, it was due to the way that I was iterating through the results, this regex turned them into groups and then it didn't want to print them out in the same way etc etc. Thank you all for your help, it's really appreciated :)",Python Regex vs PHP Regex,198882,118143,3,"Just because you can do it with regex, doesn't mean you should. It would be much better to write instructions like: split the string on the period, make sure each group is numeric and within a certain range of numbers. If you want to use a regex, just verify that it kind of ""looks like"" an IP address, as with Greg's regex."
118221,2,"I need to allow other Python applications to register callback functions for events in my application. These need to have priorities associated with them (so a callback with a priority of 10 runs before a callback with a priority of 1) and callback functions need to be able to signal errors to the dispatcher. These are all lightweight callbacks running in the same process, so I don't need to send signals across process boundaries. Is there a good Python library to handle this, or do I need to write my own?",What's the best dispatcher/callback library in Python?,118227,118221,1,"Are these other applications running in another address space? If so, you'll need to use an interprocess communication library like D-BUS. If you're just sending signals in the same process, try PyDispatcher"
118221,2,"I need to allow other Python applications to register callback functions for events in my application. These need to have priorities associated with them (so a callback with a priority of 10 runs before a callback with a priority of 1) and callback functions need to be able to signal errors to the dispatcher. These are all lightweight callbacks running in the same process, so I don't need to send signals across process boundaries. Is there a good Python library to handle this, or do I need to write my own?",What's the best dispatcher/callback library in Python?,118228,118221,0,"What platform are you running under? GObject is the basis of the GTK GUI that's widely-used under Linux, and it supports event loops with prioritizable events like this."
118221,2,"I need to allow other Python applications to register callback functions for events in my application. These need to have priorities associated with them (so a callback with a priority of 10 runs before a callback with a priority of 1) and callback functions need to be able to signal errors to the dispatcher. These are all lightweight callbacks running in the same process, so I don't need to send signals across process boundaries. Is there a good Python library to handle this, or do I need to write my own?",What's the best dispatcher/callback library in Python?,1140282,118221,0,Try Twisted for anything network-related. Its perspective broker is quite nice to use.
118221,2,"I need to allow other Python applications to register callback functions for events in my application. These need to have priorities associated with them (so a callback with a priority of 10 runs before a callback with a priority of 1) and callback functions need to be able to signal errors to the dispatcher. These are all lightweight callbacks running in the same process, so I don't need to send signals across process boundaries. Is there a good Python library to handle this, or do I need to write my own?",What's the best dispatcher/callback library in Python?,3491737,118221,0,Try python-callbacks - http://code.google.com/p/python-callbacks/.
118260,43,"I'm trying to teach Komodo to fire up IDLE when I hit the right keystrokes. I can use the exact path of the shortcut in start menu in the Windows Explorer location bar to launch IDLE so I was hoping Komodo would be able to use it as well. But, giving this path to Komodo causes it to say that 1 is returned. This appears to be a failure as IDLE doesn't start up. I thought I'd avoid the shortcut and just use the exact path. I go to the start menu, find the shortcut for IDLE, right click to look at the properties. The target is grayed out, but says ""Python 2.5.2"". The ""Start in"" is set to, ""C:\Python25\"". The ""Open File Location"" button is also grayed out. How do I find out where this shortcut is really pointing? I have tried starting python.exe and pythonw.exe both in C:\Python25, but neither starts up IDLE.",How to start IDLE (Python editor) without using the shortcut on Windows Vista?,118275,118260,53,"There's a file called idle.py in your Python installation directory in Lib\idlelib\idle.py If you run that file with Python, then IDLE should start. c:\Python25\pythonw.exe c:\Python25\Lib\idlelib\idle.py"
118260,43,"I'm trying to teach Komodo to fire up IDLE when I hit the right keystrokes. I can use the exact path of the shortcut in start menu in the Windows Explorer location bar to launch IDLE so I was hoping Komodo would be able to use it as well. But, giving this path to Komodo causes it to say that 1 is returned. This appears to be a failure as IDLE doesn't start up. I thought I'd avoid the shortcut and just use the exact path. I go to the start menu, find the shortcut for IDLE, right click to look at the properties. The target is grayed out, but says ""Python 2.5.2"". The ""Start in"" is set to, ""C:\Python25\"". The ""Open File Location"" button is also grayed out. How do I find out where this shortcut is really pointing? I have tried starting python.exe and pythonw.exe both in C:\Python25, but neither starts up IDLE.",How to start IDLE (Python editor) without using the shortcut on Windows Vista?,118308,118260,8,Here's another path you can use. I'm not sure if this is part of the standard distribution or if the file is automatically created on first use of the IDLE. C:\Python25\Lib\idlelib\idle.pyw
118260,43,"I'm trying to teach Komodo to fire up IDLE when I hit the right keystrokes. I can use the exact path of the shortcut in start menu in the Windows Explorer location bar to launch IDLE so I was hoping Komodo would be able to use it as well. But, giving this path to Komodo causes it to say that 1 is returned. This appears to be a failure as IDLE doesn't start up. I thought I'd avoid the shortcut and just use the exact path. I go to the start menu, find the shortcut for IDLE, right click to look at the properties. The target is grayed out, but says ""Python 2.5.2"". The ""Start in"" is set to, ""C:\Python25\"". The ""Open File Location"" button is also grayed out. How do I find out where this shortcut is really pointing? I have tried starting python.exe and pythonw.exe both in C:\Python25, but neither starts up IDLE.",How to start IDLE (Python editor) without using the shortcut on Windows Vista?,1537046,118260,1,"You can also assign hotkeys to Windows shortcuts directly (at least in Windows 95 you could, I haven't checked again since then, but I think the option should be still there ^_^)."
118370,114,"This came up in Hidden features of Python, but I can't see good documentation or examples that explain how the feature works.",How do you use the ellipsis slicing syntax in Python?,118395,118370,70,"You'd use it in your own class, since no builtin class makes use of it. Numpy uses it, as stated in the documentation. Some examples here. In your own class, you'd use it like this: &gt;&gt;&gt; class TestEllipsis(object): ... def __getitem__(self, item): ... if item is Ellipsis: ... return ""Returning all items"" ... else: ... return ""return %r items"" % item ... &gt;&gt;&gt; x = TestEllipsis() &gt;&gt;&gt; print x[2] return 2 items &gt;&gt;&gt; print x[...] Returning all items Of course, there is the python documentation, and language reference. But those aren't very helpful."
118370,114,"This came up in Hidden features of Python, but I can't see good documentation or examples that explain how the feature works.",How do you use the ellipsis slicing syntax in Python?,118508,118370,159,"The ellipsis is used to slice higher-dimensional data structures. It's designed to mean at this point, insert as many full slices (:) to extend the multi-dimensional slice to all dimensions. Example: &gt;&gt;&gt; from numpy import arange &gt;&gt;&gt; a = arange(16).reshape(2,2,2,2) Now, you have a 4-dimensional matrix of order 2x2x2x2. To select all first elements in the 4th dimension, you can use the ellipsis notation &gt;&gt;&gt; a[..., 0].flatten() array([ 0, 2, 4, 6, 8, 10, 12, 14]) which is equivalent to &gt;&gt;&gt; a[:,:,:,0].flatten() array([ 0, 2, 4, 6, 8, 10, 12, 14]) In your own implementations, you're free to ignore the contract mentioned above and use it for whatever you see fit."
118370,114,"This came up in Hidden features of Python, but I can't see good documentation or examples that explain how the feature works.",How do you use the ellipsis slicing syntax in Python?,120055,118370,66,"This is another use for Ellipsis, which has nothing to do with slices: I often use it in intra-thread communication with queues, as a mark that signals ""Done""; it's there, it's an object, it's a singleton, and its name means ""lack of"", and it's not the overused None (which could be put in a queue as part of normal data flow). YMMV. P.S: I don't mind downvotes, when what I say in an answer is not useful in relation to the question; then I try to improve my answer. But I sure can't understand how one can downvote any of the answers in this questionâ when the question is âhow do you use the Ellipsis in Pythonââ¦ It seems that people think that downvoting means âI disagreeâ or âI don't like thisâ."
118458,6,"Along the lines of my previous question, how can I join a list of strings into a string such that values get quoted cleanly. Something like: ['a', 'one ""two"" three', 'foo, bar', """"""both""'""""""] into: a, 'one ""two"" three', ""foo, bar"", ""both\""'"" I suspect that the csv module will come into play here, but i'm not sure how to get the output I want.",How can I join a list into a string (caveat)?,118462,118458,7,"Using the csv module you can do that way: import csv writer = csv.writer(open(""some.csv"", ""wb"")) writer.writerow(the_list) If you need a string just use StringIO instance as a file: f = StringIO.StringIO() writer = csv.writer(f) writer.writerow(the_list) print f.getvalue() The output: a,""one """"two"""" three"",""foo, bar"",""both""""'"" csv will write in a way it can read back later. You can fine-tune its output by defining a dialect, just set quotechar, escapechar, etc, as needed: class SomeDialect(csv.excel): delimiter = ',' quotechar = '""' escapechar = ""\\"" doublequote = False lineterminator = '\n' quoting = csv.QUOTE_MINIMAL f = cStringIO.StringIO() writer = csv.writer(f, dialect=SomeDialect) writer.writerow(the_list) print f.getvalue() The output: a,one \""two\"" three,""foo, bar"",both\""' The same dialect can be used with csv module to read the string back later to a list."
118458,6,"Along the lines of my previous question, how can I join a list of strings into a string such that values get quoted cleanly. Something like: ['a', 'one ""two"" three', 'foo, bar', """"""both""'""""""] into: a, 'one ""two"" three', ""foo, bar"", ""both\""'"" I suspect that the csv module will come into play here, but i'm not sure how to get the output I want.",How can I join a list into a string (caveat)?,118625,118458,1,"Here's a slightly simpler alternative. def quote(s): if ""'"" in s or '""' in s or "","" in str(s): return repr(s) return s We only need to quote a value that might have commas or quotes. &gt;&gt;&gt; x= ['a', 'one ""two"" three', 'foo, bar', 'both""\''] &gt;&gt;&gt; print "", "".join( map(quote,x) ) a, 'one ""two"" three', 'foo, bar', 'both""\''"
118458,6,"Along the lines of my previous question, how can I join a list of strings into a string such that values get quoted cleanly. Something like: ['a', 'one ""two"" three', 'foo, bar', """"""both""'""""""] into: a, 'one ""two"" three', ""foo, bar"", ""both\""'"" I suspect that the csv module will come into play here, but i'm not sure how to get the output I want.",How can I join a list into a string (caveat)?,121745,118458,2,"On a related note, Python's builtin encoders can also do string escaping: &gt;&gt;&gt; print ""that's interesting"".encode('string_escape') that\'s interesting"
118467,2,"I am calling a WSDL web service from Python using SOAPpy. The call I need to make is to the method Auth_login. This has 2 arguments - the first, a string being the API key; the second, a custom type containing username and password. The custom type is called Auth_credentialsData which contains 2 values as stings - one for the username and one for the password. How can I create this custom type using SOAPpy? I tried passing a list and a dictionary, none of which work. Code so far: from SOAPpy import WSDL wsdlUrl = 'https://ws.pingdom.com/soap/PingdomAPI.wsdl' client = WSDL.Proxy(wsdlUrl) Tried both: credentials = ['email@example.com', 'password'] client.Auth_login('key', credentials) and credentials = {'username': 'email@example.com', 'password': 'passsword'} client.Auth_login('key', credentials) both of which give an authentication failed error.",How do I create a non-standard type with SOAPpy?,118507,118467,0,The better method is to use the ZSI soap module which allows you to take a WDSL file and turn it into classes and methods that you can then use to call it. The online documentation is on their website but the latest documentation is more easily found in the source package. If you install in Debian/Ubuntu (package name python-zsi) the documentation is in /usr/share/doc/python-zsi in a pair of PDFs you can find in there.
