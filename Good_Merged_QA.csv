Id_Q,Score_Q,Body_Q,Clean_Title,Id_A,ParentId,Score_A,Body_A
469,21,"I am using the Photoshop's javascript API to find the fonts in a given PSD. Given a font name returned by the API, I want to find the actual physical font file that that font name corresponds to on the disc. This is all happening in a python program running on OSX so I guess I'm looking for one of: Some Photoshop javascript A Python function An OSX API that I can call from python",How can I find the full path to a font from its display name on a Mac?,497,469,4,open up a terminal (Applications-&gt;Utilities-&gt;Terminal) and type this in: locate InsertFontHere This will spit out every file that has the name you want. Warning: there may be alot to wade through.
469,21,"I am using the Photoshop's javascript API to find the fonts in a given PSD. Given a font name returned by the API, I want to find the actual physical font file that that font name corresponds to on the disc. This is all happening in a python program running on OSX so I guess I'm looking for one of: Some Photoshop javascript A Python function An OSX API that I can call from python",How can I find the full path to a font from its display name on a Mac?,518,469,2,"I haven't been able to find anything that does this directly. I think you'll have to iterate through the various font folders on the system: /System/Library/Fonts, /Library/Fonts, and there can probably be a user-level directory as well ~/Library/Fonts."
469,21,"I am using the Photoshop's javascript API to find the fonts in a given PSD. Given a font name returned by the API, I want to find the actual physical font file that that font name corresponds to on the disc. This is all happening in a python program running on OSX so I guess I'm looking for one of: Some Photoshop javascript A Python function An OSX API that I can call from python",How can I find the full path to a font from its display name on a Mac?,3040,469,12,"Unfortunately the only API that isn't deprecated is located in the ApplicationServices framework, which doesn't have a bridge support file, and thus isn't available in the bridge. If you're wanting to use ctypes, you can use ATSFontGetFileReference after looking up the ATSFontRef. Cocoa doesn't have any native support, at least as of 10.5, for getting the location of a font."
469,21,"I am using the Photoshop's javascript API to find the fonts in a given PSD. Given a font name returned by the API, I want to find the actual physical font file that that font name corresponds to on the disc. This is all happening in a python program running on OSX so I guess I'm looking for one of: Some Photoshop javascript A Python function An OSX API that I can call from python",How can I find the full path to a font from its display name on a Mac?,195170,469,1,"There must be a method in Cocoa to get a list of fonts, then you would have to use the PyObjC bindings to call it.. Depending on what you need them for, you could probably just use something like the following.. import os def get_font_list(): fonts = [] for font_path in [""/Library/Fonts"", os.path.expanduser(""~/Library/Fonts"")]: if os.path.isdir(font_path): fonts.extend( [os.path.join(font_path, cur_font) for cur_font in os.listdir(font_path) ] ) return fonts"
502,27,I have a cross-platform (Python) application which needs to generate a JPEG preview of the first page of a PDF. On the Mac I am spawning sips. Is there something similarly simple I can do on Windows?,Get a preview JPEG of a PDF on Windows?,536,502,9,"You can use ImageMagick's convert utility for this, see some examples in http://studio.imagemagick.org/pipermail/magick-users/2002-May/002636.html : Convert taxes.pdf taxes.jpg Will convert a two page PDF file into [2] jpeg files: taxes.jpg.0, taxes.jpg.1 I can also convert these JPEGS to a thumbnail as follows: convert -size 120x120 taxes.jpg.0 -geometry 120x120 +profile '*' thumbnail.jpg I can even convert the PDF directly to a jpeg thumbnail as follows: convert -size 120x120 taxes.pdf -geometry 120x120 +profile '*' thumbnail.jpg This will result in a thumbnail.jpg.0 and thumbnail.jpg.1 for the two pages."
502,27,I have a cross-platform (Python) application which needs to generate a JPEG preview of the first page of a PDF. On the Mac I am spawning sips. Is there something similarly simple I can do on Windows?,Get a preview JPEG of a PDF on Windows?,7073,502,2,"Is the PC likely to have Acrobat installed? I think Acrobat installs a shell extension so previews of the first page of a PDF document appear in Windows Explorer's thumbnail view. You can get thumbnails yourself via the IExtractImage COM API, which you'll need to wrap. VBAccelerator has an example in C# that you could port to Python."
502,27,I have a cross-platform (Python) application which needs to generate a JPEG preview of the first page of a PDF. On the Mac I am spawning sips. Is there something similarly simple I can do on Windows?,Get a preview JPEG of a PDF on Windows?,7090,502,25,"ImageMagick delegates the PDF->bitmap conversion to GhostScript anyway, so here's a command you can use (it's based on the actual command listed by the ps:alpha delegate in ImageMagick, just adjusted to use JPEG as output): gs -q -dQUIET -dPARANOIDSAFER -dBATCH -dNOPAUSE -dNOPROMPT \ -dMaxBitmap=500000000 -dLastPage=1 -dAlignToPixels=0 -dGridFitTT=0 \ -sDEVICE=jpeg -dTextAlphaBits=4 -dGraphicsAlphaBits=4 -r72x72 \ -sOutputFile=$OUTPUT -f$INPUT where $OUTPUT and $INPUT are the output and input filenames. Adjust the 72x72 to whatever resolution you need. (Obviously, strip out the backslashes if you're writing out the whole command as one line.) This is good for two reasons: You don't need to have ImageMagick installed anymore. Not that I have anything against ImageMagick (I love it to bits), but I believe in simple solutions. ImageMagick does a two-step conversion. First PDF->PPM, then PPM->JPEG. This way, the conversion is one-step. Other things to consider: with the files I've tested, PNG compresses better than JPEG. If you want to use PNG, change the -sDEVICE=jpeg to -sDEVICE=png16m."
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,538,535,23,"One possibility is Hudson. It's written in Java, but there's integration with Python projects: Hudson embraces Python I've never tried it myself, however. (Update, Sept. 2011: After a trademark dispute Hudson has been renamed to Jenkins.)"
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,541,535,20,"We run Buildbot - Trac at work, I haven't used it too much since my code base isn't part of the release cycle yet. But we run the tests on different environments (OSX/Linux/Win) and it sends emails --and it's written in python."
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,660,535,14,"Second the Buildbot - Trac integration. You can find more information about the integration on the Buildbot website. At my previous job, we wrote and used the plugin they mention (tracbb). What the plugin does is rewriting all of the Buildbot urls so you can use Buildbot from within Trac. (http://example.com/tracbb). The really nice thing about Buildbot is that the configuration is written in Python. You can integrate your own Python code directly to the configuration. It's also very easy to write your own BuildSteps to execute specific tasks. We used BuildSteps to get the source from SVN, pull the dependencies, publish test results to WebDAV, etcetera. I wrote an X10 interface so we could send signals with build results. When the build failed, we switched on a red lava lamp. When the build succeeded, a green lava lamp switched on. Good times :-)"
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,61746,535,13,"We use both Buildbot and Hudson for Jython development. Both are useful, but have different strengths and weaknesses. Buildbot's configuration is pure Python and quite simple once you get the hang of it (look at the epydoc-generated API docs for the most current info). Buildbot makes it easier to define non-testing tasksÂ and distribute the testers. However, it really has no concept of individual tests, just textual, HTML, and summary output, so if you want to have multi-level browsable test output and so forth you'll have to build it yourself, or just use Hudson. Hudson has terrific support for drilling down from overall results into test suites and individual tests; it also is great for comparing test output between builds, but the distributed (master/slave) stuff is comparatively more complicated because you need a Java environment on the slaves too; also, Hudson is less tolerant of flaky network links between the master and slaves. So, to get the benefits of both tools, we run a single instance of Hudson, which catches the common test failures, then we do multi-platform regression with Buildbot. Here are our instances: Jython Hudson Jython buildbot"
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,74452,535,4,We are using Bitten wich is integrated with trac. And it's python based.
535,40,"I'm starting work on a hobby project with a python codebase and would like to set up some form of continuous integration (i.e. running a battery of test-cases each time a check-in is made and sending nag e-mails to responsible persons when the tests fail) similar to CruiseControl or TeamCity. I realize I could do this with hooks in most VCSes, but that requires that the tests run on the same machine as the version control server, which isn't as elegant as I would like. Does anyone have any suggestions for a small, user-friendly, open-source continuous integration system suitable for a Python codebase?",Continuous Integration System for a Python Codebase,117712,535,3,"TeamCity has some Python integration. But TeamCity is: not open-source is not small, but rather feature rich is free for small-mid teams."
594,25,There are several ways to iterate over a result set. What are the tradeoff of each?,cx_Oracle: How do I iterate over a result set?,595,594,25,"The canonical way is to use the built-in cursor iterator. curs.execute('select * from people') for row in curs: print row You can use fetchall() to get all rows at once. for row in curs.fetchall(): print row It can be convenient to use this to create a Python list containing the values returned: curs.execute('select first_name from people') names = [row[0] for row in curs.fetchall()] This can be useful for smaller result sets, but can have bad side effects if the result set is large. You have to wait for the entire result set to be returned to your client process. You may eat up a lot of memory in your client to hold the built-up list. It may take a while for Python to construct and deconstruct the list which you are going to immediately discard anyways. If you know there's a single row being returned in the result set you can call fetchone() to get the single row. curs.execute('select max(x) from t') maxValue = curs.fetchone()[0] Finally, you can loop over the result set fetching one row at a time. In general, there's no particular advantage in doing this over using the iterator. row = curs.fetchone() while row: print row row = curs.fetchone()"
594,25,There are several ways to iterate over a result set. What are the tradeoff of each?,cx_Oracle: How do I iterate over a result set?,25213,594,4,"There's also the way psyco-pg seems to do it... From what I gather, it seems to create dictionary-like row-proxies to map key lookup into the memory block returned by the query. In that case, fetching the whole answer and working with a similar proxy-factory over the rows seems like useful idea. Come to think of it though, it feels more like Lua than Python. Also, this should be applicable to all PEP-249 DBAPI2.0 interfaces, not just Oracle, or did you mean just fastest using Oracle?"
594,25,There are several ways to iterate over a result set. What are the tradeoff of each?,cx_Oracle: How do I iterate over a result set?,125140,594,17,"My preferred way is the cursor iterator, but setting first the arraysize property of the cursor. curs.execute('select * from people') curs.arraysize = 256 for row in curs: print row In this example, cx_Oracle will fetch rows from Oracle 256 rows at a time, reducing the number of network round trips that need to be performed"
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,701,683,3,"No, you were not dreaming. Python has a pretty excellent list comprehension system that lets you manipulate lists pretty elegantly, and depending on exactly what you want to accomplish, this can be done a couple of ways. In essence, what you're doing is saying ""For item in list if criteria.matches"", and from that you can just iterate through the results or dump the results into a new list. I'm going to crib an example from Dive Into Python here, because it's pretty elegant and they're smarter than I am. Here they're getting a list of files in a directory, then filtering the list for all files that match a regular expression criteria. files = os.listdir(path) test = re.compile(""test\.py$"", re.IGNORECASE) files = [f for f in files if test.search(f)] You could do this without regular expressions, for your example, for anything where your expression at the end returns true for a match. There are other options like using the filter() function, but if I were going to choose, I'd go with this. Eric Sipple"
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,735,683,-2,"I think: #!/bin/pythonbar in dict(Foo) Is what you are thinking of. When trying to see if a certain key exists within a dictionary in python (python's version of a hash table) there are two ways to check. First is the has_key() method attached to the dictionary and second is the example given above. It will return a boolean value. That should answer your question. And now a little off topic to tie this in to the list comprehension answer previously given (for a bit more clarity). List Comprehensions construct a list from a basic for loop with modifiers. As an example (to clarify slightly), a way to use the in dict language construct in a _list comprehension_: Say you have a two dimensional dictionary foo and you only want the second dimension dictionaries which contain the key bar. A relatively straightforward way to do so would be to use a list comprehension with a conditional as follows: #!/bin/pythonbaz = dict([(key, value) for key, value in foo if bar in value]) Note the if bar in value at the end of the statement, this is a modifying clause which tells the list comprehension to only keep those key-value pairs which meet the conditional. In this case baz is a new dictionary which contains only the dictionaries from foo which contain bar (Hopefully I didn't miss anything in that code example... you may have to take a look at the list comprehension documentation found in docs.python.org tutorials and at secnetix.de, both sites are good references if you have questions in the future.)."
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,745,683,8,"Are you looking to get a list of objects that have a certain attribute? If so, a list comprehension is the right way to do this. result = [obj for obj in listOfObjs if hasattr(obj, 'attributeName')]"
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,750,683,2,"What I was thinking of can be achieved using list comprehensions, but I thought that there was a function that did this in a slightly neater way. i.e. 'bar' is a list of objects, all of which have the attribute 'id' The mythical functional way: foo = 12foo in iter_attr(bar, 'id') The list comprehension way: foo = 12foo in [obj.id for obj in bar] In retrospect the list comprehension way is pretty neat anyway."
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,31126,683,6,"you could always write one yourself: def iterattr(iterator, attributename): for obj in iterator: yield getattr(obj, attributename) will work with anything that iterates, be it a tuple, list, or whatever. I love python, it makes stuff like this very simple and no more of a hassle than neccessary, and in use stuff like this is hugely elegant."
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,31188,683,2,"If you plan on searching anything of remotely decent size, your best bet is going to be to use a dictionary or a set. Otherwise, you basically have to iterate through every element of the iterator until you get to the one you want. If this isn't necessarily performance sensitive code, then the list comprehension way should work. But note that it is fairly inefficient because it goes over every element of the iterator and then goes BACK over it again until it finds what it wants. Remember, python has one of the most efficient hashing algorithms around. Use it to your advantage."
683,28,"I don't remember whether I was dreaming or not but I seem to recall there being a function which allowed something like, foo in iter_attr(array of python objects, attribute name) I've looked over the docs but this kind of thing doesn't fall under any obvious listed headers",Using 'in' to match an attribute of Python objects in an array,57833,683,29,"Using a list comprehension would build a temporary list, which could eat all your memory if the sequence being searched is large. Even if the sequence is not large, building the list means iterating over the whole of the sequence before in could start its search. The temporary list can be avoiding by using a generator expression: foo = 12 foo in (obj.id for obj in bar) Now, as long as obj.id == 12 near the start of bar, the search will be fast, even if bar is infinitely long. As @Matt suggested, it's a good idea to use hasattr if any of the objects in bar can be missing an id attribute: foo = 12 foo in (obj.id for obj in bar if hasattr(obj, 'id'))"
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,764,742,0,Sounds to me like you're trying to combine things that shouldn't be combined. If you need to do different processing in your view depending on if it's a User or Group object you're trying to look at then you should use two different view functions. On the other hand there can be common idioms you'd want to extract out of your object_detail type views... perhaps you could use a decorator or just helper functions? -Dan
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,4572,742,7,"If you're simply displaying data from models, why not use the Django Generic Views? They're designed to let you easy show data from a model without having to write your own view and stuff about mapping URL paramaters to views, fetching data, handling edge cases, rendering output, etc."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,8320,742,1,"Unless you want to do something a little complex, using the generic views are the way to go. They are far more powerful than their name implies, and if you are just displaying model data generic views will do the job."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,27780,742,0,"If you want to share common functionality between pages I suggest you look at custom tags. They're quite easy to create, and are very powerful. Also, templates can extend from other templates. This allows you to have a base template to set up the layout of the page and to share this between other templates which fill in the blanks. You can nest templates to any depth; allowing you to specify the layout on separate groups of related pages in one place."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,27792,742,2,"You can always create a class, override the __call__ function and then point the URL file to an instance of the class. You can take a look at the FormWizard class to see how this is done."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,33957,742,36,"I've created and used my own generic view classes, defining __call__ so an instance of the class is callable. I really like it; while Django's generic views allow some customization through keyword arguments, OO generic views (if their behavior is split into a number of separate methods) can have much more fine-grained customization via subclassing, which lets me repeat myself a lot less. (I get tired of rewriting the same create/update view logic anytime I need to tweak something Django's generic views don't quite allow). I've posted some code at djangosnippets.org. The only real downside I see is the proliferation of internal method calls, which may impact performance somewhat. I don't think this is much of a concern; it's rare that Python code execution would be your performance bottleneck in a web app. UPDATE: Django's own generic views are now class-based. UPDATE: FWIW, I've changed my opinion on class-based views since this answer was written. After having used them extensively on a couple of projects, I feel they tend to lead to code that is satisfyingly DRY to write, but very hard to read and maintain later, because functionality is spread across so many different places, and subclasses are so dependent on every implementation detail of the superclasses and mixins. I now feel that TemplateResponse and view decorators is a better answer for decomposing view code."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,123090,742,0,"Generic views will usually be the way to go, but ultimately you're free to handle URLs however you want. FormWizard does things in a class-based way, as do some apps for RESTful APIs. Basically with a URL you are given a bunch of variables and place to provide a callable, what callable you provide is completely up to you - the standard way is to provide a function - but ultimately Django puts no restrictions on what you do. I do agree that a few more examples of how to do this would be good, FormWizard is probably the place to start though."
742,30,"Django view points to a function, which can be a problem if you want to change only a bit of functionality. Yes, I could have million keyword arguments and even more if statements in the function, but I was thinking more of an object oriented approach. For example, I have a page that displays a user. This page is very similar to page that displays a group, but it's still not so similar to just use another data model. Group also has members etc... One way would be to point views to class methods and then extend that class. Has anyone tried this approach or has any other idea?",Class views in Django,2921293,742,11,"I needed to use class based views, but I wanted to be able to use the full name of the class in my URLconf without always having to instantiate the view class before using it. What helped me was a surprisingly simple metaclass: class CallableViewClass(type): def __call__(cls, *args, **kwargs): if args and isinstance(args[0], HttpRequest): instance = super(CallableViewClass, cls).__call__() return instance.__call__(*args, **kwargs) else: instance = super(CallableViewClass, cls).__call__(*args, **kwargs) return instance class View(object): __metaclass__ = CallableViewClass def __call__(self, request, *args, **kwargs): if hasattr(self, request.method): handler = getattr(self, request.method) if hasattr(handler, '__call__'): return handler(request, *args, **kwargs) return HttpResponseBadRequest('Method Not Allowed', status=405) I can now both instantiate view classes and use the instances as view functions, OR I can simply point my URLconf to my class and have the metaclass instantiate (and call) the view class for me. This works by checking the first argument to __call__ â if it's a HttpRequest, it must be an actual HTTP request because it would be nonsense to attept to instantiate a view class with an HttpRequest instance. class MyView(View): def __init__(self, arg=None): self.arg = arg def GET(request): return HttpResponse(self.arg or 'no args provided') @login_required class MyOtherView(View): def POST(request): pass # And all the following work as expected. urlpatterns = patterns('' url(r'^myview1$', 'myapp.views.MyView', name='myview1'), url(r'^myview2$', myapp.views.MyView, name='myview2'), url(r'^myview3$', myapp.views.MyView('foobar'), name='myview3'), url(r'^myotherview$', 'myapp.views.MyOtherView', name='otherview'), ) (I posted a snippet for this at http://djangosnippets.org/snippets/2041/)"
766,20,"I can get Python to work with Postgresql but I cannot get it to work with MySQL. The main problem is that on the shared hosting account I have I do not have the ability to install things such as Django or PySQL, I generally fail when installing them on my computer so maybe it's good I can't install on the host. I found bpgsql really good because it does not require an install, it's a single file that I can look at, read and then call the functions of. Does anybody know of something like this for MySQL?",Python and MySQL,777,766,5,"I don't have any experience with http://www.SiteGround.com as a web host personally. This is just a guess, but it's common for a shared host to support Python and MySQL with the MySQLdb module (e.g., GoDaddy does this). Try the following CGI script to see if MySQLdb is installed. #!/usr/bin/pythonmodule_name = 'MySQLdb'head = '''Content-Type: text/html%s is ''' % module_nametry: __import__(module_name) print head + 'installed'except ImportError: print head + 'not installed'"
766,20,"I can get Python to work with Postgresql but I cannot get it to work with MySQL. The main problem is that on the shared hosting account I have I do not have the ability to install things such as Django or PySQL, I generally fail when installing them on my computer so maybe it's good I can't install on the host. I found bpgsql really good because it does not require an install, it's a single file that I can look at, read and then call the functions of. Does anybody know of something like this for MySQL?",Python and MySQL,802,766,4,"I uploaded it and got an internal error Premature end of script headers After much playing around, I found that if I had import cgiimport cgitb; cgitb.enable()import MySQLdb It would give me a much more useful answer and say that it was not installed, you can see it yourself -> http://woarl.com/db.py Oddly enough, this would produce an error import MySQLdbimport cgiimport cgitb; cgitb.enable() I looked at some of the other files I had up there and it seems that library was one of the ones I had already tried."
766,20,"I can get Python to work with Postgresql but I cannot get it to work with MySQL. The main problem is that on the shared hosting account I have I do not have the ability to install things such as Django or PySQL, I generally fail when installing them on my computer so maybe it's good I can't install on the host. I found bpgsql really good because it does not require an install, it's a single file that I can look at, read and then call the functions of. Does anybody know of something like this for MySQL?",Python and MySQL,1619,766,17,"MySQLdb is what I have used before. If you host is using Python version 2.5 or higher, support for sqlite3 databases is built in (sqlite allows you to have a relational database that is simply a file in your filesystem). But buyer beware, sqlite is not suited for production, so it may depend what you are trying to do with it. Another option may be to call your host and complain, or change hosts. Honestly these days, any self respecting web host that supports python and mysql ought to have MySQLdb pre installed."
766,20,"I can get Python to work with Postgresql but I cannot get it to work with MySQL. The main problem is that on the shared hosting account I have I do not have the ability to install things such as Django or PySQL, I generally fail when installing them on my computer so maybe it's good I can't install on the host. I found bpgsql really good because it does not require an install, it's a single file that I can look at, read and then call the functions of. Does anybody know of something like this for MySQL?",Python and MySQL,8332,766,4,"You could try setting up your own python installation using Virtual Python. Check out how to setup Django using it here. That was written a long time ago, but it shows how I got MySQLdb setup without having root access or anything like it. Once you've got the basics going, you can install any python library you want."
773,256,"I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function. What I'm trying to do is this: Take a list - in this case, the children of an objectified lxml element Divide it into groups based on some criteria Then later iterate over each of these groups separately. I've reviewed the documentation, and the examples, but I've had trouble trying to apply them beyond a simple list of numbers. So, how do I use of itertools.groupby()? Is there another technique I should be using? Pointers to good ""prerequisite"" reading would also be appreciated.",How do I use Python's itertools.groupby()?,783,773,52,"Can you show us your code? The example on the Python docs is quite straightforward: groups = [] uniquekeys = [] for k, g in groupby(data, keyfunc): groups.append(list(g)) # Store group iterator as a list uniquekeys.append(k) So in your case, data is a list of nodes, keyfunc is where the logic of your criteria function goes and then groupby() groups the data. You must be careful to sort the data by the criteria before you call groupby or it won't work. groupby method actually just iterates through a list and whenever the key changes it creates a new group."
773,256,"I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function. What I'm trying to do is this: Take a list - in this case, the children of an objectified lxml element Divide it into groups based on some criteria Then later iterate over each of these groups separately. I've reviewed the documentation, and the examples, but I've had trouble trying to apply them beyond a simple list of numbers. So, how do I use of itertools.groupby()? Is there another technique I should be using? Pointers to good ""prerequisite"" reading would also be appreciated.",How do I use Python's itertools.groupby()?,7286,773,394,"As Sebastjan said, you first have to sort your data. This is important. The part I didn't get is that in the example construction groups = [] uniquekeys = [] for k, g in groupby(data, keyfunc): groups.append(list(g)) # Store group iterator as a list uniquekeys.append(k) k is the current grouping key, and g is an iterator that you can use to iterate over the group defined by that grouping key. In other words, the groupby iterator itself returns iterators. Here's an example of that, using clearer variable names: from itertools import groupby things = [(""animal"", ""bear""), (""animal"", ""duck""), (""plant"", ""cactus""), (""vehicle"", ""speed boat""), (""vehicle"", ""school bus"")] for key, group in groupby(things, lambda x: x[0]): for thing in group: print ""A %s is a %s."" % (thing[1], key) print "" "" This will give you the output: A bear is a animal. A duck is a animal. A cactus is a plant. A speed boat is a vehicle. A school bus is a vehicle. In this example, things is a list of tuples where the first item in each tuple is the group the second item belongs to. The groupby() function takes two arguments: (1) the data to group and (2) the function to group it with. Here, lambda x: x[0] tells groupby() to use the first item in each tuple as the grouping key. In the above for statement, groupby returns three (key, group iterator) pairs - once for each unique key. You can use the returned iterator to iterate over each individual item in that group. Here's a slightly different example with the same data, using a list comprehension: for key, group in groupby(things, lambda x: x[0]): listOfThings = "" and "".join([thing[1] for thing in group]) print key + ""s: "" + listOfThings + ""."" This will give you the output: animals: bear and duck. plants: cactus. vehicles: speed boat and school bus."
773,256,"I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function. What I'm trying to do is this: Take a list - in this case, the children of an objectified lxml element Divide it into groups based on some criteria Then later iterate over each of these groups separately. I've reviewed the documentation, and the examples, but I've had trouble trying to apply them beyond a simple list of numbers. So, how do I use of itertools.groupby()? Is there another technique I should be using? Pointers to good ""prerequisite"" reading would also be appreciated.",How do I use Python's itertools.groupby()?,37252,773,24,"A neato trick with groupby is to run length encoding in one line: [(c,len(list(cgen))) for c,cgen in groupby(some_string)] will give you a list of 2-tuples where the first element is the char and the 2nd is the number of repetitions."
773,256,"I haven't been able to find an understandable explanation of how to actually use Python's itertools.groupby() function. What I'm trying to do is this: Take a list - in this case, the children of an objectified lxml element Divide it into groups based on some criteria Then later iterate over each of these groups separately. I've reviewed the documentation, and the examples, but I've had trouble trying to apply them beyond a simple list of numbers. So, how do I use of itertools.groupby()? Is there another technique I should be using? Pointers to good ""prerequisite"" reading would also be appreciated.",How do I use Python's itertools.groupby()?,1573195,773,5,"@CaptSolo, I tried your example, but it didn't work. from itertools import groupby [(c,len(list(cs))) for c,cs in groupby('Pedro Manoel')] Output: [('P', 1), ('e', 1), ('d', 1), ('r', 1), ('o', 1), (' ', 1), ('M', 1), ('a', 1), ('n', 1), ('o', 1), ('e', 1), ('l', 1)] As you can see, there are two o's and two e's, but they got into separate groups. That's when I realized you need to sort the list passed to the groupby function. So, the correct usage would be: name = list('Pedro Manoel') name.sort() [(c,len(list(cs))) for c,cs in groupby(name)] Output: [(' ', 1), ('M', 1), ('P', 1), ('a', 1), ('d', 1), ('e', 2), ('l', 1), ('n', 1), ('o', 2), ('r', 1)] Just remembering, if the list is not sorted, the groupby function will not work!"
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,982,972,14,"In Python monkey patching generally works by overwriting a class or functions signature with your own. Below is an example from the Zope Wiki: from SomeOtherProduct.SomeModule import SomeClassdef speak(self): return ""ook ook eee eee eee!""SomeClass.speak = speak That code will overwrite/create a method called speak on the class. In Jeff Atwood's recent post on monkey patching. He shows an example in C# 3.0 which is the current language I use for work."
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,984,972,-6,"I don't know Python syntax, but I know Ruby can do it, and it is rather trivial. Let's say you want to add a method to Array that prints the length to standard out: class Array def print_length puts length endend If you don't want to modify the whole class, you can just add the method to a single instance of the array, and no other arrays will have the method: array = [1, 2, 3]def array.print_length puts lengthend Just be aware of the issues involved in using this feature. Jeff Atwood actually wrote about it not too long ago."
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,2982,972,576,"In Python, there is a difference between functions and bound methods. &gt;&gt;&gt; def foo(): ... print ""foo"" ... &gt;&gt;&gt; class A: ... def bar( self ): ... print ""bar"" ... &gt;&gt;&gt; a = A() &gt;&gt;&gt; foo &lt;function foo at 0x00A98D70&gt; &gt;&gt;&gt; a.bar &lt;bound method A.bar of &lt;__main__.A instance at 0x00A9BC88&gt;&gt; &gt;&gt;&gt; Bound methods have been ""bound"" (how descriptive) to an instance, and that instance will be passed as the first argument whenever the method is called. Callables that are attributes of a class (as opposed to an instance) are still unbound, though, so you can modify the class definition whenever you want: &gt;&gt;&gt; def fooFighters( self ): ... print ""fooFighters"" ... &gt;&gt;&gt; A.fooFighters = fooFighters &gt;&gt;&gt; a2 = A() &gt;&gt;&gt; a2.fooFighters &lt;bound method A.fooFighters of &lt;__main__.A instance at 0x00A9BEB8&gt;&gt; &gt;&gt;&gt; a2.fooFighters() fooFighters Previously defined instances are updated as well (as long as they haven't overridden the attribute themselves): &gt;&gt;&gt; a.fooFighters() fooFighters The problem comes when you want to attach a method to a single instance: &gt;&gt;&gt; def barFighters( self ): ... print ""barFighters"" ... &gt;&gt;&gt; a.barFighters = barFighters &gt;&gt;&gt; a.barFighters() Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; TypeError: barFighters() takes exactly 1 argument (0 given) The function is not automatically bound when it's attached directly to an instance: &gt;&gt;&gt; a.barFighters &lt;function barFighters at 0x00A98EF0&gt; To bind it, we can use the MethodType function in the types module: &gt;&gt;&gt; import types &gt;&gt;&gt; a.barFighters = types.MethodType( barFighters, a ) &gt;&gt;&gt; a.barFighters &lt;bound method ?.barFighters of &lt;__main__.A instance at 0x00A9BC88&gt;&gt; &gt;&gt;&gt; a.barFighters() barFighters This time other instances of the class have not been affected: &gt;&gt;&gt; a2.barFighters() Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; AttributeError: A instance has no attribute 'barFighters' More information can be found by reading about descriptors and metaclass programming."
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,4600,972,4,"What you're looking for is setattr I believe. Use this to set an attribute on an object. &gt;&gt;&gt; def printme(s): print repr(s)&gt;&gt;&gt; class A: pass&gt;&gt;&gt; setattr(A,'printme',printme)&gt;&gt;&gt; a = A()&gt;&gt;&gt; a.printme() # s becomes the implicit 'self' variable&lt; __ main __ . A instance at 0xABCDEFG&gt;"
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,22525,972,3,"What Jason Pratt posted is correct. &gt;&gt;&gt; class Test(object): ... def a(self): ... pass ... &gt;&gt;&gt; def b(self): ... pass ... &gt;&gt;&gt; Test.b = b &gt;&gt;&gt; type(b) &lt;type 'function'&gt; &gt;&gt;&gt; type(Test.a) &lt;type 'instancemethod'&gt; &gt;&gt;&gt; type(Test.b) &lt;type 'instancemethod'&gt; As you can see, Python doesn't consider b() any different than a(). In Python all methods are just variables that happen to be functions."
972,364,"I've read that it is possible to add a method to an existing object (e.g. not in the class definition) in Python, I think this is called Monkey Patching (or in some cases Duck Punching). I understand that it's not always a good decision to do so. But, how might one do this? UPDATE 8/04/2008 00:21:01 EST: That looks like a good answer John Downey, I tried it but it appears that it ends up being not a true method. Your example defines the new patch function with an argument of self, but if you write actual code that way, the now patched class method asks for an argument named self (it doesn't automagically recognize it as the object to which it is supposed to bind, which is what would happen if defined within the class definition), meaning you have to call class.patch(obj) instead of just class.patch() if you want the same functionality as a true method. It looks like Python isn't really treating it as a method, but more just as a variable which happens to be a function (and as such is callable). Is there any way to attach an actual method to a class? Oh, and Ryan, that isn't exactly what I was looking for (it isn't a builtin functionality), but it is quite cool nonetheless.",Adding a Method to an Existing Object Instance,959064,972,66,"Module new is deprecated since python 2.6 and removed in 3.0, use types see http://docs.python.org/library/new.html In the example below I've deliberately removed return value from patch_me() function. I think that giving return value may make one believe that patch returns a new object, which is not true - it modifies the incoming one. Probably this can facilitate a more disciplined use of monkeypatching. import types class A(object):#but seems to work for old style objects too pass def patch_me(target): def method(target,x): print ""x="",x print ""called from"", target target.method = types.MethodType(method,target) #add more if needed a = A() print a #out: &lt;__main__.A object at 0x2b73ac88bfd0&gt; patch_me(a) #patch instance a.method(5) #out: x= 5 #out: called from &lt;__main__.A object at 0x2b73ac88bfd0&gt; patch_me(A) A.method(6) #can patch class too #out: x= 6 #out: called from &lt;class '__main__.A'&gt;"
1476,251,"How do you express an integer as a binary number with Python literals? I was easily able to find the answer for hex: &gt;&gt;&gt; 0x12AF 4783 &gt;&gt;&gt; 0x100 256 and octal: &gt;&gt;&gt; 01267 695 &gt;&gt;&gt; 0100 64 How do you use literals to express binary in Python? Summary of Answers Python 2.5 and earlier: can express binary using int('01010101111',2) but not with a literal. Python 2.5 and earlier: there is no way to express binary literals. Python 2.6 beta: You can do like so: 0b1100111 or 0B1100111. Python 2.6 beta: will also allow 0o27 or 0O27 (second character is the letter O) to represent an octal. Python 3.0 beta: Same as 2.6, but will no longer allow the older 027 syntax for octals.",How do you express binary literals in Python?,1478,1476,-1,"As far as I can tell Python, up through 2.5, only supports hexadecimal &amp; octal literals. I did find some discussions about adding binary to future versions but nothing definite."
1476,251,"How do you express an integer as a binary number with Python literals? I was easily able to find the answer for hex: &gt;&gt;&gt; 0x12AF 4783 &gt;&gt;&gt; 0x100 256 and octal: &gt;&gt;&gt; 01267 695 &gt;&gt;&gt; 0100 64 How do you use literals to express binary in Python? Summary of Answers Python 2.5 and earlier: can express binary using int('01010101111',2) but not with a literal. Python 2.5 and earlier: there is no way to express binary literals. Python 2.6 beta: You can do like so: 0b1100111 or 0B1100111. Python 2.6 beta: will also allow 0o27 or 0O27 (second character is the letter O) to represent an octal. Python 3.0 beta: Same as 2.6, but will no longer allow the older 027 syntax for octals.",How do you express binary literals in Python?,1479,1476,-1,I am pretty sure this is one of the things due to change in Python 3.0 with perhaps bin() to go with hex() and oct(). EDIT: lbrandy's answer is correct in all cases.
1476,251,"How do you express an integer as a binary number with Python literals? I was easily able to find the answer for hex: &gt;&gt;&gt; 0x12AF 4783 &gt;&gt;&gt; 0x100 256 and octal: &gt;&gt;&gt; 01267 695 &gt;&gt;&gt; 0100 64 How do you use literals to express binary in Python? Summary of Answers Python 2.5 and earlier: can express binary using int('01010101111',2) but not with a literal. Python 2.5 and earlier: there is no way to express binary literals. Python 2.6 beta: You can do like so: 0b1100111 or 0B1100111. Python 2.6 beta: will also allow 0o27 or 0O27 (second character is the letter O) to represent an octal. Python 3.0 beta: Same as 2.6, but will no longer allow the older 027 syntax for octals.",How do you express binary literals in Python?,1484,1476,57,"&gt;&gt;&gt; print int('01010101111',2) 687 &gt;&gt;&gt; print int('11111111',2) 255 Another way."
1476,251,"How do you express an integer as a binary number with Python literals? I was easily able to find the answer for hex: &gt;&gt;&gt; 0x12AF 4783 &gt;&gt;&gt; 0x100 256 and octal: &gt;&gt;&gt; 01267 695 &gt;&gt;&gt; 0100 64 How do you use literals to express binary in Python? Summary of Answers Python 2.5 and earlier: can express binary using int('01010101111',2) but not with a literal. Python 2.5 and earlier: there is no way to express binary literals. Python 2.6 beta: You can do like so: 0b1100111 or 0B1100111. Python 2.6 beta: will also allow 0o27 or 0O27 (second character is the letter O) to represent an octal. Python 3.0 beta: Same as 2.6, but will no longer allow the older 027 syntax for octals.",How do you express binary literals in Python?,13107,1476,204,For reference&mdash;future Python possibilities: Starting with Python 2.6 you can express binary literals using the prefix 0b or 0B: &gt;&gt;&gt; 0b101111 47 You can also use the new bin function to get the binary representation of a number: &gt;&gt;&gt; bin(173) '0b10101101' Development version of the documentation: What's New in Python 2.6
1734,20,"I was just looking through some information about Google's protocol buffers data interchange format. Has anyone played around with the code or even created a project around it? I'm currently using XML in a Python project for structured content created by hand in a text editor, and I was wondering what the general opinion was on Protocol Buffers as a user-facing input format. The speed and brevity benefits definitely seem to be there, but there are so many factors when it comes to actually generating and processing the data.",Any experiences with Protocol Buffers?,1780,1734,8,"If you are looking for user facing interaction, stick with xml. It has more support, understanding, and general acceptance currently. If it's internal, I would say that protocol buffers are a great idea. Maybe in a few years as more tools come out to support protocol buffers, then start looking towards that for a public facing api. Until then... JSON?"
1734,20,"I was just looking through some information about Google's protocol buffers data interchange format. Has anyone played around with the code or even created a project around it? I'm currently using XML in a Python project for structured content created by hand in a text editor, and I was wondering what the general opinion was on Protocol Buffers as a user-facing input format. The speed and brevity benefits definitely seem to be there, but there are so many factors when it comes to actually generating and processing the data.",Any experiences with Protocol Buffers?,6161,1734,10,"Protocol buffers are intended to optimize communications between machines. They are really not intended for human interaction. Also, the format is binary, so it could not replace XML in that use case. I would also recommend JSON as being the most compact text-based format."
1734,20,"I was just looking through some information about Google's protocol buffers data interchange format. Has anyone played around with the code or even created a project around it? I'm currently using XML in a Python project for structured content created by hand in a text editor, and I was wondering what the general opinion was on Protocol Buffers as a user-facing input format. The speed and brevity benefits definitely seem to be there, but there are so many factors when it comes to actually generating and processing the data.",Any experiences with Protocol Buffers?,123093,1734,3,"From your brief description, it sounds like protocol buffers is not the right fit. The phrase ""structured content created by hand in a text editor"" pretty much screams for XML. But if you want efficient, low latency communications with data structures that are not shared outside your organization, binary serialization such as protocol buffers can offer a huge win."
1734,20,"I was just looking through some information about Google's protocol buffers data interchange format. Has anyone played around with the code or even created a project around it? I'm currently using XML in a Python project for structured content created by hand in a text editor, and I was wondering what the general opinion was on Protocol Buffers as a user-facing input format. The speed and brevity benefits definitely seem to be there, but there are so many factors when it comes to actually generating and processing the data.",Any experiences with Protocol Buffers?,1418610,1734,3,"Another drawback of binary format like PB is that if there is a single bit of error, the entire data file is not parsable, but with JSON or XML, as the last resort you can still manually fix the error because it is human readable and has redundancy built-in.."
1829,12,"I've got a menu in Python. That part was easy. I'm using raw_input() to get the selection from the user. The problem is that raw_input (and input) require the user to press Enter after they make a selection. Is there any way to make the program act immediately upon a keystroke? Here's what I've got so far: import sys print """"""Menu 1) Say Foo 2) Say Bar"""""" answer = raw_input(""Make a selection&gt; "") if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"" It would be great to have something like print menu while lastKey = """": lastKey = check_for_recent_keystrokes() if ""1"" in lastKey: #do stuff...",How do I make a menu that does not require the user to press [enter] to make a selection?,1840,1829,8,"On Linux: set raw mode select and read the keystroke restore normal settings import sys import select import termios import tty def getkey(): old_settings = termios.tcgetattr(sys.stdin) tty.setraw(sys.stdin.fileno()) select.select([sys.stdin], [], [], 0) answer = sys.stdin.read(1) termios.tcsetattr(sys.stdin, termios.TCSADRAIN, old_settings) return answer print """"""Menu 1) Say Foo 2) Say Bar"""""" answer=getkey() if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"""
1829,12,"I've got a menu in Python. That part was easy. I'm using raw_input() to get the selection from the user. The problem is that raw_input (and input) require the user to press Enter after they make a selection. Is there any way to make the program act immediately upon a keystroke? Here's what I've got so far: import sys print """"""Menu 1) Say Foo 2) Say Bar"""""" answer = raw_input(""Make a selection&gt; "") if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"" It would be great to have something like print menu while lastKey = """": lastKey = check_for_recent_keystrokes() if ""1"" in lastKey: #do stuff...",How do I make a menu that does not require the user to press [enter] to make a selection?,1852,1829,6,On Windows: import msvcrt answer=msvcrt.getch()
1829,12,"I've got a menu in Python. That part was easy. I'm using raw_input() to get the selection from the user. The problem is that raw_input (and input) require the user to press Enter after they make a selection. Is there any way to make the program act immediately upon a keystroke? Here's what I've got so far: import sys print """"""Menu 1) Say Foo 2) Say Bar"""""" answer = raw_input(""Make a selection&gt; "") if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"" It would be great to have something like print menu while lastKey = """": lastKey = check_for_recent_keystrokes() if ""1"" in lastKey: #do stuff...",How do I make a menu that does not require the user to press [enter] to make a selection?,1870,1829,2,"Wow, that took forever. Ok, here's what I've ended up with #!C:\python25\python.exeimport msvcrtprint """"""Menu1) Say Foo 2) Say Bar""""""while 1: char = msvcrt.getch() if char == chr(27): #escape break if char == ""1"": print ""foo"" break if char == ""2"": print ""Bar"" break It fails hard using IDLE, the python...thing...that comes with python. But once I tried it in DOS (er, CMD.exe), as a real program, then it ran fine. No one try it in IDLE, unless you have Task Manager handy. I've already forgotten how I lived with menus that arn't super-instant responsive."
1829,12,"I've got a menu in Python. That part was easy. I'm using raw_input() to get the selection from the user. The problem is that raw_input (and input) require the user to press Enter after they make a selection. Is there any way to make the program act immediately upon a keystroke? Here's what I've got so far: import sys print """"""Menu 1) Say Foo 2) Say Bar"""""" answer = raw_input(""Make a selection&gt; "") if ""1"" in answer: print ""foo"" elif ""2"" in answer: print ""bar"" It would be great to have something like print menu while lastKey = """": lastKey = check_for_recent_keystrokes() if ""1"" in lastKey: #do stuff...",How do I make a menu that does not require the user to press [enter] to make a selection?,1885,1829,0,"The reason msvcrt fails in IDLE is because IDLE is not accessing the library that runs msvcrt. Whereas when you run the program natively in cmd.exe it works nicely. For the same reason that your program blows up on Mac and Linux terminals. But I guess if you're going to be using this specifically for windows, more power to ya."
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,1857,1854,341,&gt;&gt;&gt; import os &gt;&gt;&gt; print os.name posix &gt;&gt;&gt; import platform &gt;&gt;&gt; platform.system() 'Linux' &gt;&gt;&gt; platform.release() '2.6.22-15-generic' See: platform â Access to underlying platformâs identifying data
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,1871,1854,112,"Dang -- lbrandy beat me to the punch, but that doesn't mean I can't provide you with the system results for Vista! &gt;&gt;&gt; import os &gt;&gt;&gt; os.name 'nt' &gt;&gt;&gt; import platform &gt;&gt;&gt; platform.system() 'Windows' &gt;&gt;&gt; platform.release() 'Vista'"
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,1879,1854,91,For the record here's the results on Mac: &gt;&gt;&gt; import os &gt;&gt;&gt; os.name 'posix' &gt;&gt;&gt; import platform &gt;&gt;&gt; platform.system() 'Darwin' &gt;&gt;&gt; platform.release() '8.11.1'
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,28426,1854,30,You can also use sys.platform if you already have imported sys and you don't want to import another module &gt;&gt;&gt; import sys &gt;&gt;&gt; sys.platform 'linux2'
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,553500,1854,13,I do this import sys print sys.platform Docs here : sys.platform. Everything you need is probably in the sys module.
1854,270,"What do I need to look at to see if I'm on Windows, Unix, etc?",How to check what OS am I running on in Python?,3021004,1854,7,"I am using the WLST tool that comes with weblogic, and it doesn't implement the platform package. wls:/offline&gt; import os wls:/offline&gt; print os.name java wls:/offline&gt; import sys wls:/offline&gt; print sys.platform 'java1.5.0_11' Apart from patching the system javaos.py (issue with os.system() on windows 2003 with jdk1.5) (which I can't do, I have to use weblogic out of the box), this is what I use: def iswindows(): os = java.lang.System.getProperty( ""os.name"" ) return ""win"" in os.lower()"
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",1987,1983,19,"The list [1,2,3] is dynamic and flexible but that flexibility comes at a speed cost. The tuple (1,2,3) is fixed (immutable) and therefore faster."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",2277,1983,26,"From the Python FAQ: Lists and tuples, while similar in many respects, are generally used in fundamentally different ways. Tuples can be thought of as being similar to Pascal records or C structs; they're small collections of related data which may be of different types which are operated on as a group. For example, a Cartesian coordinate is appropriately represented as a tuple of two or three numbers. Lists, on the other hand, are more like arrays in other languages. They tend to hold a varying number of objects all of which have the same type and which are operated on one-by-one. Generally by convention you wouldn't choose a list or a tuple just based on its (im)mutability. You would choose a tuple for small collections of completely different pieces of data in which a full-blown class would be too heavyweight, and a list for collections of any reasonable size where you have a homogeneous set of data."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",4595,1983,10,"Tuples are a quick\flexible way to create composite data-types. Lists are containers for, well, lists of objects. For example, you would use a List to store a list of student details in a class. Each student detail in that list may be a 3-tuple containing their roll number, name and test score. `[(1,'Mark',86),(2,'John',34)...]` Also, because tuples are immutable they can be used as keys in dictionaries."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",5719,1983,1,"As others have mentioned, Lists and tuples are both containers which can be used to store python objects. Lists are extensible and their contents can change by assignment, on the other hand tuples are immutable. Also, lists cannot be used as keys in a dictionary whereas tuples can."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",5746,1983,1,"If you can find a solution that works with tuples, use them, as it forces immutability which kind of drives you down a more functional path. You almost never regret going down the functional/immutable path."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",12454,1983,2,"Whenever I need to pass in a collection of items to a function, if I want the function to not change the values passed in - I use tuples. Else if I want to have the function to alter the values, I use list. Always if you are using external libraries and need to pass in a list of values to a function and are unsure about the integrity of the data, use a tuple."
1983,31,"In many places, (1,2,3) and [1,2,3] can be used interchangeably. When should I use one or the other, and why?","Python: what is the difference between (1,2,3) and [1,2,3], and when should I use each?",12557,1983,7,"The notion of tuples are highly expressive: Pragmatically, they are great for packing and unpacking values (x,y=coord). In combination with dictionaries (hash tables), they allow forms of mapping that would otherwise require many levels of association. For example, consider marking that (x,y) has been found. // PHP if (!isset($found[$x])) { $found[$x] = Array(); $found[$x][$y] = true; } else if (!isset($found[$x][$y])) { $found[$x][$y] = true; } # Python found[(x,y)] = True # parens added for clarity Lists should be used with the expectation of operations on its contents (hence the various mentions of immutability). One will want to pop, push, splice, slice, search, insert before, insert after, etc with a list. Tuples should be a low-level representation of an object, where simple comparisons are made, or operations such as extracting the n'th element or n elements in a predictable fashion, such as the coordinates example given earlier. Lastly, lists are not hashable, so the type of mapping done with dictionaries (hash tables in Perl, associative arrays in PHP) must be done with tuples. Here's a simple example of tuples and dictionaries, together at last: """""" couple is a tuple of two people doesLike is a dictionary mapping couples to True or False """""" couple = ""john"", ""jane"" doesLike = dict() doesLike[couple] = True doesLike[""jane"", ""john""] = False # unrequited love :'("
2311,26,"I have created a PHP-script to update a webserver that is live inside a local directory. I'm migrating the script into Python. It works fine for the most part, but after a PUT command the size of the file appears to change. Thus, the size of the file is different from that of the file on the server. Once I download again the file from the FTP server, the only difference is the CR/LF mark. This annoys me because the same script is comparing the size of the files to update. Also, in case it means anything, the script works perfectly in PHP vÃ­a ftp_put. from ftplib import FTP ftpserver = ""myserver"" ftpuser = ""myuser"" ftppass = ""mypwd"" locfile = ""g:/test/style.css"" ftpfile = ""/temp/style.css"" try: ftp = FTP(ftpserver, ftpuser, ftppass) except: exit (""Cannot connect"") f = open (locfile, ""r"") try: ftp.delete (ftpfile) except: pass # ftp.sendcmd (""TYPE I"") # ftp.storlines(""STOR %s"" % ftpfile, f) ftp.storbinary(""STOR %s"" % ftpfile, f) f.close() ftp.dir (ftpfile) ftp.quit() Any suggestions?",File size differences after copying a file to a server vÃ­a FTP,2316,2311,14,"Do you need to open the locfile in binary using rb? f = open (locfile, ""rb"")"
2311,26,"I have created a PHP-script to update a webserver that is live inside a local directory. I'm migrating the script into Python. It works fine for the most part, but after a PUT command the size of the file appears to change. Thus, the size of the file is different from that of the file on the server. Once I download again the file from the FTP server, the only difference is the CR/LF mark. This annoys me because the same script is comparing the size of the files to update. Also, in case it means anything, the script works perfectly in PHP vÃ­a ftp_put. from ftplib import FTP ftpserver = ""myserver"" ftpuser = ""myuser"" ftppass = ""mypwd"" locfile = ""g:/test/style.css"" ftpfile = ""/temp/style.css"" try: ftp = FTP(ftpserver, ftpuser, ftppass) except: exit (""Cannot connect"") f = open (locfile, ""r"") try: ftp.delete (ftpfile) except: pass # ftp.sendcmd (""TYPE I"") # ftp.storlines(""STOR %s"" % ftpfile, f) ftp.storbinary(""STOR %s"" % ftpfile, f) f.close() ftp.dir (ftpfile) ftp.quit() Any suggestions?",File size differences after copying a file to a server vÃ­a FTP,2317,2311,2,"Well if you go under the properties of your file in Windows or a *nix environment, you will notice two sizes. One is the sector size, and one is the actual size. The sector size is the number of sectors in bytes that are used up on your hard disk. That is because two files cannot be in the same sector with most modern file systems, so if your file fills up half of the sector the whole sector is marked as filled. So you might be comparing the sector file size to the actual file size on the FTP server or vice versa."
2311,26,"I have created a PHP-script to update a webserver that is live inside a local directory. I'm migrating the script into Python. It works fine for the most part, but after a PUT command the size of the file appears to change. Thus, the size of the file is different from that of the file on the server. Once I download again the file from the FTP server, the only difference is the CR/LF mark. This annoys me because the same script is comparing the size of the files to update. Also, in case it means anything, the script works perfectly in PHP vÃ­a ftp_put. from ftplib import FTP ftpserver = ""myserver"" ftpuser = ""myuser"" ftppass = ""mypwd"" locfile = ""g:/test/style.css"" ftpfile = ""/temp/style.css"" try: ftp = FTP(ftpserver, ftpuser, ftppass) except: exit (""Cannot connect"") f = open (locfile, ""r"") try: ftp.delete (ftpfile) except: pass # ftp.sendcmd (""TYPE I"") # ftp.storlines(""STOR %s"" % ftpfile, f) ftp.storbinary(""STOR %s"" % ftpfile, f) f.close() ftp.dir (ftpfile) ftp.quit() Any suggestions?",File size differences after copying a file to a server vÃ­a FTP,2510,2311,0,Small files take up a whole node on the filesystem whatever size that is. My host tends to report all small files as 4kb in ftp but in a shell gives an accurate size so it might be a 'feature' common to ftp clients.
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,2937,2933,189,"First you will need some GUI library with Python bindings and then (if you want) some program that will convert your python scripts into standalone executables. Cross-platform GUI libraries with Python bindings (Windows, Linux, Mac) Of course, there are many, but the most popular that I've seen in wild are: Tkinter - based on Tk GUI toolkit (de-facto standard GUI library for python, free for commercial projects) WxPython - based on WxWidgets (very popular, free for commercial projects) PyQt - based on Qt (also very popular and more stable than WxWidgets but costly license for commercial projects) Complete list is at http://wiki.python.org/moin/GuiProgramming Single executable (Windows) py2exe - Probably the most popular out there (PyInstaller is also gaining in popularity) Single executable (Linux) Freeze - works the same way like py2exe but targets Linux platform Single executable (Mac) py2app - again, works like py2exe but targets Mac OS"
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,2941,2933,0,"You don't need to compile python for Mac/Windows/Linux. It is an interpreted language, so you simply need to have the Python interpreter installed on the system of your choice (it is available for all three platforms). As for a GUI library that works cross platform, Python's Tk/Tcl widget library works very well, and I believe is sufficiently cross platform. Tkinter is the python interface to Tk/Tcl From the python project webpage: Tkinter is not the only GuiProgramming toolkit for Python. It is however the most commonly used one, and almost the only one that is portable between Unix, Mac and Windows"
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,2980,2933,2,"Since python is installed on nearly every non-Windows OS by default now, the only thing you really need to make sure of is that all of the non-standard libraries you use are installed. Having said that, it is possible to build executables that include the python interpreter, and any libraries you use. This is likely to create a large executable, however. MacOS X even includes support in the Xcode IDE for creating full standalone GUI apps. These can be run by any user running OS X."
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,12166,2933,13,An alternative tool to py2exe is bbfreeze which generates executables for windows and linux. It's newer than py2exe and handles eggs quite well. I've found it magically works better without configuration for a wide variety of applications.
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,12167,2933,2,"I'm not sure that this is the best way to do it, but when I'm deploying Ruby GUI apps (not Python, but has the same ""problem"" as far as .exe's are concerned) on Windows, I just write a short launcher in C# that calls on my main script. It compiles to an executable, and I then have an application executable."
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,15938,2933,3,"For the GUI itself: PyQT is pretty much the reference. Another way to develop a rapid user interface is to write a web app, have it run locally and display the app in the browser. Plus, if you go for the Tkinter option suggested by lubos hasko you may want to try portablepy to have your app run on Windows environment without Python."
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,31859,2933,39,"Another system (not mentioned in the accepted answer yet) is PyInstaller, which worked for a PyQt project of mine when py2exe would not. I found it easier to use. http://www.pyinstaller.org/ Pyinstaller is based on Gordon McMillan's Python Installer. Which is no longer available."
2933,171,"Python works on multiple platforms and can be used for desktop and web applications, thus I conclude that there is some way to compile it into an executable for Mac, Windows and Linux. The problem being I have no idea where to start or how to write a GUI with it, can anybody shed some light on this and point me in the right direction please?",How can I create a directly-executable cross-platform GUI app using Python?,265570,2933,7,"There's also PyGTK, which is basically a Python wrapper for the Gnome Toolkit. I've found it easier to wrap my mind around than Tkinter, coming from pretty much no knowledge of GUI programming previously. It works pretty well and has some good tutorials. Unfortunately there isn't an installer for Python 2.6 for Windows yet, and may not be for a while."
3061,761,"What is the best way to go about calling a function given a string with the function's name in a Python program. For example, let's say that I have a module foo, and I have a string whose contents are ""bar"". What is the best way to go about calling foo.bar()? I need to get the return value of the function, which is why I don't just use eval. I figured out how to do it by using eval to define a temp function that returns the result of that function call, but I'm hoping that there is a more elegant way to do this.",Calling a function of a module from a string with the function's name in Python,3071,3061,925,"Assuming module foo with method bar: import foo methodToCall = getattr(foo, 'bar') result = methodToCall() As far as that goes, lines 2 and 3 can be compressed to: result = getattr(foo, 'bar')() if that makes more sense for your use case. You can use getattr in this fashion on class instance bound methods, module-level methods, class methods... the list goes on."
3061,761,"What is the best way to go about calling a function given a string with the function's name in a Python program. For example, let's say that I have a module foo, and I have a string whose contents are ""bar"". What is the best way to go about calling foo.bar()? I need to get the return value of the function, which is why I don't just use eval. I figured out how to do it by using eval to define a temp function that returns the result of that function call, but I'm hoping that there is a more elegant way to do this.",Calling a function of a module from a string with the function's name in Python,4605,3061,145,"Patrick's solution is probably the cleanest. If you need to dynamically pick up the module as well, you can import it like: m = __import__ ('foo') func = getattr(m,'bar') func()"
3061,761,"What is the best way to go about calling a function given a string with the function's name in a Python program. For example, let's say that I have a module foo, and I have a string whose contents are ""bar"". What is the best way to go about calling foo.bar()? I need to get the return value of the function, which is why I don't just use eval. I figured out how to do it by using eval to define a temp function that returns the result of that function call, but I'm hoping that there is a more elegant way to do this.",Calling a function of a module from a string with the function's name in Python,834451,3061,266,"locals()[""myfunction""]() or globals()[""myfunction""]() locals returns a dictionary with a current local symbol table. globals returns a dictionary with global symbol table."
3976,12,"I have a Prolite LED sign that I like to set up to show scrolling search queries from a apache logs and other fun statistics. The problem is, my G5 does not have a serial port, so I have to use a usb to serial dongle. It shows up as /dev/cu.usbserial and /dev/tty.usbserial . When I do this everything seems to be hunky-dory: stty -f /dev/cu.usbserial speed 9600 baud; lflags: -icanon -isig -iexten -echo iflags: -icrnl -ixon -ixany -imaxbel -brkint oflags: -opost -onlcr -oxtabs cflags: cs8 -parenb Everything also works when I use the serial port tool to talk to it. If I run this piece of code while the above mentioned serial port tool, everthing also works. But as soon as I disconnect the tool the connection gets lost. #!/usr/bin/python import serial ser = serial.Serial('/dev/cu.usbserial', 9600, timeout=10) ser.write(""&lt;ID01&gt;&lt;PA&gt; \r\n"") read_chars = ser.read(20) print read_chars ser.close() So the question is, what magicks do I need to perform to start talking to the serial port without the serial port tool? Is that a permissions problem? Also, what's the difference between /dev/cu.usbserial and /dev/tty.usbserial? Nope, no serial numbers. The thing is, the problem persists even with sudo-running the python script, and the only thing that makes it go through if I open the connection in the gui tool that I mentioned.",Programmatically talking to a Serial Port in OS X or Linux,4128,3976,0,"have you tried watching the traffic between the GUI and the serial port to see if there is some kind of special command being sent across? Also just curious, Python is sending ASCII and not UTF-8 or something else right? The reason I ask is because I noticed your quote changes for the strings and in some languages that actually is the difference between ASCII and UTF-8."
3976,12,"I have a Prolite LED sign that I like to set up to show scrolling search queries from a apache logs and other fun statistics. The problem is, my G5 does not have a serial port, so I have to use a usb to serial dongle. It shows up as /dev/cu.usbserial and /dev/tty.usbserial . When I do this everything seems to be hunky-dory: stty -f /dev/cu.usbserial speed 9600 baud; lflags: -icanon -isig -iexten -echo iflags: -icrnl -ixon -ixany -imaxbel -brkint oflags: -opost -onlcr -oxtabs cflags: cs8 -parenb Everything also works when I use the serial port tool to talk to it. If I run this piece of code while the above mentioned serial port tool, everthing also works. But as soon as I disconnect the tool the connection gets lost. #!/usr/bin/python import serial ser = serial.Serial('/dev/cu.usbserial', 9600, timeout=10) ser.write(""&lt;ID01&gt;&lt;PA&gt; \r\n"") read_chars = ser.read(20) print read_chars ser.close() So the question is, what magicks do I need to perform to start talking to the serial port without the serial port tool? Is that a permissions problem? Also, what's the difference between /dev/cu.usbserial and /dev/tty.usbserial? Nope, no serial numbers. The thing is, the problem persists even with sudo-running the python script, and the only thing that makes it go through if I open the connection in the gui tool that I mentioned.",Programmatically talking to a Serial Port in OS X or Linux,4162,3976,4,"/dev/cu.xxxxx is the ""callout"" device, it's what you use when you establish a connection to the serial device and start talking to it. /dev/tty.xxxxx is the ""dialin"" device, used for monitoring a port for incoming calls for e.g. a fax listener."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,4958,4942,2,Focus on the shorter time needed for development/prototype and possibly easier maintenance (none of this may apply against Ruby).
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,4978,4942,11,"This is one of those cases that really boil down to personal preference or situational details. If you're more comfortable and experienced with Python, then say so. Are they asking you to justify it because they're more comfortable with one of the other environments? After you're done, will the system be passed off to someone else for long-term maintenance? If they ask you to use a technology or language that you're not as familiar with, then make sure they know up-front that it's going to take you longer."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,5014,4942,3,"I would consider that using python on a new project is completely dependent on what problem you are trying to solve with python. If you want someone to agree with you that you should use python, then show them how python's features apply specifically to that problem. In the case of web development with python, talk about WSGI and other web libraries and frameworks you could use that would make your life easier. One note for python is that most of the frameworks for python web development can be plugged right into any current project. With ruby on rails, you're practically working in a DSL that anyone who uses your project will have to learn. If they know python, then they can figure out what you are doing with django, etc in a day. I'm only talking about web development because it appears that's what you are going to be working on seeing ruby, python and PHP in the same list. The real message that's important is applying to whatever it is you like about python directly to some problem you are trying to solve."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,15291,4942,0,"I agree with mreggen. Tell them by working in Python you can get things done faster. Getting things done faster possibly means money saved by the client. In the least it means that you are working with a language you a more comfortable in, meaning faster development, debugging, and refactoring time. There will be less time spent looking up documentation on what function to use to find the length of a string, etc."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,15296,4942,4,"It's one of the preferred languages over at Google - It's several years ahead of Ruby in terms of ""maturity"" (what ever that really means - but managers like that). Since it's prefered by Google you can also run it on the Google App Engine. Mircosoft is also embracing Python, and will have a v2.0 of IronPython coming out shortly. They are working on a Ruby implementation as well, but the Python version is way ahead, and is actually ""ready for primetime"". That give you the possibility for easy integration with .NET code, as well as being able to write client side RIAs in Python when Silverlight 2 ships."
4942,5,"When asked to create system XYZ and you ask to do it in Python over PHP or Ruby, what are the main features you can mention when they require you to explain it?",How to sell Python to a client/boss/person with lots of cash,21221,4942,6,"The best sell of Python I've ever seen was by a manager in our group who had a young daughter. He used a quote attributed to Einstein: If you can't explain something to a six-year-old, you really don't understand it yourself. The next few slides of his presentation demonstrated how he was able to teach his young daughter some basic Python in less than 30 minutes, with examples of the code she wrote and an explanation of what it did. He ended the presentation with a picture of his daughter and her quote ""Programming is fun!"" I would focus on Python's user friendliness and wealth of libraries and frameworks. There are also a lot of little libraries that you might not get in other languages, and would have to write yourself (i.e. How a C++ developer writes Python). Good luck!"
5102,14,"I tried to follow a couple of googled up tutorials on setting up mod_python, but failed every time. Do you have a good, step-by step, rock-solid howto? My dev box is OS X, production - Centos.",How do you set up Python scripts to work in Apache 2.0?,5129,5102,12,"There are two main ways of running Python on Apache. The simplest would be to use CGI and write normal Python scripts while the second is using a web framework like Django or Pylons. Using CGI is straightforward. Make sure your Apache config file has a cgi-bin set up. If not, follow their documentation (http://httpd.apache.org/docs/2.0/howto/cgi.html). At that point all you need to do is place your Python scripts in the cgi-bin directory and the standard output will become the HTTP response. Refer to Python's documentation for further info (https://docs.python.org/library/cgi.html). If you want to use a web framework you'll need to setup mod_python or FastCGI. These steps are dependent on which framework you want to use. Django provides clear instructions on how to setup mod_python and Django with Apache (http://www.djangoproject.com/documentation/modpython/)"
5102,14,"I tried to follow a couple of googled up tutorials on setting up mod_python, but failed every time. Do you have a good, step-by step, rock-solid howto? My dev box is OS X, production - Centos.",How do you set up Python scripts to work in Apache 2.0?,5165,5102,8,"Yes, mod_python is pretty confusing to set up. Here's how I did it. In httpd.conf: LoadModule python_module modules/mod_python.so&lt;Directory ""/serverbase/htdocs/myapp""&gt; AddHandler mod_python .py PythonHandler myapp PythonDebug On and in your application directory: $ /serverbase/htdocs/myapp$ ls -ltotal 16-r-xr-xr-x 1 root sys 6484 May 21 15:54 myapp.py Repeat the configuration for each python program you wish to have running under mod_python."
5102,14,"I tried to follow a couple of googled up tutorials on setting up mod_python, but failed every time. Do you have a good, step-by step, rock-solid howto? My dev box is OS X, production - Centos.",How do you set up Python scripts to work in Apache 2.0?,5168,5102,5,Are you running Python on UNIX or Windows? An alternative to mod_python and FastCGI is mod_wsgi. You can find out more at modwsgi I have built and installed this on Solaris without problems. I had previously tried mod_python but ran into problems with shared libraries as part of the build. There are good install docs available.
5136,6,"A researcher has created a small simulation in MATLAB, and we want to make it accessible to others. My plan is to take the simulation, clean up a few things, and turn it into a set of functions. Then, I plan to compile it into a C library and use SWIG to create a Python wrapper. At that point, I should be able to call the simulation from a small Django app. At least, I hope so. Do I have the right plan? Has anyone else done something similar? Can you let me know if there are some serious pitfalls I'm not aware of at the moment?",Does anyone have experience creating a shared library in MATLAB?,5302,5136,4,I won't help much but I remember that I was able to wrap MATLAB simulation into DLL and then call it from Delphi app. It work really well. Anyway: good luck!!!
5136,6,"A researcher has created a small simulation in MATLAB, and we want to make it accessible to others. My plan is to take the simulation, clean up a few things, and turn it into a set of functions. Then, I plan to compile it into a C library and use SWIG to create a Python wrapper. At that point, I should be able to call the simulation from a small Django app. At least, I hope so. Do I have the right plan? Has anyone else done something similar? Can you let me know if there are some serious pitfalls I'm not aware of at the moment?",Does anyone have experience creating a shared library in MATLAB?,16189,5136,1,"Perhaps try ctypes instead of SWIG. If it has been included as a part of Python 2.5, then it must be good :-)"
5136,6,"A researcher has created a small simulation in MATLAB, and we want to make it accessible to others. My plan is to take the simulation, clean up a few things, and turn it into a set of functions. Then, I plan to compile it into a C library and use SWIG to create a Python wrapper. At that point, I should be able to call the simulation from a small Django app. At least, I hope so. Do I have the right plan? Has anyone else done something similar? Can you let me know if there are some serious pitfalls I'm not aware of at the moment?",Does anyone have experience creating a shared library in MATLAB?,138534,5136,2,"I'd also try ctypes first. Use the Matlab compiler to compile the code into C. Compile the C code into a DLL. Use ctypes to load and call code from this DLL The hardest step is probably 1, but if you already know Matlab and have used the Matlab compiler, you should not have serious problems with it."
5136,6,"A researcher has created a small simulation in MATLAB, and we want to make it accessible to others. My plan is to take the simulation, clean up a few things, and turn it into a set of functions. Then, I plan to compile it into a C library and use SWIG to create a Python wrapper. At that point, I should be able to call the simulation from a small Django app. At least, I hope so. Do I have the right plan? Has anyone else done something similar? Can you let me know if there are some serious pitfalls I'm not aware of at the moment?",Does anyone have experience creating a shared library in MATLAB?,1659332,5136,5,"One thing to remember is that the Matlab compiler does not actually compile the Matlab code into native machine instructions. It simply wraps it into a standalone executable or a library with its own runtime engine that runs it. You would be able to run your code without Matlab installed, and you would be able to interface it with other languages, but it will still be interpreted Matlab code, so there would be no speedup."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",5319,5313,8,erm.. HTML? (trying to be funny here... while we wait for real answers..)
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",5320,5313,1,"The wxWidgets (formerly known as wxWindows) library might be what you're looking for. There's a particularly good port for Python, wxPython, as well as versions for different languages -- C#, C++, Perl and Ruby come to mind -- and for various GUIs: Win32, Mac OS X, GTK+, X11, Motif, WinCE. The library's been around for a while and is pretty solid."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",5340,5313,3,"Not sure if this is what you're looking for, but there's Glade (or Windows download) which is a designer for GTK+. It generates an XML file which can then be used to build the GUI in a number of different languages."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",5343,5313,5,"Qt (pronounced ""cute"" by its creators[1]) is a cross-platform application development framework, widely used for the development of GUI programs. Qt uses C++ with several non-standard extensions implemented by an additional pre-processor that generates standard C++ code before compilation. Qt can also be used in several other programming languages; bindings exist for Ada (QtAda)[4], C# (Qyoto/Kimono)[5], Java (Qt Jambi)[6], Pascal, Perl, PHP (PHP-Qt), Ruby (RubyQt), and Python (PyQt). It runs on all major platforms, and has extensive internationalization support. Non-GUI features include SQL database access, XML parsing, thread management, network support and a unified cross-platform API for file handling."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",6616,5313,3,XML User Interface Language. Don't know much about it so not sure if it meets your desires. Post back with your experience if you play with it.
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",7496,5313,0,"I read a little on XML User Interface Language (XUL) and it looks really robust and well supported. The main problem for me is it's tied to the Gecko rendering engine so it's cross platform the way wxWidgets, QT and GTK+ are cross platform. Also, there Python bindings don't seem as good as those other libraries. GladeXML and XRC seem like better markups"
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",8109,5313,1,"@Cristian and Antony Cramp: while XUL is a nice choice for UI development (cross-platform, open-source licensed, used in Firefox and other major software), it's certainly not language agnostic. You're tied to Gecko, with JS for scripting. There is experimental support for Python scripting, but it's only experimental, AFAIK. You can define the UI in XUL+JS and use back-end components written in C++ though (there are Python and Java bridges available too)."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",8114,5313,4,"I seriously doubt you're going to find a markup language for GIU's that's not tied to a specific library. For such a thing to exist, there would need to be a standardized GUI markup language, with several implementations."
5313,11,"I learned Swing back in the day but now I've moved to Python and want to make some apps with GUIs. I haven't had the time to learn a new GUI API so I've been using Jython, but I would prefer to use CPython. It would be great if I can have one simple markup that allows me to switch GUI libraries. It would be even better if I can use the same markup language across languages so I can quickly make GUIs for any language I'm using. Does anyone know of such a markup/library? I've seen markups like Glade and wxWidget's markup (I forget the name). They're partly what I'm looking for (making a GUI without coding it in a language) but they're intertwined with a specific library. And neither are really nice looking or friendly to human editting.","Cross Platform, Language Agnostic GUI Markup Language?",1607717,5313,0,"I would go with XSLT, therefore it could be embedded in other interfaces as well."
5415,21,I have a binary file that I have to parse and I'm using Python. Is there a way to take 4 bytes and convert it to a single precision floating point number?,Convert Bytes to Floating Point Numbers in Python,5435,5415,13,You'll want the struct package.
5415,21,I have a binary file that I have to parse and I'm using Python. Is there a way to take 4 bytes and convert it to a single precision floating point number?,Convert Bytes to Floating Point Numbers in Python,73281,5415,32,"&gt;&gt;&gt; import struct &gt;&gt;&gt; struct.pack('f', 3.141592654) b'\xdb\x0fI@' &gt;&gt;&gt; struct.unpack('f', b'\xdb\x0fI@') (3.1415927410125732,) &gt;&gt;&gt; struct.pack('4f', 1.0, 2.0, 3.0, 4.0) '\x00\x00\x80?\x00\x00\x00@\x00\x00@@\x00\x00\x80@'"
5419,72,"When I try to print a Unicode string in a Windows console, I get a UnicodeEncodeError: 'charmap' codec can't encode character .... error. I assume this is because the Windows console does not accept Unicode-only characters. What's the best way around this? Is there any way I can make Python automatically print a ? instead of failing in this situation? Edit: I'm using Python 2.5. Note: @LasseV.Karlsen answer with the checkmark is sort of outdated (from 2008). Please use the solutions/answers/suggestions below with care!! @JFSebastian answer is more relevant as of today (6 Jan 2016).","Python, Unicode, and the Windows console",5430,5419,24,"Note: This answer is sort of outdated (from 2008). Please use the solution below with care!! Here is a page that details the problem and a solution (search the page for the text Wrapping sys.stdout into an instance): PrintFails - Python Wiki Here's a code excerpt from that page: $ python -c 'import sys, codecs, locale; print sys.stdout.encoding; \ sys.stdout = codecs.getwriter(locale.getpreferredencoding())(sys.stdout); \ line = u""\u0411\n""; print type(line), len(line); \ sys.stdout.write(line); print line' UTF-8 &lt;type 'unicode'&gt; 2 Ð Ð $ python -c 'import sys, codecs, locale; print sys.stdout.encoding; \ sys.stdout = codecs.getwriter(locale.getpreferredencoding())(sys.stdout); \ line = u""\u0411\n""; print type(line), len(line); \ sys.stdout.write(line); print line' | cat None &lt;type 'unicode'&gt; 2 Ð Ð There's some more information on that page, well worth a read."
5419,72,"When I try to print a Unicode string in a Windows console, I get a UnicodeEncodeError: 'charmap' codec can't encode character .... error. I assume this is because the Windows console does not accept Unicode-only characters. What's the best way around this? Is there any way I can make Python automatically print a ? instead of failing in this situation? Edit: I'm using Python 2.5. Note: @LasseV.Karlsen answer with the checkmark is sort of outdated (from 2008). Please use the solutions/answers/suggestions below with care!! @JFSebastian answer is more relevant as of today (6 Jan 2016).","Python, Unicode, and the Windows console",8020,5419,-1,"The cause of your problem is NOT the Win console not willing to accept Unicode (as it does this since I guess Win2k by default). It is the default system encoding. Try this code and see what it gives you: import sys sys.getdefaultencoding() if it says ascii, there's your cause ;-) You have to create a file called sitecustomize.py and put it under python path (I put it under /usr/lib/python2.5/site-packages, but that is differen on Win - it is c:\python\lib\site-packages or something), with the following contents: import sys sys.setdefaultencoding('utf-8') and perhaps you might want to specify the encoding in your files as well: # -*- coding: UTF-8 -*- import sys,time Edit: more info can be found in excellent the Dive into Python book"
5419,72,"When I try to print a Unicode string in a Windows console, I get a UnicodeEncodeError: 'charmap' codec can't encode character .... error. I assume this is because the Windows console does not accept Unicode-only characters. What's the best way around this? Is there any way I can make Python automatically print a ? instead of failing in this situation? Edit: I'm using Python 2.5. Note: @LasseV.Karlsen answer with the checkmark is sort of outdated (from 2008). Please use the solutions/answers/suggestions below with care!! @JFSebastian answer is more relevant as of today (6 Jan 2016).","Python, Unicode, and the Windows console",2013263,5419,7,"The below code will make Python output to console as UTF-8 even on Windows. The console will display the characters well on Windows 7 but on Windows XP it will not display them well, but at least it will work and most important you will have a consistent output from your script on all platforms. You'll be able to redirect the output to a file. Below code was tested with Python 2.6 on Windows. #!/usr/bin/python # -*- coding: UTF-8 -*- import codecs, sys reload(sys) sys.setdefaultencoding('utf-8') print sys.getdefaultencoding() if sys.platform == 'win32': try: import win32console except: print ""Python Win32 Extensions module is required.\n You can download it from https://sourceforge.net/projects/pywin32/ (x86 and x64 builds are available)\n"" exit(-1) # win32console implementation of SetConsoleCP does not return a value # CP_UTF8 = 65001 win32console.SetConsoleCP(65001) if (win32console.GetConsoleCP() != 65001): raise Exception (""Cannot set console codepage to 65001 (UTF-8)"") win32console.SetConsoleOutputCP(65001) if (win32console.GetConsoleOutputCP() != 65001): raise Exception (""Cannot set console output codepage to 65001 (UTF-8)"") #import sys, codecs sys.stdout = codecs.getwriter('utf8')(sys.stdout) sys.stderr = codecs.getwriter('utf8')(sys.stderr) print ""This is an Ðä¹Î±mpÙ¡È testing Unicode support using Arabic, Latin, Cyrillic, Greek, Hebrew and CJK code points.\n"""
5909,28,"I'm downloading an entire directory from a web server. It works OK, but I can't figure how to get the file size before download to compare if it was updated on the server or not. Can this be done as if I was downloading the file from a FTP server? import urllib import re url = ""http://www.someurl.com"" # Download the page locally f = urllib.urlopen(url) html = f.read() f.close() f = open (""temp.htm"", ""w"") f.write (html) f.close() # List only the .TXT / .ZIP files fnames = re.findall('^.*&lt;a href=""(\w+(?:\.txt|.zip)?)"".*$', html, re.MULTILINE) for fname in fnames: print fname, ""..."" f = urllib.urlopen(url + ""/"" + fname) #### Here I want to check the filesize to download or not #### file = f.read() f.close() f = open (fname, ""w"") f.write (file) f.close() @Jon: thank for your quick answer. It works, but the filesize on the web server is slightly less than the filesize of the downloaded file. Examples: Local Size Server Size 2.223.533 2.115.516 664.603 662.121 It has anything to do with the CR/LF conversion?",Get size of a file before downloading in Python,5927,5909,6,"The size of the file is sent as the Content-Length header. Here is how to get it with urllib: &gt;&gt;&gt; site = urllib.urlopen(""http://python.org"")&gt;&gt;&gt; meta = site.info()&gt;&gt;&gt; print meta.getheaders(""Content-Length"")['16535']&gt;&gt;&gt;"
5909,28,"I'm downloading an entire directory from a web server. It works OK, but I can't figure how to get the file size before download to compare if it was updated on the server or not. Can this be done as if I was downloading the file from a FTP server? import urllib import re url = ""http://www.someurl.com"" # Download the page locally f = urllib.urlopen(url) html = f.read() f.close() f = open (""temp.htm"", ""w"") f.write (html) f.close() # List only the .TXT / .ZIP files fnames = re.findall('^.*&lt;a href=""(\w+(?:\.txt|.zip)?)"".*$', html, re.MULTILINE) for fname in fnames: print fname, ""..."" f = urllib.urlopen(url + ""/"" + fname) #### Here I want to check the filesize to download or not #### file = f.read() f.close() f = open (fname, ""w"") f.write (file) f.close() @Jon: thank for your quick answer. It works, but the filesize on the web server is slightly less than the filesize of the downloaded file. Examples: Local Size Server Size 2.223.533 2.115.516 664.603 662.121 It has anything to do with the CR/LF conversion?",Get size of a file before downloading in Python,5935,5909,16,"Using the returned-urllib-object method info(), you can get various information on the retrived document. Example of grabbing the current Google logo: &gt;&gt;&gt; import urllib&gt;&gt;&gt; d = urllib.urlopen(""http://www.google.co.uk/logos/olympics08_opening.gif"")&gt;&gt;&gt; print d.info()Content-Type: image/gifLast-Modified: Thu, 07 Aug 2008 16:20:19 GMT Expires: Sun, 17 Jan 2038 19:14:07 GMT Cache-Control: public Date: Fri, 08 Aug 2008 13:40:41 GMT Server: gws Content-Length: 20172 Connection: Close It's a dict, so to get the size of the file, you do urllibobject.info()['Content-Length'] print f.info()['Content-Length'] And to get the size of the local file (for comparison), you can use the os.stat() command: os.stat(""/the/local/file.zip"").st_size"
5909,28,"I'm downloading an entire directory from a web server. It works OK, but I can't figure how to get the file size before download to compare if it was updated on the server or not. Can this be done as if I was downloading the file from a FTP server? import urllib import re url = ""http://www.someurl.com"" # Download the page locally f = urllib.urlopen(url) html = f.read() f.close() f = open (""temp.htm"", ""w"") f.write (html) f.close() # List only the .TXT / .ZIP files fnames = re.findall('^.*&lt;a href=""(\w+(?:\.txt|.zip)?)"".*$', html, re.MULTILINE) for fname in fnames: print fname, ""..."" f = urllib.urlopen(url + ""/"" + fname) #### Here I want to check the filesize to download or not #### file = f.read() f.close() f = open (fname, ""w"") f.write (file) f.close() @Jon: thank for your quick answer. It works, but the filesize on the web server is slightly less than the filesize of the downloaded file. Examples: Local Size Server Size 2.223.533 2.115.516 664.603 662.121 It has anything to do with the CR/LF conversion?",Get size of a file before downloading in Python,5938,5909,4,"Also if the server you are connecting to supports it, look at Etags and the If-Modified-Since and If-None-Match headers. Using these will take advantage of the webserver's caching rules and will return a 304 Not Modified status code if the content hasn't changed."
5909,28,"I'm downloading an entire directory from a web server. It works OK, but I can't figure how to get the file size before download to compare if it was updated on the server or not. Can this be done as if I was downloading the file from a FTP server? import urllib import re url = ""http://www.someurl.com"" # Download the page locally f = urllib.urlopen(url) html = f.read() f.close() f = open (""temp.htm"", ""w"") f.write (html) f.close() # List only the .TXT / .ZIP files fnames = re.findall('^.*&lt;a href=""(\w+(?:\.txt|.zip)?)"".*$', html, re.MULTILINE) for fname in fnames: print fname, ""..."" f = urllib.urlopen(url + ""/"" + fname) #### Here I want to check the filesize to download or not #### file = f.read() f.close() f = open (fname, ""w"") f.write (file) f.close() @Jon: thank for your quick answer. It works, but the filesize on the web server is slightly less than the filesize of the downloaded file. Examples: Local Size Server Size 2.223.533 2.115.516 664.603 662.121 It has anything to do with the CR/LF conversion?",Get size of a file before downloading in Python,5985,5909,19,"I have reproduced what you are seeing: import urllib, oslink = ""http://python.org""print ""opening url:"", linksite = urllib.urlopen(link)meta = site.info()print ""Content-Length:"", meta.getheaders(""Content-Length"")[0]f = open(""out.txt"", ""r"")print ""File on disk:"",len(f.read())f.close()f = open(""out.txt"", ""w"")f.write(site.read())site.close()f.close()f = open(""out.txt"", ""r"")print ""File on disk after download:"",len(f.read())f.close()print ""os.stat().st_size returns:"", os.stat(""out.txt"").st_size Outputs this: opening url: http://python.orgContent-Length: 16535File on disk: 16535File on disk after download: 16535os.stat().st_size returns: 16861 What am I doing wrong here? Is os.stat().st_size not returning the correct size? Edit: OK, I figured out what the problem was: import urllib, oslink = ""http://python.org""print ""opening url:"", linksite = urllib.urlopen(link)meta = site.info()print ""Content-Length:"", meta.getheaders(""Content-Length"")[0]f = open(""out.txt"", ""rb"")print ""File on disk:"",len(f.read())f.close()f = open(""out.txt"", ""wb"")f.write(site.read())site.close()f.close()f = open(""out.txt"", ""rb"")print ""File on disk after download:"",len(f.read())f.close()print ""os.stat().st_size returns:"", os.stat(""out.txt"").st_size this outputs: $ python test.pyopening url: http://python.orgContent-Length: 16535File on disk: 16535File on disk after download: 16535os.stat().st_size returns: 16535 Make sure you are opening both files for binary read/write. // open for binary writeopen(filename, ""wb"")// open for binary readopen(filename, ""rb"")"
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,6125,5966,3,"Why not use SQLite? There is good support in Python and you can write SQL queries to get the data out. Here is the Python docs for sqlite3 If you don't want to use SQLite you could do an array of dicts. episodes = []episodes.append({'season':1, 'episode': 2, 'name':'Something'})episodes.append({'season':1, 'episode': 2, 'name':'Something', 'actors':['Billy Bob', 'Sean Penn']}) That way you add metadata to any record and search it very easily season_1 = [e for e in episodes if e['season'] == 1]billy_bob = [e for e in episodes if 'actors' in e and 'Billy Bob' in e['actors']]for episode in billy_bob: print ""Billy bob was in Season %s Episode %s"" % (episode['season'], episode['episode'])"
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,6805,5966,0,I have done something similar in the past and used an in-memory XML document as a quick and dirty hierachical database for storage. You can store each show/season/episode as an element (nested appropriately) and attributes of these things as xml attributes on the elements. Then you can use XQuery to get info back out. NOTE: I'm not a Python guy so I don't know what your xml support is like. NOTE 2: You'll want to profile this because it'll be bigger and slower than the solution you've already got. Likely enough if you are doing some high-volume processing then XML is probably not going to be your friend.
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,8165,5966,0,"I don't get this part here: This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the seasonnotfound exception) There is a way to do it - called in: &gt;&gt;&gt;x={} &gt;&gt;&gt;x[1]={} &gt;&gt;&gt;x[1][2]={} &gt;&gt;&gt;x {1: {2: {}}} &gt;&gt;&gt; 2 in x[1] True &gt;&gt;&gt; 3 in x[1] False what seems to be the problem with that?"
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,9080,5966,0,"Bartosz/To clarify ""This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not"" x['some show'][3][24] would return season 3, episode 24 of ""some show"". If there was no season 3, I want the pseudo-dict to raise tvdbseasonnotfound, if ""some show"" doesn't exist, then raise tvdbshownotfound The current system of a series of classes, each with a __getitem__ - Show checks if self.seasons.has_key(requested_season_number), the Season class checks if self.episodes.has_key(requested_episode_number) and so on. It works, but it there seems to be a lot of repeated code (each class is basically the same, but raises a different error)"
5966,10,"Basically, I've written an API to www.thetvdb.com in Python. The current code can be found here. It grabs data from the API as requested, and has to store the data somehow, and make it available by doing: print tvdbinstance[1][23]['episodename'] # get the name of episode 23 of season 1 What is the ""best"" way to abstract this data within the Tvdb() class? I originally used a extended Dict() that automatically created sub-dicts (so you could do x[1][2][3][4] = ""something"" without having to do if x[1].has_key(2): x[1][2] = [] and so on) Then I just stored the data by doing self.data[show_id][season_number][episode_number][attribute_name] = ""something"" This worked okay, but there was no easy way of checking if x[3][24] was supposed to exist or not (so I couldn't raise the season_not_found exception) Currently it's using four classes. ShowContainer, Show, Season and Episode. Each one is a very basic dict, which I can easily add extra functionality in (the search() function on Show() for example). Each has a __setitem__, __getitem_ and has_key This works mostly fine, I can check in Shows if it has that season in it's self.data dict, if not, raise season_not_found. Check in Season() if it has that episode and so on. The problem now is it's presenting itself as a dict, but doesn't have all the functionality, and because I'm overriding the _getitem_ and _setitem_ functions, it's easy to accidently recursively call _getitem_ (so I'm not sure if extending the Dict class will cause problems) The other slight problem is adding data into the dict is a lot more work than the old Ddict method (which was self.data[seas_no][ep_no]['attribute'] = 'something'). See _setItem and _setData. It's not too bad, since it's currently only a read-only API interface (so the users of the API should only ever retrieve data, not add more), but it's hardly.. elegant.. I think the series-of-classes system is probably the best way, but does anyone have a better idea for storing the data? And would extending the ShowContainer/etc classes with Dict cause problems?",Best way to abstract season/show/episode data,10778,5966,5,"OK, what you need is classobj from new module. That would allow you to construct exception classes dynamically (classobj takes a string as an argument for the class name). import new myexc=new.classobj(""ExcName"",(Exception,),{}) i=myexc(""This is the exc msg!"") raise I this gives you: Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; __main__.ExcName: This is the exc msg! remember that you can always get the class name through: self.__class__.__name__ So, after some string mangling and concatenation, you should be able to obtain appropriate exception class name and construct a class object using that name and then raise that exception. P.S. - you can also raise strings, but this is deprecated. raise(self.__class__.__name__+""Exception"")"
8154,10,"[I hope this isn't too obscure&hellip; I'll ask the newsgroup if nobody knows here] I'm using Pylons (a python framework) to serve a simple web application, but it seems to die from time to time, with this in the error log: (2006, 'MySQL server has gone away') I did a bit of checking, and saw that this was because the connections to MySQL were not being renewed. This shouldn't be a problem though, because the sqlalchemy.pool_recycle in the config file should automatically keep it alive. The default was 3600, but I dialed it back to 1800 because of this problem. It helped a bit, but 3600 should be fine according to the docs. The errors still happen semi-regularly. I don't want to lower it too much though and DOS my own database :). Maybe something in my MySQL config is goofy? Not sure where to look exactly. Other relevant details: Python 2.5 Pylons: 0.9.6.2 (w/ sql_alchemy) MySQL: 5.0.51",Pylons error - 'MySQL server has gone away',15261,8154,2,"You might want to check MySQL's timeout variables: show variables like '%timeout%'; You're probably interested in wait_timeout (less likely but possible: interactive_timeout). On Debian and Ubuntu, the defaults are 28800 (MySQL kills connections after 8 hours), but maybe the default for your platform is different or whoever administrates the server has configured things differently. AFAICT, pool_recycle doesn't actually keep the connections alive, it expires them on its own before MySQL kills them. I'm not familiar with pylons, but if causing the connections to intermittently do a SELECT 1; is an option, that will keep them alive at the cost of basically no server load and minimal network traffic. One final thought: are you somehow managing to use a connection that pylons thinks it has expired?"
8154,10,"[I hope this isn't too obscure&hellip; I'll ask the newsgroup if nobody knows here] I'm using Pylons (a python framework) to serve a simple web application, but it seems to die from time to time, with this in the error log: (2006, 'MySQL server has gone away') I did a bit of checking, and saw that this was because the connections to MySQL were not being renewed. This shouldn't be a problem though, because the sqlalchemy.pool_recycle in the config file should automatically keep it alive. The default was 3600, but I dialed it back to 1800 because of this problem. It helped a bit, but 3600 should be fine according to the docs. The errors still happen semi-regularly. I don't want to lower it too much though and DOS my own database :). Maybe something in my MySQL config is goofy? Not sure where to look exactly. Other relevant details: Python 2.5 Pylons: 0.9.6.2 (w/ sql_alchemy) MySQL: 5.0.51",Pylons error - 'MySQL server has gone away',46442,8154,6,I think I fixed it. It's turns out I had a simple config error. My ini file read: sqlalchemy.default.url = [connection string here] sqlalchemy.pool_recycle = 1800 The problem is that my environment.py file declared that the engine would only map keys with the prefix: sqlalchemy.default so pool_recycle was ignored. The solution is to simply change the second line in the ini to: sqlalchemy.default.pool_recycle = 1800
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,8699,8692,74,"The lxml package supports xpath. It seems to work pretty well, although I've had some trouble with the self:: axis. There's also Amara, but I haven't used it personally."
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,9171,8692,2,"PyXML works well. You didn't say what platform you're using, however if you're on Ubuntu you can get it with sudo apt-get install python-xml. I'm sure other Linux distros have it as well. If you're on a Mac, xpath is already installed but not immediately accessible. You can set PY_USE_XMLPLUS in your environment or do it the Python way before you import xml.xpath: if sys.platform.startswith('darwin'): os.environ['PY_USE_XMLPLUS'] = '1' In the worst case you may have to build it yourself. This package is no longer maintained but still builds fine and works with modern 2.x Pythons. Basic docs are here."
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,10846,8692,7,The latest version of elementtree supports XPath pretty well. Not being an XPath expert I can't say for sure if the implementation is full but it has satisfied most of my needs when working in Python. I've also use lxml and PyXML and I find etree nice because it's a standard module. NOTE: I've since found lxml and for me it's definitely the best XML lib out there for Python. It does XPath nicely as well (though again perhaps not a full implementation).
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,27974,8692,106,"libxml2 has a number of advantages: Compliance to the spec Active development and a community participation Speed. This is really a python wrapper around a C implementation. Ubiquity. The libxml2 library is pervasive and thus well tested. Downsides include: Compliance to the spec. It's strict. Things like default namespace handling are easier in other libraries. Use of native code. This can be a pain depending on your how your application is distributed / deployed. RPMs are available that ease some of this pain. Manual resource handling. Note in the sample below the calls to freeDoc() and xpathFreeContext(). This is not very Pythonic. If you are doing simple path selection, stick with ElementTree ( which is included in Python 2.5 ). If you need full spec compliance or raw speed and can cope with the distribution of native code, go with libxml2. Sample of libxml2 XPath Use import libxml2 doc = libxml2.parseFile(""tst.xml"") ctxt = doc.xpathNewContext() res = ctxt.xpathEval(""//*"") if len(res) != 2: print ""xpath query: wrong node set size"" sys.exit(1) if res[0].name != ""doc"" or res[1].name != ""foo"": print ""xpath query: wrong node set value"" sys.exit(1) doc.freeDoc() ctxt.xpathFreeContext() Sample of ElementTree XPath Use from elementtree.ElementTree import ElementTree mydoc = ElementTree(file='tst.xml') for e in mydoc.findall('/foo/bar'): print e.get('title').text"
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,1732475,8692,35,"Use LXML. LXML uses the full power of libxml2 and libxslt, but wraps them in more ""Pythonic"" bindings than the Python bindings that are native to those libraries. As such, it gets the full XPath 1.0 implementation. Native ElemenTree supports a limited subset of XPath, although it may be good enough for your needs."
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,2122709,8692,23,"Another option is py-dom-xpath, it works seamlessly with minidom and is pure Python so works on appengine. import xpath xpath.find('//item', doc)"
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,3547727,8692,3,Another library is 4Suite: http://sourceforge.net/projects/foursuite/ I do not know how spec-compliant it is. But it has worked very well for my use. It looks abandoned.
8692,164,What is the library? Is there a full implementation? How is the library used? Where is its website?,How to use Xpath in Python?,3547741,8692,9,"You can use: PyXML: from xml.dom.ext.reader import Sax2 from xml import xpath doc = Sax2.FromXmlFile('foo.xml').documentElement for url in xpath.Evaluate('//@Url', doc): print url.value libxml2: import libxml2 doc = libxml2.parseFile('foo.xml') for url in doc.xpathEval('//@Url'): print url.content"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,8972,8948,1,"This toolkit may do what you need. I can't say if it's the ""best"", but really, if it does what you need, that's all that matters, right? HTH"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,8974,8948,6,"A simple example from the book Dive Into Python works ok for me, this is the download link, the example is fileinfo.py. Don't know if it's the best, but it can do the basic job. The entire book is available online here."
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,8976,8948,1,"It can depend on exactly what you want to do in addition to reading the metadata. If it is just simply the bitrate / name etc. that you need, and nothing else, something lightweight is probably best. If you're manipulating the mp3 past that PyMedia may be suitable. There are quite a few, whatever you do get, make sure and test it out on plenty of sample media. There are a few different versions of ID3 tags in particular, so make sure it's not too out of date. Personally I've used this small MP3Info class with luck. It is quite old though. http://www.omniscia.org/~vivake/python/MP3Info.py"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,9358,8948,11,"What you're after is the ID3 module. It's very simple and will give you exactly what you need. Just copy the ID3.py file into your site-packages directory and you'll be able to do something like the following: from ID3 import * try: id3info = ID3('file.mp3') print id3info # Change the tags id3info['TITLE'] = ""Green Eggs and Ham"" id3info['ARTIST'] = ""Dr. Seuss"" for k, v in id3info.items(): print k, "":"", v except InvalidTagError, message: print ""Invalid ID3 tag:"", message"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,10845,8948,25,"I've used mutagen to edit tags in media files before. The nice thing about mutagen is that it can handle other formats, such as mp4, FLAC etc. I've written several scripts with a lot of success using this API."
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,28711,8948,0,"If you can use IronPython, there is TagLibSharp. It can be used from any .NET language."
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,102285,8948,75,"I used eyeD3 the other day with a lot of success. I found that it could add artwork to the ID3 tag which the other modules I looked at couldn't. You'll have to download the tar and execute python setup.py install from the source folder. Relevant examples from the website are below. Reading the contents of an mp3 file containing either v1 or v2 tag info: import eyeD3 tag = eyeD3.Tag() tag.link(""/some/file.mp3"") print tag.getArtist() print tag.getAlbum() print tag.getTitle() Read an mp3 file (track length, bitrate, etc.) and access it's tag: if eyeD3.isMp3File(f): audioFile = eyeD3.Mp3AudioFile(f) tag = audioFile.getTag() Specific tag versions can be selected: tag.link(""/some/file.mp3"", eyeD3.ID3_V2) tag.link(""/some/file.mp3"", eyeD3.ID3_V1) tag.link(""/some/file.mp3"", eyeD3.ID3_ANY_VERSION) # The default. Or you can iterate over the raw frames: tag = eyeD3.Tag() tag.link(""/some/file.mp3"") for frame in tag.frames: print frame Once a tag is linked to a file it can be modified and saved: tag.setArtist(u""Cro-Mags"") tag.setAlbum(u""Age of Quarrel"") tag.update() If the tag linked in was v2 and you'd like to save it as v1: tag.update(eyeD3.ID3_V1_1) Read in a tag and remove it from the file: tag.link(""/some/file.mp3"") tag.remove() tag.update() Add a new tag: tag = eyeD3.Tag() tag.link('/some/file.mp3') # no tag in this file, link returned False tag.header.setVersion(eyeD3.ID3_V2_3) tag.setArtist('Fugazi') tag.update()"
8948,81,"What is the best way to retrieve mp3 metadata in python? I've seen a couple frameworks out there, but I'm unsure as to which would be the best to use.... Any ideas?",Accessing mp3 Meta-Data with Python,1936720,8948,4,"I looked the above answers and found out that they are not good for my project because of licensing problems with GPL. And I found out this: PyID3Lib, while that particular python binding release date is old, it uses the ID3Lib, which itself is up to date. Notable to mention is that both are LGPL, and are good to go."
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,10129,10123,10,This will do what you want: signum = status &amp; 0xff exitstatus = (status &amp; 0xff00) &gt;&gt; 8
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,10132,10123,1,"You can unpack the status using bit-shifting and masking operators. low = status &amp; 0x00FF high = (status &amp; 0xFF00) &gt;&gt; 8 I'm not a Python programmer, so I hope got the syntax correct."
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,10148,10123,0,"The folks before me've nailed it, but if you really want it on one line, you can do this: (signum, exitstatus) = (status &amp; 0xFF, (status &gt;&gt; 8) &amp; 0xFF) EDIT: Had it backwards."
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,10213,10123,10,"To answer your general question, you can use bit manipulation techniques: pid, status = os.wait() exitstatus, signum = status &amp; 0xFF, (status &amp; 0xFF00) &gt;&gt; 8 However, there are also built-in functions for interpreting exit status values: pid, status = os.wait() exitstatus, signum = os.WEXITSTATUS( status ), os.WTERMSIG( status ) See also: os.WCOREDUMP() os.WIFCONTINUED() os.WIFSTOPPED() os.WIFSIGNALED() os.WIFEXITED() os.WSTOPSIG()"
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,686128,10123,2,"You can get break your int into a string of unsigned bytes with the struct module: import struct I = 3235830701 # 0xC0DEDBAD s = struct.pack(""&gt;L"", i) # ""&gt;"" = Big-endian, ""&lt;"" = Little-endian print s # '\xc0\xde\xdb\xad' print s[0] # '\xc0' print ord(s[0]) # 192 (which is 0xC0) If you couple this with the array module you can do this more conveniently: import struct I = 3235830701 # 0xC0DEDBAD s = struct.pack(""&gt;L"", i) # ""&gt;"" = Big-endian, ""&lt;"" = Little-endian import array a = array.array(""B"") # B: Unsigned bytes a.fromstring(s) print a # array('B', [192, 222, 219, 173])"
10123,8,"I'm trying to decode the result of the Python os.wait() function. This returns, according to the Python docs: a tuple containing its pid and exit status indication: a 16-bit number, whose low byte is the signal number that killed the process, and whose high byte is the exit status (if the signal number is zero); the high bit of the low byte is set if a core file was produced. How do I decode the exit status indication (which is an integer) to obtain the high and low byte? To be specific, how do I implement the decode function used in the following code snippet: (pid,status) = os.wait() (exitstatus, signum) = decode(status)",How do I treat an integer as an array of bytes in Python?,687977,10123,2,"exitstatus, signum= divmod(status, 256)"
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,11074,11060,8,"I started writing up a summary of my experience with my own code generator, then went back and re-read your question and found you had already touched upon the same issues yourself, focus on the execution results instead of the code layout/look. Problem is, this is hard to test, the generated code might not be suited to actually run in the environment of the unit test system, and how do you encode the expected results? I've found that you need to break down the code generator into smaller pieces and unit test those. Unit testing a full code generator is more like integration testing than unit testing if you ask me."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,11128,11060,0,"Yes, results are the ONLY thing that matters. The real chore is writing a framework that allows your generated code to run independently... spend your time there."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,11235,11060,0,"If you are running on *nux you might consider dumping the unittest framework in favor of a bash script or makefile. on windows you might consider building a shell app/function that runs the generator and then uses the code (as another process) and unittest that. A third option would be to generate the code and then build an app from it that includes nothing but a unittest. Again you would need a shell script or whatnot to run this for each input. As to how to encode the expected behavior, it occurs to me that it could be done in much the same way as you would for the C++ code just using the generated interface rather than the C++ one."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,11443,11060,4,"Recall that ""unit testing"" is only one kind of testing. You should be able to unit test the internal pieces of your code generator. What you're really looking at here is system level testing (a.k.a. regression testing). It's not just semantics... there are different mindsets, approaches, expectations, etc. It's certainly more work, but you probably need to bite the bullet and set up an end-to-end regression test suite: fixed C++ files -> SWIG interfaces -> python modules -> known output. You really want to check the known input (fixed C++ code) against expected output (what comes out of the final Python program). Checking the code generator results directly would be like diffing object files..."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,70778,11060,0,"Just wanted to point out that you can still achieve fine-grained testing while verifying the results: you can test individual chunks of code by nesting them inside some setup and verification code: int x = 0; GENERATED_CODE assert(x == 100); Provided you have your generated code assembled from smaller chunks, and the chunks do not change frequently, you can exercise more conditions and test a little better, and hopefully avoid having all your tests break when you change specifics of one chunk."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,2870088,11060,0,"Unit testing is just that testing a specific unit. So if you are writing a specification for class A, it is ideal if class A does not have the real concrete versions of class B and C. Ok I noticed afterwards the tag for this question includes C++ / Python, but the principles are the same: public class A : InterfaceA { InterfaceB b; InterfaceC c; public A(InterfaceB b, InterfaceC c) { this._b = b; this._c = c; } public string SomeOperation(string input) { return this._b.SomeOtherOperation(input) + this._c.EvenAnotherOperation(input); } } Because the above System A injects interfaces to systems B and C, you can unit test just system A, without having real functionality being executed by any other system. This is unit testing. Here is a clever manner for approaching a System from creation to completion, with a different When specification for each piece of behaviour: public class When_system_A_has_some_operation_called_with_valid_input : SystemASpecification { private string _actualString; private string _expectedString; private string _input; private string _returnB; private string _returnC; [It] public void Should_return_the_expected_string() { _actualString.Should().Be.EqualTo(this._expectedString); } public override void GivenThat() { var randomGenerator = new RandomGenerator(); this._input = randomGenerator.Generate&lt;string&gt;(); this._returnB = randomGenerator.Generate&lt;string&gt;(); this._returnC = randomGenerator.Generate&lt;string&gt;(); Dep&lt;InterfaceB&gt;().Stub(b =&gt; b.SomeOtherOperation(_input)) .Return(this._returnB); Dep&lt;InterfaceC&gt;().Stub(c =&gt; c.EvenAnotherOperation(_input)) .Return(this._returnC); this._expectedString = this._returnB + this._returnC; } public override void WhenIRun() { this._actualString = Sut.SomeOperation(this._input); } } So in conclusion, a single unit / specification can have multiple behaviours, and the specification grows as you develop the unit / system; and if your system under test depends on other concrete systems within it, watch out."
11060,18,"This is a difficult and open-ended question I know, but I thought I'd throw it to the floor and see if anyone had any interesting suggestions. I have developed a code-generator that takes our python interface to our C++ code (generated via SWIG) and generates code needed to expose this as WebServices. When I developed this code I did it using TDD, but I've found my tests to be brittle as hell. Because each test essentially wanted to verify that for a given bit of input code (which happens to be a C++ header) I'd get a given bit of outputted code I wrote a small engine that reads test definitions from XML input files and generates test cases from these expectations. The problem is I dread going in to modify the code at all. That and the fact that the unit tests themselves are a: complex, and b: brittle. So I'm trying to think of alternative approaches to this problem, and it strikes me I'm perhaps tackling it the wrong way. Maybe I need to focus more on the outcome, IE: does the code I generate actually run and do what I want it to, rather than, does the code look the way I want it to. Has anyone got any experiences of something similar to this they would care to share?",How should I unit test a code-generator?,3331503,11060,0,"My recommendation would be to figure out a set of known input-output results, such as some simpler cases that you already have in place, and unit test the code that is produced. It's entirely possible that as you change the generator that the exact string that is produced may be slightly different... but what you really care is whether it is interpreted in the same way. Thus, if you test the results as you would test that code if it were your feature, you will find out if it succeeds in the ways you want. Basically, what you really want to know is whether your generator will produce what you expect without physically testing every possible combination (also: impossible). By ensuring that your generator is consistent in the ways you expect, you can feel better that the generator will succeed in ever-more-complex situations. In this way, you can also build up a suite of regression tests (unit tests that need to keep working correctly). This will help you make sure that changes to your generator aren't breaking other forms of code. When you encounter a bug that your unit tests didn't catch, you may want to include it to prevent similar breakage."
12591,6,"Is there a way, when I parse an XML document using lxml, to validate that document against its DTD using an external catalog file? I need to be able to work the fixed attributes defined in a documentâs DTD.",Using an XML catalog with Python's lxml?,13040,12591,1,"Can you give an example? According to the lxml validation docs, lxml can handle DTD validation (specified in the XML doc or externally in code) and system catalogs, which covers most cases I can think of. f = StringIO(""&lt;!ELEMENT b EMPTY&gt;"") dtd = etree.DTD(f) dtd = etree.DTD(external_id = ""-//OASIS//DTD DocBook XML V4.2//EN"")"
12591,6,"Is there a way, when I parse an XML document using lxml, to validate that document against its DTD using an external catalog file? I need to be able to work the fixed attributes defined in a documentâs DTD.",Using an XML catalog with Python's lxml?,36219,12591,0,"It seems that lxml does not expose this libxml2 feature, grepping the source only turns up some #defines for the error handling: C:\Dev&gt;grep -ir --include=*.px[id] catalog lxml-2.1.1/src | sed -r ""s/\s+/ /g"" lxml-2.1.1/src/lxml/dtd.pxi: catalog. lxml-2.1.1/src/lxml/xmlerror.pxd: XML_FROM_CATALOG = 20 # The Catalog module lxml-2.1.1/src/lxml/xmlerror.pxd: XML_WAR_CATALOG_PI = 93 # 93 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_MISSING_ATTR = 1650 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_ENTRY_BROKEN = 1651 # 1651 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_PREFER_VALUE = 1652 # 1652 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_NOT_CATALOG = 1653 # 1653 lxml-2.1.1/src/lxml/xmlerror.pxd: XML_CATALOG_RECURSION = 1654 # 1654 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG=20 lxml-2.1.1/src/lxml/xmlerror.pxi:WAR_CATALOG_PI=93 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_MISSING_ATTR=1650 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_ENTRY_BROKEN=1651 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_PREFER_VALUE=1652 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_NOT_CATALOG=1653 lxml-2.1.1/src/lxml/xmlerror.pxi:CATALOG_RECURSION=1654 From the catalog implementation in libxml2 page it seems possible that the 'transparent' handling through installation in /etc/xml/catalog may still work in lxml, but if you need more than that you can always abandon lxml and use the default python bindings, which do expose the catalog functions."
12592,28,"Is it possible to write a doctest unit test that will check that an exception is raised? For example, if I have a function foo(x) that is supposed to raise an exception if x&lt;0, how would I write the doctest for that?",Can you check that an exception is thrown with doctest in Python?,12609,12592,45,Yes. You can do it. The doctest module documentation and Wikipedia has an example of it. &gt;&gt;&gt; x Traceback (most recent call last): ... NameError: name 'x' is not defined
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13399,13396,0,"Depends on the language and what you need to do, a ""map"" as it's called in many languages could be what you're looking for. I don't know C#, but according to this page, .NET 2.0 calls map ""ConvertAll"". The meaning of ""map"" is pretty simple - take a list, and apply a function to each element of it, returning a new list. You may also be looking for ""filter"", which would give you a list of items that satisfy a predicate in another list."
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13403,13396,1,"in Ruby: intArray.select { |x| x &gt; 3 }.each do |x| # do other processing end or if ""other processing"" is a short one-liner: intArray.select { |x| x &gt; 3 }.each { |x| something_that_uses x } lastly, if you want to return a new array containing the results of the processing of those elements greater than 3: intArray.select { |x| x &gt; 3 }.map { |x| do_something_to x }"
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13405,13396,2,"In Python, you have filter and map, which can so what you want: map(lambda x: foo(x + 1) filter(lambda x: x &gt; 3, intArray)) There's also list comprehensions which can do both in one easy statement: [f(x + 1) for x in intArray if x &gt; 3]"
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13406,13396,3,In C# you can apply selective processing on anything that lives inside an IEnumerable like this: intArray.Where(i =&gt; I &gt; 3).ConvertAll(); DoStuff(intArray.Where(i =&gt; I 3)); Etc..
13396,5,"I love list comprehensions in Python, because they concisely represent a transformation of a list. However, in other languages, I frequently find myself writing something along the lines of: foreach (int x in intArray) if (x &gt; 3) //generic condition on x x++ //do other processing This example is in C#, where I'm under the impression LINQ can help with this, but is there some common programming construct which can replace this slightly less-than-elegant solution? Perhaps a data structure I'm not considering?",Replacement for for... if array iteration,13435,13396,4,"The increment in the original foreach loop will not affect the contents of the array, the only way to do this remains a for loop: for(int I = 0; I &lt; intArray.Length; ++i) { if(intArray[i] &gt; 3) ++intArray[i]; } Linq is not intended to modify existing collections or sequences. It creates new sequences based on existing ones. It is possible to achieve the above code using Linq, though it is slightly against its purposes: var newArray1 = from I in intArray select ((i &gt; 3) ? (i + 1) : (i)); var newArray2 = intArray.Select(i =&gt; (i &gt; 3) ? (i + 1) : (i)); Using where (or equivalent), as shown in some of the other answers, will exclude any values less than or equal to 3 from the resulting sequence. var intArray = new int[] { 10, 1, 20, 2 }; var newArray = from I in intArray where I &gt; 3 select I + 1; // newArray == { 11, 21 } There is a ForEach method on arrays that will allow you to use a lambda function instead of a foreach block, though for anything more than a method call I would stick with foreach. intArray.ForEach(i =&gt; DoSomething(i));"
13454,9,"I wrote a piece of code to convert PHP's striplashes into valid Python [backslash] escapes: cleaned = stringwithslashes cleaned = cleaned.replace('\\n', '\n') cleaned = cleaned.replace('\\r', '\n') cleaned = cleaned.replace('\\', '') How can I condense it?",Python version of PHP's stripslashes,13456,13454,0,"You can obviously concatenate everything together: cleaned = stringwithslashes.replace(""\\n"",""\n"").replace(""\\r"",""\n"").replace(""\\"","""") Is that what you were after? Or were you hoping for something more terse?"
13454,9,"I wrote a piece of code to convert PHP's striplashes into valid Python [backslash] escapes: cleaned = stringwithslashes cleaned = cleaned.replace('\\n', '\n') cleaned = cleaned.replace('\\r', '\n') cleaned = cleaned.replace('\\', '') How can I condense it?",Python version of PHP's stripslashes,13579,13454,-4,"Python has a built-in escape() function analogous to PHP's addslashes, but no unescape() function (stripslashes), which in my mind is kind of ridiculous. Regular expressions to the rescue (code not tested): p = re.compile( '\\(\\\S)') p.sub('\1',escapedstring) In theory that takes anything of the form \\(not whitespace) and returns \(same char) edit: Upon further inspection, Python regular expressions are broken as all hell; &gt;&gt;&gt; escapedstring 'This is a \\n\\n\\n test' &gt;&gt;&gt; p = re.compile( r'\\(\S)' ) &gt;&gt;&gt; p.sub(r""\1"",escapedstring) 'This is a nnn test' &gt;&gt;&gt; p.sub(r""\\1"",escapedstring) 'This is a \\1\\1\\1 test' &gt;&gt;&gt; p.sub(r""\\\1"",escapedstring) 'This is a \\n\\n\\n test' &gt;&gt;&gt; p.sub(r""\(\1)"",escapedstring) 'This is a \\(n)\\(n)\\(n) test' In conclusion, what the hell, Python."
13454,9,"I wrote a piece of code to convert PHP's striplashes into valid Python [backslash] escapes: cleaned = stringwithslashes cleaned = cleaned.replace('\\n', '\n') cleaned = cleaned.replace('\\r', '\n') cleaned = cleaned.replace('\\', '') How can I condense it?",Python version of PHP's stripslashes,13598,13454,10,"Not totally sure this is what you want, but.. cleaned = stringwithslashes.decode('string_escape')"
13454,9,"I wrote a piece of code to convert PHP's striplashes into valid Python [backslash] escapes: cleaned = stringwithslashes cleaned = cleaned.replace('\\n', '\n') cleaned = cleaned.replace('\\r', '\n') cleaned = cleaned.replace('\\', '') How can I condense it?",Python version of PHP's stripslashes,13608,13454,2,"It sounds like what you want could be reasonably efficiently handled through regular expressions: import re def stripslashes(s): r = re.sub(r""\\(n|r)"", ""\n"", s) r = re.sub(r""\\"", """", r) return r cleaned = stripslashes(stringwithslashes)"
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13844,13791,3,"Well, I think you might have missed the r or miscounted the backslashes... ""\\n"" == r""\n"" &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \\n a test \\r"" &gt;&gt;&gt; p = re.compile( r""[\\][\\](.)"" ) &gt;&gt;&gt; print p.sub( r""\\\1"", mystring ) This is \n a test \r &gt;&gt;&gt; Which, if I understood is what was requested. I suspect the more common request is this: &gt;&gt;&gt; d = {'n':'\n', 'r':'\r', 'f':'\f'} &gt;&gt;&gt; p = re.compile(r""[\\]([nrfv])"") &gt;&gt;&gt; print p.sub(lambda mo: d[mo.group(1)], mystring) This is \ a test \ &gt;&gt;&gt; The interested student should also read Ken Thompson's Reflections on Trusting Trust"", wherein our hero uses a similar example to explain the perils of trusting compilers you haven't bootstrapped from machine code yourself."
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13869,13791,0,"You are being tricked by Python's representation of the result string. The Python expression: 'This is \\n a test \\r' represents the string This is \n a test \r which is I think what you wanted. Try adding 'print' in front of each of your p.sub() calls to print the actual string returned instead of a Python representation of the string. &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; mystring 'This is \\n a test \\r' &gt;&gt;&gt; print mystring This is \n a test \r"
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13882,13791,0,"The idea is that I'll read in an escaped string, and unescape it (a feature notably lacking from Python, which you shouldn't need to resort to regular expressions for in the first place). Unfortunately I'm not being tricked by the backslashes... Another illustrative example: &gt;&gt;&gt; mystring = r""This is \n ridiculous"" &gt;&gt;&gt; print mystring This is \n ridiculous &gt;&gt;&gt; p = re.compile( r""\\(\S)"" ) &gt;&gt;&gt; print p.sub( 'bloody', mystring ) This is bloody ridiculous &gt;&gt;&gt; print p.sub( r'\1', mystring ) This is n ridiculous &gt;&gt;&gt; print p.sub( r'\\1', mystring ) This is \1 ridiculous &gt;&gt;&gt; print p.sub( r'\\\1', mystring ) This is \n ridiculous What I'd like it to print is This is ridiculous"
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13943,13791,7,"Isn't that what Anders' second example does? In 2.5 there's also a string-escape encoding you can apply: &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; mystring.decode('string-escape') 'This is \n a test \r' &gt;&gt;&gt; print mystring.decode('string-escape') This is a test &gt;&gt;&gt;"
13791,10,"I'm trying to implement string unescaping with Python regex and backreferences, and it doesn't seem to want to work very well. I'm sure it's something I'm doing wrong but I can't figure out what... &gt;&gt;&gt; import re &gt;&gt;&gt; mystring = r""This is \n a test \r"" &gt;&gt;&gt; p = re.compile( ""\\\\(\\S)"" ) &gt;&gt;&gt; p.sub( ""\\1"", mystring ) 'This is n a test r' &gt;&gt;&gt; p.sub( ""\\\\\\1"", mystring ) 'This is \\n a test \\r' &gt;&gt;&gt; p.sub( ""\\\\1"", mystring ) 'This is \\1 a test \\1' I'd like to replace \\[char] with \[char], but backreferences in Python don't appear to follow the same rules they do in every other implementation I've ever used. Could someone shed some light?",Python Regular Expressions to implement string unescaping,13958,13791,0,"Mark; his second example requires every escaped character thrown into an array initially, which generates a KeyError if the escape sequence happens not to be in the array. It will die on anything but the three characters provided (give \v a try), and enumerating every possible escape sequence every time you want to unescape a string (or keeping a global array) is a really bad solution. Analogous to PHP, that's using preg_replace_callback() with a lambda instead of preg_replace(), which is utterly unnecessary in this situation. I'm sorry if I'm coming off as a dick about it, I'm just utterly frustrated with Python. This is supported by every other regular expression engine I've ever used, and I can't understand why this wouldn't work. Thank you for responding; the string.decode('string-escape') function is precisely what I was looking for initially. If someone has a general solution to the regex backreference problem, feel free to post it and I'll accept that as an answer as well."
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,13875,13857,37,"It's simple: A function that references variables from a containing scope, potentially after flow-of-control has left that scope. That last bit is very useful: &gt;&gt;&gt; def makeConstantAdder(x): ... constant = x ... def adder(y): ... return y + constant ... return adder ... &gt;&gt;&gt; f = makeConstantAdder(12) &gt;&gt;&gt; f(3) 15 &gt;&gt;&gt; g = makeConstantAdder(4) &gt;&gt;&gt; g(3) 7 Note that 12 and 4 have ""disappeared"" inside f and g, respectively, this feature is what make f and g proper closures."
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,13902,13857,6,"I've never heard of transactions being used in the same context as explaining what a closure is and there really aren't any transaction semantics here. It's called a closure because it ""closes over"" the outside variable (constant)--i.e., it's not just a function but an enclosure of the environment where the function was created. In the following example, calling the closure g after changing x will also change the value of x within g, since g closes over x: x = 0 def f(): def g(): return x * 2 return g closure = f() print(closure()) # 0 x = 2 print(closure()) # 4"
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,13906,13857,13,"I like this rough, succinct definition: A function that can refer to environments that are no longer active. I'd add A closure allows you to bind variables into a function without passing them as parameters. Decorators which accept parameters are a common use for closures. Closures are a common implementation mechanism for that sort of ""function factory"". I frequently choose to use closures in the Strategy Pattern when the strategy is modified by data at run-time. In a language that allows anonymous block definition -- e.g., Ruby, C# -- closures can be used to implement (what amount to) novel new control structures. The lack of anonymous blocks is among the limitations of closures in Python."
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,24061,13857,11,"To be honest, I understand closures perfectly well except I've never been clear about what exactly is the thing which is the ""closure"" and what's so ""closure"" about it. I recommend you give up looking for any logic behind the choice of term. Anyway, here's my explanation: def foo(): x = 3 def bar(): print x x = 5 return bar bar = foo() bar() # print 5 A key idea here is that the function object returned from foo retains a hook to the local var 'x' even though 'x' has gone out of scope and should be defunct. This hook is to the var itself, not just the value that var had at the time, so when bar is called, it prints 5, not 3. Also be clear that Python 2.x has limited closure: there's no way I can modify 'x' inside 'bar' because writing 'x = bla' would declare a local 'x' in bar, not assign to 'x' of foo. This is a side-effect of Python's assignment=declaration. To get around this, Python 3.0 introduces the nonlocal keyword: def foo(): x = 3 def bar(): print x def ack(): nonlocal x x = 7 x = 5 return (bar, ack) bar, ack = foo() ack() # modify x of the call to foo bar() # print 7"
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,94543,13857,-3,"The best explanation I ever saw of a closure was to explain the mechanism. It went something like this: Imagine your program stack as a degenerate tree where each node has only one child and the single leaf node is the context of your currently executing procedure. Now relax the constraint that each node can have only one child. If you do this, you can have a construct ('yield') that can return from a procedure without discarding the local context (i.e. it doesn't pop it off the stack when you return). The next time the procedure is invoked, the invocation picks up the old stack (tree) frame and continues executing where it left off."
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,141426,13857,60,"Closure on closures Objects are data with methods attached, closures are functions with data attached. def make_counter(): I = 0 def counter(): # counter() is a closure nonlocal I I += 1 return I return counter c1 = make_counter() c2 = make_counter() print (c1(), c1(), c2(), c2()) # -&gt; 1 2 1 2"
13857,56,"I've been reading a lot about closures and I think I understand them, but without clouding the picture for myself and others, I am hoping someone can explain closures as succinctly and clearly as possible. I'm looking for a simple explanation that might help me understand where and why I would want to use them.",Can you explain closures (as they relate to Python)?,473491,13857,2,"Here's a typical use case for closures - callbacks for GUI elements (this would be an alternative to subclassing the button class). For example, you can construct a function that will be called in response to a button press, and ""close"" over the relevant variables in the parent scope that are necessary for processing the click. This way you can wire up pretty complicated interfaces from the same initialization function, building all the dependencies into the closure."
13941,34,"I'd like to have a python program alert me when it has completed its task by making a beep noise. Currently, I use import os and then use a command line speech program to say ""Process complete."" I much rather it be a simple ""bell."" I know that there's a function that can be used in Cocoa apps, NSBeep, but I don't think that has much anything to do with this. I've also tried print(\a) but that didn't work. I'm using a Mac, if you couldn't tell by my Cocoa comment, so that may help. Thanks!","Python Sound (""Bell"")",13949,13941,47,"Have you tried : import sys sys.stdout.write('\a') sys.stdout.flush() That works for me here on Mac OS 10.5 Actually, I think your original attempt works also with a little modification: print('\a') (You just need the single quotes around the character sequence)."
13941,34,"I'd like to have a python program alert me when it has completed its task by making a beep noise. Currently, I use import os and then use a command line speech program to say ""Process complete."" I much rather it be a simple ""bell."" I know that there's a function that can be used in Cocoa apps, NSBeep, but I don't think that has much anything to do with this. I've also tried print(\a) but that didn't work. I'm using a Mac, if you couldn't tell by my Cocoa comment, so that may help. Thanks!","Python Sound (""Bell"")",13959,13941,4,"I had to turn off the ""Silence terminal bell"" option in my active Terminal Profile in iTerm for print('\a') to work. It seemed to work fine by default in Terminal. You can also use the Mac module Carbon.Snd to play the system beep: &gt;&gt;&gt; import Carbon.Snd &gt;&gt;&gt; Carbon.Snd.SysBeep(1) &gt;&gt;&gt; The Carbon modules don't have any documentation, so I had to use help(Carbon.Snd) to see what functions were available. It seems to be a direct interface onto Carbon, so the docs on Apple Developer Connection probably help."
13941,34,"I'd like to have a python program alert me when it has completed its task by making a beep noise. Currently, I use import os and then use a command line speech program to say ""Process complete."" I much rather it be a simple ""bell."" I know that there's a function that can be used in Cocoa apps, NSBeep, but I don't think that has much anything to do with this. I've also tried print(\a) but that didn't work. I'm using a Mac, if you couldn't tell by my Cocoa comment, so that may help. Thanks!","Python Sound (""Bell"")",34482,13941,9,"If you have PyObjC (the Python - Objective-C bridge) installed or are running on OS X 10.5's system python (which ships with PyObjC), you can do from AppKit import NSBeep NSBeep() to play the system alert."
14281,3,I have over a million text files compressed into 40 zip files. I also have a list of about 500 model names of phones. I want to find out the number of times a particular model was mentioned in the text files. Is there any python module which can do a regex match on the files without unzipping it. Is there a simple way to solve this problem without unzipping?,Is there a python module for regex matching in zip files,14304,14281,0,"You could loop through the zip files, reading individual files using the zipfile module and running your regex on those, eliminating to unzip all the files at once. I'm fairly certain that you can't run a regex over the zipped data, at least not meaningfully."
14281,3,I have over a million text files compressed into 40 zip files. I also have a list of about 500 model names of phones. I want to find out the number of times a particular model was mentioned in the text files. Is there any python module which can do a regex match on the files without unzipping it. Is there a simple way to solve this problem without unzipping?,Is there a python module for regex matching in zip files,14314,14281,0,"To access the contents of a zip file you have to unzip it, although the zipfile package makes this fairly easy, as you can unzip each file within an archive individually. Python zipfile module"
14281,3,I have over a million text files compressed into 40 zip files. I also have a list of about 500 model names of phones. I want to find out the number of times a particular model was mentioned in the text files. Is there any python module which can do a regex match on the files without unzipping it. Is there a simple way to solve this problem without unzipping?,Is there a python module for regex matching in zip files,14320,14281,8,"There's nothing that will automatically do what you want. However, there is a python zipfile module that will make this easy to do. Here's how to iterate over the lines in the file. #!/usr/bin/python import zipfile f = zipfile.ZipFile('myfile.zip') for subfile in f.namelist(): print subfile data = f.read(subfile) for line in data.split('\n'): print line"
14281,3,I have over a million text files compressed into 40 zip files. I also have a list of about 500 model names of phones. I want to find out the number of times a particular model was mentioned in the text files. Is there any python module which can do a regex match on the files without unzipping it. Is there a simple way to solve this problem without unzipping?,Is there a python module for regex matching in zip files,41822,14281,0,"Isn't it (at least theoretically) possible, to read in the ZIP's Huffman coding and then translate the regexp into the Huffman code? Might this be more efficient than first de-compressing the data, then running the regexp? (Note: I know it wouldn't be quite that simple: you'd also have to deal with other aspects of the ZIP coding&mdash;file layout, block structures, back-references&mdash;but one imagines this could be fairly lightweight.) EDIT: Also note that it's probably much more sensible to just use the zipfile solution."
14389,21,"I have a script that parses the filenames of TV episodes (show.name.s01e02.avi for example), grabs the episode name (from the www.thetvdb.com API) and automatically renames them into something nicer (Show Name - [01x02].avi) The script works fine, that is until you try and use it on files that have Unicode show-names (something I never really thought about, since all the files I have are English, so mostly pretty-much all fall within [a-zA-Z0-9'\-]) How can I allow the regular expressions to match accented characters and the likes? Currently the regex's config section looks like.. config['valid_filename_chars'] = """"""0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@Â£$%^&amp;*()_+=-[]{}""'.,&lt;&gt;`~? """""" config['valid_filename_chars_regex'] = re.escape(config['valid_filename_chars']) config['name_parse'] = [ # foo_[s01]_[e01] re.compile('''^([%s]+?)[ \._\-]\[[Ss]([0-9]+?)\]_\[[Ee]([0-9]+?)\]?[^\\/]*$'''% (config['valid_filename_chars_regex'])), # foo.1x09* re.compile('''^([%s]+?)[ \._\-]\[?([0-9]+)x([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.s01.e01, foo.s01_e01 re.compile('''^([%s]+?)[ \._\-][Ss]([0-9]+)[\.\- ]?[Ee]([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.103* re.compile('''^([%s]+)[ \._\-]([0-9]{1})([0-9]{2})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.0103* re.compile('''^([%s]+)[ \._\-]([0-9]{2})([0-9]{2,3})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), ]",Regex and unicode,14391,14389,14,"Use a subrange of [\u0000-\uFFFF] for what you want. You can also use the re.UNICODE compile flag. The docs say that if UNICODE is set, \w will match the characters [0-9_] plus whatever is classified as alphanumeric in the Unicode character properties database. See also http://coding.derkeiler.com/Archive/Python/comp.lang.python/2004-05/2560.html."
14389,21,"I have a script that parses the filenames of TV episodes (show.name.s01e02.avi for example), grabs the episode name (from the www.thetvdb.com API) and automatically renames them into something nicer (Show Name - [01x02].avi) The script works fine, that is until you try and use it on files that have Unicode show-names (something I never really thought about, since all the files I have are English, so mostly pretty-much all fall within [a-zA-Z0-9'\-]) How can I allow the regular expressions to match accented characters and the likes? Currently the regex's config section looks like.. config['valid_filename_chars'] = """"""0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@Â£$%^&amp;*()_+=-[]{}""'.,&lt;&gt;`~? """""" config['valid_filename_chars_regex'] = re.escape(config['valid_filename_chars']) config['name_parse'] = [ # foo_[s01]_[e01] re.compile('''^([%s]+?)[ \._\-]\[[Ss]([0-9]+?)\]_\[[Ee]([0-9]+?)\]?[^\\/]*$'''% (config['valid_filename_chars_regex'])), # foo.1x09* re.compile('''^([%s]+?)[ \._\-]\[?([0-9]+)x([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.s01.e01, foo.s01_e01 re.compile('''^([%s]+?)[ \._\-][Ss]([0-9]+)[\.\- ]?[Ee]([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.103* re.compile('''^([%s]+)[ \._\-]([0-9]{1})([0-9]{2})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.0103* re.compile('''^([%s]+)[ \._\-]([0-9]{2})([0-9]{2,3})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), ]",Regex and unicode,14399,14389,0,"\X seems to be available as a generic word-character in some languages, it allows you to match a single character disregarding of how many bytes it takes up. Might be useful."
14389,21,"I have a script that parses the filenames of TV episodes (show.name.s01e02.avi for example), grabs the episode name (from the www.thetvdb.com API) and automatically renames them into something nicer (Show Name - [01x02].avi) The script works fine, that is until you try and use it on files that have Unicode show-names (something I never really thought about, since all the files I have are English, so mostly pretty-much all fall within [a-zA-Z0-9'\-]) How can I allow the regular expressions to match accented characters and the likes? Currently the regex's config section looks like.. config['valid_filename_chars'] = """"""0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!@Â£$%^&amp;*()_+=-[]{}""'.,&lt;&gt;`~? """""" config['valid_filename_chars_regex'] = re.escape(config['valid_filename_chars']) config['name_parse'] = [ # foo_[s01]_[e01] re.compile('''^([%s]+?)[ \._\-]\[[Ss]([0-9]+?)\]_\[[Ee]([0-9]+?)\]?[^\\/]*$'''% (config['valid_filename_chars_regex'])), # foo.1x09* re.compile('''^([%s]+?)[ \._\-]\[?([0-9]+)x([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.s01.e01, foo.s01_e01 re.compile('''^([%s]+?)[ \._\-][Ss]([0-9]+)[\.\- ]?[Ee]([0-9]+)[^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.103* re.compile('''^([%s]+)[ \._\-]([0-9]{1})([0-9]{2})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), # foo.0103* re.compile('''^([%s]+)[ \._\-]([0-9]{2})([0-9]{2,3})[\._ -][^\\/]*$''' % (config['valid_filename_chars_regex'])), ]",Regex and unicode,14420,14389,4,In Mastering Regular Expressions from Jeffrey Friedl (great book) it is mentioned that you could use \p{Letter} which will match unicode stuff that is considered a letter.
15798,27,I need to validate an XML string (and not a file) against a DTD description file. How can that be done in python?,How do I validate xml against a DTD file in Python,15931,15798,28,"Another good option is lxml's validation which I find quite pleasant to use. A simple example taken from the lxml site: from StringIO import StringIO from lxml import etree dtd = etree.DTD(StringIO(""""""&lt;!ELEMENT foo EMPTY&gt;"""""")) root = etree.XML(""&lt;foo/&gt;"") print(dtd.validate(root)) # True root = etree.XML(""&lt;foo&gt;bar&lt;/foo&gt;"") print(dtd.validate(root)) # False print(dtd.error_log.filter_from_errors()) # &lt;string&gt;:1:0:ERROR:VALID:DTD_NOT_EMPTY: Element foo was declared EMPTY this one has content"
15798,27,I need to validate an XML string (and not a file) against a DTD description file. How can that be done in python?,How do I validate xml against a DTD file in Python,270538,15798,7,"from the examples directory in the libxml2 python bindings: #!/usr/bin/python -u import libxml2 import sys # Memory debug specific libxml2.debugMemory(1) dtd=""""""&lt;!ELEMENT foo EMPTY&gt;"""""" instance=""""""&lt;?xml version=""1.0""?&gt; &lt;foo&gt;&lt;/foo&gt;"""""" dtd = libxml2.parseDTD(None, 'test.dtd') ctxt = libxml2.newValidCtxt() doc = libxml2.parseDoc(instance) ret = doc.validateDtd(ctxt, dtd) if ret != 1: print ""error doing DTD validation"" sys.exit(1) doc.freeDoc() dtd.freeDtd() del dtd del ctxt"
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,16191,16067,1,"In my experience, there are two easy ways to call into C code from Python code. There are other approaches, all of which are more annoying and/or verbose. The first and easiest is to compile a bunch of C code as a separate shared library and then call functions in that library using ctypes. Unfortunately, passing anything other than basic data types is non-trivial. The second easiest way is to write a Python module in C and then call functions in that module. You can pass anything you want to these C functions without having to jump through any hoops. And it's easy to call Python functions or methods from these C functions, as described here: https://docs.python.org/extending/extending.html#calling-python-functions-from-c I don't have enough experience with SWIG to offer intelligent commentary. And while it is possible to do things like pass custom Python objects to C functions through ctypes, or to define new Python classes in C, these things are annoying and verbose and I recommend taking one of the two approaches described above."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,17300,16067,6,"The best way to plan for an eventual transition to compiled code is to write the performance sensitive portions as a module of simple functions in a functional style (stateless and without side effects), which accept and return basic data types. This will provide a one-to-one mapping from your Python prototype code to the eventual compiled code, and will let you use ctypes easily and avoid a whole bunch of headaches. For peak fitting, you'll almost certainly need to use arrays, which will complicate things a little, but is still very doable with ctypes. If you really want to use more complicated data structures, or modify the passed arguments, SWIG or Python's standard C-extension interface will let you do what you want, but with some amount of hassle. For what you're doing, you may also want to check out NumPy, which might do some of the work you would want to push to C, as well as offering some additional help in moving data back and forth between Python and C."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,28467,16067,10,"I haven't used SWIG or SIP, but I find writing Python wrappers with boost.python to be very powerful and relatively easy to use. I'm not clear on what your requirements are for passing types between C/C++ and python, but you can do that easily by either exposing a C++ type to python, or by using a generic boost::python::object argument to your C++ API. You can also register converters to automatically convert python types to C++ types and vice versa. If you plan use boost.python, the tutorial is a good place to start. I have implemented something somewhat similar to what you need. I have a C++ function that accepts a python function and an image as arguments, and applies the python function to each pixel in the image. Image* unary(boost::python::object op, Image&amp; im) { Image* out = new Image(im.width(), im.height(), im.channels()); for(unsigned int i=0; i&lt;im.size(); i++) { (*out)[i] == extract&lt;float&gt;(op(im[i])); } return out; } In this case, Image is a C++ object exposed to python (an image with float pixels), and op is a python defined function (or really any python object with a &#95;&#95;call&#95;&#95; attribute). You can then use this function as follows (assuming unary is located in the called image that also contains Image and a load function): import image im = image.load('somefile.tiff') double_im = image.unary(lambda x: 2.0*x, im) As for using arrays with boost, I personally haven't done this, but I know the functionality to expose arrays to python using boost is available - this might be helpful."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,151006,16067,4,f2py (part of numpy) is a simpler alternative to SWIG and boost.python for wrapping C/Fortran number-crunching code.
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,151084,16067,0,"Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. In C you cannot pass a function as an argument to a function but you can pass a function pointer which is just as good a function. I don't know how much that would help when you are trying to integrate C and Python code but I just wanted to clear up one misconception."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,872600,16067,0,"In addition to the tools above, I can recommend using Pyrex (for creating Python extension modules) or Psyco (as JIT compiler for Python)."
16067,18,"I have been mulling over writing a peak fitting library for a while. I know Python fairly well and plan on implementing everything in Python to begin with but envisage that I may have to re-implement some core routines in a compiled language eventually. IIRC, one of Python's original remits was as a prototyping language, however Python is pretty liberal in allowing functions, functors, objects to be passed to functions and methods, whereas I suspect the same is not true of say C or Fortran. What should I know about designing functions/classes which I envisage will have to interface into the compiled language? And how much of these potential problems are dealt with by libraries such as cTypes, bgen, SWIG, Boost.Python, Cython or Python SIP? For this particular use case, (a fitting library) I imagine allowing users to define mathematical functions (Guassian, Lorentzian etc.) as Python functions which can then to be passed an interpreted by the compiled code fitting library. Passing and returning arrays is also essential.",Prototyping with Python code before compiling,1661276,16067,33,"Finally a question that I can really put a value answer to :). I have investigated f2py, boost.python, swig, cython and pyrex for my work (PhD in optical measurement techniques). I used swig extensively, boost.python some and pyrex and cython a lot. I also used ctypes. This is my breakdown: Disclaimer: This is my personal experience. I am not involved with any of these projects. swig: does not play well with c++. It should, but name mangling problems in the linking step was a major headache for me on linux &amp; Mac OS X. If you have C code and want it interfaced to python, it is a good solution. I wrapped the GTS for my needs and needed to write basically a C shared library which I could connect to. I would not recommend it. Ctypes: I wrote a libdc1394 (IEEE Camera library) wrapper using ctypes and it was a very straigtforward experience. You can find the code on https://launchpad.net/pydc1394. It is a lot of work to convert headers to python code, but then everything works reliably. This is a good way if you want to interface an external library. Ctypes is also in the stdlib of python, so everyone can use your code right away. This is also a good way to play around with a new lib in python quickly. I can recommend it to interface to external libs. Boost.Python: Very enjoyable. If you already have C++ code of your own that you want to use in python, go for this. It is very easy to translate c++ class structures into python class structures this way. I recommend it if you have c++ code that you need in python. Pyrex/Cython: Use Cython, not Pyrex. Period. Cython is more advanced and more enjoyable to use. Nowadays, I do everything with cython that I used to do with SWIG or Ctypes. It is also the best way if you have python code that runs too slow. The process is absolutely fantastic: you convert your python modules into cython modules, build them and keep profiling and optimizing like it still was python (no change of tools needed). You can then apply as much (or as little) C code mixed with your python code. This is by far faster then having to rewrite whole parts of your application in C; you only rewrite the inner loop. Timings: ctypes has the highest call overhead (~700ns), followed by boost.python (322ns), then directly by swig (290ns). Cython has the lowest call overhead (124ns) and the best feedback where it spends time on (cProfile support!). The numbers are from my box calling a trivial function that returns an integer from an interactive shell; module import overhead is therefore not timed, only function call overhead is. It is therefore easiest and most productive to get python code fast by profiling and using cython. Summary: For your problem, use Cython ;). I hope this rundown will be useful for some people. I'll gladly answer any remaining question. Edit: I forget to mention: for numerical purposes (that is, connection to NumPy) use Cython; they have support for it (because they basically develop cython for this purpose). So this should be another +1 for your decision."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,16875,16861,0,"If you are using a framework like django, the framework can easily do this for you using standard filters. In fact, I'm pretty sure django automatically does it unless you tell it not to. Otherwise, I would recommend using some sort of regex validation before accepting inputs from forms. I don't think there's a silver bullet for your problem, but using the re module, you should be able to construct what you need."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,16929,16861,6,"Jeff Atwood himself described how StackOverflow.com sanitizes user input (in non-language-specific terms) on the Stack Overflow blog: http://blog.stackoverflow.com/2008/06/safe-html-and-xss/ However, as Justin points out, if you use Django templates or something similar then they probably sanitize your HTML output anyway. SQL injection also shouldn't be a concern. All of Python's database libraries (MySQLdb, cx_Oracle, etc) always sanitize the parameters you pass. These libraries are used by all of Python's object-relational mappers (such as Django models), so you don't need to worry about sanitation there either."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,25136,16861,23,"Here is a snippet that will remove all tags not on the white list, and all tag attributes not on the attribues whitelist (so you can't use onclick). It is a modified version of http://www.djangosnippets.org/snippets/205/, with the regex on the attribute values to prevent people from using href=""javascript:..."", and other cases described at http://ha.ckers.org/xss.html. (e.g. &lt;a href=""ja&amp;#x09;vascript:alert('hi')""&gt; or &lt;a href=""ja vascript:alert('hi')""&gt;, etc.) As you can see, it uses the (awesome) BeautifulSoup library. import re from urlparse import urljoin from BeautifulSoup import BeautifulSoup, Comment def sanitizeHtml(value, base_url=None): rjs = r'[\s]*(&amp;#x.{1,7})?'.join(list('javascript:')) rvb = r'[\s]*(&amp;#x.{1,7})?'.join(list('vbscript:')) re_scripts = re.compile('(%s)|(%s)' % (rjs, rvb), re.IGNORECASE) validTags = 'p I strong b u a h1 h2 h3 pre br img'.split() validAttrs = 'href src width height'.split() urlAttrs = 'href src'.split() # Attributes which should have a URL soup = BeautifulSoup(value) for comment in soup.findAll(text=lambda text: isinstance(text, Comment)): # Get rid of comments comment.extract() for tag in soup.findAll(True): if tag.name not in validTags: tag.hidden = True attrs = tag.attrs tag.attrs = [] for attr, val in attrs: if attr in validAttrs: val = re_scripts.sub('', val) # Remove scripts (vbs &amp; js) if attr in urlAttrs: val = urljoin(base_url, val) # Calculate the absolute url tag.attrs.append((attr, val)) return soup.renderContents().decode('utf8') As the other posters have said, pretty much all Python db libraries take care of SQL injection, so this should pretty much cover you."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,25151,16861,4,"I don't do web development much any longer, but when I did, I did something like so: When no parsing is supposed to happen, I usually just escape the data to not interfere with the database when I store it, and escape everything I read up from the database to not interfere with html when I display it (cgi.escape() in python). Chances are, if someone tried to input html characters or stuff, they actually wanted that to be displayed as text anyway. If they didn't, well tough :) In short always escape what can affect the current target for the data. When I did need some parsing (markup or whatever) I usually tried to keep that language in a non-intersecting set with html so I could still just store it suitably escaped (after validating for syntax errors) and parse it to html when displaying without having to worry about the data the user put in there interfering with your html. See also Escaping HTML"
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,93857,16861,12,"The best way to prevent XSS is not to try and filter everything, but rather to simply do HTML Entity encoding. For example, automatically turn &lt; into &amp;lt;. This is the ideal solution assuming you don't need to accept any html input (outside of forum/comment areas where it is used as markup, it should be pretty rare to need to accept HTML); there are so many permutations via alternate encodings that anything but an ultra-restrictive whitelist (a-z,A-Z,0-9 for example) is going to let something through. SQL Injection, contrary to other opinion, is still possible, if you are just building out a query string. For example, if you are just concatenating an incoming parameter onto a query string, you will have SQL Injection. The best way to protect against this is also not filtering, but rather to religiously use parameterized queries and NEVER concatenate user input. This is not to say that filtering isn't still a best practice, but in terms of SQL Injection and XSS, you will be far more protected if you religiously use Parameterize Queries and HTML Entity Encoding."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,248933,16861,18,"Edit: bleach is a wrapper around html5lib which makes it even easier to use as a whitelist-based sanitiser. html5lib comes with a whitelist-based HTML sanitiser - it's easy to subclass it to restrict the tags and attributes users are allowed to use on your site, and it even attempts to sanitise CSS if you're allowing use of the style attribute. Here's now I'm using it in my Stack Overflow clone's sanitize_html utility function: http://code.google.com/p/soclone/source/browse/trunk/soclone/utils/html.py I've thrown all the attacks listed in ha.ckers.org's XSS Cheatsheet (which are handily available in XML format at it after performing Markdown to HTML conversion using python-markdown2 and it seems to have held up ok. The WMD editor component which Stackoverflow currently uses is a problem, though - I actually had to disable JavaScript in order to test the XSS Cheatsheet attacks, as pasting them all into WMD ended up giving me alert boxes and blanking out the page."
16861,46,What's the best way to sanitise user input for a Python-based web application? Is there a single function to remove HTML characters and any other necessary characters combinations to prevent an XSS or SQL injection attack?,Sanitising user input using Python,1503641,16861,2,"To sanitize a string input which you want to store to the database (for example a customer name) you need either to escape it or plainly remove any quotes (', "") from it. This effectively prevents classical SQL injection which can happen if you are assembling an SQL query from strings passed by the user. For example (if it is acceptable to remove quotes completely): datasetName = datasetName.replace(""'"","""").replace('""',"""")"
17250,24,"I'm creating an ZIP file with ZipFile in Python 2.5, it works ok so far: import zipfile, os locfile = ""test.txt"" loczip = os.path.splitext (locfile)[0] + "".zip"" zip = zipfile.ZipFile (loczip, ""w"") zip.write (locfile) zip.close() but I couldn't find how to encrypt the files in the ZIP file. I could use system and call PKZIP -s, but I suppose there must be a more ""Pythonic"" way. I'm looking for an open source solution.",Create an encrypted ZIP file in Python,17287,17250,0,"You can use the Chilkat library. It's commercial, but has a free evaluation and seems pretty nice. Here's an example I got from here: import chilkat # Demonstrates how to create a WinZip-compatible 128-bit AES strong encrypted zip zip = chilkat.CkZip() zip.UnlockComponent(""anything for 30-day trial"") zip.NewZip(""strongEncrypted.zip"") # Set the Encryption property = 4, which indicates WinZip compatible AES encryption. zip.put_Encryption(4) # The key length can be 128, 192, or 256. zip.put_EncryptKeyLength(128) zip.SetPassword(""secret"") zip.AppendFiles(""exampleData/*"",True) zip.WriteZip()"
17893,36,"My current setup.py script works okay, but it installs tvnamer.py (the tool) as ""tvnamer.py"" into site-packages or somewhere similar.. Can I make setup.py install tvnamer.py as tvnamer, and/or is there a better way of installing command-line applications?",What's the best way to distribute python command-line tools?,17933,17893,33,"Try the entry_points.console_scripts parameter in the setup() call. As described in the setuptools docs, this should do what I think you want. To reproduce here: from setuptools import setup setup( # other arguments here... entry_points = { 'console_scripts': [ 'foo = package.module:func', 'bar = othermodule:somefunc', ], } )"
19030,2,"I have a bunch of files (TV episodes, although that is fairly arbitrary) that I want to check match a specific naming/organisation scheme.. Currently: I have three arrays of regex, one for valid filenames, one for files missing an episode name, and one for valid paths. Then, I loop though each valid-filename regex, if it matches, append it to a ""valid"" dict, if not, do the same with the missing-ep-name regexs, if it matches this I append it to an ""invalid"" dict with an error code (2:'missing epsiode name'), if it matches neither, it gets added to invalid with the 'malformed name' error code. The current code can be found here I want to add a rule that checks for the presence of a folder.jpg file in each directory, but to add this would make the code substantially more messy in it's current state.. How could I write this system in a more expandable way? The rules it needs to check would be.. File is in the format Show Name - [01x23] - Episode Name.avi or Show Name - [01xSpecial02] - Special Name.avi or Show Name - [01xExtra01] - Extra Name.avi If filename is in the format Show Name - [01x23].avi display it a 'missing episode name' section of the output The path should be in the format Show Name/season 2/the_file.avi (where season 2 should be the correct season number in the filename) each Show Name/season 1/ folder should contain ""folder.jpg"" .any ideas? While I'm trying to check TV episodes, this concept/code should be able to apply to many things.. The only thought I had was a list of dicts in the format: checker = [ { 'name':'valid files', 'type':'file', 'function':check_valid(), # runs check_valid() on all files 'status':0 # if it returns True, this is the status the file gets }",How to check set of files conform to a naming scheme,19389,19030,0,"maybe you should take the approach of defaulting to: ""the filename is correct"" and work from there to disprove that statement: with the fact that you only allow filenames with: 'show name', 'season number x episode number' and 'episode name', you know for certain that these items should be separated by a ""-"" (dash) so you have to have 2 of those for a filename to be correct. if that checks out, you can use your code to check that the show name matches the show name as seen in the parent's parent folder (case insensitive I assume), the season number matches the parents folder numeric value (with or without an extra 0 prepended). if however you don't see the correct amount of dashes you instantly know that there is something wrong and stop before the rest of the tests etc. and separately you can check if the file folder.jpg exists and take the necessary actions. or do that first and filter that file from the rest of the files in that folder."
19030,2,"I have a bunch of files (TV episodes, although that is fairly arbitrary) that I want to check match a specific naming/organisation scheme.. Currently: I have three arrays of regex, one for valid filenames, one for files missing an episode name, and one for valid paths. Then, I loop though each valid-filename regex, if it matches, append it to a ""valid"" dict, if not, do the same with the missing-ep-name regexs, if it matches this I append it to an ""invalid"" dict with an error code (2:'missing epsiode name'), if it matches neither, it gets added to invalid with the 'malformed name' error code. The current code can be found here I want to add a rule that checks for the presence of a folder.jpg file in each directory, but to add this would make the code substantially more messy in it's current state.. How could I write this system in a more expandable way? The rules it needs to check would be.. File is in the format Show Name - [01x23] - Episode Name.avi or Show Name - [01xSpecial02] - Special Name.avi or Show Name - [01xExtra01] - Extra Name.avi If filename is in the format Show Name - [01x23].avi display it a 'missing episode name' section of the output The path should be in the format Show Name/season 2/the_file.avi (where season 2 should be the correct season number in the filename) each Show Name/season 1/ folder should contain ""folder.jpg"" .any ideas? While I'm trying to check TV episodes, this concept/code should be able to apply to many things.. The only thought I had was a list of dicts in the format: checker = [ { 'name':'valid files', 'type':'file', 'function':check_valid(), # runs check_valid() on all files 'status':0 # if it returns True, this is the status the file gets }",How to check set of files conform to a naming scheme,21302,19030,2,"I want to add a rule that checks for the presence of a folder.jpg file in each directory, but to add this would make the code substantially more messy in it's current state.. This doesn't look bad. In fact your current code does it very nicely, and Sven mentioned a good way to do it as well: Get a list of all the files Check for ""required"" files You would just have have add to your dictionary a list of required files: checker = { ... 'required': ['file', 'list', 'for_required'] } As far as there being a better/extensible way to do this? I am not exactly sure. I could only really think of a way to possibly drop the ""multiple"" regular expressions and build off of Sven's idea for using a delimiter. So my strategy would be defining a dictionary as follows (and I'm sorry I don't know Python syntax and I'm a tad to lazy to look it up but it should make sense. The /regex/ is shorthand for a regex): check_dict = { 'delim' : /\-/, 'parts' : [ 'Show Name', 'Episode Name', 'Episode Number' ], 'patterns' : [/valid name/, /valid episode name/, /valid number/ ], 'required' : ['list', 'of', 'files'], 'ignored' : ['.*', 'hidden.txt'], 'start_dir': '/path/to/dir/to/test/' } Split the filename based on the delimiter. Check each of the parts. Because its an ordered list you can determine what parts are missing and if a section doesn't match any pattern it is malformed. Here the parts and patterns have a 1 to 1 ratio. Two arrays instead of a dictionary enforces the order. Ignored and required files can be listed. The . and .. files should probably be ignored automatically. The user should be allowed to input ""globs"" which can be shell expanded. I'm thinking here of svn:ignore properties, but globbing is natural for listing files. Here start_dir would be default to the current directory but if you wanted a single file to run automated testing of a bunch of directories this would be useful. The real loose end here is the path template and along the same lines what path is required for ""valid files"". I really couldn't come up with a solid idea without writing one large regular expression and taking groups from it... to build a template. It felt a lot like writing a TextMate language grammar. But that starts to stray on the ease of use. The real problem was that the path template was not composed of parts, which makes sense but adds complexity. Is this strategy in tune with what you were thinking of?"
19151,321,How would one create an iterative function (or iterator object) in python?,Build a Basic Python Iterator,19152,19151,90,"First of all the itertools module is incredibly useful for all sorts of cases in which an iterator would be useful, but here is all you need to create an iterator in python: yield Isn't that cool? Yield can be used to replace a normal return in a function. It returns the object just the same, but instead of destroying state and exiting, it saves state for when you want to execute the next iteration. Here is an example of it in action pulled directly from the itertools function list: def count(n=0): while True: yield n n += 1 As stated in the functions description (it's the count() function from the itertools module...) , it produces an iterator that returns consecutive integers starting with n. Generator expressions are a whole other can of worms (awesome worms!). They may be used in place of a List Comprehension to save memory (list comprehensions create a list in memory that is destroyed after use if not assigned to a variable, but generator expressions can create a Generator Object... which is a fancy way of saying Iterator). Here is an example of a generator expression definition: gen = (n for n in xrange(0,11)) This is very similar to our iterator definition above except the full range is predetermined to be between 0 and 10. I just found xrange() (suprised I hadn't seen it before...) and added it to the above example. xrange() is an iterable version of range() which has the advantage of not prebuilding the list. It would be very useful if you had a giant corpus of data to iterate over and only had so much memory to do it in."
19151,321,How would one create an iterative function (or iterator object) in python?,Build a Basic Python Iterator,24377,19151,374,"Iterator objects in python conform to the iterator protocol, which basically means they provide two methods: __iter__() and next(). The __iter__ returns the iterator object and is implicitly called at the start of loops. The next() method returns the next value and is implicitly called at each loop increment. next() raises a StopIteration exception when there are no more value to return, which is implicitly captured by looping constructs to stop iterating. Here's a simple example of a counter: class Counter: def __init__(self, low, high): self.current = low self.high = high def __iter__(self): return self def next(self): # Python 3: def __next__(self) if self.current &gt; self.high: raise StopIteration else: self.current += 1 return self.current - 1 for c in Counter(3, 8): print c This will print: 3 4 5 6 7 8 This is easier to write using a generator, as covered in a previous answer: def counter(low, high): current = low while current &lt;= high: yield current current += 1 for c in counter(3, 8): print c The printed output will be the same. Under the hood, the generator object supports the iterator protocol and does something roughly similar to the class Counter. David Mertz's article, Iterators and Simple Generators, is a pretty good introduction."
19339,241,"I have a list of 2-item tuples and I'd like to convert them to 2 lists where the first contains the first item in each tuple and the second list holds the second item. For example: original = [('a', 1), ('b', 2), ('c', 3), ('d', 4)] # and I want to become... result = (['a', 'b', 'c', 'd'], [1, 2, 3, 4]) Is there a builtin function that does that?",A Transpose/Unzip Function in Python (inverse of zip),19343,19339,397,"zip is its own inverse! Provided you use the special * operator. &gt;&gt;&gt; zip(*[('a', 1), ('b', 2), ('c', 3), ('d', 4)]) [('a', 'b', 'c', 'd'), (1, 2, 3, 4)] The way this works is by calling zip with the arguments: zip(('a', 1), ('b', 2), ('c', 3), ('d', 4)) â¦ except the arguments are passed to zip directly (after being converted to a tuple), so there's no need to worry about the number of arguments getting too big."
19339,241,"I have a list of 2-item tuples and I'd like to convert them to 2 lists where the first contains the first item in each tuple and the second list holds the second item. For example: original = [('a', 1), ('b', 2), ('c', 3), ('d', 4)] # and I want to become... result = (['a', 'b', 'c', 'd'], [1, 2, 3, 4]) Is there a builtin function that does that?",A Transpose/Unzip Function in Python (inverse of zip),25193,19339,17,"You could also do result = ([ a for a,b in original ], [ b for a,b in original ]) It should scale better. Especially if Python makes good on not expanding the list comprehensions unless needed. (Incidentally, it makes a 2-tuple (pair) of lists, rather than a list of tuples, like zip does.) If generators instead of actual lists are ok, this would do that: result = (( a for a,b in original ), ( b for a,b in original )) The generators don't munch through the list until you ask for each element, but on the other hand, they do keep references to the original list."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19665,19654,0,"Well, python is a high level language.. its not hard to learn and if the guys already have programming knowledge it should be much easier to learn.. I like django.. I think it should be a nice try to use django .."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19668,19654,4,"If the mandate of the new lead is to put the house in order, the current situation should likely be simplified as much as possible prior. If I had to bring things to order, I wouldn't want to have to manage an ongoing language conversion project on top of everything else, or at least I'd like some choice when initiating the project. When making your recommendation, did you think about the additional managerial complexity that coming into the middle of a conversion would entail?"
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19685,19654,0,"I don't think it's a matter of a programming language as such. What is the proficiency level of PHP in the team you're talking about? Are they doing spaghetti code or using some structured framework like Zend? If this is the first case then I absolutely understand the guy's interest in Python and Django. It this is the latter, it's just a hype."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19692,19654,2,"@darkdog: Using a new language in production code is about more than easy syntax and high-level capability. You want to be familiar with core APIs and feel like you can fix something through logic instead of having to comb through the documentation. I'm not saying transitioning to Python would be a bad idea for this company, but I'm with John--keep things simple during the transition. The new lead will appreciate having a say in such decisions. If you'd really, really, really like to introduce Python, consider writing some extensions or utilities in straight-up Python or in the framework. You won't be upsetting your core initiatives, so it will be a low/no-risk opportunity to prove the merits of a switch."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19700,19654,1,"I think the language itself is not an issue here, as python is really nice high level language with good and easy to find, thorough documentation. From what I've seen, the Django framework is also a great tooklit for web development, giving much the same developer performance boost Rails is touted to give. The real issue is at the maintenance and management level. How will this move fragment the maintenance between PHP and Python code. Is there a need to migrate existing code from one platform to another? What problems will adopting Python and Django solve that you have in your current development workflow and frameworks, etc."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19715,19654,13,"I recently introduced Python to my company, which does consulting work for the Post Office. I did this by waiting until there was a project for which I would be the only programmer, then getting permission to do this new project in Python. I then did another small project in Python with similarly impressive results. In addition, I used Python for all of my small throwaway assignments (""can you parse the stats in these files into a CSV file organized by date and site?"", etc) and had a quick turnaround time on all of them. I also evangelized Python a bit; I went out of my way to NOT be obnoxious about it, but I'd occasionally describe why I liked it so much, talked about the personal projects I use it for in my free time and why it's awesome for me, etc. Eventually we started another project and I convinced everyone to use Python for it. I took care to point everyone to a lot of documentation, including the specific webpages relating to what they were working on, and every time they had a question, I'd explain how to do things properly by explaining the Pythonic approach to things, etc. This has worked really well. However, this might be somewhat different than what you're describing. In my case I started with moderately small projects and Python is only being used for new projects. Also, none of my co-workers were really Perl or PHP gurus; they all knew those languages and had been using them for awhile, but it didn't take much effort for them to become more productive in Python than they'd been before. So if you're talking about new projects with people who currently use PHP but aren't super-experts and don't love that language, then I think switching to Python is a no-brainer. However, if you're talking about working with a large existing PHP code base with a lot of very experienced PHP programmers who are happy with their current setup, then switching languages is probably not a good idea. You're probably somewhere in between, so you'll have to weigh the tradeoffs; hopefully my answer will help you do that."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19943,19654,0,"I love Python and Django, and use both to develop the our core webapps. That said, it's hard to make a business case for switching at this point. Specifically: Any new platform is risky compared to staying with the tried and true You'll have the developer fragmentation you mentioned It's far easier to find PHP programmers than python programmers Moreover, as other posters have mention, if the issue is more with spaghetti code than PHP itself, there are plenty of nice PHP frameworks that could be used to refactor the code. That said, if this developer is excited about python, stopping them outright is probably demoralizing. My suggestion would be to encourage them to develop in python, but not the mission critical parts of the app. Instead they could write some utility scripts, some small internal application that needs doing, etc. In conclusion: I don't recommend switching from PHP, but I do recommend accommodating the developer's interest in some way at work."
19654,5,"The company I used to work with has two developers working fulltime, and a handful of freelancers. They're in the process of hiring a new lead developer to try to bring order and management to the development. But, currently, one of the developers has seen the light of Django (the company has only developed in PHP to date) while the other developer is concerned that introducing a new language (Python) is a bad idea right now. How should they approach introducing this new technology? Obviously with only one of the developers actually knowing Python, there will be no redundancy when that dev is away or leaves the company. Should they bother to introduce Python, or should they look for PHP-only solutions until such a time when the team actually have more than one Pythonion? Without a team leader, the decisions are having to fall to them.",Introducing Python,19968,19654,1,"It's really all about schedules. To me the break should be with a specific project. If you decide your direction is Django then start new projects with that. Before you start a new project with a new language/framework, either make sure that you have scheduled time to get up to speed in this new direction, or get up to speed before using on new projects. I would avoid going with a tool of the month. Make sure you want it to be your direction and commit some time/resources to learning enough to make a good decision."
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,20065,20063,13,"Use optparse which comes with the standard library. For example: #!/usr/bin/env python import optparse def main(): p = optparse.OptionParser() p.add_option('--person', '-p', default=""world"") options, arguments = p.parse_args() print 'Hello %s' % options.person if __name__ == '__main__': main() Source: Using Python to create UNIX command line tools However as of Python 2.7 optparse is deprecated, see: Why use argparse rather than optparse?"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,20069,20063,14,"Pretty much everybody is using getopt Here is the example code for the doc : import getopt, sys def main(): try: opts, args = getopt.getopt(sys.argv[1:], ""ho:v"", [""help"", ""output=""]) except getopt.GetoptError: # print help information and exit: usage() sys.exit(2) output = None verbose = False for o, a in opts: if o == ""-v"": verbose = True if o in (""-h"", ""--help""): usage() sys.exit() if o in (""-o"", ""--output""): output = a So in a word, here is how it works. You've got two types of options. Those who are receiving arguments, and those who are just like switches. sys.argv is pretty much your char** argv in C. Like in C you skip the first element which is the name of your program and parse only the arguments : sys.argv[1:] Getopt.getopt will parse it according to the rule you give in argument. ""ho:v"" here describes the short arguments : -ONELETTER. The : means that -o accepts one argument. Finally [""help"", ""output=""] describes long arguments ( --MORETHANONELETTER ). The = after output once again means that output accepts one arguments. The result is a list of couple (option,argument) If an option doesn't accept any argument (like --help here) the arg part is an empty string. You then usually want to loop on this list and test the option name as in the example. I hope this helped you."
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,20169,20063,4,"Just in case you might need to, this may help if you need to grab unicode arguments on Win32 (2K, XP etc): from ctypes import * def wmain(argc, argv): print argc for I in argv: print I return 0 def startup(): size = c_int() ptr = windll.shell32.CommandLineToArgvW(windll.kernel32.GetCommandLineW(), byref(size)) ref = c_wchar_p * size.value raw = ref.from_address(ptr) args = [arg for arg in raw] windll.kernel32.LocalFree(ptr) exit(wmain(len(args), args)) startup()"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,20222,20063,2,"I prefer optparse to getopt. It's very declarative: you tell it the names of the options and the effects they should have (e.g., setting a boolean field), and it hands you back a dictionary populated according to your specifications. http://docs.python.org/lib/module-optparse.html"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,26910,20063,85,"This answer suggests optparse which is appropriate for older Python versions. For Python 2.7 and above, argparse replaces optparse. See this answer for more information. As other people pointed out, you are better off going with optparse over getopt. getopt is pretty much a one-to-one mapping of the standard getopt(3) C library functions, and not very easy to use. optparse, while being a bit more verbose, is much better structured and simpler to extend later on. Here's a typical line to add an option to your parser: parser.add_option('-q', '--query', action=""store"", dest=""query"", help=""query string"", default=""spam"") It pretty much speaks for itself; at processing time, it will accept -q or --query as options, store the argument in an attribute called query and has a default value if you don't specify it. It is also self-documenting in that you declare the help argument (which will be used when run with -h/--help) right there with the option. Usually you parse your arguments with: options, args = parser.parse_args() This will, by default, parse the standard arguments passed to the script (sys.argv[1:]) options.query will then be set to the value you passed to the script. You create a parser simply by doing parser = optparse.OptionParser() These are all the basics you need. Here's a complete Python script that shows this: import optparse parser = optparse.OptionParser() parser.add_option('-q', '--query', action=""store"", dest=""query"", help=""query string"", default=""spam"") options, args = parser.parse_args() print 'Query string:', options.query 5 lines of python that show you the basics. Save it in sample.py, and run it once with python sample.py and once with python sample.py --query myquery Beyond that, you will find that optparse is very easy to extend. In one of my projects, I created a Command class which allows you to nest subcommands in a command tree easily. It uses optparse heavily to chain commands together. It's not something I can easily explain in a few lines, but feel free to browse around in my repository for the main class, as well as a class that uses it and the option parser"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,30973,20063,2,"I think the best way for larger projects is optparse, but if you are looking for an easy way, maybe http://werkzeug.pocoo.org/documentation/script is something for you. from werkzeug import script # actions go here def action_foo(name=""""): """"""action foo does foo"""""" pass def action_bar(id=0, title=""default title""): """"""action bar does bar"""""" pass if __name__ == '__main__': script.run() So basically every function action_* is exposed to the command line and a nice help message is generated for free. python foo.py usage: foo.py &lt;action&gt; [&lt;options&gt;] foo.py --help actions: bar: action bar does bar --id integer 0 --title string default title foo: action foo does foo --name string"
20063,84,"What's the easiest, tersest, and most flexible method or library for parsing Python command line arguments?",What's the best way to grab/parse command line arguments passed to a Python script?,979871,20063,32,The new hip way is argparse for these reasons. argparse > optparse > getopt update: As of py2.7 argparse is part of the standard library and optparse is deprecated.
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,20843,20794,3,"Can I mention testing for hardlinks without python? /bin/test has the FILE1 -ef FILE2 condition that is true when files share an inode. Therefore, something like find . -type f -exec test \{} -ef /path/to/file \; -print works for hard link testing to a specific file. Which brings me to reading man test and the mentions of -L and -h which both work on one file and return true if that file is a symbolic link, however that doesn't tell you if the target is missing. I did find that head -0 FILE1 would return an exit code of 0 if the file can be opened and a 1 if it cannot, which in the case of a symbolic link to a regular file works as a test for whether it's target can be read."
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,20845,20794,1,"I'm not a python guy but it looks like os.readlink()? The logic I would use in perl is to use readlink() to find the target and the use stat() to test to see if the target exists. Edit: I banged out some perl that demos readlink. I believe perl's stat and readlink and python's os.stat() and os.readlink()are both wrappers for the system calls, so this should translate reasonable well as proof of concept code: wembley 0 /home/jj33/swap &gt; cat p my $f = shift; while (my $l = readlink($f)) { print ""$f -&gt; $l\n""; $f = $l; } if (!-e $f) { print ""$f doesn't exist\n""; } wembley 0 /home/jj33/swap &gt; ls -l | grep ^l lrwxrwxrwx 1 jj33 users 17 Aug 21 14:30 link -&gt; non-existant-file lrwxrwxrwx 1 root users 31 Oct 10 2007 mm -&gt; ../systems/mm/20071009-rewrite// lrwxrwxrwx 1 jj33 users 2 Aug 21 14:34 mmm -&gt; mm/ wembley 0 /home/jj33/swap &gt; perl p mm mm -&gt; ../systems/mm/20071009-rewrite/ wembley 0 /home/jj33/swap &gt; perl p mmm mmm -&gt; mm mm -&gt; ../systems/mm/20071009-rewrite/ wembley 0 /home/jj33/swap &gt; perl p link link -&gt; non-existant-file non-existant-file doesn't exist wembley 0 /home/jj33/swap &gt;"
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,20848,20794,11,"os.lstat() may be helpful. If lstat() succeeds and stat() fails, then it's probably a broken link."
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,20859,20794,2,"os.path You may try using realpath() to get what the symlink points to, then trying to determine if it's a valid file using is file. (I'm not able to try that out at the moment, so you'll have to play around with it and see what you get)"
20794,13,"If I call os.stat() on a broken symlink, python throws an OSError exception. This makes it useful for finding them. However, there are a few other reasons that os.stat() might throw a similar exception. Is there a more precise way of detecting broken symlinks with Python under Linux?",Find broken symlinks with Python,26957,20794,18,"A common Python saying is that it's easier to ask forgiveness than permission. While I'm not a fan of this statement in real life, it does apply in a lot of cases. Usually you want to avoid code that chains two system calls on the same file, because you never know what will happen to the file in between your two calls in your code. A typical mistake is to write something like: if os.path.exists(path): os.unlink(path) The second call (os.unlink) may fail if something else deleted it after your if test, raise an Exception, and stop the rest of your function from executing. (You might think this doesn't happen in real life, but we just fished another bug like that out of our codebase last week - and it was the kind of bug that left a few programmers scratching their head and claiming 'Heisenbug' for the last few months) So, in your particular case, I would probably do: try: os.stat(path) except OSError, e: if e.errno == errno.ENOENT: print 'path %s does not exist or is a broken symlink' % path else: raise e The annoyance here is that stat returns the same error code for a symlink that just isn't there and a broken symlink. So, I guess you have no choice than to break the atomicity, and do something like if not os.path.exists(os.readlink(path)): print 'path %s is a broken symlink' % path"
20927,6,"I've got two models: Message and Attachment. Each attachment is attached to a specific message, using a ForeignKey on the Attachment model. Both models have an auto_now DateTimeField called updated. I'm trying to make it so that when any attachment is saved, it also sets the updated field on the associated message to now. Here's my code: def save(self): super(Attachment, self).save() self.message.updated = self.updated Will this work, and if you can explain it to me, why? If not, how would I accomplish this?",updating an auto_now DateTimeField in a parent model w/ Django,20983,20927,5,You would also need to then save the message. Then it that should work.
20927,6,"I've got two models: Message and Attachment. Each attachment is attached to a specific message, using a ForeignKey on the Attachment model. Both models have an auto_now DateTimeField called updated. I'm trying to make it so that when any attachment is saved, it also sets the updated field on the associated message to now. Here's my code: def save(self): super(Attachment, self).save() self.message.updated = self.updated Will this work, and if you can explain it to me, why? If not, how would I accomplish this?",updating an auto_now DateTimeField in a parent model w/ Django,72359,20927,1,"DateTime fields with auto_now are automatically updated upon calling save(), so you do not need to update them manually. Django will do this work for you."
21454,65,How do I go about specifying and using an ENUM in a Django model?,Specifying a mySQL ENUM in a Django model,21468,21454,75,"From the Django documentation: MAYBECHOICE = ( ('y', 'Yes'), ('n', 'No'), ('u', 'Unknown'), ) And you define a charfield in your model : married = models.CharField(max_length=1, choices=MAYBECHOICE) You can do the same with integer fields if you don't like to have letters in your db. In that case, rewrite your choices: MAYBECHOICE = ( (0, 'Yes'), (1, 'No'), (2, 'Unknown'), )"
21454,65,How do I go about specifying and using an ENUM in a Django model?,Specifying a mySQL ENUM in a Django model,33932,21454,26,"Using the choices parameter won't use the ENUM db type; it will just create a VARCHAR or INTEGER, depending on whether you use choices with a CharField or IntegerField. Generally, this is just fine. If it's important to you that the ENUM type is used at the database level, you have three options: Use ""./manage.py sql appname"" to see the SQL Django generates, manually modify it to use the ENUM type, and run it yourself. If you create the table manually first, ""./manage.py syncdb"" won't mess with it. If you don't want to do this manually every time you generate your DB, put some custom SQL in appname/sql/modelname.sql to perform the appropriate ALTER TABLE command. Create a custom field type and define the db_type method appropriately. With any of these options, it would be your responsibility to deal with the implications for cross-database portability. In option 2, you could use database-backend-specific custom SQL to ensure your ALTER TABLE is only run on MySQL. In option 3, your db_type method would need to check the database engine and set the db column type to a type that actually exists in that database. UPDATE: Since the migrations framework was added in Django 1.7, options 1 and 2 above are entirely obsolete. Option 3 was always the best option anyway. The new version of options 1/2 would involve a complex custom migration using SeparateDatabaseAndState -- but really you want option 3."
21454,65,How do I go about specifying and using an ENUM in a Django model?,Specifying a mySQL ENUM in a Django model,334932,21454,6,If you really want to use your databases ENUM type: Use Django 1.x Recognize your application will only work on some databases. Puzzle through this documentation page:http://docs.djangoproject.com/en/dev/howto/custom-model-fields/#howto-custom-model-fields Good luck!
21454,65,How do I go about specifying and using an ENUM in a Django model?,Specifying a mySQL ENUM in a Django model,1530858,21454,31,"from django.db import models class EnumField(models.Field): """""" A field class that maps to MySQL's ENUM type. Usage: class Card(models.Model): suit = EnumField(values=('Clubs', 'Diamonds', 'Spades', 'Hearts')) c = Card() c.suit = 'Clubs' c.save() """""" def __init__(self, *args, **kwargs): self.values = kwargs.pop('values') kwargs['choices'] = [(v, v) for v in self.values] kwargs['default'] = self.values[0] super(EnumField, self).__init__(*args, **kwargs) def db_type(self): return ""enum({0})"".format( ','.join(""'%s'"" % v for v in self.values) )"
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,21937,21934,8,"I think the article ""Java theory and practice: A brief history of garbage collection"" from IBM should help explain some of the questions you have."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,21964,21934,40,"There are drawbacks of using reference counting. One of the most mentioned is circular references: Suppose A references B, B references C and C references B. If A were to drop its reference to B, both B and C will still have a reference count of 1 and won't be deleted with traditional reference counting. CPython (reference counting is not part of python itself, but part of the C implementation thereof) catches circular references with a separate garbage collection routine that it runs periodically... Another drawback: Reference counting can make execution slower. Each time an object is referenced and dereferenced, the interpreter/VM must check to see if the count has gone down to 0 (and then deallocate if it did). Garbage Collection does not need to do this. Also, Garbage Collection can be done in a separate thread (though it can be a bit tricky). On machines with lots of RAM and for processes that use memory only slowly, you might not want to be doing GC at all! Reference counting would be a bit of a drawback there in terms of performance..."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,22219,21934,11,"Darren Thomas gives a good answer. However, one big difference between the Java and Python approaches is that with reference counting in the common case (no circular references) objects are cleaned up immediately rather than at some indeterminate later date. For example, I can write sloppy, non-portable code in CPython such as def parse_some_attrs(fname): return open(fname).read().split(""~~~"")[2:4] and the file descriptor for that file I opened will be cleaned up immediately because as soon as the reference to the open file goes away, the file is garbage collected and the file descriptor is freed. Of course, if I run Jython or IronPython or possibly PyPy, then the garbage collector won't necessarily run until much later; possibly I'll run out of file descriptors first and my program will crash. So you SHOULD be writing code that looks like def parse_some_attrs(fname): with open(fname) as f: return f.read().split(""~~~"")[2:4] but sometimes people like to rely on reference counting to always free up their resources because it can sometimes make your code a little shorter. I'd say that the best garbage collector is the one with the best performance, which currently seems to be the Java-style generational garbage collectors that can run in a separate thread and has all these crazy optimizations, etc. The differences to how you write your code should be negligible and ideally non-existent."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,23703,21934,2,"The latest Sun Java VM actually have multiple GC algorithms which you can tweak. The Java VM specifications intentionally omitted specifying actual GC behaviour to allow different (and multiple) GC algorithms for different VMs. For example, for all the people who dislike the ""stop-the-world"" approach of the default Sun Java VM GC behaviour, there are VM such as IBM's WebSphere Real Time which allows real-time application to run on Java. Since the Java VM spec is publicly available, there is (theoretically) nothing stopping anyone from implementing a Java VM that uses CPython's GC algorithm."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,46780,21934,2,"Reference counting is particularly difficult to do efficiently in a multi-threaded environment. I don't know how you'd even start to do it without getting into hardware assisted transactions or similar (currently) unusual atomic instructions. Reference counting is easy to implement. JVMs have had a lot of money sunk into competing implementations, so it shouldn't be surprising that they implement very good solutions to very difficult problems. However, it's becoming increasingly easy to target your favourite language at the JVM."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,74327,21934,5,"Garbage collection is faster (more time efficient) than reference counting, if you have enough memory. For example, a copying gc traverses the ""live"" objects and copies them to a new space, and can reclaim all the ""dead"" objects in one step by marking a whole memory region. This is very efficient, if you have enough memory. Generational collections use the knowledge that ""most objects die young""; often only a few percent of objects have to be copied. [This is also the reason why gc can be faster than malloc/free] Reference counting is much more space efficient than garbage collection, since it reclaims memory the very moment it gets unreachable. This is nice when you want to attach finalizers to objects (e.g. to close a file once the File object gets unreachable). A reference counting system can work even when only a few percent of the memory is free. But the management cost of having to increment and decrement counters upon each pointer assignment cost a lot of time, and some kind of garbage collection is still needed to reclaim cycles. So the trade-off is clear: if you have to work in a memory-constrained environment, or if you need precise finalizers, use reference counting. If you have enough memory and need the speed, use garbage collection."
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,196487,21934,22,"Actually reference counting and the strategies used by the Sun JVM are all different types of garbage collection algorithms. There are two broad approaches for tracking down dead objects: tracing and reference counting. In tracing the GC starts from the ""roots"" - things like stack references, and traces all reachable (live) objects. Anything that can't be reached is considered dead. In reference counting each time a reference is modified the object's involved have their count updated. Any object whose reference count gets set to zero is considered dead. With basically all GC implementations there are trade offs but tracing is usually good for high through put (i.e. fast) operation but has longer pause times (larger gaps where the UI or program may freeze up). Reference counting can operate in smaller chunks but will be slower overall. It may mean less freezes but poorer performance overall. Additionally a reference counting GC requires a cycle detector to clean up any objects in a cycle that won't be caught by their reference count alone. Perl 5 didn't have a cycle detector in its GC implementation and could leak memory that was cyclic. Research has also been done to get the best of both worlds (low pause times, high throughput): http://cs.anu.edu.au/~Steve.Blackburn/pubs/papers/urc-oopsla-2003.pdf"
21934,35,"Python uses the reference count method to handle object life time. So an object that has no more use will be immediately destroyed. But, in Java, the GC(garbage collector) destroys objects which are no longer used at a specific time. Why does Java choose this strategy and what is the benefit from this? Is this better than the Python approach?",Why Java and Python garbage collection methods are different?,1604520,21934,1,"Late in the game, but I think one significant rationale for RC in python is its simplicity. See this email by Alex Martelli, for example. (I could not find a link outside google cache, the email date from 13th october 2005 on python list)."
21961,3,"&gt;&gt;&gt; import time &gt;&gt;&gt; time.strptime(""01-31-2009"", ""%m-%d-%Y"") (2009, 1, 31, 0, 0, 0, 5, 31, -1) &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233378000.0 &gt;&gt;&gt; 60*60*24 # seconds in a day 86400 &gt;&gt;&gt; 1233378000.0 / 86400 14275.208333333334 time.mktime should return the number of seconds since the epoch. Since I'm giving it a time at midnight and the epoch is at midnight, shouldn't the result be evenly divisible by the number of seconds in a day?",Why does this python date/time conversion seem wrong?,21973,21961,1,"mktime(...) mktime(tuple) -&gt; floating point number Convert a time tuple in local time to seconds since the Epoch. local time... fancy that. The time tuple: The other representation is a tuple of 9 integers giving local time. The tuple items are: year (four digits, e.g. 1998) month (1-12) day (1-31) hours (0-23) minutes (0-59) seconds (0-59) weekday (0-6, Monday is 0) Julian day (day in the year, 1-366) DST (Daylight Savings Time) flag (-1, 0 or 1) If the DST flag is 0, the time is given in the regular time zone; if it is 1, the time is given in the DST time zone; if it is -1, mktime() should guess based on the date and time. Incidentally, we seem to be 6 hours apart: &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233356400.0 &gt;&gt;&gt; (1233378000.0 - 1233356400)/(60*60) 6.0"
21961,3,"&gt;&gt;&gt; import time &gt;&gt;&gt; time.strptime(""01-31-2009"", ""%m-%d-%Y"") (2009, 1, 31, 0, 0, 0, 5, 31, -1) &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233378000.0 &gt;&gt;&gt; 60*60*24 # seconds in a day 86400 &gt;&gt;&gt; 1233378000.0 / 86400 14275.208333333334 time.mktime should return the number of seconds since the epoch. Since I'm giving it a time at midnight and the epoch is at midnight, shouldn't the result be evenly divisible by the number of seconds in a day?",Why does this python date/time conversion seem wrong?,21974,21961,0,"Interesting. I don't know, but I did try this: &gt;&gt;&gt; now = time.mktime((2008, 8, 22, 11 ,17, -1, -1, -1, -1)) &gt;&gt;&gt; tomorrow = time.mktime((2008, 8, 23, 11 ,17, -1, -1, -1, -1)) &gt;&gt;&gt; tomorrow - now 86400.0 which is what you expected. My guess? Maybe some time correction was done since the epoch. This could be only a few seconds, something like a leap year. I think I heard something like this before, but can't remember exactly how and when it is done..."
21961,3,"&gt;&gt;&gt; import time &gt;&gt;&gt; time.strptime(""01-31-2009"", ""%m-%d-%Y"") (2009, 1, 31, 0, 0, 0, 5, 31, -1) &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233378000.0 &gt;&gt;&gt; 60*60*24 # seconds in a day 86400 &gt;&gt;&gt; 1233378000.0 / 86400 14275.208333333334 time.mktime should return the number of seconds since the epoch. Since I'm giving it a time at midnight and the epoch is at midnight, shouldn't the result be evenly divisible by the number of seconds in a day?",Why does this python date/time conversion seem wrong?,21975,21961,7,"Short answer: Because of timezones. The Epoch is in UTC. For example, I'm on IST (Irish Stsandard Time) or GMT+1. time.mktime() is relative to my timezone, so on my system this refers to &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233360000.0 Because you got the result 1233378000, that would suggest that you're 5 hours behind me &gt;&gt;&gt; (1233378000 - 1233360000) / (60*60) 5 Have a look at the time.gmtime() function which works off UTC."
21961,3,"&gt;&gt;&gt; import time &gt;&gt;&gt; time.strptime(""01-31-2009"", ""%m-%d-%Y"") (2009, 1, 31, 0, 0, 0, 5, 31, -1) &gt;&gt;&gt; time.mktime((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233378000.0 &gt;&gt;&gt; 60*60*24 # seconds in a day 86400 &gt;&gt;&gt; 1233378000.0 / 86400 14275.208333333334 time.mktime should return the number of seconds since the epoch. Since I'm giving it a time at midnight and the epoch is at midnight, shouldn't the result be evenly divisible by the number of seconds in a day?",Why does this python date/time conversion seem wrong?,22021,21961,1,"Phil's answer really solved it, but I'll elaborate a little more. Since the epoch is in UTC, if I want to compare other times to the epoch, I need to interpret them as UTC as well. &gt;&gt;&gt; calendar.timegm((2009, 1, 31, 0, 0, 0, 5, 31, -1)) 1233360000 &gt;&gt;&gt; 1233360000 / (60*60*24) 14275 By converting the time tuple to a timestamp treating is as UTC time, I get a number which is evenly divisible by the number of seconds in a day. I can use this to convert a date to a days-from-the-epoch representation which is what I'm ultimately after."
22059,4,"I was wondering how as semantic service like Open Calais figures out the names of companies, or people, tech concepts, keywords, etc. from a piece of text. Is it because they have a large database that they match the text against? How would a service like Zemanta know what images to suggest to a piece of text for instance?","How do content discovery engines, like Zemanta and Open Calais work?",23041,22059,0,"Open Calais probably use language parsing technology and language statics to guess which words or phrases are Names, Places, Companies, etc. Then, it is just another step to do some kind of search for those entities and return meta data. Zementa probably does something similar, but matches the phrases against meta-data attached to images in order to acquire related results. It certainly isn't easy."
22059,4,"I was wondering how as semantic service like Open Calais figures out the names of companies, or people, tech concepts, keywords, etc. from a piece of text. Is it because they have a large database that they match the text against? How would a service like Zemanta know what images to suggest to a piece of text for instance?","How do content discovery engines, like Zemanta and Open Calais work?",35667,22059,7,"I'm not familiar with the specific services listed, but the field of natural language processing has developed a number of techniques that enable this sort of information extraction from general text. As Sean stated, once you have candidate terms, it's not to difficult to search for those terms with some of the other entities in context and then use the results of that search to determine how confident you are that the term extracted is an actual entity of interest. OpenNLP is a great project if you'd like to play around with natural language processing. The capabilities you've named would probably be best accomplished with Named Entity Recognizers (NER) (algorithms that locate proper nouns, generally, and sometimes dates as well) and/or Word Sense Disambiguation (WSD) (eg: the word 'bank' has different meanings depending on it's context, and that can be very important when extracting information from text. Given the sentences: ""the plane banked left"", ""the snow bank was high"", and ""they robbed the bank"" you can see how dissambiguation can play an important part in language understanding) Techniques generally build on each other, and NER is one of the more complex tasks, so to do NER successfully, you will generally need accurate tokenizers (natural language tokenizers, mind you -- statistical approaches tend to fare the best), string stemmers (algorithms that conflate similar words to common roots: so words like informant and informer are treated equally), sentence detection ('Mr. Jones was tall.' is only one sentence, so you can't just check for punctuation), part-of-speech taggers (POS taggers), and WSD. There is a python port of (parts of) OpenNLP called NLTK (http://nltk.sourceforge.net) but I don't have much experience with it yet. Most of my work has been with the Java and C# ports, which work well. All of these algorithms are language-specific, of course, and they can take significant time to run (although, it is generally faster than reading the material you are processing). Since the state-of-the-art is largely based on statistical techniques, there is also a considerable error rate to take into account. Furthermore, because the error rate impacts all the stages, and something like NER requires numerous stages of processing, (tokenize -> sentence detect -> POS tag -> WSD -> NER) the error rates compound."
22059,4,"I was wondering how as semantic service like Open Calais figures out the names of companies, or people, tech concepts, keywords, etc. from a piece of text. Is it because they have a large database that they match the text against? How would a service like Zemanta know what images to suggest to a piece of text for instance?","How do content discovery engines, like Zemanta and Open Calais work?",821663,22059,9,"Michal Finkelstein from OpenCalais here. First, thanks for your interest. I'll reply here but I also encourage you to read more on OpenCalais forums; there's a lot of information there including - but not limited to: http://opencalais.com/tagging-information http://opencalais.com/how-does-calais-learn Also feel free to follow us on Twitter (@OpenCalais) or to email us at team@opencalais.com Now to the answer: OpenCalais is based on a decade of research and development in the fields of Natural Language Processing and Text Analytics. We support the full ""NLP Stack"" (as we like to call it): From text tokenization, morphological analysis and POS tagging, to shallow parsing and identifying nominal and verbal phrases. Semantics come into play when we look for Entities (a.k.a. Entity Extraction, Named Entity Recognition). For that purpose we have a sophisticated rule-based system that combines discovery rules as well as lexicons/dictionaries. This combination allows us to identify names of companies/persons/films, etc., even if they don't exist in any available list. For the most prominent entities (such as people, companies) we also perform anaphora resolution, cross-reference and name canonization/normalization at the article level, so we'll know that 'John Smith' and 'Mr. Smith', for example, are likely referring to the same person. So the short answer to your question is - no, it's not just about matching against large databases. Events/Facts are really interesting because they take our discovery rules one level deeper; we find relations between entities and label them with the appropriate type, for example M&amp;As (relations between two or more companies), Employment Changes (relations between companies and people), and so on. Needless to say, Event/Fact extraction is not possible for systems that are based solely on lexicons. For the most part, our system is tuned to be precision-oriented, but we always try to keep a reasonable balance between accuracy and entirety. By the way there are some cool new metadata capabilities coming out later this month so stay tuned. Regards, Michal"
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,22157,22149,0,Python stores Unicode as UTF-16. str() will return the UTF-8 representation of the UTF-16 string.
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,22168,22149,-1,"From Wikipedia on UTF-8: UTF-8 (8-bit UCS/Unicode Transformation Format) is a variable-length character encoding for Unicode. It is able to represent any character in the Unicode standard, yet the initial encoding of byte codes and character assignments for UTF-8 is backwards compatible with ASCII. For these reasons, it is steadily becoming the preferred encoding for e-mail, web pages[1], and other places where characters are stored or streamed. So, it's anywhere between one and four bytes depending on which character you wish to represent within the realm of Unicode. From Wikipedia on Unicode: In computing, Unicode is an industry standard allowing computers to consistently represent and manipulate text expressed in most of the world's writing systems. So it's able to represent most (but not all) of the world's writing systems. I hope this helps :)"
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,22206,22149,-2,"so what is a ""Unicode string"" in Python? Python 'knows' that your string is Unicode. Hence if you do regex on it, it will know which is character and which is not etc, which is really helpful. If you did a strlen it will also give the correct result. As an example if you did string count on Hello, you will get 5 (even if it's Unicode). But if you did a string count of a foreign word and that string was not a Unicode string than you will have much larger result. Pythong uses the information form the Unicode Character Database to identify each character in the Unicode String. Hope that helps."
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,22208,22149,8,"Meanwhile, I did a refined research to verify what the internal representation in Python is, and also what its limits are. ""The Truth About Unicode In Python"" is a very good article which cites directly from the Python developers. Apparently, internal representation is either UCS-2 or UCS-4 depending on a compile-time switch. So Jon, it's not UTF-16, but your answer put me on the right track anyway, thanks."
22149,25,"I stumbled over this passage in the Django tutorial: Django models have a default str() method that calls unicode() and converts the result to a UTF-8 bytestring. This means that unicode(p) will return a Unicode string, and str(p) will return a normal string, with characters encoded as UTF-8. Now, I'm confused because afaik Unicode is not any particular representation, so what is a ""Unicode string"" in Python? Does that mean UCS-2? Googling turned up this ""Python Unicode Tutorial"" which boldly states Unicode is a two-byte encoding which covers all of the world's common writing systems. which is plain wrong, or is it? I have been confused many times by character set and encoding issues, but here I'm quite sure that the documentation I'm reading is confused. Does anybody know what's going on in Python when it gives me a ""Unicode string""?",Unicode vs UTF-8 confusion in Python / Django?,522827,22149,45,"what is a ""Unicode string"" in Python? Does that mean UCS-2? Unicode strings in Python are stored internally either as UCS-2 (fixed-length 16-bit representation, almost the same as UTF-16) or UCS-4/UTF-32 (fixed-length 32-bit representation). It's a compile-time option; on Windows it's always UTF-16 whilst many Linux distributions set UTF-32 (âwide modeâ) for their versions of Python. You are generally not supposed to care: you will see Unicode code-points as single elements in your strings and you won't know whether they're stored as two or four bytes. If you're in a UTF-16 build and you need to handle characters outside the Basic Multilingual Plane you'll be Doing It Wrong, but that's still very rare, and users who really need the extra characters should be compiling wide builds. plain wrong, or is it? Yes, it's quite wrong. To be fair I think that tutorial is rather old; it probably pre-dates wide Unicode strings, if not Unicode 3.1 (the version that introduced characters outside the Basic Multilingual Plane). There is an additional source of confusion stemming from Windows's habit of using the term âUnicodeâ to mean, specifically, the UTF-16LE encoding that NT uses internally. People from Microsoftland may often copy this somewhat misleading habit."
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,22624,22617,103,"Formatting in Python is done via the string formatting (%) operator: ""%02d:%02d:%02d"" % (hours, minutes, seconds) /Edit: There's also strftime."
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,22630,22617,3,"You can use C style string formatting: ""%d:%d:d"" % (hours, minutes, seconds) See here, especially: https://web.archive.org/web/20120415173443/http://diveintopython3.ep.io/strings.html"
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,24962,22617,0,"str() in python on an integer will not print any decimal places. If you have a float that you want to ignore the decimal part, then you can use str(int(floatValue)). Perhaps the following code will demonstrate: &gt;&gt;&gt; str(5) '5' &gt;&gt;&gt; int(8.7) 8"
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,2550630,22617,74,"Starting in Python 2.6, there is an alternative: the str.format() method. Here are some examples using the existing string format operator (%): &gt;&gt;&gt; ""Name: %s, age: %d"" % ('John', 35) 'Name: John, age: 35' &gt;&gt;&gt; I = 45 &gt;&gt;&gt; 'dec: %d/oct: %#o/hex: %#X' % (i, i, i) 'dec: 45/oct: 055/hex: 0X2D' &gt;&gt;&gt; ""MM/DD/YY = %02d/%02d/%02d"" % (12, 7, 41) 'MM/DD/YY = 12/07/41' &gt;&gt;&gt; 'Total with tax: $%.2f' % (13.00 * 1.0825) 'Total with tax: $14.07' &gt;&gt;&gt; d = {'web': 'user', 'page': 42} &gt;&gt;&gt; 'http://xxx.yyy.zzz/%(web)s/%(page)d.html' % d 'http://xxx.yyy.zzz/user/42.html' Here are the equivalent snippets but using str.format(): &gt;&gt;&gt; ""Name: {0}, age: {1}"".format('John', 35) 'Name: John, age: 35' &gt;&gt;&gt; I = 45 &gt;&gt;&gt; 'dec: {0}/oct: {0:#o}/hex: {0:#X}'.format(i) 'dec: 45/oct: 0o55/hex: 0X2D' &gt;&gt;&gt; ""MM/DD/YY = {0:02d}/{1:02d}/{2:02d}"".format(12, 7, 41) 'MM/DD/YY = 12/07/41' &gt;&gt;&gt; 'Total with tax: ${0:.2f}'.format(13.00 * 1.0825) 'Total with tax: $14.07' &gt;&gt;&gt; d = {'web': 'user', 'page': 42} &gt;&gt;&gt; 'http://xxx.yyy.zzz/{web}/{page}.html'.format(**d) 'http://xxx.yyy.zzz/user/42.html' Like Python 2.6+, all Python 3 releases (so far) understand how to do both. I shamelessly ripped this stuff straight out of my hardcore Python intro book and the slides for the Intro+Intermediate Python courses I offer from time-to-time. :-)"
22617,68,"I need to find out how to format numbers as strings. My code is here: return str(hours)+"":""+str(minutes)+"":""+str(seconds)+"" ""+ampm Hours and minutes are integers, and seconds is a float. the str() function will convert all of these numbers to the tenths (0.1) place. So instead of my string outputting ""5:30:59.07 pm"", it would display something like ""5.0:30.0:59.1 pm"". Bottom line, what library / function do I need to do this for me?",Format numbers to strings in Python,3336493,22617,0,"If you have a value that includes a decimal, but the decimal value is negligible (ie: 100.0) and try to int that, you will get an error. It seems silly, but calling float first fixes this. str(int(float([variable])))"
22676,492,"I have a small utility that I use to download a MP3 from a website on a schedule and then builds/updates a podcast XML file which I've obviously added to iTunes. The text processing that creates/updates the XML file is written in Python. I use wget inside a Windows .bat file to download the actual MP3 however. I would prefer to have the entire utility written in Python though. I struggled though to find a way to actually down load the file in Python, thus why I resorted to wget. So, how do I download the file using Python?",How do I download a file over HTTP using Python?,22682,22676,286,"In Python 2, use urllib2 which comes with the standard library. import urllib2 response = urllib2.urlopen('http://www.example.com/') html = response.read() This is the most basic way to use the library, minus any error handling. You can also do more complex stuff such as changing headers. The documentation can be found here."
22676,492,"I have a small utility that I use to download a MP3 from a website on a schedule and then builds/updates a podcast XML file which I've obviously added to iTunes. The text processing that creates/updates the XML file is written in Python. I use wget inside a Windows .bat file to download the actual MP3 however. I would prefer to have the entire utility written in Python though. I struggled though to find a way to actually down load the file in Python, thus why I resorted to wget. So, how do I download the file using Python?",How do I download a file over HTTP using Python?,22721,22676,118,"import urllib2 mp3file = urllib2.urlopen(""http://www.example.com/songs/mp3.mp3"") with open('test.mp3','wb') as output: output.write(mp3file.read()) The wb in open('test.mp3','wb') opens a file (and erases any existing file) in binary mode so you can save data with it instead of just text."
22676,492,"I have a small utility that I use to download a MP3 from a website on a schedule and then builds/updates a podcast XML file which I've obviously added to iTunes. The text processing that creates/updates the XML file is written in Python. I use wget inside a Windows .bat file to download the actual MP3 however. I would prefer to have the entire utility written in Python though. I struggled though to find a way to actually down load the file in Python, thus why I resorted to wget. So, how do I download the file using Python?",How do I download a file over HTTP using Python?,22723,22676,9,"I agree with Corey, urllib2 is more complete than urllib and should likely be the module used if you want to do more complex things, but to make the answers more complete, urllib is a simpler module if you want just the basics: import urllib response = urllib.urlopen('http://www.example.com/sound.mp3') mp3 = response.read() Will work fine. Or, if you don't want to deal with the ""response"" object you can call read() directly: import urllib mp3 = urllib.urlopen('http://www.example.com/sound.mp3').read()"
22676,492,"I have a small utility that I use to download a MP3 from a website on a schedule and then builds/updates a podcast XML file which I've obviously added to iTunes. The text processing that creates/updates the XML file is written in Python. I use wget inside a Windows .bat file to download the actual MP3 however. I would prefer to have the entire utility written in Python though. I struggled though to find a way to actually down load the file in Python, thus why I resorted to wget. So, how do I download the file using Python?",How do I download a file over HTTP using Python?,22776,22676,759,"One more, using urlretrieve: import urllib urllib.urlretrieve (""http://www.example.com/songs/mp3.mp3"", ""mp3.mp3"") (for Python 3+ use 'import urllib.request' and urllib.request.urlretrieve) Yet another one, with a ""progressbar"" import urllib2 url = ""http://download.thinkbroadband.com/10MB.zip"" file_name = url.split('/')[-1] u = urllib2.urlopen(url) f = open(file_name, 'wb') meta = u.info() file_size = int(meta.getheaders(""Content-Length"")[0]) print ""Downloading: %s Bytes: %s"" % (file_name, file_size) file_size_dl = 0 block_sz = 8192 while True: buffer = u.read(block_sz) if not buffer: break file_size_dl += len(buffer) f.write(buffer) status = r""%10d [%3.2f%%]"" % (file_size_dl, file_size_dl * 100. / file_size) status = status + chr(8)*(len(status)+1) print status, f.close()"
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,23414,23397,0,Possibly a version of spawn() for python? http://en.wikipedia.org/wiki/Spawn_(operating_system)
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,23422,23397,4,"Have a look at the process management functions in the os module. There are function for starting new processes in many different ways, both synchronously and asynchronously. I should note also that Windows doesn't provide functionality that is exactly like fork() on other systems. To do multiprocessing on Windows, you will need to use the threading module."
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,23510,23397,3,"In addition to the process management code in the os module that Greg pointed out, you should also take a look at the threading module: https://docs.python.org/library/threading.html from threading import Thread def separate_computations(x, y): print sum(x for I in range(y)) # really expensive multiplication Thread(target=separate_compuations, args=[57, 83]).start() print ""I'm continuing while that other function runs in another thread!"""
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,25117,23397,2,You might also like using the processing module (http://pypi.python.org/pypi/processing). It has lot's of functionality for writing parallel systems with the same API as the threading module...
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,52191,23397,2,"The Threading example from Eli will run the thread, but not do any of the work after that line. I'm going to look into the processing module and the subprocess module. I think the com method I'm running needs to be in another process, not just in another thread."
23397,20,"How do I implement some logic that will allow me to reproduce on Windows the functionality that I have on Linux with the fork() system call, using Python? I'm specifically trying to execute a method on the SAPI Com component, while continuing the other logic in the main thread without blocking or waiting.",What's the best way to duplicate fork() in windows?,170387,23397,10,"fork() has in fact been duplicated in Windows, under Cygwin, but it's pretty hairy. The fork call in Cygwin is particularly interesting because it does not map well on top of the Win32 API. This makes it very difficult to implement correctly. See the The Cygwin User's Guide for a description of this hack."
23907,34,"Basically I want to get the number of lines-of-code in the repository after each commit. The only (really crappy) ways I have found is to use git filter-branch to run ""wc -l *"", and a script that run git reset --hard on each commit, then ran wc -l To make it a bit clearer, when the tool is run, it would output the lines of code of the very first commit, then the second and so on.. This is what I want the tool to output (as an example): me@something:~/$ gitsloc --branch master 10 48 153 450 1734 1542 I've played around with the ruby 'git' library, but the closest I found was using the .lines() method on a diff, which seems like it should give the added lines (but does not.. it returns 0 when you delete lines for example) require 'rubygems' require 'git' total = 0 g = Git.open(working_dir = '/Users/dbr/Desktop/code_projects/tvdb_api') last = nil g.log.each do |cur| diff = g.diff(last, cur) total = total + diff.lines puts total last = cur end",How can I graph the Lines of Code history for git repo?,24190,23907,4,"The first thing that jumps to mind is the possibility of your git history having a nonlinear history. You might have difficulty determining a sensible sequence of commits. Having said that, it seems like you could keep a log of commit ids and the corresponding lines of code in that commit. In a post-commit hook, starting from the HEAD revision, work backwards (branching to multiple parents if necessary) until all paths reach a commit that you've already seen before. That should give you the total lines of code for each commit id. Does that help any? I have a feeling that I've misunderstood something about your question."
23907,34,"Basically I want to get the number of lines-of-code in the repository after each commit. The only (really crappy) ways I have found is to use git filter-branch to run ""wc -l *"", and a script that run git reset --hard on each commit, then ran wc -l To make it a bit clearer, when the tool is run, it would output the lines of code of the very first commit, then the second and so on.. This is what I want the tool to output (as an example): me@something:~/$ gitsloc --branch master 10 48 153 450 1734 1542 I've played around with the ruby 'git' library, but the closest I found was using the .lines() method on a diff, which seems like it should give the added lines (but does not.. it returns 0 when you delete lines for example) require 'rubygems' require 'git' total = 0 g = Git.open(working_dir = '/Users/dbr/Desktop/code_projects/tvdb_api') last = nil g.log.each do |cur| diff = g.diff(last, cur) total = total + diff.lines puts total last = cur end",How can I graph the Lines of Code history for git repo?,35664,23907,22,"You may get both added and removed lines with git log, like: git log --shortstat --reverse --pretty=oneline From this, you can write a similar script to the one you did using this info. In python: #!/usr/bin/python """""" Display the per-commit size of the current git branch. """""" import subprocess import re import sys def main(argv): git = subprocess.Popen([""git"", ""log"", ""--shortstat"", ""--reverse"", ""--pretty=oneline""], stdout=subprocess.PIPE) out, err = git.communicate() total_files, total_insertions, total_deletions = 0, 0, 0 for line in out.split('\n'): if not line: continue if line[0] != ' ': # This is a description line hash, desc = line.split("" "", 1) else: # This is a stat line data = re.findall( ' (\d+) files changed, (\d+) insertions\(\+\), (\d+) deletions\(-\)', line) files, insertions, deletions = ( int(x) for x in data[0] ) total_files += files total_insertions += insertions total_deletions += deletions print ""%s: %d files, %d lines"" % (hash, total_files, total_insertions - total_deletions) if __name__ == '__main__': sys.exit(main(sys.argv))"
23907,34,"Basically I want to get the number of lines-of-code in the repository after each commit. The only (really crappy) ways I have found is to use git filter-branch to run ""wc -l *"", and a script that run git reset --hard on each commit, then ran wc -l To make it a bit clearer, when the tool is run, it would output the lines of code of the very first commit, then the second and so on.. This is what I want the tool to output (as an example): me@something:~/$ gitsloc --branch master 10 48 153 450 1734 1542 I've played around with the ruby 'git' library, but the closest I found was using the .lines() method on a diff, which seems like it should give the added lines (but does not.. it returns 0 when you delete lines for example) require 'rubygems' require 'git' total = 0 g = Git.open(working_dir = '/Users/dbr/Desktop/code_projects/tvdb_api') last = nil g.log.each do |cur| diff = g.diff(last, cur) total = total + diff.lines puts total last = cur end",How can I graph the Lines of Code history for git repo?,2854506,23907,22,"You might also consider gitstats, which generates this graph as an html file."
23907,34,"Basically I want to get the number of lines-of-code in the repository after each commit. The only (really crappy) ways I have found is to use git filter-branch to run ""wc -l *"", and a script that run git reset --hard on each commit, then ran wc -l To make it a bit clearer, when the tool is run, it would output the lines of code of the very first commit, then the second and so on.. This is what I want the tool to output (as an example): me@something:~/$ gitsloc --branch master 10 48 153 450 1734 1542 I've played around with the ruby 'git' library, but the closest I found was using the .lines() method on a diff, which seems like it should give the added lines (but does not.. it returns 0 when you delete lines for example) require 'rubygems' require 'git' total = 0 g = Git.open(working_dir = '/Users/dbr/Desktop/code_projects/tvdb_api') last = nil g.log.each do |cur| diff = g.diff(last, cur) total = total + diff.lines puts total last = cur end",How can I graph the Lines of Code history for git repo?,3180919,23907,9,http://github.com/ITikhonov/git-loc worked right out of the box for me.
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,24199,24193,2,"I recall that in previous versions of VS, there was a way to add custom build steps to the build process. I used that a lot to do exactly the kind of automated code generation you describe. I imagine the custom build step feature is still there in 2008."
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,24236,24193,1,I don't understand what you are trying to do here. Are you trying to execute a Python script that generates a C# file and then compile that with the project? Or are you trying to compile a Python script to C#?
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,24248,24193,1,"OK, I see. Well, as far as I know there isn't any code generator for Python. There is a good introduction on how to roll your own here. Actually, that's quite an under-used part of the environment, I suppose it's so because it needs you to use the IDE to compile the project, as it'd seem only the IDE knows about these ""generators"", but MSBuild ignores them."
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,222427,24193,3,I think Cog does what you want.
24193,3,"I had an idea, if I add a python .py file to my C# project, and tag the file with a custom generator that would execute the python file, and treat the output as the result of the code generation, ie. put it into a C# file, that would allow me to do quite a lot of code generation as part of the build process. Does anyone know if such a custom generator for Visual Studio 2008 exists?",Python code generator for Visual Studio?,223387,24193,1,"I dug through my old bookmarks (I love Del.icio.us!) and found this article: Code Generation with Python, Cog, and Nant. Keep in mind that anything you can do in NAnt can probably be done in MSBuild as well. This should be enough to get you started."
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,24939,24931,0,"In which context are you asking? Are you trying to capture the output from a program you start on the command line? if so, then this is how to execute it: somescript.py | your-capture-program-here and to read the output, just read from standard input. If, on the other hand, you're executing that script or cmd.exe or similar from within your program, and want to wait until the script/program has finished, and capture all its output, then you need to look at the library calls you use to start that external program, most likely there is a way to ask it to give you some way to read the output and wait for completion."
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,24942,24931,1,You want subprocess. Look specifically at Popen in 17.1.1 and communicate in 17.1.2.
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,24949,24931,9,"If you are talking about the python interpreter or CMD.exe that is the 'parent' of your script then no, it isn't possible. In every POSIX-like system (now you're running Windows, it seems, and that might have some quirk I don't know about, YMMV) each process has three streams, standard input, standard output and standard error. Bu default (when running in a console) these are directed to the console, but redirection is possible using the pipe notation: python script_a.py | python script_b.py This ties the standard output stream of script a to the standard input stream of script B. Standard error still goes to the console in this example. See the article on standard streams on Wikipedia. If you're talking about a child process, you can launch it from python like so (stdin is also an option if you want two way communication): import subprocess # Of course you can open things other than python here :) process = subprocess.Popen([""python"", ""main.py""], stdout=subprocess.PIPE, stderr=subprocess.PIPE) x = process.stderr.readline() y = process.stdout.readline() process.wait() See the Python subprocess module for information on managing the process. For communication, the process.stdin and process.stdout pipes are considered standard file objects. For use with pipes, reading from standard input as lassevk suggested you'd do something like this: import sys x = sys.stderr.readline() y = sys.stdin.readline() sys.stdin and sys.stdout are standard file objects as noted above, defined in the sys module. You might also want to take a look at the pipes module. Reading data with readline() as in my example is a pretty naÃ¯ve way of getting data though. If the output is not line-oriented or indeterministic you probably want to look into polling which unfortunately does not work in windows, but I'm sure there's some alternative out there."
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,29169,24931,3,"Actually, you definitely can, and it's beautiful, ugly, and crazy at the same time! You can replace sys.stdout and sys.stderr with StringIO objects that collect the output. Here's an example, save it as evil.py: import sys import StringIO s = StringIO.StringIO() sys.stdout = s print ""hey, this isn't going to stdout at all!"" print ""where is it ?"" sys.stderr.write('It actually went to a StringIO object, I will show you now:\n') sys.stderr.write(s.getvalue()) When you run this program, you will see that: nothing went to stdout (where print usually prints to) the first string that gets written to stderr is the one starting with 'It' the next two lines are the ones that were collected in the StringIO object Replacing sys.stdout/err like this is an application of what's called monkeypatching. Opinions may vary whether or not this is 'supported', and it is definitely an ugly hack, but it has saved my bacon when trying to wrap around external stuff once or twice. Tested on Linux, not on Windows, but it should work just as well. Let me know if it works on Windows!"
24931,7,"Is it possible to capture Python interpreter's output from a Python script? Is it possible to capture Windows CMD's output from a Python script? If so, which librar(y|ies) should I look into?",How to capture Python interpreter's and/or CMD.EXE's output from a Python script?,3378965,24931,4,"I think I can point you to a good answer for the first part of your question. 1.&nbsp;&nbsp;Is it possible to capture Python interpreter's output from a Python script? The answer is ""yes"", and personally I like the following lifted from the examples in the PEP 343 -- The ""with"" Statement document. from contextlib import contextmanager import sys @contextmanager def stdout_redirected(new_stdout): saved_stdout = sys.stdout sys.stdout = new_stdout try: yield None finally: sys.stdout.close() sys.stdout = saved_stdout And used like this: with stdout_redirected(open(""filename.txt"", ""w"")): print ""Hello world"" A nice aspect of it is that it can be applied selectively around just a portion of a script's execution, rather than its entire extent, and stays in effect even when unhandled exceptions are raised within its context. If you re-open the file in append-mode after its first use, you can accumulate the results into a single file: with stdout_redirected(open(""filename.txt"", ""w"")): print ""Hello world"" print ""screen only output again"" with stdout_redirected(open(""filename.txt"", ""a"")): print ""Hello world2"" Of course, the above be also be extended to also redirect sys.stderr to the same or another file. Also see this answer to a related question."
25116,41,"In Python you can use StringIO for a file-like buffer for character data. Memory-mapped file basically does similar thing for binary data, but it requires a file that is used as the basis. Does Python have a file object that is intended for binary data and is memory only, equivalent to Java's ByteArrayOutputStream? The use-case I have is I want to create a ZIP file in memory, and ZipFile requires a file-like object.",Binary buffer in Python,25123,25116,3,"Look at the struct package: https://docs.python.org/library/struct.html, it allows you to interpret strings as packed binary data. Not sure if this will completely answer your question but you can use struct.unpack() to convert binary data to python objects. import struct f = open(filename, ""rb"") s = f.read(8) x, y = struct.unpack("">hl"", s) int this example, the "">"" tells to read big-endian the ""h"" reads a 2-byte short, and the ""l"" is for a 4-byte long. you can obviously change these to whatever you need to read out of the binary data..."
25116,41,"In Python you can use StringIO for a file-like buffer for character data. Memory-mapped file basically does similar thing for binary data, but it requires a file that is used as the basis. Does Python have a file object that is intended for binary data and is memory only, equivalent to Java's ByteArrayOutputStream? The use-case I have is I want to create a ZIP file in memory, and ZipFile requires a file-like object.",Binary buffer in Python,25180,25116,24,"As long as you don't try to put any unicode data into your StringIO and you are careful NOT to use cStringIO you should be fine. According to the StringIO documentation, as long as you keep to either unicode or 8-bits everything works as expected. Presumably, StringIO does something special when someone does a f.write(u""asdf"") (which ZipFile does not do, to my knowledge). Anyway; import zipfile import StringIO s = StringIO.StringIO() z = zipfile.ZipFile(s, ""w"") z.write(""test.txt"") z.close() f = file(""x.zip"", ""w"") f.write(s.getvalue()) s.close() f.close() works just as expected, and there's no difference between the file in the resulting archive and the original file. If you know of a particular case where this approach does not work, I'd be most interested to hear about it :)"
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,25761,25661,1,You may be interested in this message thread. Looks like they recommend against it.
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,28935,25661,7,"I've never attempted it myself, but hearing plenty about other people who've tried, it's not a road you want to go down. There is the alternative of putting the gui in pygame itself. There are plenty of gui toolkits built specifically for pygame that you could use. Most of them are rather unfinished, but there are 2 big, actively maintained ones: PGU and OcempGUI. The full list on the pygame site is here."
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,31950,25661,1,"PyGame works much better when it can manage its own window, or even better, use the whole screen. GTK has flexible enough widgets to allow creation of a drawing area. This page may help, though, if you want to try it."
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,88457,25661,0,"I tried doing this myself a while ago, and I never got it to work perfectly. Actually I never got it to work at all under Windows, as it kept crashing the entire OS and I ran out of patience. I continued to use it though as it was only important it ran on Linux, and was only a small project. I'd strongly recommend you investigate alternatives. It always felt like a nasty hack, and made me feel dirty."
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,199288,25661,0,"There's a simple solution that might work for you. Write the PyGTK stuff and PyGame stuff as separate applications. Then from the PyGTK application call the PyGame application, using os.system to call the PyGame application. If you need to share data between the two then either use a database, pipes or IPC."
25661,7,What is the best way to use PyGame (SDL) within a PyGTK application? I'm searching for a method that allows me to have a drawing area in the GTK window and at the same time being able to manage both GTK and SDL events.,pyGame within a pyGTK application,341525,25661,1,"http://faq.pygtk.org/index.py?file=faq23.042.htp&amp;req=show mentions it all: You need to create a drawing area and set the environment variable SDL_WINDOWID after it's realized: import os import gobject import gtk import pygame WINX = 400 WINY = 200 window = gtk.Window() window.connect('delete-event', gtk.main_quit) window.set_resizable(False) area = gtk.DrawingArea() area.set_app_paintable(True) area.set_size_request(WINX, WINY) window.add(area) area.realize() # Force SDL to write on our drawing area os.putenv('SDL_WINDOWID', str(area.window.xid)) # We need to flush the XLib event loop otherwise we can't # access the XWindow which set_mode() requires gtk.gdk.flush() pygame.init() pygame.display.set_mode((WINX, WINY), 0, 0) screen = pygame.display.get_surface() image_surface = pygame.image.load('foo.png') screen.blit(image_surface, (0, 0)) gobject.idle_add(pygame.display.update) window.show_all() while gtk.event_pending(): # pygame/SDL event processing goes here gtk.main_iteration(False)"
25807,30,"If I have Python code class A(): pass class B(): pass class C(A, B): pass and I have class C, is there a way to iterate through it's super classed (A and B)? Something like pseudocode: &gt;&gt;&gt; magicGetSuperClasses(C) (&lt;type 'A'&gt;, &lt;type 'B'&gt;) One solution seems to be inspect module and getclasstree function. def magicGetSuperClasses(cls): return [o[0] for o in inspect.getclasstree([cls]) if type(o[0]) == type] but is this a ""Pythonian"" way to achieve the goal?",Python super class reflection,25815,25807,36,"C.__bases__ is an array of the super classes, so you could implement your hypothetical function like so: def magicGetSuperClasses(cls): return cls.__bases__ But I imagine it would be easier to just reference cls.__bases__ directly in most cases."
25807,30,"If I have Python code class A(): pass class B(): pass class C(A, B): pass and I have class C, is there a way to iterate through it's super classed (A and B)? Something like pseudocode: &gt;&gt;&gt; magicGetSuperClasses(C) (&lt;type 'A'&gt;, &lt;type 'B'&gt;) One solution seems to be inspect module and getclasstree function. def magicGetSuperClasses(cls): return [o[0] for o in inspect.getclasstree([cls]) if type(o[0]) == type] but is this a ""Pythonian"" way to achieve the goal?",Python super class reflection,35111,25807,11,"@John: Your snippet doesn't work -- you are returning the class of the base classes (which are also known as metaclasses). You really just want cls.__bases__: class A: pass class B: pass class C(A, B): pass c = C() # Instance assert C.__bases__ == (A, B) # Works assert c.__class__.__bases__ == (A, B) # Works def magicGetSuperClasses(clz): return tuple([base.__class__ for base in clz.__bases__]) assert magicGetSuperClasses(C) == (A, B) # Fails Also, if you're using Python 2.4+ you can use generator expressions instead of creating a list (via []), then turning it into a tuple (via tuple). For example: def get_base_metaclasses(cls): """"""Returns the metaclass of all the base classes of cls."""""" return tuple(base.__class__ for base in clz.__bases__) That's a somewhat confusing example, but genexps are generally easy and cool. :)"
25807,30,"If I have Python code class A(): pass class B(): pass class C(A, B): pass and I have class C, is there a way to iterate through it's super classed (A and B)? Something like pseudocode: &gt;&gt;&gt; magicGetSuperClasses(C) (&lt;type 'A'&gt;, &lt;type 'B'&gt;) One solution seems to be inspect module and getclasstree function. def magicGetSuperClasses(cls): return [o[0] for o in inspect.getclasstree([cls]) if type(o[0]) == type] but is this a ""Pythonian"" way to achieve the goal?",Python super class reflection,552862,25807,4,"The inspect module was a good start, use the getmro function: Return a tuple of class clsâs base classes, including cls, in method resolution order. No class appears more than once in this tuple. ... &gt;&gt;&gt; class A: pass &gt;&gt;&gt; class B: pass &gt;&gt;&gt; class C(A, B): pass &gt;&gt;&gt; import inspect &gt;&gt;&gt; inspect.getmro(C)[1:] (&lt;class __main__.A at 0x8c59f2c&gt;, &lt;class __main__.B at 0x8c59f5c&gt;) The first element of the returned tuple is C, you can just disregard it."
25807,30,"If I have Python code class A(): pass class B(): pass class C(A, B): pass and I have class C, is there a way to iterate through it's super classed (A and B)? Something like pseudocode: &gt;&gt;&gt; magicGetSuperClasses(C) (&lt;type 'A'&gt;, &lt;type 'B'&gt;) One solution seems to be inspect module and getclasstree function. def magicGetSuperClasses(cls): return [o[0] for o in inspect.getclasstree([cls]) if type(o[0]) == type] but is this a ""Pythonian"" way to achieve the goal?",Python super class reflection,553927,25807,2,if you need to know to order in which super() would call the classes you can use C.__mro__ and don't need inspect therefore.
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",26611,26595,223,"is always returns True if it compares the same object instance Whereas == is ultimately determined by the __eq__() method i.e. >>> class foo(object): def __eq__(self, other): return True >>> f = foo() >>> f == None True >>> f is None False"
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",26626,26595,46,"You may want to read this object identity and equivalence. The statement 'is' is used for object identity, it checks if objects refer to the same instance (same address in memory). And the '==' statement refers to equality (same value)."
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",26654,26595,3,"For None there shouldn't be a difference between equality (==) and identity (is). The NoneType probably returns identity for equality. Since None is the only instance you can make of NoneType (I think this is true), the two operations are the same. In the case of other types this is not always the case. For example: list1 = [1, 2, 3] list2 = [1, 2, 3] if list1==list2: print ""Equal"" if list1 is list2: print ""Same"" This would print ""Equal"" since lists have a comparison operation that is not the default returning of identity."
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",26963,26595,4,"@Jason: I recommend using something more along the lines of if foo: #foo isn't None else: #foo is None I don't like using ""if foo:"" unless foo truly represents a boolean value (i.e. 0 or 1). If foo is a string or an object or something else, ""if foo:"" may work, but it looks like a lazy shortcut to me. If you're checking to see if x is None, say ""if x is None:""."
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",28067,26595,21,"A word of caution: if foo: # do something Is not exactly the same as: if x is not None: # do something The former is a boolean value test and can evaluate to false in different contexts. There are a number of things that represent false in a boolean value tests for example empty containers, boolean values. None also evaluates to false in this situation but other things do too."
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",585491,26595,12,(ob1 is ob2) equal to (id(ob1) == id(ob2))
26595,193,"Is there any difference between: if foo is None: pass and if foo == None: pass The convention that I've seen in most Python code (and the code I myself write) is the former, but I recently came across code which uses the latter. None is an instance (and the only instance, IIRC) of NoneType, so it shouldn't matter, right? Are there any circumstances in which it might?","Is there any difference between ""foo is None"" and ""foo == None""?",2932590,26595,10,"The reason foo is None is the preferred way is that you might be handling an object that defines its own __eq__, and that defines the object to be equal to None. So, always use foo is None if you need to see if it is infact None."
26706,5,"I'm a bit perplexed by drag and drop in wxPython (but perhaps this questions pertains to drag and drop in other GUI frameworks as well). The frameworks provides a couple of callbacks (OnEnter and OnDragOver) that purportedly allow me to inform the system whether the current mouse position is a valid place to drop whatever it is that is being dragged. From these methods I can return wx.DragNone, wx.DragCopy, etc. What baffles me is that from within these methods I am not allowed to call GetData, which means I am not allowed to examine the data that the user is dragging. If I cannot see the data, how am I supposed to know whether it is OK for the user to drop here?",wxpython: How do I examine dragged data in OnDragOver?,26707,26706,1,"One solution, which is a hack of limited usefulness, is when a drag is initiated, store the dragged data in a global or static reference somewhere. This way, in the OnEnter and OnDragOver handlers, it is possible to get a reference to the data being dragged. This is of course only useful for drags within the same application (the same instance of the application, actually)."
26706,5,"I'm a bit perplexed by drag and drop in wxPython (but perhaps this questions pertains to drag and drop in other GUI frameworks as well). The frameworks provides a couple of callbacks (OnEnter and OnDragOver) that purportedly allow me to inform the system whether the current mouse position is a valid place to drop whatever it is that is being dragged. From these methods I can return wx.DragNone, wx.DragCopy, etc. What baffles me is that from within these methods I am not allowed to call GetData, which means I am not allowed to examine the data that the user is dragging. If I cannot see the data, how am I supposed to know whether it is OK for the user to drop here?",wxpython: How do I examine dragged data in OnDragOver?,139047,26706,1,There is no way to see dragged data in OnEnter and OnDragOver methods. The only solution I found is to store the dragged item in some instance variable that is then readable inside these methods.
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,27600,27567,2,"Are you looking for Python specific translation, or just the general ""how do you compile some code to bytecode""? If the latter is your case, check the LLVM tutorial. I especially find chapter two, which teaches you to write a compiler for your own language, interesting."
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,42689,27567,4,"This document seems to go into quite a bit of detail (and I think a complete description is out of scope for a stackoverflow answer): http://codespeak.net/pypy/dist/pypy/doc/translation.html The general idea of translating from one language to another isn't particularly revolutionary, but it has only recently been gaining popularity / applicability in ""real-world"" applications. GWT does this with Java (generating Javascript) and there is a library for translating Haskell into various other languages as well (called YHC)"
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,98313,27567,3,"If you want some hand-on examples, PyPy's Getting Started document has a section titled ""Trying out the translator""."
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,1041655,27567,3,"PyPy translator is in general, not intended for more public use. We use it for translating our own python interpreter (including JIT and GCs, both written in RPython, this restricted subset of Python). The idea is that with good JIT and GC, you'll be able to speedups even without knowing or using PyPy's translation toolchain (and more importantly, without restricting yourself to RPython). Cheers, fijal"
27567,9,"I've been having a hard time trying to understand PyPy's translation. It looks like something absolutely revolutionary from simply reading the description, however I'm hard-pressed to find good documentation on actually translating a real world piece of code to something such as LLVM. Does such a thing exist? The official PyPy documentation on it just skims over the functionality, rather than providing anything I can try out myself.",Where can I learn more about PyPy's translation function?,1041857,27567,1,"It looks like something absolutely revolutionary from simply reading the description, As far as I know, PyPy is novel in the sense that it is the first system expressly designed for implementing languages. Other tools exist to help with much of the very front end, such as parser generators, or for the very back end, such as code generation, but not much existed for connecting the two."
28165,10,"Python has this wonderful way of handling string substitutions using dictionaries: &gt;&gt;&gt; 'The %(site)s site %(adj)s because it %(adj)s' % {'site':'Stackoverflow', 'adj':'rocks'} 'The Stackoverflow site rocks because it rocks' I love this because you can specify a value once in the dictionary and then replace it all over the place in the string. I've tried to achieve something similar in PHP using various string replace functions but everything I've come up with feels awkward. Does anybody have a nice clean way to do this kind of string substitution in PHP? Edit Here's the code from the sprintf page that I liked best. &lt;?php function sprintf3($str, $vars, $char = '%') { $tmp = array(); foreach($vars as $k =&gt; $v) { $tmp[$char . $k . $char] = $v; } return str_replace(array_keys($tmp), array_values($tmp), $str); } echo sprintf3( 'The %site% site %adj% because it %adj%', array('site'=&gt;'Stackoverflow', 'adj'=&gt;'rocks')); ?&gt;",Does PHP have an equivalent to this type of Python string substitution?,28199,28165,1,"Some of the user-contributed notes and functions in PHP's documentation for sprintf come quite close. Note: search the page for ""sprintf2""."
28165,10,"Python has this wonderful way of handling string substitutions using dictionaries: &gt;&gt;&gt; 'The %(site)s site %(adj)s because it %(adj)s' % {'site':'Stackoverflow', 'adj':'rocks'} 'The Stackoverflow site rocks because it rocks' I love this because you can specify a value once in the dictionary and then replace it all over the place in the string. I've tried to achieve something similar in PHP using various string replace functions but everything I've come up with feels awkward. Does anybody have a nice clean way to do this kind of string substitution in PHP? Edit Here's the code from the sprintf page that I liked best. &lt;?php function sprintf3($str, $vars, $char = '%') { $tmp = array(); foreach($vars as $k =&gt; $v) { $tmp[$char . $k . $char] = $v; } return str_replace(array_keys($tmp), array_values($tmp), $str); } echo sprintf3( 'The %site% site %adj% because it %adj%', array('site'=&gt;'Stackoverflow', 'adj'=&gt;'rocks')); ?&gt;",Does PHP have an equivalent to this type of Python string substitution?,28247,28165,4,"function subst($str, $dict){ return preg_replace(array_map(create_function('$a', 'return ""/%\\($a\\)s/"";'), array_keys($dict)), array_values($dict), $str); } You call it like so: echo subst('The %(site)s site %(adj)s because it %(adj)s', array('site'=&gt;'Stackoverflow', 'adj'=&gt;'rocks'));"
28165,10,"Python has this wonderful way of handling string substitutions using dictionaries: &gt;&gt;&gt; 'The %(site)s site %(adj)s because it %(adj)s' % {'site':'Stackoverflow', 'adj':'rocks'} 'The Stackoverflow site rocks because it rocks' I love this because you can specify a value once in the dictionary and then replace it all over the place in the string. I've tried to achieve something similar in PHP using various string replace functions but everything I've come up with feels awkward. Does anybody have a nice clean way to do this kind of string substitution in PHP? Edit Here's the code from the sprintf page that I liked best. &lt;?php function sprintf3($str, $vars, $char = '%') { $tmp = array(); foreach($vars as $k =&gt; $v) { $tmp[$char . $k . $char] = $v; } return str_replace(array_keys($tmp), array_values($tmp), $str); } echo sprintf3( 'The %site% site %adj% because it %adj%', array('site'=&gt;'Stackoverflow', 'adj'=&gt;'rocks')); ?&gt;",Does PHP have an equivalent to this type of Python string substitution?,28349,28165,3,"@Marius I don't know if it's faster, but you can do it without regexes: function subst($str, $dict) { foreach ($dict AS $key, $value) { $str = str_replace($key, $value, $str); } return $str; }"
28369,3,"I'm looking for a ""safe"" eval function, to implement spreadsheet-like calculations (using numpy/scipy). The functionality to do this (the rexec module) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is this Python Cookbok recipe, ""safe_eval"". Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives? EDIT: I just discovered RestrictedPython, which is part of Zope. Any opinions on this are welcome.","Is ""safe_eval"" really safe?",28436,28369,2,"Writing your own parser could be fun! It might be a better option because people are expecting to use the familiar spreadsheet syntax (Excel, etc) and not Python when they're entering formulas. I'm not familiar with safe_eval but I would imagine that anything like this certainly has the potential for exploitation."
28369,3,"I'm looking for a ""safe"" eval function, to implement spreadsheet-like calculations (using numpy/scipy). The functionality to do this (the rexec module) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is this Python Cookbok recipe, ""safe_eval"". Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives? EDIT: I just discovered RestrictedPython, which is part of Zope. Any opinions on this are welcome.","Is ""safe_eval"" really safe?",29390,28369,1,"Although that code looks quite secure, I've always held the opinion that any sufficiently motivated person could break it given adequate time. I do think it will take quite a bit of determination to get through that, but I'm relatively sure it could be done."
28369,3,"I'm looking for a ""safe"" eval function, to implement spreadsheet-like calculations (using numpy/scipy). The functionality to do this (the rexec module) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is this Python Cookbok recipe, ""safe_eval"". Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives? EDIT: I just discovered RestrictedPython, which is part of Zope. Any opinions on this are welcome.","Is ""safe_eval"" really safe?",31964,28369,0,"Daniel, Jinja implements a sandboxe environment that may or may not be useful to you. From what I remember, it doesn't yet ""comprehend"" list comprehensions. Sanbox info"
28369,3,"I'm looking for a ""safe"" eval function, to implement spreadsheet-like calculations (using numpy/scipy). The functionality to do this (the rexec module) has been removed from Python since 2.3 due to apparently unfixable security problems. There are several third-party hacks out there that purport to do this - the most thought-out solution that I have found is this Python Cookbok recipe, ""safe_eval"". Am I reasonably safe if I use this (or something similar), to protect from malicious code, or am I stuck with writing my own parser? Does anyone know of any better alternatives? EDIT: I just discovered RestrictedPython, which is part of Zope. Any opinions on this are welcome.","Is ""safe_eval"" really safe?",32028,28369,1,"Depends on your definition of safe I suppose. A lot of the security depends on what you pass in and what you are allowed to pass in the context. For instance, if a file is passed in, I can open arbitrary files: &gt;&gt;&gt; names['f'] = open('foo', 'w+') &gt;&gt;&gt; safe_eval.safe_eval(""baz = type(f)('baz', 'w+')"", names) &gt;&gt;&gt; names['baz'] &lt;open file 'baz', mode 'w+' at 0x413da0&gt; Furthermore, the environment is very restricted (you cannot pass in modules), thus, you can't simply pass in a module of utility functions like re or random. On the other hand, you don't need to write your own parser, you could just write your own evaluator for the python ast: &gt;&gt;&gt; import compiler &gt;&gt;&gt; ast = compiler.parse(""print 'Hello world!'"") That way, hopefully, you could implement safe imports. The other idea is to use Jython or IronPython and take advantage of Java/.Net sandboxing capabilities."
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28563,28559,2,"Maybe it's not terribly idiomatic, but I'd be inclined to go with x = next() while x != END: do_something_with_x x = next() ... but that's because I find that sort of thing easy to read"
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28566,28559,1,"What are you trying to do here? If you're iterating over a list, you can use for e in L where e is the element and L is the list. If you're filtering a list, you can use list comprehensions (i.e. [ e for e in L if e % 2 == 0 ] to get all the even numbers in a list)."
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28568,28559,5,"It depends a bit what you want to do. To match your example as far as possible, I would make next a generator and iterate over it: def next(): for num in range(10): yield num for x in next(): print x"
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28580,28559,1,"If you need to do this more than once, the pythonic way would use an iterator for x in iternext(): do_something_with_x where iternext would be defined using something like (explicit is better than implicit!): def iternext(): x = next() while x != END: yield x x = next()"
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28714,28559,4,"Short answer: there's no way to do inline variable assignment in a while loop in Python. Meaning that I cannot say: while x=next(): // do something here! Since that's not possible, there are a number of ""idiomatically correct"" ways of doing this: while 1: x = next() if x != END: // Blah else: break Obviously, this is kind of ugly. You can also use one of the ""iterator"" approaches listed above, but, again, that may not be ideal. Finally, you can use the ""pita pocket"" approach that I actually just found while googling: class Pita( object ): __slots__ = ('pocket',) marker = object() def __init__(self, v=marker): if v is not self.marker: self.pocket = v def __call__(self, v=marker): if v is not self.marker: self.pocket = v return self.pocket Now you can do: p = Pita() while p( next() ) != END: // do stuff with p.pocket! Thanks for this question; learning about the __call__ idiom was really cool! :) EDIT: I'd like to give credit where credit is due. The 'pita pocket' idiom was found here"
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),28780,28559,1,"Can you provide more information about what you're trying to accomplish? It's not clear to me why you can't just say for x in everything(): ... and have the everything function return everything, instead of writing a next function to just return one thing at a time. Generators can even do this quite efficiently."
28559,9,"What's the best Python idiom for this C construct? while ((x = next()) != END) { .... } I don't have the ability to recode next(). update: and the answer from seems to be: for x in iter(next, END): ....",Most Pythonic way equivalent for: while ((x = next()) != END),426415,28559,14,"@Mark Harrison's answer: for x in iter(next_, END): .... Here's an excerpt from Python's documentation: iter(o[, sentinel]) Return an iterator object. ...(snip)... If the second argument, sentinel, is given, then o must be a callable object. The iterator created in this case will call o with no arguments for each call to its next() method; if the value returned is equal to sentinel, StopIteration will be raised, otherwise the value will be returned."
28668,8,"My job would be easier, or at least less tedious if I could come up with an automated way (preferably in a Python script) to extract useful information from a FileMaker Pro database. I am working on Linux machine and the FileMaker database is on the same LAN running on an OS X machine. I can log into the webby interface from my machine. I'm quite handy with SQL, and if somebody could point me to some FileMaker plug-in that could give me SQL access to the data within FileMaker, I would be pleased as punch. Everything I've found only goes the other way: Having FileMaker get data from SQL sources. Not useful. It's not my first choice, but I'd use Perl instead of Python if there was a Perl-y solution at hand. Note: XML/XSLT services (as suggested by some folks) are only available on FM Server, not FM Pro. Otherwise, that would probably be the best solution. ODBC is turning out to be extremely difficult to even get working. There is absolutely zero feedback from FM when you set it up so you have to dig through /var/log/system.log and parse obscure error messages. Conclusion: I got it working by running a python script locally on the machine that queries the FM database through the ODBC connections. The script is actually a TCPServer that accepts socket connections from other systems on the LAN, runs the queries, and returns the data through the socket connection. I had to do this to bypass the fact that FM Pro only accepts ODBC connections locally (FM server is required for external connections).",Best way to extract data from a FileMaker Pro database in a script?,28692,28668,5,"It has been a really long time since I did anything with FileMaker Pro, but I know that it does have capabilities for an ODBC (and JDBC) connection to be made to it (however, I don't know how, or if, that translates to the linux/perl/python world though). This article shows how to share/expose your FileMaker data via ODBC &amp; JDBC: Sharing FileMaker Pro data via ODBC or JDBC From there, if you're able to create an ODBC/JDBC connection you could query out data as needed."
28668,8,"My job would be easier, or at least less tedious if I could come up with an automated way (preferably in a Python script) to extract useful information from a FileMaker Pro database. I am working on Linux machine and the FileMaker database is on the same LAN running on an OS X machine. I can log into the webby interface from my machine. I'm quite handy with SQL, and if somebody could point me to some FileMaker plug-in that could give me SQL access to the data within FileMaker, I would be pleased as punch. Everything I've found only goes the other way: Having FileMaker get data from SQL sources. Not useful. It's not my first choice, but I'd use Perl instead of Python if there was a Perl-y solution at hand. Note: XML/XSLT services (as suggested by some folks) are only available on FM Server, not FM Pro. Otherwise, that would probably be the best solution. ODBC is turning out to be extremely difficult to even get working. There is absolutely zero feedback from FM when you set it up so you have to dig through /var/log/system.log and parse obscure error messages. Conclusion: I got it working by running a python script locally on the machine that queries the FM database through the ODBC connections. The script is actually a TCPServer that accepts socket connections from other systems on the LAN, runs the queries, and returns the data through the socket connection. I had to do this to bypass the fact that FM Pro only accepts ODBC connections locally (FM server is required for external connections).",Best way to extract data from a FileMaker Pro database in a script?,36852,28668,3,"You'll need the FileMaker Pro installation CD to get the drivers. This document details the process for FMP 9 - it is similar for versions 7.x and 8.x as well. Versions 6.x and earlier are completely different and I wouldn't bother trying (xDBC support in those previous versions is ""minimal"" at best). FMP 9 supports SQL-92 standard syntax (mostly). Note that rather than querying tables directly you query using the ""table occurrence"" name which serves as a table alias of sorts. If the data tables are stored in multiple files it is possible to create a single FMP file with table occurrences/aliases pointing to those data tables. There's an ""undocumented feature"" where such a file must have a table defined in it as well and that table ""related"" to any other table on the relationships graph (doesn't matter which one) for ODBC access to work. Otherwise your queries will always return no results. The PDF document details all of the limitations of using the xDBC interface FMP provides. Performance of simple queries is reasonably fast, ymmv. I have found the performance of queries specifying the ""LIKE"" operator to be less than stellar. FMP also has an XML/XSLT interface that you can use to query FMP data over an HTTP connection. It also provides a PHP class for accessing and using FMP data in web applications."
28668,8,"My job would be easier, or at least less tedious if I could come up with an automated way (preferably in a Python script) to extract useful information from a FileMaker Pro database. I am working on Linux machine and the FileMaker database is on the same LAN running on an OS X machine. I can log into the webby interface from my machine. I'm quite handy with SQL, and if somebody could point me to some FileMaker plug-in that could give me SQL access to the data within FileMaker, I would be pleased as punch. Everything I've found only goes the other way: Having FileMaker get data from SQL sources. Not useful. It's not my first choice, but I'd use Perl instead of Python if there was a Perl-y solution at hand. Note: XML/XSLT services (as suggested by some folks) are only available on FM Server, not FM Pro. Otherwise, that would probably be the best solution. ODBC is turning out to be extremely difficult to even get working. There is absolutely zero feedback from FM when you set it up so you have to dig through /var/log/system.log and parse obscure error messages. Conclusion: I got it working by running a python script locally on the machine that queries the FM database through the ODBC connections. The script is actually a TCPServer that accepts socket connections from other systems on the LAN, runs the queries, and returns the data through the socket connection. I had to do this to bypass the fact that FM Pro only accepts ODBC connections locally (FM server is required for external connections).",Best way to extract data from a FileMaker Pro database in a script?,51132,28668,2,"If your leaning is to Python, you may be interested in checking out the Python Wrapper for Filemaker. It provides two way access to the Filemaker data via Filemaker's built-in XML services. You can find some quite thorough information on this at: http://code.google.com/p/pyfilemaker/"
28796,52,"I have a bunch of classes I want to rename. Some of them have names that are small and that name is reused in other class names, where I don't want that name changed. Most of this lives in Python code, but we also have some XML code that references class names. Simple search and replace only gets me so far. In my case, I want to rename AdminAction to AdminActionPlug and AdminActionLogger to AdminActionLoggerPlug, so the first one's search-and-replace would also hit the second, wrongly. Does anyone have experience with Python refactoring tools ? Bonus points if they can fix class names in the XML documents too.",What refactoring tools do you use for Python?,29347,28796,-18,"Most editors support the ""whole word"" search option. It's usually a checkbox in the search dialog, and what it does is only match the search term if it has leading and trailing spaces, dots, and most other delimiters. It will probably work in your case."
28796,52,"I have a bunch of classes I want to rename. Some of them have names that are small and that name is reused in other class names, where I don't want that name changed. Most of this lives in Python code, but we also have some XML code that references class names. Simple search and replace only gets me so far. In my case, I want to rename AdminAction to AdminActionPlug and AdminActionLogger to AdminActionLoggerPlug, so the first one's search-and-replace would also hit the second, wrongly. Does anyone have experience with Python refactoring tools ? Bonus points if they can fix class names in the XML documents too.",What refactoring tools do you use for Python?,29770,28796,43,"In the meantime, I've tried it two tools that have some sort of integration with vim. The first is Rope, a python refactoring library that comes with a Vim (and emacs) plug-in. I tried it for a few renames, and that definitely worked as expected. It allowed me to preview the refactoring as a diff, which is nice. It is a bit text-driven, but that's alright for me, just takes longer to learn. The second is Bicycle Repair Man which I guess wins points on name. Also plugs into vim and emacs. Haven't played much with it yet, but I remember trying it a long time ago. Haven't played with both enough yet, or tried more types of refactoring, but I will do some more hacking with them."
28796,52,"I have a bunch of classes I want to rename. Some of them have names that are small and that name is reused in other class names, where I don't want that name changed. Most of this lives in Python code, but we also have some XML code that references class names. Simple search and replace only gets me so far. In my case, I want to rename AdminAction to AdminActionPlug and AdminActionLogger to AdminActionLoggerPlug, so the first one's search-and-replace would also hit the second, wrongly. Does anyone have experience with Python refactoring tools ? Bonus points if they can fix class names in the XML documents too.",What refactoring tools do you use for Python?,1813244,28796,4,"Your IDE can support refactorings !! Check it Eric, Eclipse, WingIDE have build in tools for refactorings (Rename including). And that are very safe refactorings - if something can go wrong IDE wont do ref. Also consider adding few unit test to ensure your code did not suffer during refactorings."
28961,7,"I have a medium sized application that runs as a .net web-service which I do not control, and I want to create a loose pythonic API above it to enable easy scripting. I wanted to know what is the best/most practical solution for using web-services in python. Edit: I need to consume a complex soap WS and I have no control over it.",What's the best way to use web services in python?,31926,28961,3,"If I have to expose APIs, I prefer doing it as JSON. Python has excellent support for JSON objects (JSON Objects are infact python dictionaries)"
28961,7,"I have a medium sized application that runs as a .net web-service which I do not control, and I want to create a loose pythonic API above it to enable easy scripting. I wanted to know what is the best/most practical solution for using web-services in python. Edit: I need to consume a complex soap WS and I have no control over it.",What's the best way to use web services in python?,322393,28961,1,"Jython and IronPython give access to great Java &amp; .NET SOAP libraries. If you need CPython, ZSI has been flaky for me, but it could be possible to use a tool like Robin to wrap a good C++ SOAP library such as gSOAP or Apache Axis C++"
29243,14,"Here is my sample code: from xml.dom.minidom import * def make_xml(): doc = Document() node = doc.createElement('foo') node.innerText = 'bar' doc.appendChild(node) return doc if __name__ == '__main__': make_xml().writexml(sys.stdout) when I run the above code I get this: &lt;?xml version=""1.0"" ?&gt; &lt;foo/&gt; I would like to get: &lt;?xml version=""1.0"" ?&gt; &lt;foo&gt;bar&lt;/foo&gt; I just guessed that there was an innerText property, it gives no compiler error, but does not seem to work... how do I go about creating a text node?",How do I create an xml document in python,29255,29243,8,"Setting an attribute on an object won't give a compile-time or a run-time error, it will just do nothing useful if the object doesn't access it (i.e. ""node.noSuchAttr = 'bar'"" would also not give an error). Unless you need a specific feature of minidom, I would look at ElementTree: import sys from xml.etree.cElementTree import Element, ElementTree def make_xml(): node = Element('foo') node.text = 'bar' doc = ElementTree(node) return doc if __name__ == '__main__': make_xml().write(sys.stdout)"
29243,14,"Here is my sample code: from xml.dom.minidom import * def make_xml(): doc = Document() node = doc.createElement('foo') node.innerText = 'bar' doc.appendChild(node) return doc if __name__ == '__main__': make_xml().writexml(sys.stdout) when I run the above code I get this: &lt;?xml version=""1.0"" ?&gt; &lt;foo/&gt; I would like to get: &lt;?xml version=""1.0"" ?&gt; &lt;foo&gt;bar&lt;/foo&gt; I just guessed that there was an innerText property, it gives no compiler error, but does not seem to work... how do I go about creating a text node?",How do I create an xml document in python,29262,29243,8,"@Daniel Thanks for the reply, I also figured out how to do it with the minidom (I'm not sure of the difference between the ElementTree vs the minidom) from xml.dom.minidom import * def make_xml(): doc = Document(); node = doc.createElement('foo') node.appendChild(doc.createTextNode('bar')) doc.appendChild(node) return doc if __name__ == '__main__': make_xml().writexml(sys.stdout) I swear I tried this before posting my question..."
29243,14,"Here is my sample code: from xml.dom.minidom import * def make_xml(): doc = Document() node = doc.createElement('foo') node.innerText = 'bar' doc.appendChild(node) return doc if __name__ == '__main__': make_xml().writexml(sys.stdout) when I run the above code I get this: &lt;?xml version=""1.0"" ?&gt; &lt;foo/&gt; I would like to get: &lt;?xml version=""1.0"" ?&gt; &lt;foo&gt;bar&lt;/foo&gt; I just guessed that there was an innerText property, it gives no compiler error, but does not seem to work... how do I go about creating a text node?",How do I create an xml document in python,29264,29243,3,"I found a pretty verbose tutorial on the minidom method Here's a tutorial for the etree method. It's much nicer to read, and seems quite simple. It also goes over parsing of xml (briefly)"
29562,23,"I wrote a quick program in python to add a gtk GUI to a cli program. I was wondering how I can create an installer using distutils. Since it's just a GUI frontend for a command line app it only works in *nix anyway so I'm not worried about it being cross platform. my main goal is to create a .deb package for debian/ubuntu users, but I don't understand make/configure files. I've primarily been a web developer up until now. Thanks for your help! edit: Does anyone know of a project that uses distutils so I could see it in action and, you know, actually try building it? Here are a few useful links Ubuntu Python Packaging Guide This Guide is very helpful. I don't know how I missed it during my initial wave of gooling. It even walks you through packaging up an existing python application The Ubuntu MOTU Project This is the official package maintaining project at ubuntu. Anyone can join, and there are lots of tutorials and info about creating packages, of all types, which include the above 'python packaging guide'. ""Python distutils to deb?"" - Ars Technica Forum discussion According to this conversation, you can't just use distutils. It doesn't follow the debian packaging format (or something like that). I guess that's why you need dh_make as seen in the Ubuntu Packaging guide ""A bdist_deb command for distutils This one has some interesting discussion (it's also how I found the ubuntu guide) about concatenating a zip-file and a shell script to create some kind of universal executable (anything with python and bash that is). weird. Let me know if anyone finds more info on this practice because I've never heard of it. Description of the deb format and how distutils fit in - python mailing list",Python distutils - does anyone know how to use it?,29575,29562,13,"See the distutils simple example. That's basically what it is like, except real install scripts usually contain a bit more information. I have not seen any that are fundamentally more complicated, though. In essence, you just give it a list of what needs to be installed. Sometimes you need to give it some mapping dicts since the source and installed trees might not be the same. Here is a real-life (anonymized) example: #!/usr/bin/python from distutils.core import setup setup (name = 'Initech Package 3', description = ""Services and libraries ABC, DEF"", author = ""That Guy, Initech Ltd"", author_email = ""that.guy@initech.com"", version = '1.0.5', package_dir = {'Package3' : 'site-packages/Package3'}, packages = ['Package3', 'Package3.Queries'], data_files = [ ('/etc/Package3', ['etc/Package3/ExternalResources.conf']) ])"
29562,23,"I wrote a quick program in python to add a gtk GUI to a cli program. I was wondering how I can create an installer using distutils. Since it's just a GUI frontend for a command line app it only works in *nix anyway so I'm not worried about it being cross platform. my main goal is to create a .deb package for debian/ubuntu users, but I don't understand make/configure files. I've primarily been a web developer up until now. Thanks for your help! edit: Does anyone know of a project that uses distutils so I could see it in action and, you know, actually try building it? Here are a few useful links Ubuntu Python Packaging Guide This Guide is very helpful. I don't know how I missed it during my initial wave of gooling. It even walks you through packaging up an existing python application The Ubuntu MOTU Project This is the official package maintaining project at ubuntu. Anyone can join, and there are lots of tutorials and info about creating packages, of all types, which include the above 'python packaging guide'. ""Python distutils to deb?"" - Ars Technica Forum discussion According to this conversation, you can't just use distutils. It doesn't follow the debian packaging format (or something like that). I guess that's why you need dh_make as seen in the Ubuntu Packaging guide ""A bdist_deb command for distutils This one has some interesting discussion (it's also how I found the ubuntu guide) about concatenating a zip-file and a shell script to create some kind of universal executable (anything with python and bash that is). weird. Let me know if anyone finds more info on this practice because I've never heard of it. Description of the deb format and how distutils fit in - python mailing list",Python distutils - does anyone know how to use it?,29839,29562,2,"Most Python programs will use distutils. Django is a one - see http://code.djangoproject.com/svn/django/trunk/setup.py You should also read the documentation, as it's very comprehensive and has some good examples."
29562,23,"I wrote a quick program in python to add a gtk GUI to a cli program. I was wondering how I can create an installer using distutils. Since it's just a GUI frontend for a command line app it only works in *nix anyway so I'm not worried about it being cross platform. my main goal is to create a .deb package for debian/ubuntu users, but I don't understand make/configure files. I've primarily been a web developer up until now. Thanks for your help! edit: Does anyone know of a project that uses distutils so I could see it in action and, you know, actually try building it? Here are a few useful links Ubuntu Python Packaging Guide This Guide is very helpful. I don't know how I missed it during my initial wave of gooling. It even walks you through packaging up an existing python application The Ubuntu MOTU Project This is the official package maintaining project at ubuntu. Anyone can join, and there are lots of tutorials and info about creating packages, of all types, which include the above 'python packaging guide'. ""Python distutils to deb?"" - Ars Technica Forum discussion According to this conversation, you can't just use distutils. It doesn't follow the debian packaging format (or something like that). I guess that's why you need dh_make as seen in the Ubuntu Packaging guide ""A bdist_deb command for distutils This one has some interesting discussion (it's also how I found the ubuntu guide) about concatenating a zip-file and a shell script to create some kind of universal executable (anything with python and bash that is). weird. Let me know if anyone finds more info on this practice because I've never heard of it. Description of the deb format and how distutils fit in - python mailing list",Python distutils - does anyone know how to use it?,31225,29562,1,"distutils really isn't all that difficult once you get the hang of it. It's really just a matter of putting in some meta-information (program name, author, version, etc) and then selecting what files you want to include. For example, here's a sample distutils setup.py module from a decently complex python library: Kamaelia setup.py Note that this doesn't deal with any data files or or whatnot, so YMMV. On another note, I agree that the distutils documentation is probably some of python's worst documentation. It is extremely inclusive in some areas, but neglects some really important information in others."
29562,23,"I wrote a quick program in python to add a gtk GUI to a cli program. I was wondering how I can create an installer using distutils. Since it's just a GUI frontend for a command line app it only works in *nix anyway so I'm not worried about it being cross platform. my main goal is to create a .deb package for debian/ubuntu users, but I don't understand make/configure files. I've primarily been a web developer up until now. Thanks for your help! edit: Does anyone know of a project that uses distutils so I could see it in action and, you know, actually try building it? Here are a few useful links Ubuntu Python Packaging Guide This Guide is very helpful. I don't know how I missed it during my initial wave of gooling. It even walks you through packaging up an existing python application The Ubuntu MOTU Project This is the official package maintaining project at ubuntu. Anyone can join, and there are lots of tutorials and info about creating packages, of all types, which include the above 'python packaging guide'. ""Python distutils to deb?"" - Ars Technica Forum discussion According to this conversation, you can't just use distutils. It doesn't follow the debian packaging format (or something like that). I guess that's why you need dh_make as seen in the Ubuntu Packaging guide ""A bdist_deb command for distutils This one has some interesting discussion (it's also how I found the ubuntu guide) about concatenating a zip-file and a shell script to create some kind of universal executable (anything with python and bash that is). weird. Let me know if anyone finds more info on this practice because I've never heard of it. Description of the deb format and how distutils fit in - python mailing list",Python distutils - does anyone know how to use it?,4189217,29562,2,I found the following tutorial to be very helpful. It's shorter than the distutils documentation and explains how to setup a typical project step by step.
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,30591,29856,1,"Not sure I entirely understand your question, but can't you simply build and install a 64 bit version and then create symbolic links so that /Library/Python/2.5 and below point to your freshly built version of python?"
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,31331,29856,0,"Essentially, yes. I was not sure you could do it like that (current version does not do it like that). When using the python install script, however, there is no option (that I can find) to specify where to put directories and files (eg --prefix). I was hoping to match the current layout of python related files so as to avoid 'polluting' my machine with redundant files."
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,31384,29856,1,"Personally, I wouldn't worry about it until you see a problem. Messing with the default python install on a *Nix system can cause more trouble than it's worth. I can say from personal experience that you never truly understand what python has done for the nix world until you have a problem with it. You can also add a second python installation, but that also causes more problems than it's worth IMO. So I suppose the best question to start out with would be why exactly do you want to use the 64 bit version of python?"
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,31425,29856,0,"The short answer is because I can. The long answer, expanding on what the OP said, is to be more compatible with apache and mysql/postgresql. They are all 64bit (apache is a fat binary with ppc, ppc64 x86 and x86 and x86_64, the others just straight 64bit). Mysqldb and mod_python wont compile unless they are all running the same architecture. Yes I could run them all in 32bit (and have in the past) but this is much more work then compiling one program. EDIT: You pretty much convinced though to just let the installer do its thing and update the PATH to reflect this."
29856,2,The default Python install on OS X 10.5 is 2.5.1 with a fat 32 bit (Intel and PPC) client. I want to setup apache and mysql to run django. In the past I have run apache and mysql to match this install in 32 bit mode (even stripping out the 64 bit stuff from apache to make it work). I want to upgrade Python to 64 bit. I am completely comfortable with compiling it from source with one caveat. How to I match the way that the default install is laid out? Especially with regards to site-packages being in /Library/Python/2.5/ and not the one in buried at the top of the framework once I compile it.,Install Python to match directory layout in OS X 10.5,31765,29856,1,"Hyposaurus, It is possible to have multiple versions of Python installed simultaneously. Installing two versions in parallel solves your problem and helps avoid the problems laid out by Jason Baker above. The easiest way, and the way I recommend, is to use MacPorts, which will install all its software separately. By default, for example, everything is installed in /opt/local Another method is to simply download the source and compile with a specified prefix. Note that this method doesn't modify your PATH environment variable, so you'll need to do that yourself if you want to avoid typing the fully qualified path to the python executable each time ./configure --prefix=/usr/local/python64 make sudo make install Then you can simply point your Apache install at the new version using mod_python's PythonInterpreter directive"
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",31358,31340,18,"Below is a basic threading sample. It will spawn 20 threads; each thread will output its thread number. Run it and observe the order in which they print. import threading class Foo (threading.Thread): def __init__(self,x): self.__x = x threading.Thread.__init__(self) def run (self): print str(self.__x) for x in xrange(20): Foo(x).start() As you have hinted at Python threads are implemented through time-slicing. This is how they get the ""parallel"" effect. In my example my Foo class extends thread, I then implement the run method, which is where the code that you would like to run in a thread goes. To start the thread you call start() on the thread object, which will automatically invoke the run method... Of course, this is just the very basics. You will eventually want to learn about semaphores, mutexes, and locks for thread synchronization and message passing."
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",31372,31340,32,"Python's a fairly easy language to thread in, but there are caveats. The biggest thing you need to know about is the Global Interpreter Lock. This allows only one thread to access the interpreter. This means two things: 1) you rarely ever find yourself using a lock statement in python and 2) if you want to take advantage of multi-processor systems, you have to use separate processes. EDIT: I should also point out that you can put some of the code in C/C++ if you want to get around the GIL as well. Thus, you need to re-consider why you want to use threads. If you want to parallelize your app to take advantage of dual-core architecture, you need to consider breaking your app up into multiple processes. If you want to improve responsiveness, you should CONSIDER using threads. There are other alternatives though, namely microthreading. There are also some frameworks that you should look into: stackless python greenlets gevent monocle"
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",31398,31340,41,"Yes, because of the Global Interpreter Lock (GIL) there can only run one thread at a time. Here are some links with some insights about this: http://www.artima.com/weblogs/viewpost.jsp?thread=214235 http://smoothspan.wordpress.com/2007/09/14/guido-is-right-to-leave-the-gil-in-python-not-for-multicore-but-for-utility-computing/ From the last link an interesting quote: Let me explain what all that means. Threads run inside the same virtual machine, and hence run on the same physical machine. Processes can run on the same physical machine or in another physical machine. If you architect your application around threads, youâve done nothing to access multiple machines. So, you can scale to as many cores are on the single machine (which will be quite a few over time), but to really reach web scales, youâll need to solve the multiple machine problem anyway. If you want to use multi core, pyprocessing defines an process based API to do real parallelization. The PEP also includes some interesting benchmarks."
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",31552,31340,9,Use threads in python if the individual workers are doing I/O bound operations. If you are trying to scale across multiple cores on a machine either find a good IPC framework for python or pick a different language.
31340,71,"I've been trying to wrap my head around how threads work in Python, and it's hard to find good information on how they operate. I may just be missing a link or something, but it seems like the official documentation isn't very thorough on the subject, and I haven't been able to find a good write-up. From what I can tell, only one thread can be running at once, and the active thread switches every 10 instructions or so? Where is there a good explanation, or can you provide one? It would also be very nice to be aware of common problems that you run into while using threads with Python.","How do threads work in Python, and what are common Python-threading specific pitfalls?",1197151,31340,1,"Try to remember that the GIL is set to poll around every so often in order to do show the appearance of multiple tasks. This setting can be fine tuned, but I offer the suggestion that there should be work that the threads are doing or lots of context switches are going to cause problems. I would go so far as to suggest multiple parents on processors and try to keep like jobs on the same core(s)."
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,32125,32044,23,"I think the canonical answer is: ""Don't"". What you should probably do instead is unravel the thing in your view code, so it's just a matter of iterating over (in|de)dents in the template. I think I'd do it by appending indents and dedents to a list while recursing through the tree and then sending that ""travelogue"" list to the template. (the template would then insert &lt;li&gt; and &lt;/li&gt; from that list, creating the recursive structure with ""understanding"" it.) I'm also pretty sure recursively including template files is really a wrong way to do it..."
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,32857,32044,18,"this might be way more than you need, but there is a django module called 'mptt' - this stores a hierarchical tree structure in an sql database, and includes templates for display in the view code. you might be able to find something useful there. here's the link : django-mptt"
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,41550,32044,-2,"I had a similar issue, however I had first implemented the solution using JavaScript, and just afterwards considered how I would have done the same thing in django templates. I used the serializer utility to turn a list off models into json, and used the json data as a basis for my hierarchy."
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,48262,32044,9,Django has a built in template helper for this exact scenario: https://docs.djangoproject.com/en/dev/ref/templates/builtins/#unordered-list
32044,44,"I have a tree structure in memory that I would like to render in HTML using a Django template. class Node(): name = ""node name"" children = [] There will be some object root that is a Node, and children is a list of Nodes. root will be passed in the content of the template. I have found this one discussion of how this might be achieved, but the poster suggests this might not be good in a production environment. Does anybody know of a better way?",How can I render a tree structure (recursive) using a django template?,957761,32044,7,I had the same problem and I wrote a template tag. I know there are other tags like this out there but I needed to learn to make custom tags anyway :) I think it turned out pretty well. Read the docstring for usage instructions. github.com/skid/django-recurse
32385,6,"This is something that I think would be very useful. Basically, I'd like there to be a way to edit Python source programmatically without requiring human intervention. There are a couple of things I would like to do with this: Edit the configuration of Python apps that use source modules for configuration. Set up a ""template"" so that I can customize a Python source file on the fly. This way, I can set up a ""project"" system on an open source app I'm working on and allow certain files to be customized. I could probably write something that can do this myself, but I can see that opening up a lot of ""devil's in the details"" type issues. Are there any ways to do this currently, or am I just going to have to bite the bullet and implement it myself?",Programmatically editing Python source,32402,32385,2,Python's standard library provides pretty good facilities for working with Python source; note the tokenize and parser modules.
32385,6,"This is something that I think would be very useful. Basically, I'd like there to be a way to edit Python source programmatically without requiring human intervention. There are a couple of things I would like to do with this: Edit the configuration of Python apps that use source modules for configuration. Set up a ""template"" so that I can customize a Python source file on the fly. This way, I can set up a ""project"" system on an open source app I'm working on and allow certain files to be customized. I could probably write something that can do this myself, but I can see that opening up a lot of ""devil's in the details"" type issues. Are there any ways to do this currently, or am I just going to have to bite the bullet and implement it myself?",Programmatically editing Python source,33325,32385,0,I had the same issue and I simply opened the file and did some replace: then reload the file in the Python interpreter. This works fine and is easy to do. Otherwise AFAIK you have to use some conf objects.
32385,6,"This is something that I think would be very useful. Basically, I'd like there to be a way to edit Python source programmatically without requiring human intervention. There are a couple of things I would like to do with this: Edit the configuration of Python apps that use source modules for configuration. Set up a ""template"" so that I can customize a Python source file on the fly. This way, I can set up a ""project"" system on an open source app I'm working on and allow certain files to be customized. I could probably write something that can do this myself, but I can see that opening up a lot of ""devil's in the details"" type issues. Are there any ways to do this currently, or am I just going to have to bite the bullet and implement it myself?",Programmatically editing Python source,35786,32385,0,"Most of these kinds of things can be determined programatically in Python, using modules like sys, os, and the special identifier which tells you where you are in the filesystem path. It's important to keep in mind that when a module is first imported it will execute everything in the file-scope, which is important for developing system-dependent behaviors. For example, the os module basically determines what operating system you're using on import and then adjusts its implementation accordingly (by importing another module corresponding to Linux, OSX, Windows, etc.). There's a lot of power in this feature and something along these lines is probably what you're looking for. :) [Edit] I've also used socket.gethostname() in some rare, hackish instances. ;)"
32404,165,"I am sketching the architecture for a set of programs that share various interrelated objects stored in a database. I want one of the programs to act as a service which provides a higher level interface for operations on these objects, and the other programs to access the objects through that service. I am currently aiming for Python and the Django framework as the technologies to implement that service with. I'm pretty sure I figure how to demonize the Python program in Linux. However, it is an optional spec item that the system should support Windows. I have little experience with Windows programming and no experience at all with Windows services. Is it possible to run a Python programs as a Windows service (i. e. run it automatically without user login)? I won't necessarily have to implement this part, but I need a rough idea how it would be done in order to decide whether to design along these lines. Edit: Thanks for all the answers so far, they are quite comprehensive. I would like to know one more thing: How is Windows aware of my service? Can I manage it with the native Windows utilities? Basically, what is the equivalent of putting a start/stop script in /etc/init.d?","Is it possible to run a Python script as a service in Windows? If possible, how?",32440,32404,169,"Yes you can. I do it using the pythoncom libraries that come included with ActivePython or can be installed with pywin32 (Python for Windows extensions). This is a basic skeleton for a simple service: import win32serviceutil import win32service import win32event import servicemanager import socket class AppServerSvc (win32serviceutil.ServiceFramework): _svc_name_ = ""TestService"" _svc_display_name_ = ""Test Service"" def __init__(self,args): win32serviceutil.ServiceFramework.__init__(self,args) self.hWaitStop = win32event.CreateEvent(None,0,0,None) socket.setdefaulttimeout(60) def SvcStop(self): self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING) win32event.SetEvent(self.hWaitStop) def SvcDoRun(self): servicemanager.LogMsg(servicemanager.EVENTLOG_INFORMATION_TYPE, servicemanager.PYS_SERVICE_STARTED, (self._svc_name_,'')) self.main() def main(self): pass if __name__ == '__main__': win32serviceutil.HandleCommandLine(AppServerSvc) Your code would go in the main() method, usually with some kind of infinite loop that might be interrumped by checking a flag, that you set in the SvcStop method"
32404,165,"I am sketching the architecture for a set of programs that share various interrelated objects stored in a database. I want one of the programs to act as a service which provides a higher level interface for operations on these objects, and the other programs to access the objects through that service. I am currently aiming for Python and the Django framework as the technologies to implement that service with. I'm pretty sure I figure how to demonize the Python program in Linux. However, it is an optional spec item that the system should support Windows. I have little experience with Windows programming and no experience at all with Windows services. Is it possible to run a Python programs as a Windows service (i. e. run it automatically without user login)? I won't necessarily have to implement this part, but I need a rough idea how it would be done in order to decide whether to design along these lines. Edit: Thanks for all the answers so far, they are quite comprehensive. I would like to know one more thing: How is Windows aware of my service? Can I manage it with the native Windows utilities? Basically, what is the equivalent of putting a start/stop script in /etc/init.d?","Is it possible to run a Python script as a service in Windows? If possible, how?",597750,32404,19,"There are a couple alternatives for installing as a service virtually any Windows executable. Method 1: Use instsrv and srvany from rktools.exe For Windows Home Server or Windows Server 2003 (works with WinXP too), the Windows Server 2003 Resource Kit Tools comes with utilities that can be used in tandem for this, called instsrv.exe and srvany.exe. See this Microsoft KB article KB137890 for details on how to use these utils. For Windows Home Server, there is a great user friendly wrapper for these utilities named aptly ""Any Service Installer"". Method 2: Use ServiceInstaller for Windows NT There is another alternative using ServiceInstaller for Windows NT (download-able here) with python instructions available. Contrary to the name, it works with both Windows 2000 and Windows XP as well. Here are some instructions for how to install a python script as a service. Installing a Python script Run ServiceInstaller to create a new service. (In this example, it is assumed that python is installed at c:\python25) Service Name : PythonTest Display Name : PythonTest Startup : Manual (or whatever you like) Dependencies : (Leave blank or fill to fit your needs) Executable : c:\python25\python.exe Arguments : c:\path_to_your_python_script\test.py Working Directory : c:\path_to_your_python_script After installing, open the Control Panel's Services applet, select and start the PythonTest service. After my initial answer, I noticed there were closely related Q&amp;A already posted on SO. See also: Can I run a Python script as a service (in Windows)? How? How do I make Windows aware of a service I have written in Python?"
32899,111,"I have some kind of test data and want to create an unit test for each item. My first idea was to do it like this: import unittest l = [[""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""]] class TestSequence(unittest.TestCase): def testsample(self): for name, a,b in l: print ""test"", name self.assertEqual(a,b) if __name__ == '__main__': unittest.main() The downside of this is that it handles all data in one test. I would like to generate one test for each item on the fly. Any suggestions?",How to generate dynamic (parametrized) unit tests in python?,32939,32899,75,"I use something like this: import unittest l = [[""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""]] class TestSequense(unittest.TestCase): pass def test_generator(a, b): def test(self): self.assertEqual(a,b) return test if __name__ == '__main__': for t in l: test_name = 'test_%s' % t[0] test = test_generator(t[1], t[2]) setattr(TestSequense, test_name, test) unittest.main() The nose-parameterized package can be used to automate this process: from nose_parameterized import parameterized class TestSequence(unittest.TestCase): @parameterized.expand([ [""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""], ]) def test_sequence(self, name, a, b): self.assertEqual(a,b) Which will generate the tests: test_sequence_0_foo (__main__.TestSequence) ... ok test_sequence_1_bar (__main__.TestSequence) ... FAIL test_sequence_2_lee (__main__.TestSequence) ... ok ====================================================================== FAIL: test_sequence_1_bar (__main__.TestSequence) ---------------------------------------------------------------------- Traceback (most recent call last): File ""/usr/local/lib/python2.7/site-packages/nose_parameterized/parameterized.py"", line 233, in &lt;lambda&gt; standalone_func = lambda *a: func(*(a + p.args), **p.kwargs) File ""x.py"", line 12, in test_sequence self.assertEqual(a,b) AssertionError: 'a' != 'b'"
32899,111,"I have some kind of test data and want to create an unit test for each item. My first idea was to do it like this: import unittest l = [[""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""]] class TestSequence(unittest.TestCase): def testsample(self): for name, a,b in l: print ""test"", name self.assertEqual(a,b) if __name__ == '__main__': unittest.main() The downside of this is that it handles all data in one test. I would like to generate one test for each item on the fly. Any suggestions?",How to generate dynamic (parametrized) unit tests in python?,34094,32899,48,"The nose testing framework supports this. Example (the code below is the entire contents of the file containing the test): param_list = [('a', 'a'), ('a', 'b'), ('b', 'b')] def test_generator(): for params in param_list: yield check_em, params[0], params[1] def check_em(a, b): assert a == b The output of the nosetests command: > nosetests -v testgen.test_generator('a', 'a') ... ok testgen.test_generator('a', 'b') ... FAIL testgen.test_generator('b', 'b') ... ok ====================================================================== FAIL: testgen.test_generator('a', 'b') ---------------------------------------------------------------------- Traceback (most recent call last): File ""/usr/lib/python2.5/site-packages/nose-0.10.1-py2.5.egg/nose/case.py"", line 203, in runTest self.test(*self.arg) File ""testgen.py"", line 7, in check_em assert a == b AssertionError ---------------------------------------------------------------------- Ran 3 tests in 0.006s FAILED (failures=1)"
32899,111,"I have some kind of test data and want to create an unit test for each item. My first idea was to do it like this: import unittest l = [[""foo"", ""a"", ""a"",], [""bar"", ""a"", ""b""], [""lee"", ""b"", ""b""]] class TestSequence(unittest.TestCase): def testsample(self): for name, a,b in l: print ""test"", name self.assertEqual(a,b) if __name__ == '__main__': unittest.main() The downside of this is that it handles all data in one test. I would like to generate one test for each item on the fly. Any suggestions?",How to generate dynamic (parametrized) unit tests in python?,810127,32899,6,"You would benefit from trying the TestScenarios library. testscenarios provides clean dependency injection for python unittest style tests. This can be used for interface testing (testing many implementations via a single test suite) or for classic dependency injection (provide tests with dependencies externally to the test code itself, allowing easy testing in different situations)."
33475,1,"I need to launch a server on the remote machine and retrieve the port number that the server process is lsitening on. When invoked, the server will listen on a random port and output the port number on stderr. I want to automate the process of logging on to the remote machine, launching the process, and retrieving the port number. I wrote a Python script called ""invokejob.py"" that lives on the remote machine to act as a wrapper that invokes the job and then returns the port number, it looks like this: import re, subprocess executable = ... # Name of executable regex = ... # Regex to extract the port number from the output p = subprocess.Popen(executable, bufsize=1, # line buffered stderr=subprocess.PIPE ) s = p.stderr.readline() port = re.match(regex).groups()[0] print port If I log in interactively, this script works: $ ssh remotehost.example.com Last login: Thu Aug 28 17:31:18 2008 from localhost $ ./invokejob.py 63409 $ exit logout Connection to remotehost.example.com closed. (Note: successful logout, it did not hang). However, if I try to invoke it from the command-line, it just hangs: $ ssh remotehost.example.com invokejob.py Does anybody know why it hangs in the second case, and what I can do to avoid this? Note that I need to retrieve the output of the program, so I can't just use the ssh ""-f"" flag or redirect standard output.","ssh hangs when command invoked directly, but exits cleanly when run interactive",33486,33475,3,"s = p.stderr.readline() I suspect it's the above line. When you invoke a command directly through ssh, you don't get your full pty (assuming Linux), and thus no stderr to read from. When you log in interactively, stdin, stdout, and stderr are set up for you, and so your script works."
33475,1,"I need to launch a server on the remote machine and retrieve the port number that the server process is lsitening on. When invoked, the server will listen on a random port and output the port number on stderr. I want to automate the process of logging on to the remote machine, launching the process, and retrieving the port number. I wrote a Python script called ""invokejob.py"" that lives on the remote machine to act as a wrapper that invokes the job and then returns the port number, it looks like this: import re, subprocess executable = ... # Name of executable regex = ... # Regex to extract the port number from the output p = subprocess.Popen(executable, bufsize=1, # line buffered stderr=subprocess.PIPE ) s = p.stderr.readline() port = re.match(regex).groups()[0] print port If I log in interactively, this script works: $ ssh remotehost.example.com Last login: Thu Aug 28 17:31:18 2008 from localhost $ ./invokejob.py 63409 $ exit logout Connection to remotehost.example.com closed. (Note: successful logout, it did not hang). However, if I try to invoke it from the command-line, it just hangs: $ ssh remotehost.example.com invokejob.py Does anybody know why it hangs in the second case, and what I can do to avoid this? Note that I need to retrieve the output of the program, so I can't just use the ssh ""-f"" flag or redirect standard output.","ssh hangs when command invoked directly, but exits cleanly when run interactive",33673,33475,0,"what if you do the following: ssh &lt;remote host&gt; '&lt;your command&gt; ;&lt;your regexp using awk or something&gt;' For example ssh &lt;remote host&gt; '&lt;your program&gt;; ps aux | awk \'/root/ {print $2}\'' This will connect to , execute and then print each PSID for any user root or any process with root in its description. I have used this method for running all kinds of commands on remote machines. The catch is to wrap the command(s) you wish to execute in single quotation marks (') and to separate each command with a semi-colon (;)."
33475,1,"I need to launch a server on the remote machine and retrieve the port number that the server process is lsitening on. When invoked, the server will listen on a random port and output the port number on stderr. I want to automate the process of logging on to the remote machine, launching the process, and retrieving the port number. I wrote a Python script called ""invokejob.py"" that lives on the remote machine to act as a wrapper that invokes the job and then returns the port number, it looks like this: import re, subprocess executable = ... # Name of executable regex = ... # Regex to extract the port number from the output p = subprocess.Popen(executable, bufsize=1, # line buffered stderr=subprocess.PIPE ) s = p.stderr.readline() port = re.match(regex).groups()[0] print port If I log in interactively, this script works: $ ssh remotehost.example.com Last login: Thu Aug 28 17:31:18 2008 from localhost $ ./invokejob.py 63409 $ exit logout Connection to remotehost.example.com closed. (Note: successful logout, it did not hang). However, if I try to invoke it from the command-line, it just hangs: $ ssh remotehost.example.com invokejob.py Does anybody know why it hangs in the second case, and what I can do to avoid this? Note that I need to retrieve the output of the program, so I can't just use the ssh ""-f"" flag or redirect standard output.","ssh hangs when command invoked directly, but exits cleanly when run interactive",33873,33475,0,"@Ben Collins I think you're right about stderr being an issue. I am pretty sure it's blocking on the readline() call. In the end, I gave up and decided to use the pxssh module from pexpect to automate my interaction with an ssh session. @Misha M Unfortunately, the semi-colon trick doesn't work here: it blocks on executing my program."
33534,10,"I'm trying to extend some ""base"" classes in Python: class xlist (list): def len(self): return len(self) def add(self, *args): self.extend(args) return None class xint (int): def add(self, value): self += value return self x = xlist([1,2,3]) print x.len() ## &gt;&gt;&gt; 3 ok print x ## &gt;&gt;&gt; [1,2,3] ok x.add (4, 5, 6) print x ## &gt;&gt;&gt; [1,2,3,4,5,6] ok x = xint(10) print x ## &gt;&gt;&gt; 10 ok x.add (2) print x ## &gt;&gt;&gt; 10 # Not ok (#1) print type(x) ## &gt;&gt;&gt; &lt;class '__main__.xint'&gt; ok x += 5 print type(x) ## &gt;&gt;&gt; &lt;type 'int'&gt; # Not ok (#2) It works fine in the list case because the append method modifies the object ""in place"", without returning it. But in the int case, the add method doesn't modify the value of the external x variable. I suppose that's fine in the sense that self is a local variable in the add method of the class, but this is preventing me from modifying the initial value assigned to the instance of the class. Is it possible to extend a class this way or should I define a class property with the base type and map all the needed methods to this property?",Extending base classes in Python,33556,33534,0,"Ints are immutable and you can't modify them in place, so you should go with option #2 (because option #1 is impossible without some trickery)."
33534,10,"I'm trying to extend some ""base"" classes in Python: class xlist (list): def len(self): return len(self) def add(self, *args): self.extend(args) return None class xint (int): def add(self, value): self += value return self x = xlist([1,2,3]) print x.len() ## &gt;&gt;&gt; 3 ok print x ## &gt;&gt;&gt; [1,2,3] ok x.add (4, 5, 6) print x ## &gt;&gt;&gt; [1,2,3,4,5,6] ok x = xint(10) print x ## &gt;&gt;&gt; 10 ok x.add (2) print x ## &gt;&gt;&gt; 10 # Not ok (#1) print type(x) ## &gt;&gt;&gt; &lt;class '__main__.xint'&gt; ok x += 5 print type(x) ## &gt;&gt;&gt; &lt;type 'int'&gt; # Not ok (#2) It works fine in the list case because the append method modifies the object ""in place"", without returning it. But in the int case, the add method doesn't modify the value of the external x variable. I suppose that's fine in the sense that self is a local variable in the add method of the class, but this is preventing me from modifying the initial value assigned to the instance of the class. Is it possible to extend a class this way or should I define a class property with the base type and map all the needed methods to this property?",Extending base classes in Python,33563,33534,5,"int is a value type, so each time you do an assignment, (e.g. both instances of += above), it doesn't modify the object you have on the heap, but replaces the reference with one of the result of the right hand side of the assignment (i.e. an int) list isn't a value type, so it isn't bound by the same rules. this page has more details on the differences: http://docs.python.org/ref/objects.html IMO, yes, you should define a new class that keeps an int as an instance variable"
33534,10,"I'm trying to extend some ""base"" classes in Python: class xlist (list): def len(self): return len(self) def add(self, *args): self.extend(args) return None class xint (int): def add(self, value): self += value return self x = xlist([1,2,3]) print x.len() ## &gt;&gt;&gt; 3 ok print x ## &gt;&gt;&gt; [1,2,3] ok x.add (4, 5, 6) print x ## &gt;&gt;&gt; [1,2,3,4,5,6] ok x = xint(10) print x ## &gt;&gt;&gt; 10 ok x.add (2) print x ## &gt;&gt;&gt; 10 # Not ok (#1) print type(x) ## &gt;&gt;&gt; &lt;class '__main__.xint'&gt; ok x += 5 print type(x) ## &gt;&gt;&gt; &lt;type 'int'&gt; # Not ok (#2) It works fine in the list case because the append method modifies the object ""in place"", without returning it. But in the int case, the add method doesn't modify the value of the external x variable. I suppose that's fine in the sense that self is a local variable in the add method of the class, but this is preventing me from modifying the initial value assigned to the instance of the class. Is it possible to extend a class this way or should I define a class property with the base type and map all the needed methods to this property?",Extending base classes in Python,33663,33534,22,"Your two xint examples don't work for two different reasons. The first doesn't work because self += value is equivalent to self = self + value which just reassigns the local variable self to a different object (an integer) but doesn't change the original object. You can't really get this &gt;&gt;&gt; x = xint(10) &gt;&gt;&gt; x.add(2) to work with a subclass of int since integers are immutable. To get the second one to work you can define an __add__ method, like so: class xint(int): def __add__(self, value): return xint(int.__add__(self, value)) &gt;&gt;&gt; x = xint(10) &gt;&gt;&gt; type(x) &lt;class '__main__.xint'&gt; &gt;&gt;&gt; x += 3 &gt;&gt;&gt; x 13 &gt;&gt;&gt; type(x) &lt;class '__main__.xint'&gt;"
33978,117,"How would you go about finding out how much memory is being used by an object? I know it is possible to find out how much is used by a block of code, but not by an instantiated object (anytime during its life), which is what I want.",Find out how much memory is being used by an object in Python,34011,33978,3,"I haven't any personal experience with either of the following, but a simple search for a ""Python [memory] profiler"" yield: PySizer, ""a memory profiler for Python,"" found at http://pysizer.8325.org/. However the page seems to indicate that the project hasn't been updated for a while, and refers to... Heapy, ""support[ing] debugging and optimization regarding memory related issues in Python programs,"" found at http://guppy-pe.sourceforge.net/#Heapy. Hope that helps."
33978,117,"How would you go about finding out how much memory is being used by an object? I know it is possible to find out how much is used by a block of code, but not by an instantiated object (anytime during its life), which is what I want.",Find out how much memory is being used by an object in Python,35645,33978,67,"There's no easy way to find out the memory size of a python object. One of the problems you may find is that Python objects - like lists and dicts - may have references to other python objects (in this case, what would your size be? The size containing the size of each object or not?). There are some pointers overhead and internal structures related to object types and garbage collection. Finally, some python objects have non-obvious behaviors. For instance, lists reserve space for more objects than they have, most of the time; dicts are even more complicated since they can operate in different ways (they have a different implementation for small number of keys and sometimes they over allocate entries). There is a big chunk of code (and an updated big chunk of code) out there to try to best approximate the size of a python object in memory. There's also some simpler approximations. But they will always be approximations. You may also want to check some old description about PyObject (the internal C struct that represents virtually all python objects)."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34024,34020,-2,"I've used it in several applications and have never had nor heard of threading being anything other than 100% reliable, as long as you know its limits. You can't spawn 1000 threads at the same time and expect your program to run properly on Windows, however you can easily write a worker pool and just feed it 1000 operations, and keep everything nice and under control."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34031,34020,3,"As far as I know there are no real bugs, but the performance when threading in cPython is really bad (compared to most other threading implementations, but usually good enough if all most of the threads do is block) due to the GIL (Global Interpreter Lock), so really it is implementation specific rather than language specific. Jython, for example, does not suffer from this due to using the Java thread model. See this post on why it is not really feasible to remove the GIL from the cPython implementation, and this for some practical elaboration and workarounds. Do a quick google for ""Python GIL"" for more information."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34060,34020,43,"Python threads are good for concurrent I/O programming. Threads are swapped out of the CPU as soon as they block waiting for input from file, network, etc. This allows other Python threads to use the CPU while others wait. This would allow you to write a multi-threaded web server or web crawler, for example. However, Python threads are serialized by the GIL when they enter interpreter core. This means that if two threads are crunching numbers, only one can run at any given moment. It also means that you can't take advantage of multi-core or multi-processor architectures. There are solutions like running multiple Python interpreters concurrently, using a C based threading library. This is not for the faint of heart and the benefits might not be worth the trouble. Let's hope for an all Python solution in a future release."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34078,34020,7,"The GIL (Global Interpreter Lock) might be a problem, but the API is quite OK. Try out the excellent processing module, which implements the Threading API for separate processes. I am using that right now (albeit on OS X, have yet to do some testing on Windows) and am really impressed. The Queue class is really saving my bacon in terms of managing complexity! EDIT: it seemes the processing module is being included in the standard library as of version 2.6 (import multiprocessing). Joy!"
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,34782,34020,13,"The standard implementation of Python (generally known as CPython as it is written in C) uses OS threads, but since there is the Global Interpreter Lock, only one thread at a time is allowed to run Python code. But within those limitations, the threading libraries are robust and widely used. If you want to be able to use multiple CPU cores, there are a few options. One is to use multiple python interpreters concurrently, as mentioned by others. Another option is to use a different implementation of Python that does not use a GIL. The two main options are Jython and IronPython. Jython is written in Java, and is now fairly mature, though some incompatibilities remain. For example, the web framework Django does not run perfectly yet, but is getting closer all the time. Jython is great for thread safety, comes out better in benchmarks and has a cheeky message for those wanting the GIL. IronPython uses the .NET framework and is written in C#. Compatibility is reaching the stage where Django can run on IronPython (at least as a demo) and there are guides to using threads in IronPython."
34020,17,A reliable coder friend told me that Python's current multi-threading implementation is seriously buggy - enough to avoid using altogether. What can said about this rumor?,Are Python threads buggy?,576667,34020,1,"If you want to code in python and get great threading support, you might want to check out IronPython or Jython. Since the python code in IronPython and Jython run on the .NET CLR and Java VM respectively, they enjoy the great threading support built into those libraries. In addition to that, IronPython doesn't have the GIL, an issue that prevents CPython threads from taking full advantage of multi-core architectures."
34079,44,What's the best way to specify a proxy with username and password for an http connection in python?,How to specify an authenticated proxy for a python http connection?,34116,34079,53,"This works for me: import urllib2 proxy = urllib2.ProxyHandler({'http': 'http:// username:password@proxyurl:proxyport'}) auth = urllib2.HTTPBasicAuthHandler() opener = urllib2.build_opener(proxy, auth, urllib2.HTTPHandler) urllib2.install_opener(opener) conn = urllib2.urlopen('http://python.org') return_str = conn.read()"
34079,44,What's the best way to specify a proxy with username and password for an http connection in python?,How to specify an authenticated proxy for a python http connection?,35443,34079,8,"The best way of going through a proxy that requires authentication is using urllib2 to build a custom url opener, then using that to make all the requests you want to go through the proxy. Note in particular, you probably don't want to embed the proxy password in the url or the python source code (unless it's just a quick hack). import urllib2 def get_proxy_opener(proxyurl, proxyuser, proxypass, proxyscheme=""http""): password_mgr = urllib2.HTTPPasswordMgrWithDefaultRealm() password_mgr.add_password(None, proxyurl, proxyuser, proxypass) proxy_handler = urllib2.ProxyHandler({proxyscheme: proxyurl}) proxy_auth_handler = urllib2.ProxyBasicAuthHandler(password_mgr) return urllib2.build_opener(proxy_handler, proxy_auth_handler) if __name__ == ""__main__"": import sys if len(sys.argv) &gt; 4: url_opener = get_proxy_opener(*sys.argv[1:4]) for url in sys.argv[4:]: print url_opener.open(url).headers else: print ""Usage:"", sys.argv[0], ""proxy user pass fetchurls..."" In a more complex program, you can seperate these components out as appropriate (for instance, only using one password manager for the lifetime of the application). The python documentation has more examples on how to do complex things with urllib2 that you might also find useful."
34079,44,What's the best way to specify a proxy with username and password for an http connection in python?,How to specify an authenticated proxy for a python http connection?,142324,34079,3,"Or if you want to install it, so that it is always used with urllib2.urlopen (so you don't need to keep a reference to the opener around): import urllib2 url = 'www.proxyurl.com' username = 'user' password = 'pass' password_mgr = urllib2.HTTPPasswordMgrWithDefaultRealm() # None, with the ""WithDefaultRealm"" password manager means # that the user/pass will be used for any realm (where # there isn't a more specific match). password_mgr.add_password(None, url, username, password) auth_handler = urllib2.HTTPBasicAuthHandler(password_mgr) opener = urllib2.build_opener(auth_handler) urllib2.install_opener(opener) print urllib2.urlopen(""http://www.example.com/folder/page.html"").read()"
34079,44,What's the best way to specify a proxy with username and password for an http connection in python?,How to specify an authenticated proxy for a python http connection?,3942980,34079,11,Setting an environment var named http_proxy like this: http://username:password@proxy_url:port
34209,1,"In the transition to newforms admin I'm having difficulty figuring out how specify core=False for ImageFields. I get the following error: TypeError: __init__() got an unexpected keyword argument 'core' [Edit] However, by just removing the core argument I get a ""This field is required."" error in the admin interface on attempted submission. How does one accomplish what core=False is meant to do using newforms admin?",Django ImageField core=False in newforms admin,34391,34209,2,"This is simple. I started getting this problems a few revisions ago. Basically, just remove the ""core=True"" parameter in the ImageField in the models, and then follow the instructions here to convert to what the newforms admin uses."
34209,1,"In the transition to newforms admin I'm having difficulty figuring out how specify core=False for ImageFields. I get the following error: TypeError: __init__() got an unexpected keyword argument 'core' [Edit] However, by just removing the core argument I get a ""This field is required."" error in the admin interface on attempted submission. How does one accomplish what core=False is meant to do using newforms admin?",Django ImageField core=False in newforms admin,35089,34209,3,The core attribute isn't used anymore. From Brian Rosner's Blog: You can safely just remove any and all core arguments. They are no longer used. newforms-admin now provides a nice delete checkbox for exisiting instances in inlines.
34209,1,"In the transition to newforms admin I'm having difficulty figuring out how specify core=False for ImageFields. I get the following error: TypeError: __init__() got an unexpected keyword argument 'core' [Edit] However, by just removing the core argument I get a ""This field is required."" error in the admin interface on attempted submission. How does one accomplish what core=False is meant to do using newforms admin?",Django ImageField core=False in newforms admin,35633,34209,3,"To get rid of ""This field is required,"" you need to make it not required, by using blank=True (and possibly null=True as well, if it's not a CharField)."
34243,8,"Is there something like the Python descriptor protocol implemented in other languages? It seems like a nice way to increase modularity/encapsulation without bloating your containing class' implementation, but I've never heard of a similar thing in any other languages. Is it likely absent from other languages because of the lookup overhead?",Python descriptor protocol analog in other languages?,34266,34243,4,"I've not heard of a direct equivalent either. You could probably achieve the same effect with macros, especially in a language like Lisp which has extremely powerful macros. I wouldn't be at all surprised if other languages start to incorporate something similar because it is so powerful."
34243,8,"Is there something like the Python descriptor protocol implemented in other languages? It seems like a nice way to increase modularity/encapsulation without bloating your containing class' implementation, but I've never heard of a similar thing in any other languages. Is it likely absent from other languages because of the lookup overhead?",Python descriptor protocol analog in other languages?,48974,34243,0,"Ruby and C# both easily let you create accessors by specifying getter/setter methods for an attribute, much like in Python. However, this isn't designed to naturally let you write the code for these methods in another class the way that Python allows. In practice, I'm not sure how much this matters, since every time I've seen an attribute defined through the descriptor protocol its been implemented in the same class. EDIT: Darn my dyslexia (by which I mean careless reading). For some reason I've always read ""descriptor"" as ""decorator"" and vice versa, even when I'm the one typing both of them. I'll leave my post intact since it has valid information, albeit information which has absolutely nothing to do with the question. The term ""decorator"" itself is actually the name of a design pattern described in the famous ""Design Patterns"" book. The Wikipedia article contains many examples in different programming languages of decorator usage: http://en.wikipedia.org/wiki/Decorator_pattern However, the decorators in that article object-oriented; they have classes implementing a predefined interface which lets another existing class behave differently somehow, etc. Python decorators act in a functional way by replacing a function at runtime with another function, allowing you to effectively modify/replace that function, insert code, etc. This is known in the Java world as Aspect-Oriented programming, and the AspectJ Java compiler lets you do these kinds of things and compile your AspectJ code (which is a superset of Java) into Java bytecode. I'm not familiar enough with C# or Ruby to know what their version of decorators would be."
34328,10,"In another question I posted yesterday, I got very good advice on how a Python script could be run as a service in Windows. What I'm left wondering is: How is Windows aware of the services that can be managed in the native tools (""services"" window in ""administrative tools""). I. e. what is the Windows equivalent of putting a start/stop script in /etc/init.d under Linux?",How do I make Windows aware of a service I have written in Python?,34330,34328,8,"Here is code to install a python-script as a service, written in python :) http://code.activestate.com/recipes/551780/ This post could also help you out: http://essiene.blogspot.com/2005/04/python-windows-services.html"
34328,10,"In another question I posted yesterday, I got very good advice on how a Python script could be run as a service in Windows. What I'm left wondering is: How is Windows aware of the services that can be managed in the native tools (""services"" window in ""administrative tools""). I. e. what is the Windows equivalent of putting a start/stop script in /etc/init.d under Linux?",How do I make Windows aware of a service I have written in Python?,34418,34328,3,"As with most ""aware"" things in Windows, the answer is ""Registry"". Take a look at this Microsoft Knowledge Base article: http://support.microsoft.com/kb/103000 Search for ""A Win32 program that can be started by the Service Controller and that obeys the service control protocol."" This is the kind of service you're interested in. The service registration (contents of KEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services \myservice) carries information about the service, including things like its executable location, what to do when it fails (halt the OS?), what services must be started before this one, what user it runs as. As to service control protocol, main() of your program is supposed to invoke a Windows API call, setting up callbacks for start, stop, pause for your service. What you do in those callbacks is all up to you."
34328,10,"In another question I posted yesterday, I got very good advice on how a Python script could be run as a service in Windows. What I'm left wondering is: How is Windows aware of the services that can be managed in the native tools (""services"" window in ""administrative tools""). I. e. what is the Windows equivalent of putting a start/stop script in /etc/init.d under Linux?",How do I make Windows aware of a service I have written in Python?,34421,34328,0,You can use srvany.exe from Windows NT Resource Kit to create a user defined service that will show up in the admin tools... http://support.microsoft.com/kb/137890 I am using this method to run tracd (a python script / server) for trac. Here are some very clear instructions: http://www.tacktech.com/display.cfm?ttid=197 It does require some registry editing (very minimal and easy) but will allow you to make any command line / script a windows service.
34328,10,"In another question I posted yesterday, I got very good advice on how a Python script could be run as a service in Windows. What I'm left wondering is: How is Windows aware of the services that can be managed in the native tools (""services"" window in ""administrative tools""). I. e. what is the Windows equivalent of putting a start/stop script in /etc/init.d under Linux?",How do I make Windows aware of a service I have written in Python?,259438,34328,5,"Don't muck with the registry directly. User the SC command-line tool. Namely, SC CREATE DESCRIPTION: SC is a command line program used for communicating with the NT Service Controller and services. USAGE: sc [command] [service name] ... The option has the form ""\\ServerName"" Further help on commands can be obtained by typing: ""sc [command]"" Commands: query-----------Queries the status for a service, or enumerates the status for types of services. queryex---------Queries the extended status for a service, or enumerates the status for types of services. start-----------Starts a service. pause-----------Sends a PAUSE control request to a service. interrogate-----Sends an INTERROGATE control request to a service. continue--------Sends a CONTINUE control request to a service. stop------------Sends a STOP request to a service. config----------Changes the configuration of a service (persistant). description-----Changes the description of a service. failure---------Changes the actions taken by a service upon failure. qc--------------Queries the configuration information for a service. qdescription----Queries the description for a service. qfailure--------Queries the actions taken by a service upon failure. delete----------Deletes a service (from the registry). create----------Creates a service. (adds it to the registry). control---------Sends a control to a service. sdshow----------Displays a service's security descriptor. sdset-----------Sets a service's security descriptor. GetDisplayName--Gets the DisplayName for a service. GetKeyName------Gets the ServiceKeyName for a service. EnumDepend------Enumerates Service Dependencies. The following commands don't require a service name: sc boot------------(ok | bad) Indicates whether the last boot should be saved as the last-known-good boot configuration Lock------------Locks the Service Database QueryLock-------Queries the LockStatus for the SCManager Database EXAMPLE: sc start MyService"
34439,159,"Given a Python object of any kind, is there an easy way to get a list of all methods that this object has? Or, if this is not possible, is there at least an easy way to check if it has a particular method other than simply checking if an error occurs when the method is called?",Finding what methods an object has,34452,34439,188,"It appears you can use this code, replacing 'object' with the object you're interested in:- [method for method in dir(object) if callable(getattr(object, method))] I discovered it at this site, hopefully that should provide some further detail!"
34439,159,"Given a Python object of any kind, is there an easy way to get a list of all methods that this object has? Or, if this is not possible, is there at least an easy way to check if it has a particular method other than simply checking if an error occurs when the method is called?",Finding what methods an object has,34467,34439,78,"You can use the built in dir() function to get a list of all the attributes a module has. Try this at the command line to see how it works. &gt;&gt;&gt; import moduleName &gt;&gt;&gt; dir(moduleName) Also, you can use the hasattr(module_name, ""attr_name"") function to find out if a module has a specific attribute. See the Guide to Python introspection for more information."
34439,159,"Given a Python object of any kind, is there an easy way to get a list of all methods that this object has? Or, if this is not possible, is there at least an easy way to check if it has a particular method other than simply checking if an error occurs when the method is called?",Finding what methods an object has,34472,34439,20,"To check if it has a particular method: hasattr(object,""method"")"
34439,159,"Given a Python object of any kind, is there an easy way to get a list of all methods that this object has? Or, if this is not possible, is there at least an easy way to check if it has a particular method other than simply checking if an error occurs when the method is called?",Finding what methods an object has,34481,34439,11,"On top of the more direct answers, I'd be remiss if I didn't mention iPython. Hit 'tab' to see the available methods, with autocompletion. And once you've found a method, try: help(object.method) to see the pydocs, method signature, etc. Ahh... REPL."
34916,8,"Is there anything similar to rails' scaffolding fo pylons? I've been poking around google, but fofund only this thing caled dbsprockets, which is fine, although probably way to much for my needs. What I really need is a basic CRUD thas is based on the SQLAlchemy model.",Scaffolding in pylons,35110,34916,4,"I hear you, I've followed the Pylons mailing list for a while looking for something similar. There have been some attempts in the past (see AdminPylon and Restin) but none have really kept up with SQLAlchemy's rapidly developing orm api. Since DBSprockets is likely to be incorporated into TurboGears it will likely be maintained. I'd bite the bullet and go with that."
34916,8,"Is there anything similar to rails' scaffolding fo pylons? I've been poking around google, but fofund only this thing caled dbsprockets, which is fine, although probably way to much for my needs. What I really need is a basic CRUD thas is based on the SQLAlchemy model.",Scaffolding in pylons,1056092,34916,6,"The question is super old, but hell: http://code.google.com/p/formalchemy/ Gives you basic crud out of the box, customizable to do even relatively complex things easily, and gives you a drop-in Pylons admin app too (written and customizable with the same api, no magic)."
34916,8,"Is there anything similar to rails' scaffolding fo pylons? I've been poking around google, but fofund only this thing caled dbsprockets, which is fine, although probably way to much for my needs. What I really need is a basic CRUD thas is based on the SQLAlchemy model.",Scaffolding in pylons,1869967,34916,0,"Just updating an old question. DBSprockets has been replaced by sprox which learns a lot of lessons from it and is pretty cool. It isn't quite the throwaway 'scaffolding' that Rails provides, it is more like an agile form generation tool that is highly extensible."
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,35543,35538,7,"XHTML is easy, use lxml. HTML is harder, since there's traditionally not been as much interest in validation among the HTML crowd (run StackOverflow itself through a validator, yikes). The easiest solution would be to execute external applications such as nsgmls or OpenJade, and then parse their output."
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,35562,35538,3,I think that HTML tidy will do what you want. There is a Python binding for it.
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,35572,35538,5,"Try tidylib. You can get some really basic bindings as part of the elementtidy module (builds elementtrees from HTML documents). http://effbot.org/downloads/#elementtidy &gt;&gt;&gt; import _elementtidy &gt;&gt;&gt; xhtml, log = _elementtidy.fixup(""&lt;html&gt;&lt;/html&gt;"") &gt;&gt;&gt; print log line 1 column 1 - Warning: missing &lt;!DOCTYPE&gt; declaration line 1 column 7 - Warning: discarding unexpected &lt;/html&gt; line 1 column 14 - Warning: inserting missing 'title' element Parsing the log should give you pretty much everything you need."
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,646877,35538,11,"Starting with html5, you can try to use html5lib. You can also decide to install the HTML validator locally and create a client to request the validation. Here I had made a program to validate a list of urls in a txt file. I was just checking the HEAD to get the validation status, but if you do a GET you would get the full results. Look at the API of the validator, there are plenty of options for it. import httplib2 import time h = httplib2.Http("".cache"") f = open(""urllistfile.txt"", ""r"") urllist = f.readlines() f.close() for url in urllist: # wait 10 seconds before the next request - be nice with the validator time.sleep(10) resp= {} url = url.strip() urlrequest = ""http://qa-dev.w3.org/wmvs/HEAD/check?doctype=HTML5&amp;uri=""+url try: resp, content = h.request(urlrequest, ""HEAD"") if resp['x-w3c-validator-status'] == ""Abort"": print url, ""FAIL"" else: print url, resp['x-w3c-validator-status'], resp['x-w3c-validator-errors'], resp['x-w3c-validator-warnings'] except: pass"
35538,21,"What's the best way to go about validating that a document follows some version of HTML (prefereably that I can specify)? I'd like to be able to know where the failures occur, as in a web-based validator, except in a native Python app.",Validate (X)HTML in Python,1279293,35538,18,"http://countergram.com/software/pytidylib is a nice python binding for HTML Tidy. Their example: from tidylib import tidy_document document, errors = tidy_document('''&lt;p&gt;f&amp;otilde;o &lt;img src=""bar.jpg""&gt;''', options={'numeric-entities':1}) print document print errors"
35569,6,"It seems like if you want to get the keys of a mapping, you ask for them; otherwise, give me the whole mapping (constituted by a set of key-value pairs). Is there a historical reason for this?",Why does Python's iter() on a mapping return iterkeys() instead of iteritems()?,35582,35569,8,"Check out this thread for a discussion on the reasons behind this behavior (including that Guido likes it, and it's not likely to change)."
35634,6,"Is there a Ruby equivalent for Python's ""is""? It tests whether two objects are identical (i.e. have the same memory location).","Ruby ""is"" equivalent",35635,35634,12,"Use a.equal? b http://www.ruby-doc.org/core/classes/Object.html Unlike ==, the equal? method should never be overridden by subclasses: it is used to determine object identity (that is, a.equal?(b) iff a is the same object as b)."
35634,6,"Is there a Ruby equivalent for Python's ""is""? It tests whether two objects are identical (i.e. have the same memory location).","Ruby ""is"" equivalent",39062,35634,2,"You could also use __id__. This gives you the objects internal ID number, which is always unique. To check if to objects are the same, try a.__id__ = b.__id__ This is how Ruby's standard library does it as far as I can tell (see group_by and others)."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35757,35753,16,"In my opinion python is more than ready for developing complex applications. I see pythons strength more on the server side than writing graphical clients. But have a look at http://www.resolversystems.com/. They develop a whole spreadsheet in python using the .net ironpython port. If you are familiar with eclipse have a look at pydev which provides auto-completion and debugging support for python with all the other eclipse goodies like svn support. The guy developing it has just been bought by aptana, so this will be solid choice for the future. @Marcin Cons: as a dynamic language, has way worse IDE support (proper syntax completion requires static typing, whether explicit in Java or inferred in SML), You are right, that static analysis may not provide full syntax completion for dynamic languages, but I thing pydev gets the job done very well. Further more I have a different development style when programming python. I have always an ipython session open and with one F5 I do not only get the perfect completion from ipython, but object introspection and manipulation as well. But if you want to write second Google or Yahoo, you will be much better with C# or Java. Google just rewrote jaiku to work on top of App Engine, all in python. And as far as I know they use a lot of python inside google too."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35759,35753,11,"I really like python, it's usually my language of choice these days for small (non-gui) stuff that I do on my own. However, for some larger Python projects I've tackled, I'm finding that it's not quite the same as programming in say, C++. I was working on a language parser, and needed to represent an AST in Python. This is certainly within the scope of what Python can do, but I had a bit of trouble with some refactoring. I was changing the representation of my AST and changing methods and classes around a lot, and I found I missed the strong typing that would be available to me in a C++ solution. Python's duck typing was almost too flexible and I found myself adding a lot of assert code to try to check my types as the program ran. And then I couldn't really be sure that everything was properly typed unless I had 100% code coverage testing (which I didn't at the time). Actually, that's another thing that I miss sometimes. It's possible to write syntactically correct code in Python that simply won't run. The compiler is incapable of telling you about it until it actually executes the code, so in infrequently-used code paths such as error handlers you can easily have unseen bugs lurking around. Even code that's as simple as printing an error message with a % format string can fail at runtime because of mismatched types. I haven't used Python for any GUI stuff so I can't comment on that aspect."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35776,35753,8,"Python is considered (among Python programmers :) to be a great language for rapid prototyping. There's not a lot of extraneous syntax getting in the way of your thought processes, so most of the work you do tends to go into the code. (There's far less idioms required to be involved in writing good Python code than in writing good C++.) Given this, most Python (CPython) programmers ascribe to the ""premature optimization is the root of all evil"" philosophy. By writing high-level (and significantly slower) Python code, one can optimize the bottlenecks out using C/C++ bindings when your application is nearing completion. At this point it becomes more clear what your processor-intensive algorithms are through proper profiling. This way, you write most of the code in a very readable and maintainable manner while allowing for speedups down the road. You'll see several Python library modules written in C for this very reason. Most graphics libraries in Python (i.e. wxPython) are just Python wrappers around C++ libraries anyway, so you're pretty much writing to a C++ backend. To address your IDE question, SPE (Stani's Python Editor) is a good IDE that I've used and Eclipse with PyDev gets the job done as well. Both are OSS, so they're free to try! [Edit] @Marcin: Have you had experience writing > 30k LOC in Python? It's also funny that you should mention Google's scalability concerns, since they're Python's biggest supporters! Also a small organization called NASA also uses Python frequently ;) see ""One coder and 17,000 Lines of Code Later""."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35777,35753,19,"You'll find mostly two answers to that &ndash; the religous one (Yes! Of course! It's the best language ever!) and the other religious one (you gotta be kidding me! Python? No... it's not mature enough). I will maybe skip the last religion (Python?! Use Ruby!). The truth, as always, is far from obvious. Pros: it's easy, readable, batteries included, has lots of good libraries for pretty much everything. It's expressive and dynamic typing makes it more concise in many cases. Cons: as a dynamic language, has way worse IDE support (proper syntax completion requires static typing, whether explicit in Java or inferred in SML), its object system is far from perfect (interfaces, anyone?) and it is easy to end up with messy code that has methods returning either int or boolean or object or some sort under unknown circumstances. My take &ndash; I love Python for scripting, automation, tiny webapps and other simple well defined tasks. In my opinion it is by far the best dynamic language on the planet. That said, I would never use it any dynamically typed language to develop an application of substantial size. Say &ndash; it would be fine to use it for Stack Overflow, which has three developers and I guess no more than 30k lines of code. For bigger things &ndash; first your development would be super fast, and then once team and codebase grow things are slowing down more than they would with Java or C#. You need to offset lack of compilation time checks by writing more unittests, refactorings get harder cause you never know what your refacoring broke until you run all tests or even the whole big app, etc. Now &ndash; decide on how big your team is going to be and how big the app is supposed to be once it is done. If you have 5 or less people and the target size is roughly Stack Overflow, go ahead, write in Python. You will finish in no time and be happy with good codebase. But if you want to write second Google or Yahoo, you will be much better with C# or Java. Side-note on C/C++ you have mentioned: if you are not writing performance critical software (say massive parallel raytracer that will run for three months rendering a film) or a very mission critical system (say Mars lander that will fly three years straight and has only one chance to land right or you lose $400mln) do not use it. For web apps, most desktop apps, most apps in general it is not a good choice. You will die debugging pointers and memory allocation in complex business logic."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35838,35753,0,"I know I'm probably stating the obvious, but don't forget that the quality of the development team and their familiarity with the technology will have a major impact on your ability to deliver. If you have a strong team, then it's probably not an issue if they're familiar. But if you have people who are more 9 to 5'rs who aren't familiar with the technology, they will need more support and you'd need to make a call if the productivity gains are worth whatever the cost of that support is."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,35841,35753,2,Refactoring is inevitable on larger codebases and the lack of static typing makes this much harder in python than in statically typed languages.
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,36238,35753,4,"One way to judge what python is used for is to look at what products use python at the moment. This wikipedia page has a long list including various web frameworks, content management systems, version control systems, desktop apps and IDEs. As it says here - ""Some of the largest projects that use Python are the Zope application server, YouTube, and the original BitTorrent client. Large organizations that make use of Python include Google, Yahoo!, CERN and NASA. ITA uses Python for some of its components."" So in short, yes, it is ""proper for production use in the development of stand-alone complex applications"". So are many other languages, with various pros and cons. Which is the best language for your particular use case is too subjective to answer, so I won't try, but often the answer will be ""the one your developers know best""."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,259591,35753,28,"We've used IronPython to build our flagship spreadsheet application (40kloc production code - and it's Python, which IMO means loc per feature is low) at Resolver Systems, so I'd definitely say it's ready for production use of complex apps. There are two ways in which this might not be a useful answer to you :-) We're using IronPython, not the more usual CPython. This gives us the huge advantage of being able to use .NET class libraries. I may be setting myself up for flaming here, but I would say that I've never really seen a CPython application that looked ""professional"" - so having access to the WinForms widget set was a huge win for us. IronPython also gives us the advantage of being able to easily drop into C# if we need a performance boost. (Though to be honest we have never needed to do that. All of our performance problems to date have been because we chose dumb algorithms rather than because the language was slow.) Using C# from IP is much easier than writing a C Extension for CPython. We're an Extreme Programming shop, so we write tests before we write code. I would not write production code in a dynamic language without writing the tests first; the lack of a compile step needs to be covered by something, and as other people have pointed out, refactoring without it can be tough. (Greg Hewgill's answer suggests he's had the same problem. On the other hand, I don't think I would write - or especially refactor - production code in any language these days without writing the tests first - but YMMV.) Re: the IDE - we've been pretty much fine with each person using their favourite text editor; if you prefer something a bit more heavyweight then WingIDE is pretty well-regarded."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,263761,35753,4,"Nothing to add to the other answers, besides that if you choose python you must use something like pylint which nobody mentioned so far."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,277490,35753,-1,"I had only one python experience, my trash-cli project. I know that probably some or all problems depends of my inexperience with python. I found frustrating these things: the difficult of finding a good IDE for free the limited support to automatic refactoring Moreover: the need of introduce two level of grouping packages and modules confuses me. it seems to me that there is not a widely adopted code naming convention it seems to me that there are some standard library APIs docs that are incomplete the fact that some standard libraries are not fully object oriented annoys me Although some python coders tell me that they does not have these problems, or they say these are not problems."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,286449,35753,1,"And as far as I know they use a lot of python inside google too. Well i'd hope so, the maker of python still works at google if i'm not mistaken? As for the use of Python, I think it's a great language for stand-alone apps. It's heavily used in a lot of Linux programs, and there are a few nice widget sets out there to aid in the development of GUI's."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,286491,35753,1,"Python is a delight to use. I use it routinely and also write a lot of code for work in C#. There are two drawbacks to writing UI code in Python. one is that there is not a single ui framework that is accepted by the majority of the community. when you write in c# the .NET runtime and class libraries are all meant to work together. With Python every UI library has at's own semantics which are often at odds with the pythonic mindset in which you are trying to write your program. I am not blaming the library writers. I've tried several libraries (wxwidgets, PythonWin[Wrapper around MFC], Tkinter), When doing so I often felt that I was writing code in a language other than Python (despite the fact that it was python) because the libraries aren't exactly pythonic they are a port from another language be it c, c++, tk. So for me I will write UI code in .NET (for me C#) because of the IDE &amp; the consistency of the libraries. But when I can I will write business logic in python because it is more clear and more fun."
35753,25,"Right now I'm developing mostly in C/C++, but I wrote some small utilities in Python to automatize some tasks and I really love it as language (especially the productivity). Except for the performances (a problem that could be sometimes solved thanks to the ease of interfacing Python with C modules), do you think it is proper for production use in the development of stand-alone complex applications (think for example to a word processor or a graphic tool)? What IDE would you suggest? The IDLE provided with Python is not enough even for small projects in my opinion.",Is Python good for big software projects (not web based)?,3445481,35753,0,"Try Django or Pylons, write a simple app with both of them and then decide which one suits you best. There are others (like Turbogears or Werkzeug) but those are the most used."
35805,27,"If I create a class A as follows: class A: def __init__(self): self.name = 'A' Inspecting the __dict__ member looks like {'name': 'A'} If however I create a class B: class B: name = 'B' __dict__ is empty. What is the difference between the two, and why doesn't name show up in B's __dict__?",Why is my instance variable not in dict?,35823,35805,38,"B.name is a class attribute, not an instance attribute. It shows up in B.__dict__, but not in b = B(); b.__dict__. The distinction is obscured somewhat because when you access an attribute on an instance, the class dict is a fallback. So in the above example, b.name will give you the value of B.name."
35805,27,"If I create a class A as follows: class A: def __init__(self): self.name = 'A' Inspecting the __dict__ member looks like {'name': 'A'} If however I create a class B: class B: name = 'B' __dict__ is empty. What is the difference between the two, and why doesn't name show up in B's __dict__?",Why is my instance variable not in dict?,39755,35805,11,class A: def _ _init_ _(self): self.name = 'A' a = A() Creates an attribute on the object instance a of type A and it can therefore be found in: a.__dict__ class B: name = 'B' b = B() Creates an attribute on the class B and the attribute can be found in B.__dict__ alternatively if you have an instance b of type B you can see the class level attributes in b.__class__.__dict__
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,35831,35817,3,"I believe that os.system just invokes whatever command shell is configured for the user, so I don't think you can do it in a platform independent way. My command shell could be anything from bash, emacs, ruby, or even quake3. Some of these programs aren't expecting the kind of arguments you are passing to them and even if they did there is no guarantee they do their escaping the same way."
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,35857,35817,44,"This is what I use: def shellquote(s): return ""'"" + s.replace(""'"", ""'\\''"") + ""'"" The shell will always accept a quoted filename and remove the surrounding quotes before passing it to the program in question. Notably, this avoids problems with filenames that contain spaces or any other kind of nasty shell metacharacter. Update: If you are using Python 3.3 or later, use shlex.quote instead of rolling your own."
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,35858,35817,49,"Perhaps you have a specific reason for using os.system(). But if not you should probably be using the subprocess module. You can specify the pipes directly and avoid using the shell. The following is from PEP324: Replacing shell pipe line ------------------------- output=`dmesg | grep hda` ==&gt; p1 = Popen([""dmesg""], stdout=PIPE) p2 = Popen([""grep"", ""hda""], stdin=p1.stdout, stdout=PIPE) output = p2.communicate()[0]"
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,35900,35817,-2,"If you do use the system command, I would try and whitelist what goes into the os.system() call.. For example.. clean_user_input re.sub(""[^a-zA-Z]"", """", user_input) os.system(""ls %s"" % (clean_user_input)) The subprocess module is a better option, and I would recommend trying to avoid using anything like os.system/subprocess wherever possible."
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,847800,35817,101,shlex.quote() does what you want since python 3. (Use pipes.quote to support both python 2 and python 3)
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,1884718,35817,4,"Note that pipes.quote is actually broken in Python 2.5 and Python 3.1 and not safe to use--It doesn't handle zero-length arguments. &gt;&gt;&gt; from pipes import quote &gt;&gt;&gt; args = ['arg1', '', 'arg3'] &gt;&gt;&gt; print 'mycommand %s' % (' '.join(quote(arg) for arg in args)) mycommand arg1 arg3 See Python issue 7476; it has been fixed in Python 2.6 and 3.2 and newer."
35817,72,"When using os.system() it's often necessary to escape filenames and other arguments passed as parameters to commands. How can I do this? Preferably something that would work on multiple operating systems/shells but in particular for bash. I'm currently doing the following, but am sure there must be a library function for this, or at least a more elegant/robust/efficient option: def sh_escape(s): return s.replace(""("",""\\("").replace("")"",""\\)"").replace("" "",""\\ "") os.system(""cat %s | grep something | sort &gt; %s"" % (sh_escape(in_filename), sh_escape(out_filename))) Edit: I've accepted the simple answer of using quotes, don't know why I didn't think of that; I guess because I came from Windows where ' and "" behave a little differently. Regarding security, I understand the concern, but, in this case, I'm interested in a quick and easy solution which os.system() provides, and the source of the strings is either not user-generated or at least entered by a trusted user (me).",How to escape os.system() calls in Python?,3851646,35817,1,"The function I use is: def quote_argument(argument): return '""%s""' % ( argument .replace('\\', '\\\\') .replace('""', '\\""') .replace('$', '\\$') .replace('`', '\\`') ) that is: I always enclose the argument in double quotes, and then backslash-quote the only characters special inside double quotes."
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,35978,35948,9,"I'm assuming that the part the doesn't work is {{ user.item }}. Django will be trying a dictionary lookup, but using the string ""item"" and not the value of the item loop variable. Django did the same thing when it resolved {{ user.name }} to the name attribute of the user object, rather than looking for a variable called name. I think you will need to do some preprocessing of the data in your view before you render it in your template."
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,37190,35948,0,shouldn't this: {{ user.item }} be this? {{ item }} there is no user object in the context within that loop....?
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,50425,35948,30,"I found a ""nicer""/""better"" solution for getting variables inside Its not the nicest way, but it works. You install a custom filter into django which gets the key of your dict as a parameter To make it work in google app-engine you need to add a file to your main directory, I called mine *django_hack.py* which contains this little piece of code from google.appengine.ext import webapp register = webapp.template.create_template_register() def hash(h,key): if key in h: return h[key] else: return None register.filter(hash) Now that we have this file, all we need to do is tell the app-engine to use it... we do that by adding this little line to your main file webapp.template.register_template_library('django_hack') and in your template view add this template instead of the usual code {{ user|hash:item }} And its should work perfectly =)"
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,1278623,35948,3,"@Dave Webb (i haven't been rated high enough to comment yet) The dot lookups can be summarized like this: when the template system encounters a dot in a variable name, it tries the following lookups, in this order: * Dictionary lookup (e.e., foo[""bar""]) * Attribute lookup (e.g., foo.bar) * Method call (e.g., foo.bar()) * List-index lookup (e.g., foo[bar]) The system uses the first lookup type that works. Itâs short-circuit logic."
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,3125956,35948,1,"As a replacement for k,v in user.items on Google App Engine using django templates where user = {'a':1, 'b', 2, 'c', 3} {% for pair in user.items %} {% for keyval in pair %} {{ keyval }}{% endfor %}&lt;br&gt; {% endfor %} a 1 b 2 c 3 pair = (key, value) for each dictionary item."
35948,30,"I'm using Google App Engine and Django templates. I have a table that I want to display the objects look something like: Object Result: Items = [item1,item2] Users = [{name='username',item1=3,item2=4},..] The Django template is: &lt;table&gt; &lt;tr align=""center""&gt; &lt;th&gt;user&lt;/th&gt; {% for item in result.items %} &lt;th&gt;{{item}}&lt;/th&gt; {% endfor %} &lt;/tr&gt; {% for user in result.users %} &lt;tr align=""center""&gt; &lt;td&gt;{{user.name}}&lt;/td&gt; {% for item in result.items %} &lt;td&gt;{{ user.item }}&lt;/td&gt; {% endfor %} &lt;/tr&gt; {% endfor %} &lt;/table&gt; Now the Django documention states that when it sees a . in variables It tries several things to get the data, one of which is dictionary lookup which is exactly what I want but doesn't seem to happen...",Django templates and variable attributes,3466349,35948,7,"Or you can use the default django system which is used to resolve attributes in tempaltes like this : from django.template import Variable, VariableDoesNotExist @register.filter def hash(object, attr): pseudo_context = { 'object' : object } try: value = Variable('object.%s' % attr).resolve(pseudo_context) except VariableDoesNotExist: value = None return value That just works in your template : {{ user|hash:item }}"
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,35990,35988,47,"How about a dictionary? Something like this: myStruct = {'field1': 'some val', 'field2': 'some val'} Then you can use this to manipulate values: print myStruct['field1'] myStruct['field2'] = 'some other values' And the values don't have to be strings. They can be pretty much any other object."
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,35993,35988,70,"You can use a tuple for a lot of things where you would use a struct in C (something like x,y coordinates or RGB colors for example). For everything else you can use dictionary, or a utility class like this one: &gt;&gt;&gt; class Bunch: ... def __init__(self, **kwds): ... self.__dict__.update(kwds) ... &gt;&gt;&gt; mystruct = Bunch(field1=value1, field2=value2) I think the ""definitive"" discussion is here, in the published version of the Python Cookbook."
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,36033,35988,202,"Use a named tuple, which was added to the collections module in the standard library in Python 2.6. It's also possible to use Raymond Hettinger's named tuple recipe if you need to support Python 2.4. It's nice for your basic example, but also covers a bunch of edge cases you might run into later as well. Your fragment above would be written as: from collections import namedtuple MyStruct = namedtuple(""MyStruct"", ""field1 field2 field3"") The newly created type can be used like this: m = MyStruct(""foo"", ""bar"", ""baz"") Or you can use named arguments: m = MyStruct(field1 = ""foo"", field2 = ""bar"", field3 = ""baz"")"
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,36034,35988,17,"dF: that's pretty cool... I didn't know that I could access the fields in a class using dict. Mark: the situations that I wish I had this are precisely when I want a tuple but nothing as ""heavy"" as a dictionary. You can access the fields of a class using a dictionary because the fields of a class, its methods and all its properties are stored internally using dicts (at least in CPython). ...Which leads us to your second comment. Believing that Python dicts are ""heavy"" is an extremely non-pythonistic concept. And reading such comments kills my Python Zen. That's not good. You see, when you declare a class you are actually creating a pretty complex wrapper around a dictionary - so, if anything, you are adding more overhead than by using a simple dictionary. An overhead which, by the way, is meaningless in any case. If you are working on performance critical applications, use C or something."
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,36061,35988,13,"You can also pass the init parameters to the instance variables by position # Abstract struct class class Struct: def __init__ (self, *argv, **argd): if len(argd): # Update by dictionary self.__dict__.update (argd) else: # Update by position attrs = filter (lambda x: x[0:2] != ""__"", dir(self)) for n in range(len(argv)): setattr(self, attrs[n], argv[n]) # Specific class class Point3dStruct (Struct): x = 0 y = 0 z = 0 pt1 = Point3dStruct() pt1.x = 10 print pt1.x print ""-""*10 pt2 = Point3dStruct(5, 6) print pt2.x, pt2.y print ""-""*10 pt3 = Point3dStruct (x=1, y=2, z=3) print pt3.x, pt3.y, pt3.z print ""-""*10"
35988,210,"Is there a way to conveniently define a C-like structure in Python? I'm tired of writing stuff like: class MyStruct(): def __init__(self, field1, field2, field3): self.field1 = field1 self.field2 = field2 self.field3 = field3",C-like structures in Python,3761729,35988,56,"Perhaps you are looking for Structs without constructors: class Sample: name = '' average = 0.0 values = None # list cannot be initialized here! s1 = Sample() s1.name = ""sample 1"" s1.values = [] s1.values.append(1) s1.values.append(2) s1.values.append(3) s2 = Sample() s2.name = ""sample 2"" s2.values = [] s2.values.append(4) for v in s1.values: # prints 1,2,3 --&gt; OK. print v print ""***"" for v in s2.values: # prints 4 --&gt; OK. print v"
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,36143,36139,23,list.sort() It really is that simple :)
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,36156,36139,270,"Basic answer: mylist = [""b"", ""C"", ""A""] mylist.sort() This modifies your original list (i.e. sorts in-place). To get a sorted copy of the list, without changing the original, use the sorted() function: for x in sorted(mylist): print x However, the examples above are a bit naive, because they don't take locale into account, and perform a case-sensitive sorting. You can take advantage of the optional parameter key to specify custom sorting order (the alternative, using cmp, is a deprecated solution, as it has to be evaluated multiple times - key is only computed once per element). So, to sort according to the current locale, taking language-specific rules into account (cmp_to_key is a helper function from functools): sorted(mylist, key=cmp_to_key(locale.strcoll)) And finally, if you need, you can specify a custom locale for sorting: import locale locale.setlocale(locale.LC_ALL, 'en_US.UTF-8') # vary depending on your lang/locale assert sorted((u'Ab', u'ad', u'aa'), key=cmp_to_key(locale.strcoll)) == [u'aa', u'Ab', u'ad'] Last note: you will see examples of case-insensitive sorting which use the lower() method - those are incorrect, because they work only for the ASCII subset of characters. Those two are wrong for any non-English data: # this is incorrect! mylist.sort(key=lambda x: x.lower()) # alternative notation, a bit faster, but still wrong mylist.sort(key=str.lower)"
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,36220,36139,6,"But how does this handle language specific sorting rules? Does it take locale into account? No, list.sort() is a generic sorting function. If you want to sort according to the Unicode rules, you'll have to define a custom sort key function. You can try using the pyuca module, but I don't know how complete it is."
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,36395,36139,29,"It is also worth noting the sorted() function: for x in sorted(list): print x This returns a new, sorted version of a list without changing the original list."
36139,211,What is the best way of creating an alphabetically sorted list in Python?,How do I sort a list of strings in Python?,1640634,36139,13,"The proper way to sort strings is: import locale locale.setlocale(locale.LC_ALL, 'en_US.UTF-8') # vary depending on your lang/locale assert sorted((u'Ab', u'ad', u'aa'), cmp=locale.strcoll) == [u'aa', u'Ab', u'ad'] # Without using locale.strcoll you get: assert sorted((u'Ab', u'ad', u'aa')) == [u'Ab', u'aa', u'ad'] The previous example of mylist.sort(key=lambda x: x.lower()) will work fine for ASCII-only contexts."
36324,4,"I'm trying to use svnmerge.py to merge some files. Under the hood it uses python, and when I use it I get an error - ""The system cannot find the file specified"". Colleagues at work are running the same version of svnmerge.py, and of python (2.5.2, specifically r252:60911) without an issue. I found this link, which describes my problem. Trying what was outlined there, I confirmed Python could find svn (it's in my path): P:\>python Python 2.5.2 (r252:60911, Feb 21 2008, 13:11:45) [MSC v.1310 32 bit (Intel)] on win32 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. >>> import os >>> i,k = os.popen4(""svn --version"") >>> i.close() >>> k.readline() 'svn, version 1.4.2 (r22196)\n' Looking at the svnmerge.py code, though, I noticed for python versions 2.4 and higher it was following a different execution path. Rather than invoking os.popen4() it uses subprocess.Popen(). Trying that reproduces the error: C:\>python Python 2.5.2 (r252:60911, Feb 21 2008, 13:11:45) [MSC v.1310 32 bit (Intel)] on win32 Type ""help"", ""copyright"", ""credits"" or ""license"" for more information. >>> import subprocess >>> p = subprocess.Popen(""svn --version"", stdout=subprocess.PIPE, >>> close_fds=False, stderr=subprocess.PIPE) Traceback (most recent call last): File """", line 1, in File ""C:\Python25\lib\subprocess.py"", line 594, in __init__ errread, errwrite) File ""C:\Python25\lib\subprocess.py"", line 816, in _execute_child startupinfo) WindowsError: [Error 2] The system cannot find the file specified >>> For now, I've commented out the 2.4-and-higher specific code, but I'd like to find a proper solution. If it's not obvious, I'm a complete python newbie, but google hasn't helped. Any pointers?","""The system cannot find the file specified"" when invoking subprocess.Popen in python",36327,36324,12,"It's a bug, see the documentation of subprocess.Popen. There either needs to be a ""shell=True"" option, or the first argument needs to be a sequence ['svn', '--version']. As it is now, Popen is looking for an executable named, literally, ""svn --version"" which it doesn't find. I don't know why it would work for your colleagues though, if they are running the same OS and version of Python... FWIW it gives me the same error message on a mac, and either of the two ways I gave fixes it."
36806,5,"I have been sold on mod_wsgi and apache rather than mod_python. I have all the parts installed (django, apache, mod_wsgi) but have run into a problem deploying. I am on osx 10.5 with apache 2.2 and django 1.0b2, mod_wsgi-2.3 My application is called tred. Here are the relevant files: httpd-vhosts (included in httpd-conf) NameVirtualHost tred:80 ServerName tred Alias /admin_media /usr/lib/python2.5/site-packages/django/contrib/admin/media Order allow,deny Allow from all Alias /media /Users/dmg/Sites/tred/media Order allow,deny Allow from all Alias / /Users/dmg/Sites/tred/ Order allow,deny Allow from all WSGIScriptAlias / /Users/dmg/Sites/tred/mod_wsgi-handler.wsgi WSGIDaemonProcess tred user=dmg group=staff processes=1 threads=10 WSGIProcessGroup tred mod_wsgi-handle.wsgi import sys import os sys.path.append(os.path.dirname(os.path.abspath(__file__)) + '/..') os.environ['DJANGO_SETTINGS_MODULE'] = 'tred.settings' import django.core.handlers.wsgi application = django.core.handlers.wsgi.WSGIHandler() When I go to http://tred I get a directory listing rather than the rendered website. I think I have followed the tutorials correctly but it is obviously not right. What can I do to make this work?",Setup django with WSGI and apache,37009,36806,5,What happens if you remove the Alias / directive?
36806,5,"I have been sold on mod_wsgi and apache rather than mod_python. I have all the parts installed (django, apache, mod_wsgi) but have run into a problem deploying. I am on osx 10.5 with apache 2.2 and django 1.0b2, mod_wsgi-2.3 My application is called tred. Here are the relevant files: httpd-vhosts (included in httpd-conf) NameVirtualHost tred:80 ServerName tred Alias /admin_media /usr/lib/python2.5/site-packages/django/contrib/admin/media Order allow,deny Allow from all Alias /media /Users/dmg/Sites/tred/media Order allow,deny Allow from all Alias / /Users/dmg/Sites/tred/ Order allow,deny Allow from all WSGIScriptAlias / /Users/dmg/Sites/tred/mod_wsgi-handler.wsgi WSGIDaemonProcess tred user=dmg group=staff processes=1 threads=10 WSGIProcessGroup tred mod_wsgi-handle.wsgi import sys import os sys.path.append(os.path.dirname(os.path.abspath(__file__)) + '/..') os.environ['DJANGO_SETTINGS_MODULE'] = 'tred.settings' import django.core.handlers.wsgi application = django.core.handlers.wsgi.WSGIHandler() When I go to http://tred I get a directory listing rather than the rendered website. I think I have followed the tutorials correctly but it is obviously not right. What can I do to make this work?",Setup django with WSGI and apache,37218,36806,5,"It works. I have no idea why, but it does. For future reference: It works because Apache processes alias directives in order, and uses the first match. It was always hitting Alias /, which will match anything, before WSGIScriptAlias. From the mod_alias documentation: First, all Redirects are processed before Aliases are processed, and therefore a request that matches a Redirect or RedirectMatch will never have Aliases applied. Second, the Aliases and Redirects are processed in the order they appear in the configuration files, with the first match taking precedence."
36806,5,"I have been sold on mod_wsgi and apache rather than mod_python. I have all the parts installed (django, apache, mod_wsgi) but have run into a problem deploying. I am on osx 10.5 with apache 2.2 and django 1.0b2, mod_wsgi-2.3 My application is called tred. Here are the relevant files: httpd-vhosts (included in httpd-conf) NameVirtualHost tred:80 ServerName tred Alias /admin_media /usr/lib/python2.5/site-packages/django/contrib/admin/media Order allow,deny Allow from all Alias /media /Users/dmg/Sites/tred/media Order allow,deny Allow from all Alias / /Users/dmg/Sites/tred/ Order allow,deny Allow from all WSGIScriptAlias / /Users/dmg/Sites/tred/mod_wsgi-handler.wsgi WSGIDaemonProcess tred user=dmg group=staff processes=1 threads=10 WSGIProcessGroup tred mod_wsgi-handle.wsgi import sys import os sys.path.append(os.path.dirname(os.path.abspath(__file__)) + '/..') os.environ['DJANGO_SETTINGS_MODULE'] = 'tred.settings' import django.core.handlers.wsgi application = django.core.handlers.wsgi.WSGIHandler() When I go to http://tred I get a directory listing rather than the rendered website. I think I have followed the tutorials correctly but it is obviously not right. What can I do to make this work?",Setup django with WSGI and apache,1038110,36806,7,"Note that Alias and WSGIScriptAlias directives do not have the same precedence. Thus, they will not be processed in file order as written. Instead, all Alias directives get precedence over WSGIScriptAlias directives. Thus, it wouldn't have mattered if the Alias for '/' appeared after WSGIScriptAlias, it would still have taken precedence."
36812,2,"Currently, I am writing up a bit of a product-based CMS as my first project. Here is my question. How can I add additional data (products) to my Product model? I have added '/admin/products/add' to my urls.py, but I don't really know where to go from there. How would I build both my view and my template? Please keep in mind that I don't really know all that much Python, and I am very new to Django How can I do this all without using this existing django admin interface.",How do I add data to an existing model in Django?,36818,36812,-1,"Follow the Django tutorial for setting up the ""admin"" part of an application. This will allow you to modify your database. Django Admin Setup Alternatively, you can just connect directly to the database using the standard tools for whatever database type you are using."
36812,2,"Currently, I am writing up a bit of a product-based CMS as my first project. Here is my question. How can I add additional data (products) to my Product model? I have added '/admin/products/add' to my urls.py, but I don't really know where to go from there. How would I build both my view and my template? Please keep in mind that I don't really know all that much Python, and I am very new to Django How can I do this all without using this existing django admin interface.",How do I add data to an existing model in Django?,36827,36812,0,This topic is covered in Django tutorials.
36812,2,"Currently, I am writing up a bit of a product-based CMS as my first project. Here is my question. How can I add additional data (products) to my Product model? I have added '/admin/products/add' to my urls.py, but I don't really know where to go from there. How would I build both my view and my template? Please keep in mind that I don't really know all that much Python, and I am very new to Django How can I do this all without using this existing django admin interface.",How do I add data to an existing model in Django?,36935,36812,7,"You will want to wire your URL to the Django create_object generic view, and pass it either ""model"" (the model you want to create) or ""form_class"" (a customized ModelForm class). There are a number of other arguments you can also pass to override default behaviors. Sample URLconf for the simplest case: from django.conf.urls.defaults import * from django.views.generic.create_update import create_object from my_products_app.models import Product urlpatterns = patterns('', url(r'^admin/products/add/$', create_object, {'model': Product})) Your template will get the context variable ""form"", which you just need to wrap in a &lt;form> tag and add a submit button. The simplest working template (by default should go in ""my_products_app/product_form.html""): &lt;form action=""."" method=""POST""&gt; {{ form }} &lt;input type=""submit"" name=""submit"" value=""add""&gt; &lt;/form&gt; Note that your Product model must have a get_absolute_url method, or else you must pass in the post_save_redirect parameter to the view. Otherwise it won't know where to redirect to after save."
36901,833,"In the following method definitions, what does the * and ** do for param2? def foo(param1, *param2): def bar(param1, **param2):",What does ** (double star) and * (star) do for Python parameters?,36902,36901,9,"From the Python documentation: If there are more positional arguments than there are formal parameter slots, a TypeError exception is raised, unless a formal parameter using the syntax ""*identifier"" is present; in this case, that formal parameter receives a tuple containing the excess positional arguments (or an empty tuple if there were no excess positional arguments). If any keyword argument does not correspond to a formal parameter name, a TypeError exception is raised, unless a formal parameter using the syntax ""**identifier"" is present; in this case, that formal parameter receives a dictionary containing the excess keyword arguments (using the keywords as keys and the argument values as corresponding values), or a (new) empty dictionary if there were no excess keyword arguments."
36901,833,"In the following method definitions, what does the * and ** do for param2? def foo(param1, *param2): def bar(param1, **param2):",What does ** (double star) and * (star) do for Python parameters?,36908,36901,877,"The *args and **kwargs is a common idiom to allow arbitrary number of arguments to functions as described in the section more on defining functions in the Python documentation. The *args will give you all function parameters as a tuple: In [1]: def foo(*args): ...: for a in args: ...: print a ...: ...: In [2]: foo(1) 1 In [4]: foo(1,2,3) 1 2 3 The **kwargs will give you all keyword arguments except for those corresponding to a formal parameter as a dictionary. In [5]: def bar(**kwargs): ...: for a in kwargs: ...: print a, kwargs[a] ...: ...: In [6]: bar(name='one', age=27) age 27 name one Both idioms can be mixed with normal arguments to allow a set of fixed and some variable arguments: def foo(kind, *args, **kwargs): pass Another usage of the *l idiom is to unpack argument lists when calling a function. In [9]: def foo(bar, lee): ...: print bar, lee ...: ...: In [10]: l = [1,2] In [11]: foo(*l) 1 2 In Python 3 it is possible to use *l on the left side of an assignment (Extended Iterable Unpacking): first, *rest = [1,2,3,4] first, *l, last = [1,2,3,4] Also Python 3 adds new semantic (refer PEP 3102): def func(arg1, arg2, arg3='default', *, kwarg1='abc', kwarg2='xyz'): pass Such function accepts only 2 positional arguments, and everything after * can only be passed as keyword argument, not positional one. In Python 2 similar was true for all parameters after *args."
36901,833,"In the following method definitions, what does the * and ** do for param2? def foo(param1, *param2): def bar(param1, **param2):",What does ** (double star) and * (star) do for Python parameters?,36911,36901,89,"The single * means that there can be any number of extra positional arguments. foo() can be invoked like foo(1,2,3,4,5). In the body of foo() param2 is a sequence containing 2-5. The double ** means there can be any number of extra named parameters. bar() can be invoked like bar(1, a=2, b=3). In the body of bar() param2 is a dictionary containing {'a':2, 'b':3 } With the following code: def foo(param1, *param2): print param1 print param2 def bar(param1, **param2): print param1 print param2 foo(1,2,3,4,5) bar(1,a=2,b=3) the output is 1 (2, 3, 4, 5) 1 {'a': 2, 'b': 3}"
36901,833,"In the following method definitions, what does the * and ** do for param2? def foo(param1, *param2): def bar(param1, **param2):",What does ** (double star) and * (star) do for Python parameters?,36926,36901,244,"It's also worth noting that you can use * and ** when calling functions as well. This is a shortcut that allows you to pass multiple arguments to a function directly using either a list/tuple or a dictionary. For example, if you have the following function: def foo(x,y,z): print ""x="" + str(x) print ""y="" + str(y) print ""z="" + str(z) You can do things like: &gt;&gt;&gt; mylist = [1,2,3] &gt;&gt;&gt; foo(*mylist) x=1 y=2 z=3 &gt;&gt;&gt; mydict = {'x':1,'y':2,'z':3} &gt;&gt;&gt; foo(**mydict) x=1 y=2 z=3 &gt;&gt;&gt; mytuple = (1, 2, 3) &gt;&gt;&gt; foo(*mytuple) x=1 y=2 z=3"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,36937,36932,610,"Before PEP 435, Python didn't have an equivalent but you could implement your own. Myself, I like keeping it simple (I've seen some horribly complex examples on the net), something like this ... class Animal: DOG = 1 CAT = 2 x = Animal.DOG In Python 3.4 (PEP 435), you can make Enum the base class. This gets you a little bit of extra functionality, described in the PEP. For example, enum values are distinct from integers. class Animal(Enum): DOG = 1 CAT = 2 print(Animal.DOG) &lt;Animal.DOG: 1&gt; If you don't want to type the values, use the following shortcut: class Animal(Enum): DOG, CAT = range(2)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,36940,36932,17,"Hmmm... I suppose the closest thing to an enum would be a dictionary, defined either like this: months = { 'January': 1, 'February': 2, ... } or months = dict( January=1, February=2, ... ) Then, you can use the symbolic name for the constants like this: mymonth = months['January'] There are other options, like a list of tuples, or a tuple of tuples, but the dictionary is the only one that provides you with a ""symbolic"" (constant string) way to access the value. Edit: I like Alexandru's answer too!"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,37000,36932,42,"Python doesn't have a built-in equivalent to enum, and other answers have ideas for implementing your own (you may also be interested in the over the top version in the Python cookbook). However, in situations where an enum would be called for in C, I usually end up just using simple strings: because of the way objects/attributes are implemented, (C)Python is optimized to work very fast with short strings anyway, so there wouldn't really be any performance benefit to using integers. To guard against typos / invalid values you can insert checks in selected places. ANIMALS = ['cat', 'dog', 'python'] def take_for_a_walk(animal): assert animal in ANIMALS ... (One disadvantage compared to using a class is that you lose the benefit of autocomplete)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,37081,36932,140,"If you need the numeric values, here's the quickest way: dog, cat, rabbit = range(3)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,38092,36932,72,"The typesafe enum pattern which was used in Java pre-JDK 5 has a number of advantages. Much like in Alexandru's answer, you create a class and class level fields are the enum values; however, the enum values are instances of the class rather than small integers. This has the advantage that your enum values don't inadvertently compare equal to small integers, you can control how they're printed, add arbitrary methods if that's useful and make assertions using isinstance: class Animal: def __init__(self, name): self.name = name def __str__(self): return self.name def __repr__(self): return ""&lt;Animal: %s&gt;"" % self Animal.DOG = Animal(""dog"") Animal.CAT = Animal(""cat"") &gt;&gt;&gt; x = Animal.DOG &gt;&gt;&gt; x &lt;Animal: dog&gt; &gt;&gt;&gt; x == 1 False A recent thread on python-dev pointed out there are a couple of enum libraries in the wild, including: flufl.enum lazr.enum ... and the imaginatively named enum"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,38762,36932,13,"davidg recommends using dicts. I'd go one step further and use sets: months = set('January', 'February', ..., 'December') Now you can test whether a value matches one of the values in the set like this: if m in months: like dF, though, I usually just use string constants in place of enums."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,99347,36932,5,"Alexandru's suggestion of using class constants for enums works quite well. I also like to add a dictionary for each set of constants to lookup a human-readable string representation. This serves two purposes: a) it provides a simple way to pretty-print your enum and b) the dictionary logically groups the constants so that you can test for membership. class Animal: TYPE_DOG = 1 TYPE_CAT = 2 type2str = { TYPE_DOG: ""dog"", TYPE_CAT: ""cat"" } def __init__(self, type_): assert type_ in self.type2str.keys() self._type = type_ def __repr__(self): return ""&lt;%s type=%s&gt;"" % ( self.__class__.__name__, self.type2str[self._type].upper())"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,107973,36932,26,"def M_add_class_attribs(attribs): def foo(name, bases, dict_): for v, k in attribs: dict_[k] = v return type(name, bases, dict_) return foo def enum(*names): class Foo(object): __metaclass__ = M_add_class_attribs(enumerate(names)) def __setattr__(self, name, value): # this makes it read-only raise NotImplementedError return Foo() Use it like this: Animal = enum('DOG', 'CAT') Animal.DOG # returns 0 Animal.CAT # returns 1 Animal.DOG = 2 # raises NotImplementedError if you just want unique symbols and don't care about the values, replace this line: __metaclass__ = M_add_class_attribs(enumerate(names)) with this: __metaclass__ = M_add_class_attribs((object(), name) for name in names)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,220537,36932,2,"It's funny, I just had a need for this the other day and I couldnt find an implementation worth using... so I wrote my own: import functools class EnumValue(object): def __init__(self,name,value,type): self.__value=value self.__name=name self.Type=type def __str__(self): return self.__name def __repr__(self):#2.6 only... so change to what ever you need... return '{cls}({0!r},{1!r},{2})'.format(self.__name,self.__value,self.Type.__name__,cls=type(self).__name__) def __hash__(self): return hash(self.__value) def __nonzero__(self): return bool(self.__value) def __cmp__(self,other): if isinstance(other,EnumValue): return cmp(self.__value,other.__value) else: return cmp(self.__value,other)#hopefully their the same type... but who cares? def __or__(self,other): if other is None: return self elif type(self) is not type(other): raise TypeError() return EnumValue('{0.Name} | {1.Name}'.format(self,other),self.Value|other.Value,self.Type) def __and__(self,other): if other is None: return self elif type(self) is not type(other): raise TypeError() return EnumValue('{0.Name} &amp; {1.Name}'.format(self,other),self.Value&amp;other.Value,self.Type) def __contains__(self,other): if self.Value==other.Value: return True return bool(self&amp;other) def __invert__(self): enumerables=self.Type.__enumerables__ return functools.reduce(EnumValue.__or__,(enum for enum in enumerables.itervalues() if enum not in self)) @property def Name(self): return self.__name @property def Value(self): return self.__value class EnumMeta(type): @staticmethod def __addToReverseLookup(rev,value,newKeys,nextIter,force=True): if value in rev: forced,items=rev.get(value,(force,()) ) if forced and force: #value was forced, so just append rev[value]=(True,items+newKeys) elif not forced:#move it to a new spot next=nextIter.next() EnumMeta.__addToReverseLookup(rev,next,items,nextIter,False) rev[value]=(force,newKeys) else: #not forcing this value next = nextIter.next() EnumMeta.__addToReverseLookup(rev,next,newKeys,nextIter,False) rev[value]=(force,newKeys) else:#set it and forget it rev[value]=(force,newKeys) return value def __init__(cls,name,bases,atts): classVars=vars(cls) enums = classVars.get('__enumerables__',None) nextIter = getattr(cls,'__nextitr__',itertools.count)() reverseLookup={} values={} if enums is not None: #build reverse lookup for item in enums: if isinstance(item,(tuple,list)): items=list(item) value=items.pop() EnumMeta.__addToReverseLookup(reverseLookup,value,tuple(map(str,items)),nextIter) else: value=nextIter.next() value=EnumMeta.__addToReverseLookup(reverseLookup,value,(str(item),),nextIter,False)#add it to the reverse lookup, but don't force it to that value #build values and clean up reverse lookup for value,fkeys in reverseLookup.iteritems(): f,keys=fkeys for key in keys: enum=EnumValue(key,value,cls) setattr(cls,key,enum) values[key]=enum reverseLookup[value]=tuple(val for val in values.itervalues() if val.Value == value) setattr(cls,'__reverseLookup__',reverseLookup) setattr(cls,'__enumerables__',values) setattr(cls,'_Max',max([key for key in reverseLookup] or [0])) return super(EnumMeta,cls).__init__(name,bases,atts) def __iter__(cls): for enum in cls.__enumerables__.itervalues(): yield enum def GetEnumByName(cls,name): return cls.__enumerables__.get(name,None) def GetEnumByValue(cls,value): return cls.__reverseLookup__.get(value,(None,))[0] class Enum(object): __metaclass__=EnumMeta __enumerables__=None class FlagEnum(Enum): @staticmethod def __nextitr__(): yield 0 for val in itertools.count(): yield 2**val def enum(name,*args): return EnumMeta(name,(Enum,),dict(__enumerables__=args)) Take it or leave it, it did what I needed it to do :) Use it like: class Air(FlagEnum): __enumerables__=('None','Oxygen','Nitrogen','Hydrogen') class Mammals(Enum): __enumerables__=('Bat','Whale',('Dog','Puppy',1),'Cat') Bool = enum('Bool','Yes',('No',0))"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,505457,36932,14,"What I use: class Enum(object): def __init__(self, names, separator=None): self.names = names.split(separator) for value, name in enumerate(self.names): setattr(self, name.upper(), value) def tuples(self): return tuple(enumerate(self.names)) How to use: &gt;&gt;&gt; state = Enum('draft published retracted') &gt;&gt;&gt; state.DRAFT 0 &gt;&gt;&gt; state.RETRACTED 2 &gt;&gt;&gt; state.FOO Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; AttributeError: 'Enum' object has no attribute 'FOO' &gt;&gt;&gt; state.tuples() ((0, 'draft'), (1, 'published'), (2, 'retracted')) So this gives you integer constants like state.PUBLISHED and the two-tuples to use as choices in Django models."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1529241,36932,101,"The best solution for you would depend on what you require from your fake enum. Simple enum: If you need the enum as only a list of names identifying different items, the solution by Mark Harrison (above) is great: Pen, Pencil, Eraser = range(0, 3) Using a range also allows you to set any starting value: Pen, Pencil, Eraser = range(9, 12) In addition to the above, if you also require that the items belong to a container of some sort, then embed them in a class: class Stationery: Pen, Pencil, Eraser = range(0, 3) To use the enum item, you would now need to use the container name and the item name: stype = Stationery.Pen Complex enum: For long lists of enum or more complicated uses of enum, these solutions will not suffice. You could look to the recipe by Will Ware for Simulating Enumerations in Python published in the Python Cookbook. An online version of that is available here. More info: PEP 354: Enumerations in Python has the interesting details of a proposal for enum in Python and why it was rejected."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1587932,36932,1,"Use the following. TYPE = {'EAN13': u'EAN-13', 'CODE39': u'Code 39', 'CODE128': u'Code 128', 'i25': u'Interleaved 2 of 5',} &gt;&gt;&gt; TYPE.items() [('EAN13', u'EAN-13'), ('i25', u'Interleaved 2 of 5'), ('CODE39', u'Code 39'), ('CODE128', u'Code 128')] &gt;&gt;&gt; TYPE.keys() ['EAN13', 'i25', 'CODE39', 'CODE128'] &gt;&gt;&gt; TYPE.values() [u'EAN-13', u'Interleaved 2 of 5', u'Code 39', u'Code 128'] I used that for Django model choices, and it looks very pythonic. It is not really an Enum, but it does the job."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1695250,36932,1857,"Enums have been added to Python 3.4 as described in PEP 435. It has also been backported to 3.3, 3.2, 3.1, 2.7, 2.6, 2.5, and 2.4 on pypi. For more advanced Enum techniques try the aenum library (2.7, 3.3+, same author as enum34. Code is not perfectly compatible between py2 and py3, e.g. you'll need __order__ in python 2). To use enum34, do $ pip install enum34 To use aenum, do $ pip install aenum Installing enum (no numbers) will install a completely different and incompatible version. from enum import Enum # for enum34, or the stdlib version # from aenum import Enum # for the aenum version Animal = Enum('Animal', 'ant bee cat dog') Animal.ant # returns &lt;Animal.ant: 1&gt; Animal['ant'] # returns &lt;Animal.ant: 1&gt; (string lookup) Animal.ant.name # returns 'ant' (inverse lookup) or equivalently: class Animal(Enum): ant = 1 bee = 2 cat = 3 dog = 4 In earlier versions, one way of accomplishing enums is: def enum(**enums): return type('Enum', (), enums) which is used like so: &gt;&gt;&gt; Numbers = enum(ONE=1, TWO=2, THREE='three') &gt;&gt;&gt; Numbers.ONE 1 &gt;&gt;&gt; Numbers.TWO 2 &gt;&gt;&gt; Numbers.THREE 'three' You can also easily support automatic enumeration with something like this: def enum(*sequential, **named): enums = dict(zip(sequential, range(len(sequential))), **named) return type('Enum', (), enums) and used like so: &gt;&gt;&gt; Numbers = enum('ZERO', 'ONE', 'TWO') &gt;&gt;&gt; Numbers.ZERO 0 &gt;&gt;&gt; Numbers.ONE 1 Support for converting the values back to names can be added this way: def enum(*sequential, **named): enums = dict(zip(sequential, range(len(sequential))), **named) reverse = dict((value, key) for key, value in enums.iteritems()) enums['reverse_mapping'] = reverse return type('Enum', (), enums) This overwrites anything with that name, but it is useful for rendering your enums in output. It will throw KeyError if the reverse mapping doesn't exist. With the first example: &gt;&gt;&gt; Numbers.reverse_mapping['three'] 'THREE'"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1751697,36932,2,"I had need of some symbolic constants in pyparsing to represent left and right associativity of binary operators. I used class constants like this: # an internal class, not intended to be seen by client code class _Constants(object): pass # an enumeration of constants for operator associativity opAssoc = _Constants() opAssoc.LEFT = object() opAssoc.RIGHT = object() Now when client code wants to use these constants, they can import the entire enum using: import opAssoc from pyparsing The enumerations are unique, they can be tested with 'is' instead of '==', they don't take up a big footprint in my code for a minor concept, and they are easily imported into the client code. They don't support any fancy str() behavior, but so far that is in the YAGNI category."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,1753340,36932,11,"This is the best one I have seen: ""First Class Enums in Python"" http://code.activestate.com/recipes/413486/ It gives you a class, and the class contains all the enums. The enums can be compared to each other, but don't have any particular value; you can't use them as an integer value. (I resisted this at first because I am used to C enums, which are integer values. But if you can't use it as an integer, you can't use it as an integer by mistake so overall I think it is a win.) Each enum is a unique value. You can print enums, you can iterate over them, you can test that an enum value is ""in"" the enum. It's pretty complete and slick. Edit (cfi): The above link is not Python 3 compatible. Here's my port of enum.py to Python 3: def cmp(a,b): if a &lt; b: return -1 if b &lt; a: return 1 return 0 def Enum(*names): ##assert names, ""Empty enums are not supported"" # &lt;- Don't like empty enums? Uncomment! class EnumClass(object): __slots__ = names def __iter__(self): return iter(constants) def __len__(self): return len(constants) def __getitem__(self, i): return constants[i] def __repr__(self): return 'Enum' + str(names) def __str__(self): return 'enum ' + str(constants) class EnumValue(object): __slots__ = ('__value') def __init__(self, value): self.__value = value Value = property(lambda self: self.__value) EnumType = property(lambda self: EnumType) def __hash__(self): return hash(self.__value) def __cmp__(self, other): # C fans might want to remove the following assertion # to make all enums comparable by ordinal value {;)) assert self.EnumType is other.EnumType, ""Only values from the same enum are comparable"" return cmp(self.__value, other.__value) def __lt__(self, other): return self.__cmp__(other) &lt; 0 def __eq__(self, other): return self.__cmp__(other) == 0 def __invert__(self): return constants[maximum - self.__value] def __nonzero__(self): return bool(self.__value) def __repr__(self): return str(names[self.__value]) maximum = len(names) - 1 constants = [None] * len(names) for i, each in enumerate(names): val = EnumValue(i) setattr(EnumClass, each, val) constants[i] = val constants = tuple(constants) EnumType = EnumClass() return EnumType if __name__ == '__main__': print( '\n*** Enum Demo ***') print( '--- Days of week ---') Days = Enum('Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su') print( Days) print( Days.Mo) print( Days.Fr) print( Days.Mo &lt; Days.Fr) print( list(Days)) for each in Days: print( 'Day:', each) print( '--- Yes/No ---') Confirmation = Enum('No', 'Yes') answer = Confirmation.No print( 'Your answer is not', ~answer)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2182437,36932,270,"Here is one implementation: class Enum(set): def __getattr__(self, name): if name in self: return name raise AttributeError Here is its usage: Animals = Enum([""DOG"", ""CAT"", ""HORSE""]) print(Animals.DOG)"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2389722,36932,1,"Following the Java like enum implementation proposed by Aaron Maenpaa, I came out with the following. The idea was to make it generic and parseable. class Enum: #''' #Java like implementation for enums. # #Usage: #class Tool(Enum): name = 'Tool' #Tool.DRILL = Tool.register('drill') #Tool.HAMMER = Tool.register('hammer') #Tool.WRENCH = Tool.register('wrench') #''' name = 'Enum' # Enum name _reg = dict([]) # Enum registered values @classmethod def register(cls, value): #''' #Registers a new value in this enum. # #@param value: New enum value. # #@return: New value wrapper instance. #''' inst = cls(value) cls._reg[value] = inst return inst @classmethod def parse(cls, value): #''' #Parses a value, returning the enum instance. # #@param value: Enum value. # #@return: Value corresp instance. #''' return cls._reg.get(value) def __init__(self, value): #''' #Constructor (only for internal use). #''' self.value = value def __str__(self): #''' #str() overload. #''' return self.value def __repr__(self): #''' #repr() overload. #''' return ""&lt;"" + self.name + "": "" + self.value + ""&gt;"""
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2458660,36932,5,"The enum package from PyPI provides a robust implementation of enums. An earlier answer mentioned PEP 354; this was rejected but the proposal was implemented http://pypi.python.org/pypi/enum. Usage is easy and elegant: &gt;&gt;&gt; from enum import Enum &gt;&gt;&gt; Colors = Enum('red', 'blue', 'green') &gt;&gt;&gt; shirt_color = Colors.green &gt;&gt;&gt; shirt_color = Colors[2] &gt;&gt;&gt; shirt_color &gt; Colors.red True &gt;&gt;&gt; shirt_color.index 2 &gt;&gt;&gt; str(shirt_color) 'green'"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2785738,36932,2,"Why must enumerations be ints? Unfortunately, I can't think of any good looking construct to produce this without changing the Python language, so I'll use strings: class Enumerator(object): def __init__(self, name): self.name = name def __eq__(self, other): if self.name == other: return True return self is other def __ne__(self, other): if self.name != other: return False return self is other def __repr__(self): return 'Enumerator({0})'.format(self.name) def __str__(self): return self.name class Enum(object): def __init__(self, *enumerators): for e in enumerators: setattr(self, e, Enumerator(e)) def __getitem__(self, key): return getattr(self, key) Then again maybe it's even better now that we can naturally test against strings, for the sake of configuration files or other remote input. Example: class Cow(object): State = Enum( 'standing', 'walking', 'eating', 'mooing', 'sleeping', 'dead', 'dying' ) state = State.standing In [1]: from enum import Enum In [2]: c = Cow() In [3]: c2 = Cow() In [4]: c.state, c2.state Out[4]: (Enumerator(standing), Enumerator(standing)) In [5]: c.state == c2.state Out[5]: True In [6]: c.State.mooing Out[6]: Enumerator(mooing) In [7]: c.State['mooing'] Out[7]: Enumerator(mooing) In [8]: c.state = Cow.State.dead In [9]: c.state == c2.state Out[9]: False In [10]: c.state == Cow.State.dead Out[10]: True In [11]: c.state == 'dead' Out[11]: True In [12]: c.state == Cow.State['dead'] Out[11]: True"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2913233,36932,1,"def enum( *names ): ''' Makes enum. Usage: E = enum( 'YOUR', 'KEYS', 'HERE' ) print( E.HERE ) ''' class Enum(): pass for index, name in enumerate( names ): setattr( Enum, name, index ) return Enum"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,2976036,36932,1,"I like the Java enum, that's how I do it in Python: def enum(clsdef): class Enum(object): __slots__=tuple([var for var in clsdef.__dict__ if isinstance((getattr(clsdef, var)), tuple) and not var.startswith('__')]) def __new__(cls, *args, **kwargs): if not '_the_instance' in cls.__dict__: cls._the_instance = object.__new__(cls, *args, **kwargs) return cls._the_instance def __init__(self): clsdef.values=lambda cls, e=Enum: e.values() clsdef.valueOf=lambda cls, n, e=self: e.valueOf(n) for ordinal, key in enumerate(self.__class__.__slots__): args=getattr(clsdef, key) instance=clsdef(*args) instance._name=key instance._ordinal=ordinal setattr(self, key, instance) @classmethod def values(cls): if not hasattr(cls, '_values'): cls._values=[getattr(cls, name) for name in cls.__slots__] return cls._values def valueOf(self, name): return getattr(self, name) def __repr__(self): return ''.join(['&lt;class Enum (', clsdef.__name__, ') at ', str(hex(id(self))), '&gt;']) return Enum() Sample use: i=2 @enum class Test(object): A=(""a"",1) B=(""b"",) C=(""c"",2) D=tuple() E=(""e"",3) while True: try: F, G, H, I, J, K, L, M, N, O=[tuple() for _ in range(i)] break; except ValueError: i+=1 def __init__(self, name=""default"", aparam=0): self.name=name self.avalue=aparam All class variables are defined as a tuple, just like the constructor. So far, you can't use named arguments."
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,4092436,36932,37,"So, I agree. Let's not enforce type safety in Python, but I would like to protect myself from silly mistakes. So what do we think about this? class Animal(object): values = ['Horse','Dog','Cat'] class __metaclass__(type): def __getattr__(self, name): return self.values.index(name) It keeps me from value-collision in defining my enums. &gt;&gt;&gt; Animal.Cat 2 There's another handy advantage: really fast reverse lookups: def name_of(self, i): return self.values[i]"
36932,1146,"I'm mainly a C# developer, but I'm currently working on a project in Python. How can I represent the equivalent of an Enum in Python?",How can I represent an 'Enum' in Python?,4300343,36932,25,"I prefer to define enums in Python like so: class Animal: class Dog: pass class Cat: pass x = Animal.Dog It's more bug-proof than using integers since you don't have to worry about ensuring that the integers are unique (e.g. if you said Dog = 1 and Cat = 1 you'd be screwed). It's more bug-proof than using strings since you don't have to worry about typos (e.g. x == ""catt"" fails silently, but x == Animal.Catt is a runtime exception)."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",36978,36953,4,"Have a look at the standard module shlex and modify one copy of it to match the syntax you use for your shell, it is a good starting point If you want all the power of a complete solution for lexing/parsing, ANTLR can generate python too."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",37245,36953,3,"I suggest http://www.canonware.com/Parsing/, since it is pure python and you don't need to learn a grammar, but it isn't widely used, and has comparatively little documentation. The heavyweight is ANTLR and PyParsing. ANTLR can generate java and C++ parsers too, and AST walkers but you will have to learn what amounts to a new language."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",107187,36953,23,"I'm a happy user of PLY. It is a pure-Python implementation of Lex &amp; Yacc, with lots of small niceties that make it quite Pythonic and easy to use. Since Lex &amp; Yacc are the most popular lexing &amp; parsing tools and are used for the most projects, PLY has the advantage of standing on giants' shoulders. A lot of knowledge exists online on Lex &amp; Yacc, and you can freely apply it to PLY. PLY also has a good documentation page with some simple examples to get you started. For a listing of lots of Python parsing tools, see this."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",107207,36953,4,"pygments is a source code syntax highlighter written in python. It has lexers and formatters, and may be interesting to peek at the source."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",137207,36953,15,"For medium-complex grammars, PyParsing is brilliant. You can define grammars directly within Python code, no need for code generation: &gt;&gt;&gt; from pyparsing import Word, alphas &gt;&gt;&gt; greet = Word( alphas ) + "","" + Word( alphas ) + ""!"" # &lt;-- grammar defined here &gt;&gt;&gt; hello = ""Hello, World!"" &gt;&gt;&gt;&gt; print hello, ""-&gt;"", greet.parseString( hello ) Hello, World! -&gt; ['Hello', ',', 'World', '!'] (Example taken from the PyParsing home page). With parse actions (functions that are invoked when a certain grammar rule is triggered), you can convert parses directly into abstract syntax trees, or any other representation. There are many helper functions that encapsulate recurring patterns, like operator hierarchies, quoted strings, nesting or C-style comments."
36953,45,"Can people point me to resources on lexing, parsing and tokenising with Python? I'm doing a little hacking on an open source project (hotwire) and wanted to do a few changes to the code that lexes, parses and tokenises the commands entered into it. As it is real working code it is fairly complex and a bit hard to work out. I haven't worked on code to lex/parse/tokenise before, so I was thinking one approach would be to work through a tutorial or two on this aspect. I would hope to learn enough to navigate around the code I actually want to alter. Is there anything suitable out there? (Ideally it could be done in an afternoon without having to buy and read the dragon book first ...) Edit: (7 Oct 2008) None of the below answers quite give what I want. With them I could generate parsers from scratch, but I want to learn how to write my own basic parser from scratch, not using lex and yacc or similar tools. Having done that I can then understand the existing code better. So could someone point me to a tutorial where I can build a basic parser from scratch, using just python?","Resources for lexing, tokenising and parsing in python",279733,36953,4,"Here's a few things to get you started (roughly from simplest-to-most-complex, least-to-most-powerful): http://en.wikipedia.org/wiki/Recursive_descent_parser http://en.wikipedia.org/wiki/Top-down_parsing http://en.wikipedia.org/wiki/LL_parser http://effbot.org/zone/simple-top-down-parsing.htm http://en.wikipedia.org/wiki/Bottom-up_parsing http://en.wikipedia.org/wiki/LR_parser http://en.wikipedia.org/wiki/GLR_parser When I learned this stuff, it was in a semester-long 400-level university course. We did a number of assignments where we did parsing by hand; if you want to really understand what's going on under the hood, I'd recommend the same approach. This isn't the book I used, but it's pretty good: Principles of Compiler Design. Hopefully that's enough to get you started :)"
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,37146,37142,1,"Use an interface that runs each response in a separate interpreter, such as mod_wsgi for Python. This lets multi-threading be used without encountering the GIL. EDIT: Apparently, mod_wsgi no longer supports multiple interpreters per process because idiots couldn't figure out how to properly implement extension modules. It still supports running requests in separate processes FastCGI-style, though, so that's apparently the current accepted solution."
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,37153,37142,4,"I'm not totally sure which problem you want so solve, but if you deploy your python/django application via an apache prefork MPM using mod_python apache will start several worker processes for handling different requests. If one request needs so much resources, that you want to use multiple cores have a look at pyprocessing. But I don't think that would be wise."
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,37203,37142,4,"The 'standard' way to do this with rails is to run a ""pack"" of Mongrel instances (ie: 4 copies of the rails application) and then use apache or nginx or some other piece of software to sit in front of them and act as a load balancer. This is probably how it's done with other ruby frameworks such as merb etc, but I haven't used those personally. The OS will take care of running each mongrel on it's own CPU. If you install mod_rails aka phusion passenger it will start and stop multiple copies of the rails process for you as well, so it will end up spreading the load across multiple CPUs/cores in a similar way."
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,190394,37142,1,"In Python and Ruby it is only possible to use multiple cores, is to spawn new (heavyweight) processes. The Java counterparts inherit the possibilities of the Java platform. You could imply use Java threads. That is for example a reason why sometimes (often) Java Application Server like Glassfish are used for Ruby on Rails applications."
37142,7,"Even though Python and Ruby have one kernel thread per interpreter thread, they have a global interpreter lock (GIL) that is used to protect potentially shared data structures, so this inhibits multi-processor execution. Even though the portions in those languajes that are written in C or C++ can be free-threaded, that's not possible with pure interpreted code unless you use multiple processes. What's the best way to achieve this? Using FastCGI? Creating a cluster or a farm of virtualized servers? Using their Java equivalents, JRuby and Jython?",How to make Ruby or Python web sites to use multiple cores?,191257,37142,0,"For Python, the PyProcessing project allows you to program with processes much like you would use threads. It is included in the standard library of the recently released 2.6 version as multiprocessing. The module has many features for establishing and controlling access to shared data structures (queues, pipes, etc.) and support for common idioms (i.e. managers and worker pools)."
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37488,37479,0,"Is what I'm trying to do possible? If so, what am I doing wrong? It's certainly possible. What's wrong is that HTMLDecorator.__init__() doesn't accept parameters. Here's a simple example: def decorator (func): def new_func (): return ""new_func %s"" % func () return new_func @decorator def a (): return ""a"" def b (): return ""b"" print a() # new_func a print decorator (b)() # new_func b"
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37513,37479,0,"@John (37448): Sorry, I might have misled you with the name (bad choice). I'm not really looking for a decorator function, or anything to do with decorators at all. What I'm after is for the html(self) def to use ClassX or ClassY's __repr__. I want this to work without modifying ClassX or ClassY."
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37526,37479,0,"Ah, in that case, perhaps code like this will be useful? It doesn't really have anything to do with decorators, but demonstrates how to pass arguments to a class's initialization function and to retrieve those arguments for later. import cgi class ClassX(object): def __repr__ (self): return ""&lt;class X&gt;"" class HTMLDecorator(object): def __init__ (self, wrapped): self.__wrapped = wrapped def html (self): sep = cgi.escape (repr (self.__wrapped)) return sep.join ((""&lt;H1&gt;"", ""&lt;/H1&gt;"")) inst_x=ClassX() inst_b=True print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_b).html()"
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37544,37479,0,"@John (37479): Very close, but then I lose everything from ClassX. Below is something a collegue gave me that does do the trick, but it's hideous. There has to be a better way. import cgi from math import sqrt class ClassX(object): def __repr__(self): return ""Best Guess"" class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True avoid=""__class__ __init__ __dict__ __weakref__"" class HTMLDecorator(object): def __init__(self,master): self.master = master for attr in dir(self.master): if ( not attr.startswith(""__"") or attr not in avoid.split() and ""attr"" not in attr): self.__setattr__(attr, self.master.__getattribute__(attr)) def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) def length(self): return sqrt(sum(self.__iter__())) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) print wrapped_z.length() inst_z[0] += 70 #wrapped_z[0] += 71 wrapped_z.__setitem__(0,wrapped_z.__getitem__(0)+ 71) print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: &lt;H1&gt;Best Guess&lt;/H1&gt; &lt;H1&gt;&lt;__main__.ClassY object at 0x891df0c&gt;&lt;/H1&gt; 70.0 &lt;H1&gt;[141, 1, 4, 9, 16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225, 256, 289, 324, 361, 400, 441, 484, 529, 576]&lt;/H1&gt; &lt;H1&gt;True&lt;/H1&gt;"
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37571,37479,2,"Very close, but then I lose everything from ClassX. Below is something a collegue gave me that does do the trick, but it's hideous. There has to be a better way. Looks like you're trying to set up some sort of proxy object scheme. That's doable, and there are better solutions than your colleague's, but first consider whether it would be easier to just patch in some extra methods. This won't work for built-in classes like bool, but it will for your user-defined classes: def HTMLDecorator (obj): def html (): sep = cgi.escape (repr (obj)) return sep.join ((""&lt;H1&gt;"", ""&lt;/H1&gt;"")) obj.html = html return obj And here is the proxy version: class HTMLDecorator(object): def __init__ (self, wrapped): self.__wrapped = wrapped def html (self): sep = cgi.escape (repr (self.__wrapped)) return sep.join ((""&lt;H1&gt;"", ""&lt;/H1&gt;"")) def __getattr__ (self, name): return getattr (self.__wrapped, name) def __setattr__ (self, name, value): if not name.startswith ('_HTMLDecorator__'): setattr (self.__wrapped, name, value) return super (HTMLDecorator, self).__setattr__ (name, value) def __delattr__ (self, name): delattr (self.__wraped, name)"
37479,0,"below I have a very simple example of what I'm trying to do. I want to be able to use HTMLDecorator with any other class. Ignore the fact it's called decorator, it's just a name. import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() inst_z=[ i*i for I in range(25) ] inst_b=True class HTMLDecorator(object): def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) print HTMLDecorator(inst_x).html() print HTMLDecorator(inst_y).html() wrapped_z = HTMLDecorator(inst_z) inst_z[0] += 70 wrapped_z[0] += 71 print wrapped_z.html() print HTMLDecorator(inst_b).html() Output: Traceback (most recent call last): File ""html.py"", line 21, in print HTMLDecorator(inst_x).html() TypeError: default __new__ takes no parameters Is what I'm trying to do possible? If so, what am I doing wrong?",How can I simply inherit methods from an existing instance?,37619,37479,2,"Both of John's solutions would work. Another option that allows HTMLDecorator to remain very simple and clean is to monkey-patch it in as a base class. This also works only for user-defined classes, not builtin types: import cgi class ClassX(object): pass # ... with own __repr__ class ClassY(object): pass # ... with own __repr__ inst_x=ClassX() inst_y=ClassY() class HTMLDecorator: def html(self): # an ""enhanced"" version of __repr__ return cgi.escape(self.__repr__()).join((""&lt;H1&gt;"",""&lt;/H1&gt;"")) ClassX.__bases__ += (HTMLDecorator,) ClassY.__bases__ += (HTMLDecorator,) print inst_x.html() print inst_y.html() Be warned, though -- monkey-patching like this comes with a high price in readability and maintainability of your code. When you go back to this code a year later, it can become very difficult to figure out how your ClassX got that html() method, especially if ClassX is defined in some other library."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37496,37486,4,How about parsing the HTML data and extracting the data with the help of the parser ? I'd try something like the author described in chapter 8.3 in the Dive Into Python book
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37502,37486,6,"While I agree with Lucas that regular expressions are not all that scary, I still think that you should go with a specialized HTML parser. This is because the HTML standard is hairy enough (especially if you want to parse arbitrarily ""HTML"" pages taken off the Internet) that you would need to write a lot of code to handle the corner cases. It seems that python includes one out of the box. You should also check out the python bindings for TidyLib which can clean up broken HTML, making the success rate of any HTML parsing much higher."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37504,37486,1,"You might need something more complicated than a regular expression. Web pages often have angle brackets that aren't part of a tag, like this: &lt;div&gt;5 &lt; 7&lt;/div&gt; Stripping the tags with regex will return the string ""5 "" and treat &lt; 7&lt;/div&gt; as a single tag and strip it out. I suggest looking for already-written code that does this for you. I did a search and found this: http://zesty.ca/python/scrape.html It also can resolve HTML entities."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37506,37486,15,"Use BeautifulSoup! It's perfect for this, where you have incoming markup of dubious virtue and need to get something reasonable out of it. Just pass in the original text, extract all the string tags, and join them."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37512,37486,38,"Use lxml which is the best xml/html library for python. import lxml.html t = lxml.html.fromstring(""..."") t.text_content() And if you just want to sanitize the html look at the lxml.html.clean module"
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,37604,37486,0,"Regular expressions are not scary, but writing your own regexes to strip HTML is a sure path to madness (and it won't work, either). Follow the path of wisdom, and use one of the many good HTML-parsing libraries. Lucas' example is also broken because ""sub"" is not a method of a Python string. You'd have to ""import re"", then call re.sub(pattern, repl, string). But that's neither here nor there, as the correct answer to your question does not involve writing any regexes."
37486,15,"Because regular expressions scare me, I'm trying to find a way to remove all HTML tags and resolve HTML entities from a string in Python.",Filter out HTML tags and resolve entities in python,38646,37486,0,"Looking at the amount of sense people are demonstrating in other answers here, I'd say that using a regex probably isn't the best idea for your situation. Go for something tried and tested, and treat my previous answer as a demonstration that regexes need not be that scary."
37535,21,"I've got a bunch of FoxPro (VFP9) DBF files on my Ubuntu system, is there a library to open these in Python? I only need to read them, and would preferably have access to the memo fields too. Update: Thanks @cnu, I used Yusdi Santoso's dbf.py and it works nicely. One gotcha: The memo file name extension must be lower case, i.e. .fpt, not .FPT which was how the filename came over from Windows.",What's the easiest way to read a FoxPro DBF file from Python?,37553,37535,7,You can try this recipe on Active State. There is also a DBFReader module which you can try. For support for memo fields.
37535,21,"I've got a bunch of FoxPro (VFP9) DBF files on my Ubuntu system, is there a library to open these in Python? I only need to read them, and would preferably have access to the memo fields too. Update: Thanks @cnu, I used Yusdi Santoso's dbf.py and it works nicely. One gotcha: The memo file name extension must be lower case, i.e. .fpt, not .FPT which was how the filename came over from Windows.",What's the easiest way to read a FoxPro DBF file from Python?,37917,37535,16,I prefer dbfpy. It supports both reading and writing of .DBF files and can cope with most variations of the format. It's the only implementation I have found that could both read and write the legacy DBF files of some older systems I have worked with.
37535,21,"I've got a bunch of FoxPro (VFP9) DBF files on my Ubuntu system, is there a library to open these in Python? I only need to read them, and would preferably have access to the memo fields too. Update: Thanks @cnu, I used Yusdi Santoso's dbf.py and it works nicely. One gotcha: The memo file name extension must be lower case, i.e. .fpt, not .FPT which was how the filename came over from Windows.",What's the easiest way to read a FoxPro DBF file from Python?,86420,37535,9,"If you're still checking this, I have a GPL FoxPro-to-PostgreSQL converter at https://github.com/kstrauser/pgdbf . We use it to routinely copy our tables into PostgreSQL for fast reporting."
37535,21,"I've got a bunch of FoxPro (VFP9) DBF files on my Ubuntu system, is there a library to open these in Python? I only need to read them, and would preferably have access to the memo fields too. Update: Thanks @cnu, I used Yusdi Santoso's dbf.py and it works nicely. One gotcha: The memo file name extension must be lower case, i.e. .fpt, not .FPT which was how the filename came over from Windows.",What's the easiest way to read a FoxPro DBF file from Python?,578444,37535,5,Check out http://groups.google.com/group/python-dbase It currently supports dBase III and Visual Foxpro 6.0 db files... not sure if the file layout change in VFP 9 or not...
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,38254,38238,22,Alternative constructors are the classic example.
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,38276,38238,142,"Class methods are for when you need to have methods that aren't specific to any particular instance, but still involve the class in some way. The most interesting thing about them is that they can be overridden by subclasses, something that's simply not possible in Java's static methods or Python's module-level functions. If you have a class MyClass, and a module-level function that operates on MyClass (factory, dependency injection stub, etc), make it a classmethod. Then it'll be available to subclasses."
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,38287,38238,4,"Honestly? I've never found a use for staticmethod or classmethod. I've yet to see an operation that can't be done using a global function or an instance method. It would be different if python used private and protected members more like Java does. In Java, I need a static method to be able to access an instance's private members to do stuff. In Python, that's rarely necessary. Usually, I see people using staticmethods and classmethods when all they really need to do is use python's module-level namespaces better."
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,38303,38238,53,"Factory methods (alternative constructors) are indeed a classic example of class methods. Basically, class methods are suitable anytime you would like to have a method which naturally fits into the namespace of the class, but is not associated with a particular instance of the class. As an example, in the excellent unipath module: Current directory Path.cwd() Return the actual current directory; e.g., Path(""/tmp/my_temp_dir""). This is a class method. .chdir() Make self the current directory. As the current directory is process wide, the cwd method has no particular instance with which it should be associated. However, changing the cwd to the directory of a given Path instance should indeed be an instance method. Hmmm... as Path.cwd() does indeed return a Path instance, I guess it could be considered to be a factory method..."
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,2311096,38238,5,"I used to work with PHP and recently I was asking myself, whats going on with this classmethod? Python manual is very technical and very short in words so it wont help with understanding that feature. I was googling and googling and I found answer -> http://code.anjanesh.net/2007/12/python-classmethods.html. If you are lazy to click it. My explanation is shorter and below. :) in PHP (maybe not all of you know PHP, but this language is so straight forward that everybody should understand what I'm talking about) we have static variables like this: class A { static protected $inner_var = null; static public function echoInnerVar() { echo self::$inner_var.""\n""; } static public function setInnerVar($v) { self::$inner_var = $v; } } class B extends A { } A::setInnerVar(10); B::setInnerVar(20); A::echoInnerVar(); B::echoInnerVar(); The output will be in both cases 20. However in python we can add @classmethod decorator and thus it is possible to have output 10 and 20 respectively. Example: class A(object): inner_var = 0 @classmethod def setInnerVar(cls, value): cls.inner_var = value @classmethod def echoInnerVar(cls): print cls.inner_var class B(A): pass A.setInnerVar(10) B.setInnerVar(20) A.echoInnerVar() B.echoInnerVar() Smart, ain't?"
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,2807576,38238,23,"I recently wanted a very light-weight logging class that would output varying amounts of output depending on the logging level that could be programmatically set. But I didn't want to instantiate the class every time I wanted to output a debugging message or error or warning. But I also wanted to encapsulate the functioning of this logging facility and make it reusable without the declaration of any globals. So I used class variables and the @classmethod decorator to achieve this. With my simple Logging class, I could do the following: Logger._level = Logger.DEBUG Then, in my code, if I wanted to spit out a bunch of debugging information, I simply had to code Logger.debug( ""this is some annoying message I only want to see while debugging"" ) Errors could be out put with Logger.error( ""Wow, something really awful happened."" ) In the ""production"" environment, I can specify Logger._level = Logger.ERROR and now, only the error message will be output. The debug message will not be printed. Here's my class: class Logger : ''' Handles logging of debugging and error messages. ''' DEBUG = 5 INFO = 4 WARN = 3 ERROR = 2 FATAL = 1 _level = DEBUG def __init__( self ) : Logger._level = Logger.DEBUG @classmethod def isLevel( cls, level ) : return cls._level &gt;= level @classmethod def debug( cls, message ) : if cls.isLevel( Logger.DEBUG ) : print ""DEBUG: "" + message @classmethod def info( cls, message ) : if cls.isLevel( Logger.INFO ) : print ""INFO : "" + message @classmethod def warn( cls, message ) : if cls.isLevel( Logger.WARN ) : print ""WARN : "" + message @classmethod def error( cls, message ) : if cls.isLevel( Logger.ERROR ) : print ""ERROR: "" + message @classmethod def fatal( cls, message ) : if cls.isLevel( Logger.FATAL ) : print ""FATAL: "" + message And some code that tests it just a bit: def logAll() : Logger.debug( ""This is a Debug message."" ) Logger.info ( ""This is a Info message."" ) Logger.warn ( ""This is a Warn message."" ) Logger.error( ""This is a Error message."" ) Logger.fatal( ""This is a Fatal message."" ) if __name__ == '__main__' : print ""Should see all DEBUG and higher"" Logger._level = Logger.DEBUG logAll() print ""Should see all ERROR and higher"" Logger._level = Logger.ERROR logAll()"
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,3504391,38238,3,"Class methods provide a ""semantic sugar"" (don't know if this term is widely used) - or ""semantic convenience"". Example: you got a set of classes representing objects. You might want to have the class method ""all"" or ""find"" to write ""User.all()"" ou ""User.find(firstname='Guido')"". That could be done using module level functions of course..."
38238,194,"I'm teaching myself Python and my most recent lesson was that Python is not Java, and so I've just spent a while turning all my Class methods into functions. I now realise that I don't need to use Class methods for what I would done with static methods in Java, but now I'm not sure when I would use them. All the advice I can find about Python Class methods is along the lines of newbies like me should steer clear of them, and the standard documentation is at its most opaque when discussing them. Does anyone have a good example of using a Class method in Python or at least can someone tell me when Class methods can be sensibly used?",What are Class methods in Python for?,3521920,38238,37,"Think about it this way: normal methods are useful to hide the details of dispatch: you can type myobj.foo() without worrying about whether the foo() method is implemented by the myobj object's class or one of its parent classes. Class methods are exactly analogous to this, but with the class object instead: they let you call MyClass.foo() without having to worry about whether foo() is implemented specially by MyClass because it needed its own specialized version, or whether it is letting its parent class handle the call. Class methods are essential when you are doing set-up or computation that precedes the creation of an actual instance, because until the instance exists you obviously cannot use the instance as the dispatch point for your method calls. A good example can be viewed in the SQLAlchemy source code; take a look at the dbapi() class method at the following link: https://github.com/zzzeek/sqlalchemy/blob/ab6946769742602e40fb9ed9dde5f642885d1906/lib/sqlalchemy/dialects/mssql/pymssql.py#L47 You can see that the dbapi() method, which a database backend uses to import the vendor-specific database library it needs on-demand, is a class method because it needs to run before instances of a particular database connection start getting created â but that it cannot be a simple function or static function, because they want it to be able to call other, supporting methods that might similarly need to be written more specifically in subclasses than in their parent class. And if you dispatch to a function or static class, then you ""forget"" and lose the knowledge about which class is doing the initializing."
38435,2,"Given an Oracle table created using the following: CREATE TABLE Log(WhenAdded TIMESTAMP(6) WITH TIME ZONE); Using the Python ODBC module from its Win32 extensions (from the win32all package), I tried the following: import dbi, odbc connection = odbc.odbc(""Driver=Oracle in OraHome92;Dbq=SERVER;Uid=USER;Pwd=PASSWD"") cursor = connection.cursor() cursor.execute(""SELECT WhenAdded FROM Log"") results = cursor.fetchall() When I run this, I get the following: Traceback (most recent call last): ... results = cursor.fetchall() dbi.operation-error: [Oracle][ODBC][Ora]ORA-00932: inconsistent datatypes: expected %s got %s in FETCH The other data types I've tried (VARCHAR2, BLOB) do not cause this problem. Is there a way of retrieving timestamps?",Retrieving an Oracle timestamp using Python's Win32 ODBC module,38442,38435,1,"My solution to this, that I hope can be bettered, is to use Oracle to explicitly convert the TIMESTAMP into a string: cursor.execute(""SELECT TO_CHAR(WhenAdded, 'YYYY-MM-DD HH:MI:SSAM') FROM Log"") This works, but isn't portable. I'd like to use the same Python script against a SQL Server database, so an Oracle-specific solution (such as TO_CHAR) won't work."
38435,2,"Given an Oracle table created using the following: CREATE TABLE Log(WhenAdded TIMESTAMP(6) WITH TIME ZONE); Using the Python ODBC module from its Win32 extensions (from the win32all package), I tried the following: import dbi, odbc connection = odbc.odbc(""Driver=Oracle in OraHome92;Dbq=SERVER;Uid=USER;Pwd=PASSWD"") cursor = connection.cursor() cursor.execute(""SELECT WhenAdded FROM Log"") results = cursor.fetchall() When I run this, I get the following: Traceback (most recent call last): ... results = cursor.fetchall() dbi.operation-error: [Oracle][ODBC][Ora]ORA-00932: inconsistent datatypes: expected %s got %s in FETCH The other data types I've tried (VARCHAR2, BLOB) do not cause this problem. Is there a way of retrieving timestamps?",Retrieving an Oracle timestamp using Python's Win32 ODBC module,38718,38435,2,"I believe this is a bug in the Oracle ODBC driver. Basically, the Oracle ODBC driver does not support the TIMESTAMP WITH (LOCAL) TIME ZONE data types, only the TIMESTAMP data type. As you have discovered, one workaround is in fact to use the TO_CHAR method. In your example you are not actually reading the time zone information. If you have control of the table you could convert it to a straight TIMESTAMP column. If you don't have control over the table, another solution may be to create a view that converts from TIMESTAMP WITH TIME ZONE to TIMESTAMP via a string - sorry, I don't know if there is a way to convert directly from TIMESTAMP WITH TIME ZONE to TIMESTAMP."
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38513,38508,7,Returning a tuple is the usual way to do this in Python.
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38514,38508,14,"Return a tuple. def f(x): # do stuff return (True, modified_string) success, modified_string = f(something)"
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38516,38508,105,"def f(in_str): out_str = in_str.upper() return True, out_str # Creates tuple automatically succeeded, b = f(""a"") # Automatic tuple unpacking"
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38524,38508,27,"Why not throw an exception if the operation wasn't successful? Personally, I tend to be of the opinion that if you need to return more than one value from a function, you should reconsider if you're doing things the right way or use an object. But more directly to the point, if you throw an exception, you're forcing them to deal with the problem. If you try to return a value that indicates failure, it's very well possible somebody could not check the value and end up with some potentially hard to debug errors."
38508,49,"I have a function where I need to do something to a string. I need the function to return a boolean indicating whether or not the operation succeeded, and I also need to return the modified string. In C#, I would use an out parameter for the string, but there is no equivalent in Python. I'm still very new to Python and the only thing I can think of is to return a tuple with the boolean and modified string. Related question: Is it pythonic for a function to return multiple values?",What's the best way to return multiple values from a function in Python?,38760,38508,3,"Throwing an exception for failure is one good way to proceed, and if you're returning a lot of different values, you can return a tuple. For the specific case you're citing, I often take an intermediate approach: return the modified string on success, and return None on failure. I'm enough of an unreconstructed C programmer to want to return a NULL pointer to char on failure. If I were writing a routine to be used as part of a larger library and consumed by other developers, I'd throw an exception on failure. When I'm eating my own dogfood, I'll probably return different types and test on return."
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,38916,38601,141,"The growing complexity of this answer over time, and the many hacks required, probably ought to caution you against doing this at all. It's relying on undocumented internal implementation details of the admin, is likely to break again in future versions of Django, and is no easier to implement than just finding another JS calendar widget and using that. That said, here's what you have to do if you're determined to make this work: Define your own ModelForm subclass for your model (best to put it in forms.py in your app), and tell it to use the AdminDateWidget / AdminTimeWidget / AdminSplitDateTime (replace 'mydate' etc with the proper field names from your model): from django import forms from my_app.models import Product from django.contrib.admin import widgets class ProductForm(forms.ModelForm): class Meta: model = Product def __init__(self, *args, **kwargs): super(ProductForm, self).__init__(*args, **kwargs) self.fields['mydate'].widget = widgets.AdminDateWidget() self.fields['mytime'].widget = widgets.AdminTimeWidget() self.fields['mydatetime'].widget = widgets.AdminSplitDateTime() Change your URLconf to pass 'form_class': ProductForm instead of 'model': Product to the generic create_object view (that'll mean ""from my_app.forms import ProductForm"" instead of ""from my_app.models import Product"", of course). In the head of your template, include {{ form.media }} to output the links to the Javascript files. And the hacky part: the admin date/time widgets presume that the i18n JS stuff has been loaded, and also require core.js, but don't provide either one automatically. So in your template above {{ form.media }} you'll need: &lt;script type=""text/javascript"" src=""/my_admin/jsi18n/""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/media/admin/js/core.js""&gt;&lt;/script&gt; You may also wish to use the following admin CSS (thanks Alex for mentioning this): &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/forms.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/base.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/global.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/widgets.css""/&gt; This implies that Django's admin media (ADMIN_MEDIA_PREFIX) is at /media/admin/ - you can change that for your setup. Ideally you'd use a context processor to pass this values to your template instead of hardcoding it, but that's beyond the scope of this question. This also requires that the URL /my_admin/jsi18n/ be manually wired up to the django.views.i18n.javascript_catalog view (or null_javascript_catalog if you aren't using I18N). You have to do this yourself instead of going through the admin application so it's accessible regardless of whether you're logged into the admin (thanks Jeremy for pointing this out). Sample code for your URLconf: (r'^my_admin/jsi18n', 'django.views.i18n.javascript_catalog'), Lastly, if you are using Django 1.2 or later, you need some additional code in your template to help the widgets find their media: {% load adminmedia %} /* At the top of the template. */ /* In the head section of the template. */ &lt;script type=""text/javascript""&gt; window.__admin_media_prefix__ = ""{% filter escapejs %}{% admin_media_prefix %}{% endfilter %}""; &lt;/script&gt; Thanks lupefiasco for this addition."
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,72284,38601,57,"As the solution is hackish, I think using your own date/time widget with some JavaScript is more feasible."
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,408230,38601,10,"Yep, I ended up overriding the /admin/jsi18n/ url. Here's what I added in my urls.py. Make sure it's above the /admin/ url (r'^admin/jsi18n', i18n_javascript), And here is the i18n_javascript function I created. from django.contrib import admin def i18n_javascript(request): return admin.site.i18n_javascript(request)"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,719583,38601,6,"Complementing the answer by Carl Meyer, I would like to comment that you need to put that header in some valid block (inside the header) within your template. {% block extra_head %} &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/forms.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/base.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/global.css""/&gt; &lt;link rel=""stylesheet"" type=""text/css"" href=""/media/admin/css/widgets.css""/&gt; &lt;script type=""text/javascript"" src=""/admin/jsi18n/""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/media/admin/js/core.js""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/media/admin/js/admin/RelatedObjectLookups.js""&gt;&lt;/script&gt; {{ form.media }} {% endblock %}"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,1392329,38601,8,"I find myself referencing this post a lot, and found that the documentation defines a slightly less hacky way to override default widgets. (No need to override the ModelForm's __init__ method) However, you still need to wire your JS and CSS appropriately as Carl mentions. forms.py from django import forms from my_app.models import Product from django.contrib.admin import widgets class ProductForm(forms.ModelForm): mydate = forms.DateField(widget=widgets.AdminDateWidget) mytime = forms.TimeField(widget=widgets.AdminTimeWidget) mydatetime = forms.DateTimeField(widget=widgets.AdminSplitDateTime) class Meta: model = Product Reference Field Types to find the default form fields."
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,1833247,38601,1,"Updated solution and workaround for SplitDateTime with required=False: forms.py from django import forms class SplitDateTimeJSField(forms.SplitDateTimeField): def __init__(self, *args, **kwargs): super(SplitDateTimeJSField, self).__init__(*args, **kwargs) self.widget.widgets[0].attrs = {'class': 'vDateField'} self.widget.widgets[1].attrs = {'class': 'vTimeField'} class AnyFormOrModelForm(forms.Form): date = forms.DateField(widget=forms.TextInput(attrs={'class':'vDateField'})) time = forms.TimeField(widget=forms.TextInput(attrs={'class':'vTimeField'})) timestamp = SplitDateTimeJSField(required=False,) form.html &lt;script type=""text/javascript"" src=""/admin/jsi18n/""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/admin_media/js/core.js""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/admin_media/js/calendar.js""&gt;&lt;/script&gt; &lt;script type=""text/javascript"" src=""/admin_media/js/admin/DateTimeShortcuts.js""&gt;&lt;/script&gt; urls.py (r'^admin/jsi18n/', 'django.views.i18n.javascript_catalog'),"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,2396907,38601,3,"The below will also work as a last resort if the above failed class PaymentsForm(forms.ModelForm): class Meta: model = Payments def __init__(self, *args, **kwargs): super(PaymentsForm, self).__init__(*args, **kwargs) self.fields['date'].widget = SelectDateWidget() Same as class PaymentsForm(forms.ModelForm): date = forms.DateField(widget=SelectDateWidget()) class Meta: model = Payments put this in your forms.py from django.forms.extras.widgets import SelectDateWidget"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,2716963,38601,4,"I finally managed to get this widget working on the dev server, only to have it break on deployment. I finally decided it wasn't worth shoehorning into my site, and wrote my own widget. It's not as flexible, but it will probably work well for many: http://www.copiesofcopies.org/webl/?p=81"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,2818128,38601,9,"Starting in Django 1.2 RC1, if you're using the Django admin date picker widge trick, the following has to be added to your template, or you'll see the calendar icon url being referenced through ""/missing-admin-media-prefix/"". {% load adminmedia %} /* At the top of the template. */ /* In the head section of the template. */ &lt;script type=""text/javascript""&gt; window.__admin_media_prefix__ = ""{% filter escapejs %}{% admin_media_prefix %}{% endfilter %}""; &lt;/script&gt;"
38601,147,"How can I use the nifty JavaScript date and time widgets that the default admin uses with my custom view? I have looked through the Django forms documentation, and it briefly mentions django.contrib.admin.widgets, but I don't know how to use it? Here is my template that I want it applied on. &lt;form action=""."" method=""POST""&gt; &lt;table&gt; {% for f in form %} &lt;tr&gt; &lt;td&gt; {{ f.name }}&lt;/td&gt; &lt;td&gt;{{ f }}&lt;/td&gt; &lt;/tr&gt; {% endfor %} &lt;/table&gt; &lt;input type=""submit"" name=""submit"" value=""Add Product""&gt; &lt;/form&gt; Also, I think it should be noted that I haven't really written a view up myself for this form, I am using a generic view. Here is the entry from the url.py: (r'^admin/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), And I am relevantly new to the whole Django/MVC/MTV thing, so please go easy...",Using Django time/date widgets in custom form,3284874,38601,5,"(I'm trying to comment on people suggesting to roll their own Calendar widget, but either I don't see the comment button, or I don't have enough rep.) What happened to DRY? I think it would be best to re-use the admin widget, but perhaps it should be separated from admin, and easier to use. Thanks for this information anyways."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,38989,38987,25,"x = {'a':1, 'b': 2} y = {'b':10, 'c': 11} z = dict(x.items() + y.items()) print z For items with keys in both dictionaries ('b'), you can control which one ends up in the output by putting that one last."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,38990,38987,1292,"In your case, what you can do is: z = dict(x.items() + y.items()) This will, as you want it, put the final dict in z, and make the value for key b be properly overridden by the second (y) dict's value: &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = dict(x.items() + y.items()) &gt;&gt;&gt; z {'a': 1, 'c': 11, 'b': 10} If you use Python 3, it is only a little more complicated. To create z: &gt;&gt;&gt; z = dict(list(x.items()) + list(y.items())) &gt;&gt;&gt; z {'a': 1, 'c': 11, 'b': 10}"
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,39437,38987,472,An alternative: z = x.copy() z.update(y)
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,39858,38987,209,"Another, more concise, option: z = dict(x, **y) Note: this has become a popular answer, but it is important to point out that if y has any non-string keys, the fact that this works at all is an abuse of a CPython implementation detail, and it does not work in Python 3, or in PyPy, IronPython, or Jython. Also, Guido is not a fan. So I can't recommend this technique for forward-compatible or cross-implementation portable code, which really means it should be avoided entirely."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,44512,38987,63,"I wanted something similar, but with the ability to specify how the values on duplicate keys were merged, so I hacked this out (but did not heavily test it). Obviously this is not a single expression, but it is a single function call. def merge(d1, d2, merge_fn=lambda x,y:y): """""" Merges two dictionaries, non-destructively, combining values on duplicate keys as defined by the optional merge function. The default behavior replaces the values in d1 with corresponding values in d2. (There is no other generally applicable merge strategy, but often you'll have homogeneous types in your dicts, so specifying a merge technique can be valuable.) Examples: &gt;&gt;&gt; d1 {'a': 1, 'c': 3, 'b': 2} &gt;&gt;&gt; merge(d1, d1) {'a': 1, 'c': 3, 'b': 2} &gt;&gt;&gt; merge(d1, d1, lambda x,y: x+y) {'a': 2, 'c': 6, 'b': 4} """""" result = dict(d1) for k,v in d2.iteritems(): if k in result: result[k] = merge_fn(result[k], v) else: result[k] = v return result"
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,49492,38987,136,"This probably won't be a popular answer, but you almost certainly do not want to do this. If you want a copy that's a merge, then use copy (or deepcopy, depending on what you want) and then update. The two lines of code are much more readable - more Pythonic - than the single line creation with .items() + .items(). Explicit is better than implicit. In addition, when you use .items() (pre Python 3.0), you're creating a new list that contains the items from the dict. If your dictionaries are large, then that is quite a lot of overhead (two large lists that will be thrown away as soon as the merged dict is created). update() can work more efficiently, because it can run through the second dict item-by-item. In terms of time: &gt;&gt;&gt; timeit.Timer(""dict(x, **y)"", ""x = dict(zip(range(1000), range(1000)))\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000) 15.52571702003479 &gt;&gt;&gt; timeit.Timer(""temp = x.copy()\ntemp.update(y)"", ""x = dict(zip(range(1000), range(1000)))\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000) 15.694622993469238 &gt;&gt;&gt; timeit.Timer(""dict(x.items() + y.items())"", ""x = dict(zip(range(1000), range(1000)))\ny=dict(zip(range(1000,2000), range(1000,2000)))"").timeit(100000) 41.484580039978027 IMO the tiny slowdown between the first two is worth it for the readability. In addition, keyword arguments for dictionary creation was only added in Python 2.3, whereas copy() and update() will work in older versions."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,228366,38987,86,"In a follow-up answer, you asked about the relative performance of these two alternatives: z1 = dict(x.items() + y.items()) z2 = dict(x, **y) On my machine, at least (a fairly ordinary x86_64 running Python 2.5.2), alternative z2 is not only shorter and simpler but also significantly faster. You can verify this for yourself using the timeit module that comes with Python. Example 1: identical dictionaries mapping 20 consecutive integers to themselves: % python -m timeit -s 'x=y=dict((i,i) for I in range(20))' 'z1=dict(x.items() + y.items())' 100000 loops, best of 3: 5.67 usec per loop % python -m timeit -s 'x=y=dict((i,i) for I in range(20))' 'z2=dict(x, **y)' 100000 loops, best of 3: 1.53 usec per loop z2 wins by a factor of 3.5 or so. Different dictionaries seem to yield quite different results, but z2 always seems to come out ahead. (If you get inconsistent results for the same test, try passing in -r with a number larger than the default 3.) Example 2: non-overlapping dictionaries mapping 252 short strings to integers and vice versa: % python -m timeit -s 'from htmlentitydefs import codepoint2name as x, name2codepoint as y' 'z1=dict(x.items() + y.items())' 1000 loops, best of 3: 260 usec per loop % python -m timeit -s 'from htmlentitydefs import codepoint2name as x, name2codepoint as y' 'z2=dict(x, **y)' 10000 loops, best of 3: 26.9 usec per loop z2 wins by about a factor of 10. That's a pretty big win in my book! After comparing those two, I wondered if z1's poor performance could be attributed to the overhead of constructing the two item lists, which in turn led me to wonder if this variation might work better: from itertools import chain z3 = dict(chain(x.iteritems(), y.iteritems())) A few quick tests, e.g. % python -m timeit -s 'from itertools import chain; from htmlentitydefs import codepoint2name as x, name2codepoint as y' 'z3=dict(chain(x.iteritems(), y.iteritems()))' 10000 loops, best of 3: 66 usec per loop lead me to conclude that z3 is somewhat faster than z1, but not nearly as fast as z2. Definitely not worth all the extra typing. This discussion is still missing something important, which is a performance comparison of these alternatives with the ""obvious"" way of merging two lists: using the update method. To try to keep things on an equal footing with the expressions, none of which modify x or y, I'm going to make a copy of x instead of modifying it in-place, as follows: z0 = dict(x) z0.update(y) A typical result: % python -m timeit -s 'from htmlentitydefs import codepoint2name as x, name2codepoint as y' 'z0=dict(x); z0.update(y)' 10000 loops, best of 3: 26.9 usec per loop In other words, z0 and z2 seem to have essentially identical performance. Do you think this might be a coincidence? I don't.... In fact, I'd go so far as to claim that it's impossible for pure Python code to do any better than this. And if you can do significantly better in a C extension module, I imagine the Python folks might well be interested in incorporating your code (or a variation on your approach) into the Python core. Python uses dict in lots of places; optimizing its operations is a big deal. You could also write this as z0 = x.copy() z0.update(y) as Tony does, but (not surprisingly) the difference in notation turns out not to have any measurable effect on performance. Use whichever looks right to you. Of course, he's absolutely correct to point out that the two-statement version is much easier to understand."
38987,1867,"I have two Python dictionaries, and I want to write a single expression that returns these two dictionaries, merged. The update() method would be what I need, if it returned its result instead of modifying a dict in-place. &gt;&gt;&gt; x = {'a':1, 'b': 2} &gt;&gt;&gt; y = {'b':10, 'c': 11} &gt;&gt;&gt; z = x.update(y) &gt;&gt;&gt; print z None &gt;&gt;&gt; x {'a': 1, 'b': 10, 'c': 11} How can I get that final merged dict in z, not x? (To be extra-clear, the last-one-wins conflict-handling of dict.update() is what I'm looking for as well.)",How to merge two Python dictionaries in a single expression?,3936548,38987,39,"The best version I could think while not using copy would be: from itertools import chain x = {'a':1, 'b': 2} y = {'b':10, 'c': 11} dict(chain(x.iteritems(), y.iteritems())) It's faster than dict(x.items() + y.items()) but not as fast as n = copy(a); n.update(b), at least on CPython. This version also works in Python 3 if you change iteritems() to items(), which is automatically done by the 2to3 tool. Personally I like this version best because it describes fairly good what I want in a single functional syntax. The only minor problem is that it doesn't make completely obvious that values from y takes precedence over values from x, but I don't believe it's difficult to figure that out."
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,39089,39086,2,"Create a new file, copy lines from the old to the new, and do the replacing before you write the lines to the new file."
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,39110,39086,111,"I guess something like this should do it. It basically writes the content to a new file and replaces the old file with the new file: from tempfile import mkstemp from shutil import move from os import remove, close def replace(file_path, pattern, subst): #Create temp file fh, abs_path = mkstemp() with open(abs_path,'w') as new_file: with open(file_path) as old_file: for line in old_file: new_file.write(line.replace(pattern, subst)) close(fh) #Remove original file remove(file_path) #Move new file move(abs_path, file_path)"
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,39113,39086,8,"As lassevk suggests, write out the new file as you go, here is some example code: fin = open(""a.txt"") fout = open(""b.txt"", ""wt"") for line in fin: fout.write( line.replace('foo', 'bar') ) fin.close() fout.close()"
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,290494,39086,182,"The shortest way would probably be to use the fileinput module. For example, the following adds line numbers to a file, in-place: import fileinput for line in fileinput.input(""test.txt"", inplace=True): print ""%d: %s"" % (fileinput.filelineno(), line), What happens here is: The original file is moved to a backup file The standard output is redirected to the original file within the loop Thus any print statements write back into the original file fileinput has more bells and whistles. For example, it can be used to automatically operate on all files in sys.args[1:], without your having to iterate over them explicitly. Starting with Python 3.2 it also provides a convenient context manager for use in a with statement. While fileinput is great for throwaway scripts, I would be wary of using it in real code because admittedly it's not very readable or familiar. In real (production) code it's worthwhile to spend just a few more lines of code to make the process explicit and thus make the code readable. There are two options: The file is not overly large, and you can just read it wholly to memory. Then close the file, reopen it in writing mode and write the modified contents back. The file is too large to be stored in memory; you can move it over to a temporary file and open that, reading it line by line, writing back into the original file. Note that this requires twice the storage."
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,315088,39086,52,"Here's another example that was tested, and will match search &amp; replace patterns: import fileinput import sys def replaceAll(file,searchExp,replaceExp): for line in fileinput.input(file, inplace=1): if searchExp in line: line = line.replace(searchExp,replaceExp) sys.stdout.write(line) Example use: replaceAll(""/fooBar.txt"",""Hello\sWorld!$"",""Goodbye\sWorld."")"
39086,170,"I want to loop over the contents of a text file and do a search and replace on some lines and write the result back to the file. I could first load the whole file in memory and then write it back, but that probably is not the best way to do it. What is the best way to do this, within the following code? f = open(file) for line in f: if line.contains('foo'): newline = line.replace('foo', 'bar') # how to write this newline back to the file",Search and replace a line in a file in Python,1388570,39086,30,"This should work: (inplace editing) import fileinput # Does a list of files, and # redirects STDOUT to the file in question for line in fileinput.input(files, inplace = 1): print line.replace(""foo"", ""bar""),"
39104,12,"I've written a Python package that includes a bsddb database of pre-computed values for one of the more time-consuming computations. For simplicity, my setup script installs the database file in the same directory as the code which accesses the database (on Unix, something like /usr/lib/python2.5/site-packages/mypackage/). How do I store the final location of the database file so my code can access it? Right now, I'm using a hack based on the __file__ variable in the module which accesses the database: dbname = os.path.join(os.path.dirname(__file__), ""database.dat"") It works, but it seems... hackish. Is there a better way to do this? I'd like to have the setup script just grab the final installation location from the distutils module and stuff it into a ""dbconfig.py"" file that gets installed alongside the code that accesses the database.",Finding a file in a Python module distribution,39295,39104,4,"That's probably the way to do it, without resorting to something more advanced like using setuptools to install the files where they belong. Notice there's a problem with that approach, because on OSes with real a security framework (UNIXes, etc.) the user running your script might not have the rights to access the DB in the system directory where it gets installed."
39104,12,"I've written a Python package that includes a bsddb database of pre-computed values for one of the more time-consuming computations. For simplicity, my setup script installs the database file in the same directory as the code which accesses the database (on Unix, something like /usr/lib/python2.5/site-packages/mypackage/). How do I store the final location of the database file so my code can access it? Right now, I'm using a hack based on the __file__ variable in the module which accesses the database: dbname = os.path.join(os.path.dirname(__file__), ""database.dat"") It works, but it seems... hackish. Is there a better way to do this? I'd like to have the setup script just grab the final installation location from the distutils module and stuff it into a ""dbconfig.py"" file that gets installed alongside the code that accesses the database.",Finding a file in a Python module distribution,39659,39104,14,"Try using pkg_resources, which is part of setuptools (and available on all of the pythons I have access to right now): &gt;&gt;&gt; import pkg_resources &gt;&gt;&gt; pkg_resources.resource_ filename(__name__, ""foo.config"") 'foo.config' &gt;&gt;&gt; pkg_resources.resource_filename('tempfile', ""foo.config"") '/usr/lib/python2.4/foo.config' There's more discussion about using pkg_resources to get resources on the eggs page and the pkg_resources page. Also note, where possible it's probably advisable to use pkg_resources.resource_stream or pkg_resources.resource_string because if the package is part of an egg, resource_filename will copy the file to a temporary directory."
39663,25,"I'm reading some MPEG Transport Stream protocol over UDP and it has some funky bitfields in it (length 13 for example). I'm using the ""struct"" library to do the broad unpacking, but is there a simple way to say ""Grab the next 13 bits"" rather than have to hand-tweak the bit manipulation? I'd like something like the way C does bit fields (without having to revert to C). Suggestions?",What is the best way to do Bit Field manipulation in Python?,39760,39663,7,It's an often-asked question. There's an ASPN Cookbook entry on it that has served me in the past. And there is an extensive page of requirements one person would like to see from a module doing this.
39663,25,"I'm reading some MPEG Transport Stream protocol over UDP and it has some funky bitfields in it (length 13 for example). I'm using the ""struct"" library to do the broad unpacking, but is there a simple way to say ""Grab the next 13 bits"" rather than have to hand-tweak the bit manipulation? I'd like something like the way C does bit fields (without having to revert to C). Suggestions?",What is the best way to do Bit Field manipulation in Python?,1086668,39663,25,"The bitstring module is designed to address just this problem. It will let you read, modify and construct data using bits as the basic building blocks. The latest versions are for Python 2.6 or later (including Python 3) but version 1.0 supported Python 2.4 and 2.5 as well. A relevant example for you might be this, which strips out all the null packets from a transport stream (and quite possibly uses your 13 bit field?): from bitstring import Bits, BitStream # Opening from a file means that it won't be all read into memory s = Bits(filename='test.ts') outfile = open('test_nonull.ts', 'wb') # Cut the stream into 188 byte packets for packet in s.cut(188*8): # Take a 13 bit slice and interpret as an unsigned integer PID = packet[11:24].uint # Write out the packet if the PID doesn't indicate a 'null' packet if PID != 8191: # The 'bytes' property converts back to a string. outfile.write(packet.bytes) Here's another example including reading from bitstreams: # You can create from hex, binary, integers, strings, floats, files... # This has a hex code followed by two 12 bit integers s = BitStream('0x000001b3, uint:12=352, uint:12=288') # Append some other bits s += '0b11001, 0xff, int:5=-3' # read back as 32 bits of hex, then two 12 bit unsigned integers start_code, width, height = s.readlist('hex:32, 2*uint:12') # Skip some bits then peek at next bit value s.pos += 4 if s.peek(1): flags = s.read(9) You can use standard slice notation to slice, delete, reverse, overwrite, etc. at the bit level, and there are bit level find, replace, split etc. functions. Different endiannesses are also supported. # Replace every '1' bit by 3 bits s.replace('0b1', '0b001') # Find all occurrences of a bit sequence bitposlist = list(s.findall('0b01000')) # Reverse bits in place s.reverse() The full documentation is here."
39847,2,"I write tools that are used in a shared workspace. Since there are multiple OS's working in this space, we generally use Python and standardize the version that is installed across machines. However, if I wanted to write some things in C, I was wondering if maybe I could have the application wrapped in a Python script, that detected the operating system and fired off the correct version of the C application. Each platform has GCC available and uses the same shell. One idea was to have the C compiled to the users local ~/bin, with timestamp comparison with C code so it is not compiled each run, but only when code is updated. Another was to just compile it for each platform, and have the wrapper script select the proper executable. Is there an accepted/stable process for this? Are there any catches? Are there alternatives (assuming the absolute need to use native C code)? Clarification: Multiple OS's are involved that do not share ABI. Eg. OS X, various Linuxes, BSD etc. I need to be able to update the code in place in shared folders and have the new code working more or less instantaneously. Distributing binary or source packages is less than ideal.",Using C in a shared multi-platform POSIX environment,39865,39847,0,"You know, you should look at static linking. These days, we all have HUGE hard drives, and a few extra megabytes (for carrying around libc and what not) is really not that big a deal anymore. You could also try running your applications in chroot() jails and distributing those."
39847,2,"I write tools that are used in a shared workspace. Since there are multiple OS's working in this space, we generally use Python and standardize the version that is installed across machines. However, if I wanted to write some things in C, I was wondering if maybe I could have the application wrapped in a Python script, that detected the operating system and fired off the correct version of the C application. Each platform has GCC available and uses the same shell. One idea was to have the C compiled to the users local ~/bin, with timestamp comparison with C code so it is not compiled each run, but only when code is updated. Another was to just compile it for each platform, and have the wrapper script select the proper executable. Is there an accepted/stable process for this? Are there any catches? Are there alternatives (assuming the absolute need to use native C code)? Clarification: Multiple OS's are involved that do not share ABI. Eg. OS X, various Linuxes, BSD etc. I need to be able to update the code in place in shared folders and have the new code working more or less instantaneously. Distributing binary or source packages is less than ideal.",Using C in a shared multi-platform POSIX environment,39871,39847,0,"Depending on your mix os OSes, you might be better off creating packages for each class of system. Alternatively, if they all share the same ABI and hardware architecture, you could also compile static binaries."
39847,2,"I write tools that are used in a shared workspace. Since there are multiple OS's working in this space, we generally use Python and standardize the version that is installed across machines. However, if I wanted to write some things in C, I was wondering if maybe I could have the application wrapped in a Python script, that detected the operating system and fired off the correct version of the C application. Each platform has GCC available and uses the same shell. One idea was to have the C compiled to the users local ~/bin, with timestamp comparison with C code so it is not compiled each run, but only when code is updated. Another was to just compile it for each platform, and have the wrapper script select the proper executable. Is there an accepted/stable process for this? Are there any catches? Are there alternatives (assuming the absolute need to use native C code)? Clarification: Multiple OS's are involved that do not share ABI. Eg. OS X, various Linuxes, BSD etc. I need to be able to update the code in place in shared folders and have the new code working more or less instantaneously. Distributing binary or source packages is less than ideal.",Using C in a shared multi-platform POSIX environment,39878,39847,1,"Also, you could use autoconf and distribute your application in source form only. :)"
39847,2,"I write tools that are used in a shared workspace. Since there are multiple OS's working in this space, we generally use Python and standardize the version that is installed across machines. However, if I wanted to write some things in C, I was wondering if maybe I could have the application wrapped in a Python script, that detected the operating system and fired off the correct version of the C application. Each platform has GCC available and uses the same shell. One idea was to have the C compiled to the users local ~/bin, with timestamp comparison with C code so it is not compiled each run, but only when code is updated. Another was to just compile it for each platform, and have the wrapper script select the proper executable. Is there an accepted/stable process for this? Are there any catches? Are there alternatives (assuming the absolute need to use native C code)? Clarification: Multiple OS's are involved that do not share ABI. Eg. OS X, various Linuxes, BSD etc. I need to be able to update the code in place in shared folders and have the new code working more or less instantaneously. Distributing binary or source packages is less than ideal.",Using C in a shared multi-platform POSIX environment,40367,39847,2,"Launching a Python interpreter instance just to select the right binary to run would be much heavier than you need. I'd distribute a shell .rc file which provides aliases. In /shared/bin, you put the various binaries: /shared/bin/toolname-mac, /shared/bin/toolname-debian-x86, /shared/bin/toolname-netbsd-dreamcast, etc. Then, in the common shared shell .rc file, you put the logic to set the aliases according to platform, so that on OSX, it gets alias toolname=/shared/bin/toolname-mac, and so forth. This won't work as well if you're adding new tools all the time, because the users will need to reload the aliases. I wouldn't recommend distributing tools this way, though. Testing and qualifying new builds of the tools should be taking up enough time and effort that the extra time required to distribute the tools to the users is trivial. You seem to be optimizing to reduce the distribution time. Replacing tools that quickly in a live environment is all too likely to result in lengthy and confusing downtime if anything goes wrong in writing and building the tools--especially when subtle cross-platform issues creep in."
39929,5,"What is the easiest way to create and verify PGP/GPG signatures from within a Python application? I can call pgp or gpg using subprocess and parse the output, but I was looking for a way that didn't require an external program to be installed (my application is cross-platform mac/windows/unix).",PGP signatures from Python?,40069,39929,8,I think GPGME and the PyMe Python wrapper should do what you need.
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,39982,39960,4,"Well, I don't think that there is something like that in js. You can always use eval instead of locals(). Like this: eval(s+""()""); You just have to know that actually function foo exists. Edit: Don't use eval:) Use: var functionName=""myFunctionName""; window[functionName]();"
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,39992,39960,0,"AFAIK, no. If you just want to check the existence of a given variable, you can do it by testing for it, something like this: if (foo) foo();"
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,40012,39960,3,"I seem to remember Brendan Eich commented on this in a recent podcast; if I recall correctly, it's not being considered, as it adds unreasonable restrictions to optimization. He compared it to the arguments local in that, while useful for varargs, its very existence removes the ability to guess at what a function will touch just by looking at its definition. BTW: I believe JS did have support for accessing locals through the arguments local at one time - a quick search shows this has been deprecated though."
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,40035,39960,0,"@e-bartek, I think that window[functionName] won't work if you in some closure, and the function name is local to that closure. For example: function foo() { var bar = function () { alert('hello world'); }; var s = 'bar'; window[s](); // this won't work } In this case, s is 'bar', but the function 'bar' only exists inside the scope of the function 'foo'. It is not defined in the window scope. Of course, this doesn't really answer the original question, I just wanted to chime in on this response. I don't believe there is a way to do what the original question asked."
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,40067,39960,0,"@pkaeding Yes, you're right. window[functionName]() doesn't work in this case, but eval does. If I needed something like this, I'd create my own object to keep those functions together. var func = {}; func.bar = ...; var s = ""bar""; func[s]();"
39960,17,"In python one can get a dictionary of all local and global variables in the current scope with the built-in functions locals() and globals(). Is there some equivalent way of doing this in javascript? For instance, I would like to do something like the following: var foo = function(){ alert('foo'); }; var bar = function(){ alert('bar'); }; var s = 'foo'; locals()[s](); // alerts 'foo' Is this at all possible, or should I just be using a local object for the lookup?",javascript locals()?,40173,39960,13,"locals() - No. globals() - Yes. window is a reference to the global scope, like globals() in python. globals()[""foo""] is the same as: window[""foo""]"
40586,1,"In a try/except block, how do I extract the Oracle error number?",cx_Oracle: how do I get the ORA-xxxxx error number?,40593,40586,9,"try: cursor.execute(""select 1 / 0 from dual"") except cx_Oracle.DatabaseError, exc: error, = exc print ""Code:"", error.code print ""Message:"", error.message This results in the following output: Code: 1476 Message: ORA-01476: divisor is equal to zero"
40705,12,"At the beginning of all my executable Python scripts I put the shebang line: #!/usr/bin/env python I'm running these scripts on a system where env python yields a Python 2.2 environment. My scripts quickly fail because I have a manual check for a compatible Python version: if sys.version_info &lt; (2, 4): raise ImportError(""Cannot run with Python version &lt; 2.4"") I don't want to have to change the shebang line on every executable file, if it's possible; however, I don't have administrative access to the machine to change the result of env python and I don't want to force a particular version, as in: #!/usr/bin/env python2.4 I'd like to avoid this because system may have a newer version than Python 2.4, or may have Python 2.5 but no Python 2.4. What's the elegant solution? [Edit:] I wasn't specific enough in posing the question -- I'd like to let users execute the scripts without manual configuration (e.g. path alteration or symlinking in ~/bin and ensuring your PATH has ~/bin before the Python 2.2 path). Maybe some distribution utility is required to prevent the manual tweaks?",Python deployment and /usr/bin/env portability,40715,40705,8,"""env"" simply executes the first thing it finds in the PATH env var. To switch to different python, prepend the directory for that python's executable to the path before invoking your script."
40705,12,"At the beginning of all my executable Python scripts I put the shebang line: #!/usr/bin/env python I'm running these scripts on a system where env python yields a Python 2.2 environment. My scripts quickly fail because I have a manual check for a compatible Python version: if sys.version_info &lt; (2, 4): raise ImportError(""Cannot run with Python version &lt; 2.4"") I don't want to have to change the shebang line on every executable file, if it's possible; however, I don't have administrative access to the machine to change the result of env python and I don't want to force a particular version, as in: #!/usr/bin/env python2.4 I'd like to avoid this because system may have a newer version than Python 2.4, or may have Python 2.5 but no Python 2.4. What's the elegant solution? [Edit:] I wasn't specific enough in posing the question -- I'd like to let users execute the scripts without manual configuration (e.g. path alteration or symlinking in ~/bin and ensuring your PATH has ~/bin before the Python 2.2 path). Maybe some distribution utility is required to prevent the manual tweaks?",Python deployment and /usr/bin/env portability,40721,40705,2,If you are running the scripts then you can set your PATH variable to point to a private bin directory first: $ mkdir ~/bin $ ln -s `which python2.4` ~/bin/python $ export PATH=~/bin:$PATH Then when you execute your python script it'll use python 2.4. You'll have to change your login scripts to change your PATH. Alternatively run your python script with the explicit interpreter you want: $ /path/to/python2.4 &lt;your script&gt;
40705,12,"At the beginning of all my executable Python scripts I put the shebang line: #!/usr/bin/env python I'm running these scripts on a system where env python yields a Python 2.2 environment. My scripts quickly fail because I have a manual check for a compatible Python version: if sys.version_info &lt; (2, 4): raise ImportError(""Cannot run with Python version &lt; 2.4"") I don't want to have to change the shebang line on every executable file, if it's possible; however, I don't have administrative access to the machine to change the result of env python and I don't want to force a particular version, as in: #!/usr/bin/env python2.4 I'd like to avoid this because system may have a newer version than Python 2.4, or may have Python 2.5 but no Python 2.4. What's the elegant solution? [Edit:] I wasn't specific enough in posing the question -- I'd like to let users execute the scripts without manual configuration (e.g. path alteration or symlinking in ~/bin and ensuring your PATH has ~/bin before the Python 2.2 path). Maybe some distribution utility is required to prevent the manual tweaks?",Python deployment and /usr/bin/env portability,42516,40705,4,"Pretty hackish solution - if your check fails, use this function (which probably could be significantly improved) to determine the best interpreter available, determine if it is acceptable, and if so relaunch your script with os.system or something similar and your sys.argv using the new interpreter. import os import glob def best_python(): plist = [] for I in os.getenv(""PATH"").split("":""): for j in glob.glob(os.path.join(i, ""python2.[0-9]"")): plist.append(os.path.join(i, j)) plist.sort() plist.reverse() if len(plist) == 0: return None return plist[0]"
40705,12,"At the beginning of all my executable Python scripts I put the shebang line: #!/usr/bin/env python I'm running these scripts on a system where env python yields a Python 2.2 environment. My scripts quickly fail because I have a manual check for a compatible Python version: if sys.version_info &lt; (2, 4): raise ImportError(""Cannot run with Python version &lt; 2.4"") I don't want to have to change the shebang line on every executable file, if it's possible; however, I don't have administrative access to the machine to change the result of env python and I don't want to force a particular version, as in: #!/usr/bin/env python2.4 I'd like to avoid this because system may have a newer version than Python 2.4, or may have Python 2.5 but no Python 2.4. What's the elegant solution? [Edit:] I wasn't specific enough in posing the question -- I'd like to let users execute the scripts without manual configuration (e.g. path alteration or symlinking in ~/bin and ensuring your PATH has ~/bin before the Python 2.2 path). Maybe some distribution utility is required to prevent the manual tweaks?",Python deployment and /usr/bin/env portability,42794,40705,0,"@morais: That's an interesting idea, but I think maybe we can take it one step farther. Maybe there's a way to use Ian Bicking's virtualenv to: See if we're running in an acceptable environment to begin with, and if so, do nothing. Check if there exists a version-specific executable on the PATH, i.e. check if python2.x exists for x in reverse(range(4, 10)). If so, re-run the command with the better interpreter. If no better interpreter exists, use virtualenv to try and install a newer version of Python from the older version of Python and get any prerequisite packages. I have no idea if virtualenv is capable of this, so I'll go mess around with it sometime soon. :)"
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,41555,41547,2,If you can hook your authentication into the Django authentication scheme you'll be able to use request.user. I think this should just be a case of calling authenticate() and login() based on the contents of your Cookie. Edit: @Staale - I always use the locals() trick for my context so all my templates can see request and so request.user. If you're not then I guess it wouldn't be so straightforward.
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,41558,41547,18,"In a more general sense of not having to explicitly set variables in each view, it sounds like you want to look at writing your own context processor. From the docs: A context processor has a very simple interface: It's just a Python function that takes one argument, an HttpRequest object, and returns a dictionary that gets added to the template context. Each context processor must return a dictionary."
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,41560,41547,2,"@Dave To use {{user.username}} in my templates, I will then have to use requestcontext rather than just a normal map/hash: http://www.djangoproject.com/documentation/templates_python/#subclassing-context-requestcontext So I guess there are no globals that the template engine checks. But the RequestContext has some prepopulate classes that I can look into to solve my problems. Thanks."
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,269249,41547,31,"@Ryan: Documentation about preprocessors is a bit small @Staale: Adding user to the Context every time one is calling the template in view, DRY Solution is very simple A: In your settings add TEMPLATE_CONTEXT_PROCESSORS = ( 'myapp.processor_file_name.user', ) B: In myapp/processor_file_name.py insert def user(request): if hasattr(request, 'user'): return {'user':request.user } return {} From now on you're able to use user object functionalities in your templates. {{ user.get_full_name }}"
41547,25,"I am working on a small intranet site for a small company, where user should be able to post. I have imagined a very simple authentication mechanism where people just enter their email address, and gets sent a unique login url, that sets a cookie that will always identify them for future requests. In my template setup, I have base.html, and the other pages extend this. I want to show logged in or register button in the base.html, but how can I ensure that the necessary variables are always a part of the context? It seems that each view just sets up the context as they like, and there is no global context population. Is there a way of doing this without including the user in each context creation? Or will I have to make my own custom shortcuts to setup the context properly?",Always including the user in the django template context,1064621,41547,43,"There is no need to write a context processor for the user object if you already have the ""django.core.context_processors.auth"" in TEMPLATE_CONTEXT_PROCESSORS and if you're using RequestContext in your views. if you are using django 1.4 or latest the module has been moved to django.contrib.auth.context_processors.auth"
41562,7,"I've had to do some introspection in python and it wasn't pretty: name = sys._getframe(1).f_code name = ""%s:%d %s()"" %(os.path.split(name.co_filename)[1],name.co_firstlineno,name.co_name) To get something like foo.py:22 bar() blah blah In our debugging output. I'd ideally like to prepend anything to stderr with this sort of information -- Is it possible to change the behaviour of print globally within python?",How do I do monkeypatching in python?,41574,41562,3,"A print statement does its IO through ""sys.stdout.write"" so you can override sys.stdout if you want to manipulate the print stream."
41562,7,"I've had to do some introspection in python and it wasn't pretty: name = sys._getframe(1).f_code name = ""%s:%d %s()"" %(os.path.split(name.co_filename)[1],name.co_firstlineno,name.co_name) To get something like foo.py:22 bar() blah blah In our debugging output. I'd ideally like to prepend anything to stderr with this sort of information -- Is it possible to change the behaviour of print globally within python?",How do I do monkeypatching in python?,41921,41562,1,The python inspect module makes this a lot easier and cleaner.
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41707,41701,13,"I'd say that a dictionary is definitely the best way to do it. It's easily extensible, allows you to give each value a sensible name, and Python has a lot of built-in language features for using and manipulating dictionaries. If you need to add more fields later, all you need to change is the code that converts the tuple to a dictionary and the code that actually makes use of the new values. For example: job={} job['jobid'], job['label'], job['username']=&lt;querycode&gt;"
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41709,41701,0,"With a tuple it will always be a hassle to add or change fields. You're right that a dictionary will be much better. If you want something with slightly friendlier syntax you might want to take a look at the answers this question about a simple 'struct-like' object. That way you can pass around an object, say job, and access its fields even more easily than a tuple or dict: job.jobId, job.username = jobId, username"
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41721,41701,3,"Perhaps this is overkill for your case, but I would be tempted to create a ""Job"" class that takes the tuple as its constructor argument and has respective properties on it. I'd then pass instances of this class around instead."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41723,41701,2,"I would use a dictionary. You can convert the tuple to a dictionary this way: values = &lt;querycode&gt; keys = [""jobid"", ""label"", ""username""] job = dict([[keys[i], values [i]] for I in xrange(len(values ))]) This will first create an array [[""jobid"", val1], [""label"", val2], [""username"", val3]] and then convert that to a dictionary. If the result order or count changes, you just need to change the list of keys to match the new result. PS still fresh on Python myself, so there might be better ways off doing this."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41730,41701,-2,"How about this: class TypedTuple: def __init__(self, fieldlist, items): self.fieldlist = fieldlist self.items = items def __getattr__(self, field): return self.items[self.fieldlist.index(field)] You could then do: j = TypedTuple([""jobid"", ""label"", ""username""], job) print j.jobid It should be easy to swap self.fieldlist.index(field) with a dictionary lookup later on... just edit your __init__ method! Something like Staale does."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,41846,41701,13,"@Staale There is a better way: job = dict(zip(keys, values))"
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,387242,41701,2,"An old question, but since no one mentioned it I'll add this from the Python Cookbook: Recipe 81252: Using dtuple for Flexible Query Result Access This recipe is specifically designed for dealing with database results, and the dtuple solution allows you to access the results by name OR index number. This avoids having to access everything by subscript which is very difficult to maintain, as noted in your question."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,1144246,41701,5,"This is an old question, but... I'd suggest using a named tuple in this situation: collections.namedtuple This is the part, in particular, that you'd find useful: Subclassing is not useful for adding new, stored fields. Instead, simply create a new named tuple type from the _fields attribute."
41701,12,"I have a method in my Python code that returns a tuple - a row from a SQL query. Let's say it has three fields: (jobId, label, username) For ease of passing it around between functions, I've been passing the entire tuple as a variable called 'job'. Eventually, however, I want to get at the bits, so I've been using code like this: (jobId, label, username) = job I've realised, however, that this is a maintenance nightmare, because now I can never add new fields to the result set without breaking all of my existing code. How should I have written this? Here are my two best guesses: (jobId, label, username) = (job[0], job[1], job[2]) ...but that doesn't scale nicely when you have 15...20 fields or to convert the results from the SQL query to a dictionary straight away and pass that around (I don't have control over the fact that it starts life as a tuple, that's fixed for me)",Splitting tuples in Python - best practice?,2609123,41701,0,"If you're using the MySQLdb package, you can set up your cursor objects to return dicts instead of tuples. import MySQLdb, MySQLdb.cursors conn = MySQLdb.connect(..., cursorclass=MySQLdb.cursors.DictCursor) cur = conn.cursor() # a DictCursor cur2 = conn.cursor(cursorclass=MySQLdb.cursors.Cursor) # a ""normal"" tuple cursor"
41969,6,"I want to open a folder window, in the appropriate file manager, from within a cross-platform (windows/mac/linux) Python application. On OSX, I can open a window in the finder with os.system('open ""%s""' % foldername) and on Windows with os.startfile(foldername) What about unix/linux? Is there a standard way to do this or do I have to special case gnome/kde/etc and manually run the appropriate application (nautilus/konqueror/etc)? This looks like something that could be specified by the freedesktop.org folks (a python module, similar to webbrowser, would also be nice!).",Standard way to open a folder window in linux?,41999,41969,0,"this would probably have to be done manually, or have as a config item since there are many file managers that users may want to use. Providing a way for command options as well. There might be an function that launches the defaults for kde or gnome in their respective toolkits but I haven't had reason to look for them."
41969,6,"I want to open a folder window, in the appropriate file manager, from within a cross-platform (windows/mac/linux) Python application. On OSX, I can open a window in the finder with os.system('open ""%s""' % foldername) and on Windows with os.startfile(foldername) What about unix/linux? Is there a standard way to do this or do I have to special case gnome/kde/etc and manually run the appropriate application (nautilus/konqueror/etc)? This looks like something that could be specified by the freedesktop.org folks (a python module, similar to webbrowser, would also be nice!).",Standard way to open a folder window in linux?,42039,41969,0,"You're going to have to do this based on the running window manager. OSX and Windows have a (defacto) standard way because there is only one choice. You shouldn't need to specify the exact filemanager application, though, this should be possible to do through the wm. I know Gnome does, and it's important to do this in KDE since there are two possible file managers (Konqueror/Dolphin) that may be in use. I agree that this would be a good thing for freedesktop.org to standardize, although I doubt it will happen unless someone steps up and volunteers to do it. EDIT: I wasn't aware of xdg-open. Good to know!"
41969,6,"I want to open a folder window, in the appropriate file manager, from within a cross-platform (windows/mac/linux) Python application. On OSX, I can open a window in the finder with os.system('open ""%s""' % foldername) and on Windows with os.startfile(foldername) What about unix/linux? Is there a standard way to do this or do I have to special case gnome/kde/etc and manually run the appropriate application (nautilus/konqueror/etc)? This looks like something that could be specified by the freedesktop.org folks (a python module, similar to webbrowser, would also be nice!).",Standard way to open a folder window in linux?,42046,41969,7,"os.system('xdg-open ""%s""' % foldername) xdg-open can be used for files/urls also"
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42048,42034,32,"Tuples are used whenever you want to return multiple results from a function. Since they're immutable, they can be used as keys for a dictionary (lists can't)."
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42049,42034,2,I find them useful when you always deal with two or more objects as a set.
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42050,42034,1,"A list can always replace a tuple, with respect to functionality (except, apparently, as keys in a dict). However, a tuple can make things go faster. The same is true for, for example, immutable strings in Java -- when will you ever need to be unable to alter your strings? Never! I just read a decent discussion on limiting what you can do in order to make better programs; Why Why Functional Programming Matters Matters"
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42052,42034,14,"Tuples make good dictionary keys when you need to combine more than one piece of data into your key and don't feel like making a class for it. a = {} a[(1,2,""bob"")] = ""hello!"" a[(""Hello"",""en-US"")] = ""Hi There!"" I've used this feature primarily to create a dictionary with keys that are coordinates of the vertices of a mesh. However, in my particular case, the exact comparison of the floats involved worked fine which might not always be true for your purposes [in which case I'd probably convert your incoming floats to some kind of fixed-point integer]"
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42055,42034,1,A tuple is useful for storing multiple values.. As you note a tuple is just like a list that is immutable - e.g. once created you cannot add/remove/swap elements. One benefit of being immutable is that because the tuple is fixed size it allows the run-time to perform certain optimizations. This is particularly beneficial when a tupple is used in the context of a return value or a parameter to a function.
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,42060,42034,2,"Tuples and lists have the same uses in general. Immutable data types in general have many benefits, mostly about concurrency issues. So, when you have lists that are not volatile in nature and you need to guarantee that no consumer is altering it, you may use a tuple. Typical examples are fixed data in an application like company divisions, categories, etc. If this data change, typically a single producer rebuilts the tuple."
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,48414,42034,7,"I like this explanation. Basically, you should use tuples when there's a constant structure (the 1st position always holds one type of value and the second another, and so forth), and lists should be used for lists of homogeneous values. Of course there's always exceptions, but this is a good general guideline."
42034,25,"I am learning Python for a class now, and we just covered tuples as one of the data types. I read the Wikipedia page on it, but, I could not figure out where such a data type would be useful in practice. Can I have some examples, perhaps in Python, where an immutable set of numbers would be needed? How is this different from a list?",What is a tuple useful for?,51200,42034,0,"In addition to the places where they're syntactically required like the string % operation and for multiple return values, I use tuples as a form of lightweight classes. For example, suppose you have an object that passes out an opaque cookie to a caller from one method which is then passed into another method. A tuple is a good way to pack multiple values into that cookie without having to define a separate class to contain them. I try to be judicious about this particular use, though. If the cookies are used liberally throughout the code, it's better to create a class because it helps document their use. If they are only used in one place (e.g. one pair of methods) then I might use a tuple. In any case, because it's Python you can start with a tuple and then change it to an instance of a custom class without having to change any code in the caller."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,42485,42482,2,Open Office has an API
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,42492,42482,0,"If it is Word 2007 docx, you could unzip it and parse the XML files that are contained inside."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,43301,42482,2,"Using the OpenOffice API, and Python, and Andrew Pitonyak's excellent online macro book I managed to do this. Section 7.16.4 is the place to start. One other tip to make it work without needing the screen at all is to use the Hidden property: RO = PropertyValue('ReadOnly', 0, True, 0) Hidden = PropertyValue('Hidden', 0, True, 0) xDoc = desktop.loadComponentFromURL( docpath,""_blank"", 0, (RO, Hidden,) ) Otherwise the document flicks up on the screen (probably on the webserver console) when you open it."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,43364,42482,8,"I use catdoc or antiword for this, whatever gives the result that is the easiest to parse. I have embedded this in python functions, so it is easy to use from the parsing system (which is written in python). import os def doc_to_text_catdoc(filename): (fi, fo, fe) = os.popen3('catdoc -w ""%s""' % filename) fi.close() retval = fo.read() erroroutput = fe.read() fo.close() fe.close() if not erroroutput: return retval else: raise OSError(""Executing the command caused an error: %s"" % erroroutput) # similar doc_to_text_antiword() The -w switch to catdoc turns off line wrapping, BTW."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,1387028,42482,1,"For docx files, check out the Python script docx2txt available at http://cobweb.ecn.purdue.edu/~kak/distMisc/docx2txt for extracting the plain text from a docx document."
42482,15,"Is there a reasonable way to extract plain text from a Word file that doesn't depend on COM automation? (This is a a feature for a web app deployed on a non-Windows platform - that's non-negotiable in this case.) Antiword seems like it might be a reasonable option, but it seems like it might be abandoned. A Python solution would be ideal, but doesn't appear to be available.",Best way to extract text from a Word doc without using COM/automation?,1979931,42482,14,"(Same answer as extracting text from MS word files in python) Use the native Python docx module which I made this week. Here's how to extract all the text from a doc: document = opendocx('Hello world.docx') # This location is where most document content lives docbody = document.xpath('/w:document/w:body', namespaces=wordnamespaces)[0] # Extract all text print getdocumenttext(document) See Python DocX site 100% Python, no COM, no .net, no Java, no parsing serialized XML with regexs, no crap."
42581,31,"The Python docs say: re.MULTILINE: When specified, the pattern character '^' matches at the beginning of the string and at the beginning of each line (immediately following each newline)... By default, '^' matches only at the beginning of the string... So what's going on when I get the following unexpected result? &gt;&gt;&gt; import re &gt;&gt;&gt; s = """"""// The quick brown fox. ... // Jumped over the lazy dog."""""" &gt;&gt;&gt; re.sub('^//', '', s, re.MULTILINE) ' The quick brown fox.\n// Jumped over the lazy dog.'",Python re.sub MULTILINE caret match,42597,42581,75,"Look at the definition of re.sub: sub(pattern, repl, string[, count]) The 4th argument is the count, you are using re.MULTILINE (which is 8) as the count, not as a flag. You have to compile your regex if you wish to use flags. re.sub(re.compile('^//', re.MULTILINE), '', s) A flags argument was added in Python 2.7, so the full definition is now: re.sub(pattern, repl, string[, count, flags]) Which means that: re.sub('^//', '', s, flags=re.MULTILINE) works."
42581,31,"The Python docs say: re.MULTILINE: When specified, the pattern character '^' matches at the beginning of the string and at the beginning of each line (immediately following each newline)... By default, '^' matches only at the beginning of the string... So what's going on when I get the following unexpected result? &gt;&gt;&gt; import re &gt;&gt;&gt; s = """"""// The quick brown fox. ... // Jumped over the lazy dog."""""" &gt;&gt;&gt; re.sub('^//', '', s, re.MULTILINE) ' The quick brown fox.\n// Jumped over the lazy dog.'",Python re.sub MULTILINE caret match,2517216,42581,6,"re.sub('(?m)^//', '', s)"
42950,306,"Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month? If the standard library doesn't support that, does the dateutil package support this?",Get Last Day of the Month in Python,42997,42950,43,"EDIT: See @Blair Conrad's answer for a cleaner solution &gt;&gt;&gt; import datetime &gt;&gt;&gt; datetime.date (2000, 2, 1) - datetime.timedelta (days = 1) datetime.date(2000, 1, 31) &gt;&gt;&gt;"
42950,306,"Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month? If the standard library doesn't support that, does the dateutil package support this?",Get Last Day of the Month in Python,43088,42950,32,"EDIT: see my other answer. It has a better implementation than this one, which I leave here just in case someone's interested in seeing how one might ""roll your own"" calculator. @John Millikin gives a good answer, with the added complication of calculating the first day of the next month. The following isn't particularly elegant, but to figure out the last day of the month that any given date lives in, you could try: def last_day_of_month(date): if date.month == 12: return date.replace(day=31) return date.replace(month=date.month+1, day=1) - datetime.timedelta(days=1) &gt;&gt;&gt; last_day_of_month(datetime.date(2002, 1, 17)) datetime.date(2002, 1, 31) &gt;&gt;&gt; last_day_of_month(datetime.date(2002, 12, 9)) datetime.date(2002, 12, 31) &gt;&gt;&gt; last_day_of_month(datetime.date(2008, 2, 14)) datetime.date(2008, 2, 29)"
42950,306,"Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month? If the standard library doesn't support that, does the dateutil package support this?",Get Last Day of the Month in Python,43663,42950,552,"I didn't notice this earlier when I was looking at the documentation for the calendar module, but a method called monthrange provides this information: monthrange(year, month) &nbsp;&nbsp;&nbsp;&nbsp;Returns weekday of first day of the month and number of days in month, for the specified year and month. &gt;&gt;&gt; import calendar &gt;&gt;&gt; calendar.monthrange(2002,1) (1, 31) &gt;&gt;&gt; calendar.monthrange(2008,2) (4, 29) &gt;&gt;&gt; calendar.monthrange(2100,2) (0, 28) so: calendar.monthrange(year, month)[1] seems like the simplest way to go. Just to be clear, monthrange supports leap years as well: &gt;&gt;&gt; from calendar import monthrange &gt;&gt;&gt; monthrange(2012, 2) (2, 29) My previous answer still works, but is clearly suboptimal."
42950,306,"Is there a way using Python's standard library to easily determine (i.e. one function call) the last day of a given month? If the standard library doesn't support that, does the dateutil package support this?",Get Last Day of the Month in Python,356535,42950,10,"Another solution would be to do something like this: from datetime import datetime def last_day_of_month(year, month): """""" Work out the last day of the month """""" last_days = [31, 30, 29, 28, 27] for I in last_days: try: end = datetime(year, month, i) except ValueError: continue else: return end.date() return None And use the function like this: &gt;&gt;&gt; &gt;&gt;&gt; last_day_of_month(2008, 2) datetime.date(2008, 2, 29) &gt;&gt;&gt; last_day_of_month(2009, 2) datetime.date(2009, 2, 28) &gt;&gt;&gt; last_day_of_month(2008, 11) datetime.date(2008, 11, 30) &gt;&gt;&gt; last_day_of_month(2008, 12) datetime.date(2008, 12, 31)"
43099,3,"I'm trying to write a bzr post-commit hook for my private bugtracker, but I'm stuck at the function signature of post_commit(local, master, old_revno, old_revid, new_revno, mew_revid). How can I extract the commit message for the branch from this with bzrlib in Python?",How can I get a commit message from a bzr post-commit hook?,43172,43099,5,"And the answer is like so: def check_commit_msg(local, master, old_revno, old_revid, new_revno, new_revid): branch = local or master revision = branch.repository.get_revision(new_revid) print revision.message local and master are Branch objects, so once you have a revision, it's easy to extract the message."
43290,22,"In Django's template language, you can use {% url [viewname] [args] %} to generate a URL to a specific view with parameters. How can you programatically do the same in Python code? What I need is to create a list of menu items where each item has name, URL, and an active flag (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.",How to generate urls in django,43312,43290,32,"If you need to use something similar to the {% url %} template tag in your code, Django provides the django.core.urlresolvers.reverse(). The reverse function has the following signature: reverse(viewname, urlconf=None, args=None, kwargs=None) https://docs.djangoproject.com/en/dev/ref/urlresolvers/"
43290,22,"In Django's template language, you can use {% url [viewname] [args] %} to generate a URL to a specific view with parameters. How can you programatically do the same in Python code? What I need is to create a list of menu items where each item has name, URL, and an active flag (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.",How to generate urls in django,55734,43290,8,"I'm using two different approaches in my models.py. The first is the permalink decorator: from django.db.models import permalink def get_absolute_url(self): """"""Construct the absolute URL for this Item."""""" return ('project.app.views.view_name', [str(self.id)]) get_absolute_url = permalink(get_absolute_url) You can also call reverse directly: from django.core.urlresolvers import reverse def get_absolute_url(self): """"""Construct the absolute URL for this Item."""""" return reverse('project.app.views.view_name', None, [str(self.id)])"
43290,22,"In Django's template language, you can use {% url [viewname] [args] %} to generate a URL to a specific view with parameters. How can you programatically do the same in Python code? What I need is to create a list of menu items where each item has name, URL, and an active flag (whether it's the current page or not). This is because it will be a lot cleaner to do this in Python than the template language.",How to generate urls in django,72249,43290,4,"Be aware that using reverse() requires that your urlconf module is 100% error free and can be processed - iow no ViewDoesNotExist errors or so, or you get the dreaded NoReverseMatch exception (errors in templates usually fail silently resulting in None)."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,43331,43315,32,"Not currently, currently the only languages available to access the iPhone SDK are C/C++, Objective C and Swift. There is no technical reason why this could not change in the future but I wouldn't hold your breath for this happening in the short term. That said, Objective-C and Swift really are not too scary... 2016 edit Javascript with NativeScript framework is available to use now."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,43358,43315,51,"You can use PyObjC on the iPhone as well, due to the excellent work by Jay Freeman (saurik). See iPhone Applications in Python. Note that this requires a jailbroken iPhone at the moment."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,145071,43315,5,The iPhone SDK agreement is also rather vague about whether you're even allowed to run scripting languages (outside of a WebView's Javascript). My reading is that it is OK - as long as none of the scripts you execute are downloaded from the network (so pre-installed and user-edited scripts seem to be OK). IANAL etc etc.
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,739098,43315,1,"You can do this with PyObjC, with a jailbroken phone of course. But if you want to get it into the App Store, they will not allow it because it ""interprets code."" However, you may be able to use Shed Skin, although I'm not aware of anyone doing this. I can't think of any good reason to do this though, as you lose dynamic typing, and might as well use ObjC."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,2005197,43315,0,"The only significant ""external"" language for iPhone development that I'm aware of with semi-significant support in terms of frameworks and compatibility is MonoTouch, a C#/.NET environment for developing on the iPhone."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,2167033,43315,22,"Yes you can. You write your code in tinypy (which is restricted Python), then use tinypy to convert it to C++, and finally compile this with XCode into a native iPhone app. Phil Hassey has published a game called Elephants! using this approach. Here are more details, http://www.philhassey.com/blog/2009/12/23/elephants-is-free-on-the-app-store/"
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,2637228,43315,20,"An update to the iOS Developer Agreement means that you can use whatever you like, as long as you meet the developer guidelines. Section 3.3.1, which restricted what developers could use for iOS development, has been entirely removed. Source: http://daringfireball.net/2010/09/app_store_guidelines"
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,2768536,43315,2,"Technically, as long as the interpreted code ISN'T downloaded (excluding JavaScript), the app may be approved. Rhomobiles ""Rhodes"" framework does just that, bundling mobile Ruby, a lightweight version of Rails, and your app for distribution via the app-store. Because both the interpreter and the interpreted code are packaged into the final application - Apple doesn't find it objectionable. http://rhomobile.com/products/rhodes/ Even after the latest apple press release - rhodes apps (mobile ruby) are still viable on the app-store. I'd find it hard to believe that tinyPy or pyObjC wouldn't find a place if there is a willing developer community."
43315,78,"Using PyObjC, you can use Python to write Cocoa applications for OS X. Can I write native iPhone apps using Python and if so, how?",Can I write native iPhone apps using Python,3684714,43315,21,"It seems this is now something developers are allowed to do: the iOS Developer Agreement was changed yesterday and appears to have been ammended in a such a way as to make embedding a Python interpretter in your application legal: SECTION 3.3.2 â INTERPRETERS Old: 3.3.2 An Application may not itself install or launch other executable code by any means, including without limitation through the use of a plug-in architecture, calling other frameworks, other APIs or otherwise. Unless otherwise approved by Apple in writing, no interpreted code may be downloaded or used in an Application except for code that is interpreted and run by Appleâs Documented APIs and built-in interpreter(s). Notwithstanding the foregoing, with Appleâs prior written consent, an Application may use embedded interpreted code in a limited way if such use is solely for providing minor features or functionality that are consistent with the intended and advertised purpose of the Application. New: 3.3.2 An Application may not download or install executable code. Interpreted code may only be used in an Application if all scripts, code and interpreters are packaged in the Application and not downloaded. The only exception to the foregoing is scripts and code downloaded and run by Appleâs built-in WebKit framework."
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,43386,43368,3,You should have a look at django and especially its newforms and admin modules. The newforms module provides a nice possibility to do server side validation with automated generation of error messages/pages for the user. Adding ajax validation is also possible
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,43414,43368,1,"I believe that Django models does not support composite primary keys (see documentation). But perhaps you can use SQLAlchemy in Django? A google search indicates that you can. I have not used Django, so I don't know. I suggest you take a look at: ToscaWidgets DBSprockets, including DBMechanic Catwalk. Catwalk is an application for TurboGears 1.0 that uses SQLObject, not SQLAlchemy. Also check out this blog post and screencast. FastData. Also uses SQLObject. formalchemy Rum I do not have any deep knowledge of any of the projects above. I am just in the process of trying to add something similar to one of my own applications as what the original question mentions. The above list is simply a list of interesting projects that I have stumbled across. As to web application frameworks for Python, I recommend TurboGears 2. Not that I have any experience with any of the other frameworks, I just like TurboGears... If the original question's author finds a solution that works well, please update or answer this thread."
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,48284,43368,1,TurboGears currently uses SQLObject by default but you can use it with SQLAlchemy. They are saying that the next major release of TurboGears (1.1) will use SQLAlchemy by default.
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,48479,43368,1,"I know that you specificity ask for a framework but I thought I would let you know about what I get up to here. I have just undergone converting my company's web application from a custom in-house ORM layer into sqlAlchemy so I am far from an expert but something that occurred to me was that sqlAlchemy has types for all of the attributes it maps from the database so why not use that to help output the right html onto the page. So we use sqlAlchemy for the back end and Cheetah templates for the front end but everything in between is basically our own still. We have never managed to find a framework that does exactly what we want without compromise and prefer to get all the bits that work right for us and write the glue our selves. Step 1. For each data type sqlAlchemy.types.INTEGER etc. Add an extra function toHtml (or many maybe toHTMLReadOnly, toHTMLAdminEdit whatever) and just have that return the template for the html, now you don't even have to care what data type your displaying if you just want to spit out a whole table you can just do (as a cheetah template or what ever your templating engine is). Step 2 &lt;table&gt; &lt;tr&gt; #for $field in $dbObject.c: &lt;th&gt;$field.name&lt;/th&gt; #end for &lt;/tr&gt; &lt;tr&gt; #for $field in dbObject.c: &lt;td&gt;$field.type.toHtml($field.name, $field.value)&lt;/td&gt; #end for &lt;/tr&gt; &lt;/table&gt; Using this basic method and stretching pythons introspection to its potential, in an afternoon I managed to make create read update and delete code for our whole admin section of out database, not yet with the polish of django but more then good enough for my needs. Step 3 Discovered the need for a third step just on Friday, wanted to upload files which as you know needs more then just the varchar data types default text box. No sweat, I just overrode the rows class in my table definition from VARCHAR to FilePath(VARCHAR) where the only difference was FilePath had a different toHtml method. Worked flawlessly. All that said, if there is a shrink wrapped one out there that does just what you want, use that. Disclaimer: This code was written from memory after midnight and probably wont produce a functioning web page."
43368,11,"I'm a firm believer of the heretic thought of tight coupling between the backend and frontend: I want existing, implied knowledge about a backend to be automatically made use of when generating user interfaces. E.g., if a VARCHAR column has a maximum with of 20 characters, there GUIs should automatically constrain the user from typing more than 20 characters in a related form field. And I have strong antipathy to ORMs which want to define my database tables, or are based on some hack where every table needs to have extra numeric ID columns because of the ORM. I've looked a bit into Python database frameworks and I think I can conclude the SQLAlchemy fits best to my mentality. Now, I need to find a web application framework which fits naturally with SQLAlchemy (or an equivalent) and perhaps even with my appetite for coupling. With ""web application framework"", I mean products/project such as Pyhons, Django, TurboGears, web2py, etc. E.g., it should ideally be able to: automatically select a suitable form widget for data entering a given column if told to do so; e.g., if the column has a foreign key to a column with 10 different values, widget should display the 10 possible values as a dropdown auto-generate javascript form validation code which gives the end-user quick error feedback if a string is entered into a field which is about to end up in an INTEGER column, etc auto-generate a calendar widget for data which will end up in a DATE column hint NOT NULL constraints as javascript which complains about empty or whitespace-only data in a related input field generate javascript validation code which matches relevant (simple) CHECK-constraints make it easy to avoid SQL injection, by using prepared statements and/or validation of externally derived data make it easy to avoid cross site scripting by automatically escape outgoing strings when appropriate make use of constraint names to generate somewhat user friendly error messages in case a constrataint is violated All this should happen dynamically, so table adjustments are automatically reflected on the frontend - probably with a caching mechanism, so that all the model introspection wouldn't kill performance. In other words, I don't want to repeat my model definition in an XML file (or alike) when it has already been carefully been defined in my database. Does such a framework exist for Python (or for any language, for that matter)? If not: Which of the several Python web application frameworks will be least in the way if I were to add parts of the above features myself?",A python web application framework for tight DB/GUI coupling?,198348,43368,5,"web2py does most of what you ask: Based on a field type and its validators it will render the field with the appropriate widget. You can override with db.table.field.widget=... and use a third party widget. web2py has js to blocks the user from entering a non-integer in a integer field or a non-double in a double field. time, date and datetime fields have their own pickers. These js validation work with (not instead) of server side validation. There is IS_EMPTY_OR(...) validator. The DAL prevents SQL injections since everthing is escaped when goes in the DB. web2py prevents XSS because in {{=variable}}, 'variable' is escaped unless specified otherwise {{=XML(variable)}} or {{=XML(variable,sanitize=True)}} Error messages are arguments of validators for example db.table.field.requires=IS_NOT_EMPTY(error_message=T('hey! write something in here')) T is for internationalization."
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,43588,43580,53,"The mimetypes module in the standard library will determine/guess the MIME type from a file extension. If users are uploading files the HTTP post will contain the MIME type of the file alongside the data. For example, Django makes this data available as an attribute of the UploadedFile object."
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,43616,43580,5,"You didn't state what web server you were using, but Apache has a nice little module called Mime Magic which it uses to determine the type of a file when told to do so. It reads some of the file's content and tries to figure out what type it is based on the characters found. And as Dave Webb Mentioned the MimeTypes Module under python will work, provided an extension is handy. Alternatively, if you are sitting on a UNIX box you can use sys.popen('file -i ' + fileName, mode='r') to grab the MIME type. Windows should have an equivalent command, but I'm unsure as to what it is."
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,1662074,43580,8,"in python 2.6: mime = subprocess.Popen(""/usr/bin/file --mime PATH"", shell=True, \ stdout=subprocess.PIPE).communicate()[0]"
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,2133843,43580,39,"More reliable way than to use the mimetypes library would be to use the python-magic package. import magic m = magic.open(magic.MAGIC_MIME) m.load() m.file(""/tmp/document.pdf"") This would be equivalent to using file(1). On Django one could also make sure that the MIME type matches that of UploadedFile.content_type."
43580,101,"Let's say you want to save a bunch of files somewhere, for instance in BLOBs. Let's say you want to dish these files out via a web page and have the client automatically open the correct application/viewer. Assumption: The browser figures out which application/viewer to use by the mime-type (content-type?) header in the HTTP response. Based on that assumption, in addition to the bytes of the file, you also want to save the MIME type. How would you find the MIME type of a file? I'm currently on a Mac, but this should also work on Windows. Does the browser add this information when posting the file to the web page? Is there a neat python library for finding this information? A WebService or (even better) a downloadable database?",How to find the mime type of a file in python?,2753385,43580,111,"The python-magic method suggested by toivotuo is outdated. Python-magic's current trunk is at Github and based on the readme there, finding the MIME-type, is done like this. # For MIME types &gt;&gt;&gt; import magic &gt;&gt;&gt; mime = magic.Magic(mime=True) &gt;&gt;&gt; mime.from_file(""testdata/test.pdf"") 'application/pdf' &gt;&gt;&gt;"
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,43736,43709,2,"If you've never done any CGI programming before I think it would be worth doing one project - perhaps just a sample play site just for yourself - using the DIY approach. You'll learn a lot more about how all the various parts work than you would by using a framework. This will help in you design and debug and so on all your future web applications however you write them. Personally I now use Django. The real benefit is very fast application deployment. The object relational mapping gets things moving fast and the template library is a joy to use. Also the admin interface gives you basic CRUD screens for all your objects so you don't need to write any of the ""boring"" stuff. The downside of using an ORM based solution is that if you do want to handcraft some SQL, say for performance reasons, it much harder than it would have been otherwise, although still very possible."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,43753,43709,7,"If you decide to go with a framework that is WSGI-based (for instance TurboGears), I would recommend you go through the excellent article Another Do-It-Yourself Framework by Ian Bicking. In the article, he builds a simple web application framework from scratch. Also, check out the video Creating a web framework with WSGI by Kevin Dangoor. Dangoor is the founder of the TurboGears project."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,43773,43709,17,"CGI is great for low-traffic websites, but it has some performance problems for anything else. This is because every time a request comes in, the server starts the CGI application in its own process. This is bad for two reasons: 1) Starting and stopping a process can take time and 2) you can't cache anything in memory. You can go with FastCGI, but I would argue that you'd be better off just writing a straight WSGI app if you're going to go that route (the way WSGI works really isn't a whole heck of a lot different from CGI). Other than that, your choices are for the most part how much you want the framework to do. You can go with an all singing, all dancing framework like Django or Pylons. Or you can go with a mix-and-match approach (use something like CherryPy for the HTTP stuff, SQLAlchemy for the database stuff, paste for deployment, etc). I should also point out that most frameworks will also let you switch different components out for others, so these two approaches aren't necessarily mutually exclusive. Personally, I dislike frameworks that do too much magic for me and prefer the mix-and-match technique, but I've been told that I'm also completely insane. :) How much web programming experience do you have? If you're a beginner, I say go with Django. If you're more experienced, I say to play around with the different approaches and techniques until you find the right one."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,43835,43709,12,"The simplest web program is a CGI script, which is basically just a program whose standard output is redirected to the web browser making the request. In this approach, every page has its own executable file, which must be loaded and parsed on every request. This makes it really simple to get something up and running, but scales badly both in terms of performance and organization. So when I need a very dynamic page very quickly that won't grow into a larger system, I use a CGI script. One step up from this is embedding your Python code in your HTML code, such as with PSP. I don't think many people use this nowadays, since modern template systems have made this pretty obsolete. I worked with PSP for awhile and found that it had basically the same organizational limits as CGI scripts (every page has its own file) plus some whitespace-related annoyances from trying to mix whitespace-ignorant HTML with whitespace-sensitive Python. The next step up is very simple web frameworks such as web.py, which I've also used. Like CGI scripts, it's very simple to get something up and running, and you don't need any complex configuration or automatically generated code. Your own code will be pretty simple to understand, so you can see what's happening. However, it's not as feature-rich as other web frameworks; last time I used it, there was no session tracking, so I had to roll my own. It also has ""too much magic behavior"" to quote Guido (""upvars(), bah""). Finally, you have feature-rich web frameworks such as Django. These will require a bit of work to get simple Hello World programs working, but every major one has a great, well-written tutorial (especially Django) to walk you through it. I highly recommend using one of these web frameworks for any real project because of the convenience and features and documentation, etc. Ultimately you'll have to decide what you prefer. For example, frameworks all use template languages (special code/tags) to generate HTML files. Some of them such as Cheetah templates let you write arbitrary Python code so that you can do anything in a template. Others such as Django templates are more restrictive and force you to separate your presentation code from your program logic. It's all about what you personally prefer. Another example is URL handling; some frameworks such as Django have you define the URLs in your application through regular expressions. Others such as CherryPy automatically map your functions to urls by your function names. Again, this is a personal preference. I personally use a mix of web frameworks by using CherryPy for my web server stuff (form parameters, session handling, url mapping, etc) and Django for my object-relational mapping and templates. My recommendation is to start with a high level web framework, work your way through its tutorial, then start on a small personal project. I've done this with all of the technologies I've mentioned and it's been really beneficial. Eventually you'll get a feel for what you prefer and become a better web programmer (and a better programmer in general) in the process."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,44638,43709,1,"OK, rails is actually pretty good, but there is just a little bit too much magic going on in there (from the Ruby world I would much prefer merb to rails). I personally use Pylons, and am pretty darn happy. I'd say (compared to django), that pylons allows you to interchange ints internal parts easier than django does. The downside is that you will have to write more stuff all by youself (like the basic CRUD). Pros of using a framework: get stuff done quickly (and I mean lighning fast once you know the framework) everything is compying to standards (which is probably not that easy to achieve when rolling your own) easier to get something working (lots of tutorials) without reading gazillion articles and docs Cons: you learn less harder to replace parts (not that much of an issue in pylons, more so with django) harder to tweak some low-level stuff (like the above mentioned SQLs) From that you can probably devise what they are good for :-) Since you get all the code it is possible to tweak it to fit even the most bizzare situations (pylons supposedly work on the Google app engine now...)."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,87048,43709,4,"If you want to go big, choose Django and you are set. But if you want just to learn, roll your own framework using already mentioned WebOb - this can be really fun and I am sure you'll learn much more (plus you can use components you like: template system, url dispatcher, database layer, sessions, et caetera). In last 2 years I built few large sites using Django and all I can say, Django will fill 80% of your needs in 20% of time. Remaining 20% of work will take 80% of the time, no matter which framework you'd use."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,222159,43709,3,"It's always worth doing something the hard way - once - as a learning exercise. Once you understand how it works, pick a framework that suits your application, and use that. You don't need to reinvent the wheel once you understand angular velocity. :-) It's also worth making sure that you have a fairly robust understanding of the programming language behind the framework before you jump in -- trying to learn both Django and Python at the same time (or Ruby and Rails, or X and Y), can lead to even more confusion. Write some code in the language first, then add the framework. We learn to develop, not by using tools, but by solving problems. Run into a few walls, climb over, and find some higher walls!"
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,1209580,43709,2,"If you are using Python you should not start with CGI, instead start with WSGI (and you can use wsgiref.handlers.CGIHandler to run your WSGI script as a CGI script. The result is something that is basically as low-level as CGI (which might be useful in an educational sense, but will also be somewhat annoying), but without having to write to an entirely outdated interface (and binding your application to a single process model). If you want a less annoying, but similarly low-level interface, using WebOb would provide that. You would be implementing all the logic, and there will be few dark corners that you won't understand, but you won't have to spend time figuring out how to parse HTTP dates (they are weird!) or parse POST bodies. I write applications this way (without any other framework) and it is entirely workable. As a beginner, I'd advise this if you were interested in understanding what frameworks do, because it is inevitable you will be writing your own mini framework. OTOH, a real framework will probably teach you good practices of application design and structure. To be a really good web programmer, I believe you need to try both seriously; you should understand everything a framework does and not be afraid of its internals, but you should also spend time in a thoughtful environment someone else designed (i.e., an existing framework) and understand how that structure helps you."
43709,24,"I'd like to do some server-side scripting using Python. But I'm kind of lost with the number of ways to do that. It starts with the do-it-yourself CGI approach and it seems to end with some pretty robust frameworks that would basically do all the job themselves. And a huge lot of stuff in between, like web.py, Pyroxide and Django. What are the pros and cons of the frameworks or approaches that you've worked on? What trade-offs are there? For what kind of projects they do well and for what they don't? Edit: I haven't got much experience with web programing yet. I would like to avoid the basic and tedious things like parsing the URL for parameters, etc. On the other hand, while the video of blog created in 15 minutes with Ruby on Rails left me impressed, I realized that there were hundreds of things hidden from me - which is cool if you need to write a working webapp in no time, but not that great for really understanding the magic - and that's what I seek now.",Pros and Cons of different approaches to web programming in Python,1873745,43709,1,"For smaller projects, rolling your own is fairly easy. Especially as you can simply import a templating engine like Genshi and get alot happening quite quickly and easily. Sometimes it's just quicker to use a screwdriver than to go looking for the power drill. Full blown frameworks provide alot more power, but do have to be installed and setup first before you can leverage that power. For larger projects, this is a negligible concern, but for smaller projects this might wind up taking most of your time - especially if the framework is unfamiliar."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43780,43775,9,Your Python interpreter is correct. One (stupid) way of calculating a modulus is to subtract or add the modulus until the resulting value is between 0 and (modulus â 1). e.g.: 13 mod 5 = (13 â 5) mod 5 = (13 â 10) mod 5 = 3 or in your case: â2 mod 5 = (â2 + 5) mod 5 = 3
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43781,43775,0,"Well, -2 divided by 5 would be 0 with a remainder of 3. I don't believe that should be very platform dependent, but I've seen stranger things."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43782,43775,0,"It is indeed 3. In modular arithmetic, a modulus is simply the remainder of a division, and the remainder of -2 divided by 5 is 3."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43783,43775,11,The result of the modulus operation on negatives seems to be programming language dependent and here is a listing http://en.wikipedia.org/wiki/Modulo_operation
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43785,43775,4,"Well, 0 % 5 should be 0, right? -1 % 5 should be 4 because that's the next allowed digit going in the reverse direction (i.e., it can't be 5, since that's out of range). And following along by that logic, -2 must be 3. The easiest way to think of how it will work is that you keep adding or subtracting 5 until the number falls between 0 (inclusive) and 5 (exclusive). I'm not sure about machine dependence - I've never seen an implementation that was, but I can't say it's never done."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43794,43775,15,"By the way: most programming languages would disagree with Python and give the result -2. Depending on the interpretation of modulus this is correct. However, the most agreed-upon mathematical definition states that the modulus of a and b is the (strictly positive) rest r of the division of a / b. More precisely, 0 &lt;= r &lt; b by definition."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43799,43775,0,"The result depends on the language. Python returns the sign of the divisor, where for example c# returns the sign of the dividend (ie. -2 % 5 returns -2 in c#)."
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43837,43775,0,One explanation might be that negative numbers are stored using 2's complement. When the python interpreter tries to do the modulo operation it converts to unsigned value. As such instead of doing (-2) % 5 it actually computes 0xFFFF_FFFF_FFFF_FFFD % 5 which is 3.
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43863,43775,4,"As explained in other answers, there are many choices for a modulo operation with negative values. In general different languages (and different machine architectures) will give a different result. According to the Python reference manual, The modulo operator always yields a result with the same sign as its second operand (or zero); the absolute value of the result is strictly smaller than the absolute value of the second operand. is the choice taken by Python. Basically modulo is defined so that this always holds: x == (x/y)*y + (x%y) so it makes sense that (-2)%5 = -2 - (-2/5)*5 = 3"
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,43916,43775,0,"Be careful not to rely on this mod behavior in C/C++ on all OSes and architectures. If I recall correctly, I tried to rely on C/C++ code like float x2 = x % n; to keep x2 in the range from 0 to n-1 but negative numbers crept in when I would compile on one OS, but things would work fine on another OS. This made for an evil time debugging since it only happened half the time!"
43775,14,"Can you please tell me how much is (-2) % 5? According to my Python interpreter is 3, but do you have a wise explanation for this? I've read that in some languages the result can be machine-dependent, but I'm not sure though.",Modulus operation with negatives values - weird thing?,3224825,43775,5,"Like the documentation says in Binary arithmetic operations, Python assures that: The integer division and modulo operators are connected by the following identity: x == (x/y)*y + (x%y). Integer division and modulo are also connected with the built-in function divmod(): divmod(x, y) == (x/y, x%y). And truly, &gt;&gt;&gt; divmod(-2, 5) (-1, 3). Another way to visualize the uniformity of this method is to calculate divmod for a small sequence of numbers: &gt;&gt;&gt; for number in xrange(-10, 10): ... print divmod(number, 5) ... (-2, 0) (-2, 1) (-2, 2) (-2, 3) (-2, 4) (-1, 0) (-1, 1) (-1, 2) (-1, 3) (-1, 4) (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (1, 0) (1, 1) (1, 2) (1, 3) (1, 4)"
44084,31,"That's it. If you want to document a function or a class, you put a string just after the definition. For instance: def foo(): """"""This function does nothing."""""" pass But what about a module? How can I document what a file.py does?",How do I document a module in Python?,44094,44084,5,"It's easy, you just add a docstring at the top of the module."
44084,31,"That's it. If you want to document a function or a class, you put a string just after the definition. For instance: def foo(): """"""This function does nothing."""""" pass But what about a module? How can I document what a file.py does?",How do I document a module in Python?,44095,44084,33,"For the packages, you can document it in __init__.py. For the modules, you can add a docstring simply in the module file. All the information is here: http://www.python.org/dev/peps/pep-0257/"
44084,31,"That's it. If you want to document a function or a class, you put a string just after the definition. For instance: def foo(): """"""This function does nothing."""""" pass But what about a module? How can I document what a file.py does?",How do I document a module in Python?,44098,44084,6,You do it the exact same way. Put a string in as the first statement in the module.
44352,15,"In Python, given a module X and a class Y, how can I iterate or generate a list of all subclasses of Y that exist in module X?",Iterate over subclasses of a given class in a given module,44381,44352,9,"Here's one way to do it: import inspect def get_subclasses(mod, cls): """"""Yield the classes in module ``mod`` that inherit from ``cls``"""""" for name, obj in inspect.getmembers(mod): if hasattr(obj, ""__bases__"") and cls in obj.__bases__: yield obj"
44352,15,"In Python, given a module X and a class Y, how can I iterate or generate a list of all subclasses of Y that exist in module X?",Iterate over subclasses of a given class in a given module,44403,44352,1,"Given the module foo.py class foo(object): pass class bar(foo): pass class baz(foo): pass class grar(Exception): pass def find_subclasses(module, clazz): for name in dir(module): o = getattr(module, name) try: if issubclass(o, clazz): yield name, o except TypeError: pass &gt;&gt;&gt; import foo &gt;&gt;&gt; list(foo.find_subclasses(foo, foo.foo)) [('bar', &lt;class 'foo.bar'&gt;), ('baz', &lt;class 'foo.baz'&gt;), ('foo', &lt;class 'foo.foo'&gt;)] &gt;&gt;&gt; list(foo.find_subclasses(foo, object)) [('bar', &lt;class 'foo.bar'&gt;), ('baz', &lt;class 'foo.baz'&gt;), ('foo', &lt;class 'foo.foo'&gt;), ('grar', &lt;class 'foo.grar'&gt;)] &gt;&gt;&gt; list(foo.find_subclasses(foo, Exception)) [('grar', &lt;class 'foo.grar'&gt;)]"
44352,15,"In Python, given a module X and a class Y, how can I iterate or generate a list of all subclasses of Y that exist in module X?",Iterate over subclasses of a given class in a given module,47032,44352,4,"Can I suggest that neither of the answers from Chris AtLee and zacherates fulfill the requirements? I think this modification to zacerates answer is better: def find_subclasses(module, clazz): for name in dir(module): o = getattr(module, name) try: if (o != clazz) and issubclass(o, clazz): yield name, o except TypeError: pass The reason I disagree with the given answers is that the first does not produce classes that are a distant subclass of the given class, and the second includes the given class."
44352,15,"In Python, given a module X and a class Y, how can I iterate or generate a list of all subclasses of Y that exist in module X?",Iterate over subclasses of a given class in a given module,408465,44352,19,"Although Quamrana's suggestion works fine, there are a couple of possible improvements I'd like to suggest to make it more pythonic. They rely on using the inspect module from the standard library. You can avoid the getattr call by using inspect.getmembers() The try/catch can be avoided by using inspect.isclass() With those, you can reduce the whole thing to a single list comprehension if you like: def find_subclasses(module, clazz): return [ cls for name, cls in inspect.getmembers(module) if inspect.isclass(cls) and issubclass(cls, clazz) ]"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44781,44778,333,"myList = ['a','b','c','d'] myString = "","".join(myList ) This won't work if the list contains numbers. As Ricardo Reyes suggested, if it contains non-string types (such as integers, floats, bools, None) then do: myList = ','.join(map(str, myList))"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44788,44778,42,"Why the map/lambda magic? Doesn't this work? &gt;&gt;&gt;foo = [ 'a', 'b', 'c' ] &gt;&gt;&gt;print "","".join(foo) a,b,c &gt;&gt;&gt;print "","".join([]) &gt;&gt;&gt;print "","".join(['a']) a Edit: @mark-biek points out the case for numbers. Perhaps the list comprehension: &gt;&gt;&gt;','.join([str(x) for x in foo]) is more ""pythonic"". Edit2: Thanks for the suggestions. I'll use the generator rather than the list comprehension in the future. &gt;&gt;&gt;','.join(str(x) for x in foo)"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44791,44778,10,"Don't you just want: "","".join(l) Obviously it gets more complicated if you need to quote/escape commas etc in the values. In that case I would suggest looking at the csv module in the standard library: https://docs.python.org/library/csv.html"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44794,44778,2,"Unless I'm missing something, ','.join(foo) should do what you're asking for. &gt;&gt;&gt; ','.join(['']) '' &gt;&gt;&gt; ','.join(['s']) 's' &gt;&gt;&gt; ','.join(['a','b','c']) 'a,b,c' (edit: and as jmanning2k points out, ','.join([str(x) for x in foo]) is safer and quite Pythonic, though the resulting string will be difficult to parse if the elements can contain commas -- at that point, you need the full power of the csv module, as Douglas points out in his answer.)"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,44878,44778,5,"@jmanning2k using a list comprehension has the downside of creating a new temporary list. The better solution would be using itertools.imap which returns an iterator from itertools import imap l = [1, ""foo"", 4 ,""bar""] "","".join(imap(str, l))"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,46233,44778,6,"@Peter Hoffmann Using generator expressions has the benefit of also producing an iterator but saves importing itertools. Furthermore, list comprehensions are generally preferred to map, thus, I'd expect generator expressions to be preferred to imap. &gt;&gt;&gt; l = [1, ""foo"", 4 ,""bar""] &gt;&gt;&gt; "","".join(str(bit) for bit in l) '1,foo,4,bar'"
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,65255,44778,2,"l=['a', 1, 'b', 2] print str(l)[1:-1] Output: ""'a', 1, 'b', 2"""
44778,180,"What would be your preferred way to concatenate strings from a sequence such that between each two consecutive pair a comma is added. That is, how do you map, for instance, [ 'a', 'b', 'c' ] to 'a,b,c'? (The cases [ s ] and [] should be mapped to s and '', respectively.) I usually end up using something like ''.join(map(lambda x: x+',',l))[:-1], but also feeling somewhat unsatisfied. Edit: I'm both ashamed and happy that the solution is so simple. Obviously I have hardly a clue as to what I'm doing. (I probably needed ""simple"" concatenation in the past and somehow memorised s.join([e1,e2,...]) as a shorthand for s+e1+e2+....)",How would you make a comma-separated string from a list?,156851,44778,5,"Here is a alternative solution in Python 3.0 which allows non-string list items: &gt;&gt;&gt; alist = ['a', 1, (2, 'b')] a standard way &gt;&gt;&gt; "", "".join(map(str, alist)) ""a, 1, (2, 'b')"" the alternative solution &gt;&gt;&gt; import io &gt;&gt;&gt; s = io.StringIO() &gt;&gt;&gt; print(*alist, file=s, sep=', ', end='') &gt;&gt;&gt; s.getvalue() ""a, 1, (2, 'b')"" NOTE: The space after comma is intentional."
44834,409,"I have been using Python more and more, and I keep seeing the variable __all__ set in different __init__.py files. Can someone explain what this does?",Can someone explain all in Python?,44842,44834,198,It's a list of public objects of that module. It overrides the default of hiding everything that begins with an underscore.
44834,409,"I have been using Python more and more, and I keep seeing the variable __all__ set in different __init__.py files. Can someone explain what this does?",Can someone explain all in Python?,44843,44834,43,"From (An Unofficial) Python Reference Wiki: The public names defined by a module are determined by checking the module's namespace for a variable named __all__; if defined, it must be a sequence of strings which are names defined or imported by that module. The names given in __all__ are all considered public and are required to exist. If __all__ is not defined, the set of public names includes all names found in the module's namespace which do not begin with an underscore character (""_""). __all__ should contain the entire public API. It is intended to avoid accidentally exporting items that are not part of the API (such as library modules which were imported and used within the module)."
44834,409,"I have been using Python more and more, and I keep seeing the variable __all__ set in different __init__.py files. Can someone explain what this does?",Can someone explain all in Python?,64130,44834,483,"Linked to, but not explicitly mentioned here, is exactly when __all__ is used. It is a list of strings defining what symbols in a module will be exported when from &lt;module&gt; import * is used on the module. For example, the following code in a foo.py explicitly exports the symbols bar and baz: __all__ = ['bar', 'baz'] waz = 5 bar = 10 def baz(): return 'baz' These symbols can then be imported like so: from foo import * print bar print baz # The following will trigger an exception, as ""waz"" is not exported by the module print waz If the __all__ above is commented out, this code will then execute to completion, as the default behaviour of import * is to import all symbols that do not begin with an underscore, from the given namespace. Reference: https://docs.python.org/3.5/tutorial/modules.html#importing-from-a-package NOTE: __all__ affects the from &lt;module&gt; import * behavior only. Members that are not mentioned in __all__ are still accessible from outside the module and can be imported with from &lt;module&gt; import &lt;member&gt;."
44834,409,"I have been using Python more and more, and I keep seeing the variable __all__ set in different __init__.py files. Can someone explain what this does?",Can someone explain all in Python?,2838800,44834,76,"It also changes what pydoc will show: module1.py a = ""A"" b = ""B"" c = ""C"" module2.py __all__ = ['a', 'b'] a = ""A"" b = ""B"" c = ""C"" $ pydoc module1 Help on module module1: NAME module1 FILE module1.py DATA a = 'A' b = 'B' c = 'C' $ pydoc module2 Help on module module2: NAME module2 FILE module2.py DATA __all__ = ['a', 'b'] a = 'A' b = 'B' I declare __all__ in all my modules, as well as underscore internal details, these really help when using things you've never used before in live interpreter sessions."
45013,1,"I know, I would have thought the answer was obviously ""no"" as well, but I am experiencing a strange situation where when I view my site from our staging server it appears slightly larger than when I view it from my local dev server. I have used Charles to confirm that all of the content -- the HTML, the images, the CSS, the javascript, everything is the same. The ONLY difference in the traffic is that (because the local site is served from the Django development mode server) the response headers look like this: HTTP/1.0 200 OK Server WSGIServer/0.1 Python/2.5.2 Date Thu, 04 Sep 2008 23:56:10 GMT Vary Cookie Content-Length 2301 Content-Type text/html; charset=utf-8 Whereas on the staging server (where Django is running inside Apache) the headers look like this: HTTP/1.1 200 OK Date Thu, 04 Sep 2008 23:56:06 GMT Server Apache/2.2.8 (Ubuntu) mod_python/3.3.1 Python/2.5.2 PHP/5.2.4-2ubuntu5 with Suhosin-Patch Vary Cookie Content-Length 2301 Content-Type text/html; charset=utf-8 So, as far as I can tell the only differences are HTTP/1.1 vs HTTP/1.0, the server identifer (Apache vs WSGIServer) and the order of the Date/Server headers. To elaborate a bit further on the differences in appearance, basically it appears as if the version of the site on the staging server is ""zoomed in"" by about 10%. For example, the primary logo which dominates our home page is 220 pixels wide but when server from our staging server shows up as 245 pixels wide. Everything else on the page, (other images, text, spacing, etc) is also proportionately larger. This is all in Firefox 3. I don't have any other browsers available to test with at the moment. Has anyone else encountered any bizarre behavior anything like this before? I am at a loss.",Can the HTTP version or headers affect the visual appearance of a web page?,45016,45013,8,Have you tried View -> Zoom -> Reset on both sites?
45122,35,"Say I have the following file structure: app/ app.py controllers/ __init__.py project.py plugin.py If app/controllers/project.py defines a class Project, app.py would import it like this: from app.controllers.project import Project I'd like to just be able to do: from app.controllers import Project How would this be done?","Python packages - import by class, not file",45126,45122,71,"You need to put from project import Project in controllers/__init__.py. Note that when Absolute imports become the default (Python 2.7?), you will want to add a dot before the module name (to avoid collisions with a top-level model named project), i.e., from .project import Project"
45228,14,"I've been unable to find a source for this information, short of looking through the Python source code myself to determine how the objects work. Does anyone know where I could find this online?",Where can I find the time and space complexity of the built-in sequence types in Python,45245,45228,2,"If your asking what I think your asking, you can find them Here... page 476 and on. It's written around optimization techniques for Python; It's mostly Big-O notation of time efficiencies not much memory."
45228,14,"I've been unable to find a source for this information, short of looking through the Python source code myself to determine how the objects work. Does anyone know where I could find this online?",Where can I find the time and space complexity of the built-in sequence types in Python,45538,45228,12,"Raymond D. Hettinger does an excellent talk (slides) about Python's built-in collections called 'Core Python Containers - Under the Hood'. The version I saw focussed mainly on set and dict, but list was covered too. There are also some photos of the pertinent slides from EuroPython in a blog. Here is a summary of my notes on list: Stores items as an array of pointers. Subscript costs O(1) time. Append costs amortized O(1) time. Insert costs O(n) time. Tries to avoid memcpy when growing by over-allocating. Many small lists will waste a lot of space, but large lists never waste more than about 12.5% to overallocation. Some operations pre-size. Examples given were range(n), map(), list(), [None] * n, and slicing. When shrinking, the array is realloced only when it is wasting 50% of space. pop is cheap."
45228,14,"I've been unable to find a source for this information, short of looking through the Python source code myself to determine how the objects work. Does anyone know where I could find this online?",Where can I find the time and space complexity of the built-in sequence types in Python,46201,45228,16,Checkout the TimeComplexity page on the py dot org wiki. It covers set/dicts/lists/etc at least as far as time complexity goes.
45500,7,If possible I want to catch pressure sensitive input from a Wacom tablet in Python. Are there any Python libraries available that can do this?,Wacom tablet Python interface,45564,45500,3,"You could perhaps take a look at the software described here. It is a gnome applet, written in Python. From the web site: ""The gnome wacom applet is a small gnome panel applet that shows how much pressure is being applied to your wacom tablet by the current device. Clicking on the panel icon brings up a dialog allowing you to select a different device and check what pressure and tilt information is being recieved from it. This dialog also contains a small drawing test area to give your pen a quick test."" Google is your friend"
45507,11,"I'm looking to create favicon.ico files programatically from Python, but PIL only has support for reading ico files.",Is there a Python library for generating .ico files?,45519,45507,6,"Perhaps the following would work: Generate your icon image using PIL Convert the image to .ico format using the python interface to ImageMagick, PythonMagick I have not tried this approach. The ImageMagick convert command line program was able to convert a .png file to .ico format, so at least ImageMagick supports the .ico format."
45507,11,"I'm looking to create favicon.ico files programatically from Python, but PIL only has support for reading ico files.",Is there a Python library for generating .ico files?,45520,45507,2,"I don't know if this applies for all cases, but on WinXP an .ico can be a bmp of size 16x16, 32x32 or 64x64. Just change the extension to ico from bmp and you're ready to go."
45507,11,"I'm looking to create favicon.ico files programatically from Python, but PIL only has support for reading ico files.",Is there a Python library for generating .ico files?,45832,45507,6,"According to Wikipedia modern browsers can handle favicons in PNG format, so maybe you could just generate that? Alternatively the ICO article describes the format..."
45540,5,"Iâve writen a little python script that just pops up a message box containing the text passed on the command line. I want to pop it up only when the window âresulting from a previous callâ is not open. from Tkinter import * import tkMessageBox root = Tk() root.withdraw() # TODO not if a window with this title exists tkMessageBox.showinfo(""Key you!"", "" "".join(sys.argv[1:])) Any idea how to check that?",How to know whether a window with a given title is already open in Tk?,46205,45540,1,"I believe you want: if 'normal' != root.state(): tkMessageBox.showinfo(""Key you!"", "" "".join(sys.argv[1:]))"
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,46028,45954,3,"I don't know of any, but if all else fails you could use ctypes to directly use libdwarf, libelf or libbfd."
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,510623,45954,4,You should give Construct a try. It is very useful to parse binary data into python objects. There is even an example for the ELF32 file format.
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,1352742,45954,3,"I've been developing a DWARF parser using Construct. Currently fairly rough, and parsing is slow. But I thought I should at least let you know. It may suit your needs, with a bit of work. I've got the code in Mercurial, hosted at bitbucket: http://bitbucket.org/cmcqueen1975/pythondwarf/ http://bitbucket.org/cmcqueen1975/construct/ (necessary modifications to Construct library) Construct is a very interesting library. DWARF is a complex format (as I'm discovering) and pushes Construct to its limits I think."
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,3023558,45954,2,hachior is another library for parsing binary data
45954,10,"I'm working on a utility which needs to resolve hex addresses to a symbolic function name and source code line number within a binary. The utility will run on Linux on x86, though the binaries it analyzes will be for a MIPS-based embedded system. The MIPS binaries are in ELF format, using DWARF for the symbolic debugging information. I'm currently planning to fork objdump, passing in a list of hex addresses and parsing the output to get function names and source line numbers. I have compiled an objdump with support for MIPS binaries, and it is working. I'd prefer to have a package allowing me to look things up natively from the Python code without forking another process. I can find no mention of libdwarf, libelf, or libbfd on python.org, nor any mention of python on dwarfstd.org. Is there a suitable module available somewhere?",Analizing MIPS binaries: is there a Python library for parsing binary data?,3647010,45954,8,"You might be interested in the DWARF library from pydevtools: &gt;&gt;&gt; from bintools.dwarf import DWARF &gt;&gt;&gt; dwarf = DWARF('test/test') &gt;&gt;&gt; dwarf.get_loc_by_addr(0x8048475) ('/home/emilmont/Workspace/dbg/test/main.c', 36, 0)"
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,47201,47198,4,"I've not seen a system with less than 2.3 installed for some time. Mostly 2.4+ is installed by default for most OS I use now. 2.3 is just on an older Solaris machine. Linux distros tend to have 2.4+, as does OS X. IIRC, 2.4 has a lot of the features 2.5 does, but usable only with from __future__ import *"
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,47208,47198,6,"As python is in kind of an transition phase towards python 3 with breaking backward compatibility I don't think it is a good idea to go python 3 only. Based on the time line there will be at least one or two following releases of the 2.x series after 2.6/3.0 in october. Beside not having python 3 available on your target platforms, it will take some time until important external python libraries will be ported and usable on python 3. So as Matthew suggests staying at 2.4/2.5 and keeping the transition plan to python 3 in mind is a solid choice."
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,47264,47198,1,"You can use different versions of python on each machine. Coding something new, I would not use anything less than python2.5. You can do apt-get install python2.5 on stock debian stable. For windows, don't really worry about it. It's very easy to install the python2.5 msi. If the users can't be bothered to do that, you can deploy an executable with py2exe (so simple) and build an installer with inno setup (again simple) then it will behave like a standard windows application and will use its own python dlls, so no need to have python installed. Like Peter said: keep in mind the transition to 3.0 but don't build on it yet."
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,48175,47198,1,"Python 2.3, or 2.2 if you can live without the many modules that were added (e.g. datetime, csv, logging, optparse, zipimport), aren't using SSL, and are willing to add boilerplate for True/False. 2.4 added decorators. generator expressions, reversed(), sorted(), and the subprocess and decimal modules. Although these are all nice, it's easy to write Pythonic code without them (assuming that your project wouldn't make heavy use of them). 2.5 added with, relative imports, better 64 bit support, and quite a bit of speed. You could live without all of those easily enough. 2.6 isn't released (although it's very close), so while it might appeal to developers, it doesn't have the compatibility you're after. Take a look at the release notes for 2.3, 2.4, 2.5, and the upcoming 2.6 (use http://www.python.org/download/releases/2.Y/highlights/ where 'Y' is the minor version). FWIW, for SpamBayes we support 2.2 and above (2.2 requires installing the email package separately). This isn't overly taxing, but the 2.3 additions are useful enough and 2.3 old enough that we'll probably drop 2.2 before long."
47198,14,If I was going to start an open source project using Python what version should I use to ensure that the vast majority of users can use it on their system? I'm the kind of person who quickly jumps to the next version (which I'll do when Python 3 comes out) but many people may be more conservative if their current version seems to be working fine. What version would hit the sweet spot but still allow me to enjoy the newest and coolest language enhancements?,Which Version of Python to Use for Maximum Compatibility,2036609,47198,0,"If the project is going to be mainstream and will be run on Linux the only sensible choise is 2.4 - just because it is a pain to get anything else installed as default on Enterprise Linuxes. In any case, any modern OS will/can have 2.4 or newer."
47207,7,"Can I print out a url /admin/manage/products/add of a certain view in a template? Here is the rule I want to create a link for (r'^manage/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), I would like to have /manage/products/add in a template without hardcoding it. How can I do this? Edit: I am not using the default admin (well, I am but it is at another url), this is my own",Django: Print url of view without hardcoding the url,47212,47207,2,If you use named url patterns you can do the follwing in your template {% url create_object %}
47207,7,"Can I print out a url /admin/manage/products/add of a certain view in a template? Here is the rule I want to create a link for (r'^manage/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), I would like to have /manage/products/add in a template without hardcoding it. How can I do this? Edit: I am not using the default admin (well, I am but it is at another url), this is my own",Django: Print url of view without hardcoding the url,47213,47207,0,The preferred way of creating the URL is by adding a get_absolute_url method to your model classes. You can hardcode the path there so you at least get closer to following the KISS philosophy. You can go further by utilizing the permalink decorator that figures the path based on the urls configuration. You can read more in the django documentation here.
47207,7,"Can I print out a url /admin/manage/products/add of a certain view in a template? Here is the rule I want to create a link for (r'^manage/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}), I would like to have /manage/products/add in a template without hardcoding it. How can I do this? Edit: I am not using the default admin (well, I am but it is at another url), this is my own",Django: Print url of view without hardcoding the url,47304,47207,15,"You can use get_absolute_url, but that will only work for a particular object. Since your object hasn't been created yet, it won't work in this case. You want to use named URL patterns. Here's a quick intro: Change the line in your urls.py to: (r'^manage/products/add/$', create_object, {'model': Product, 'post_save_redirect': ''}, ""create-product""), Then, in your template you use this to display the URL: {% url create-product %} If you're using Django 1.5 or higher you need this: {% url 'create-product' %} You can do some more powerful things with named URL patterns, they're very handy. Note that they are only in the development version (and also 1.0)."
47253,22,"I work in a windows environment and would prefer to deploy code to IIS. At the same time I would like to code in python. Having read that IIS can run fastCGI application, I went to the IIS site where it describes in detail how to get PHP up and running but not much about anything else. Does anyone have experience getting a Python framework running under IIS using something other that plain old CGI? If so can you explain to direct me to some instructions on setting this up?",How do you set up a python wsgi server under IIS?,47266,47253,20,There shouldn't be any need to use FastCGI. There exists a ISAPI extension for WSGI.
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,47744,47701,0,"What platform are you attempting this on? Most debuggers allow you to attach to a running process by using the process id. You can either output the process id via logging or using something like Task Manager. Once that is achieved it will be possible to inspect individual threads and their call stacks. EDIT: I don't have any experience with GNU Debugger (GDB), which is cross platform, however I found this link and it may start you on the right path. It explains how to add debug symbols (handy for reading stack traces) and how to instruct gdb to attach to a running python process."
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,56510,47701,8,"Yeah, gdb is good for lower level debugging. You can change threads with the thread command. e.g (gdb) thr 2 [Switching to thread 2 (process 6159 thread 0x3f1b)] (gdb) backtrace .... You could also check out Python specific debuggers like Winpdb, or pydb. Both platform independent."
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,59179,47701,3,"If you mean the pydb, there is no way to do it. There was some effort in that direction: see the svn commit, but it was abandoned. Supposedly winpdb supports it."
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,277800,47701,3,"My experience debugging multi-threaded programs in PyDev (Eclipse on Windows XP) is, threads created using thread.start_new_thread could not be hooked, but thread created using threading.Thread could be hooked. Hope the information is helpful."
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,550795,47701,6,"You can attach a debugger to a multi-threaded Python process, but you need to do it at the C level. To make sense of what's going on, you need the Python interpreter to be compiled with symbols. If you don't have one, you need to download source from python.org and build it yourself: ./configure --prefix=/usr/local/pydbg make OPT=-g sudo make install sudo ln -s /usr/local/pydbg/bin/python /usr/local/bin/dbgpy Make sure your workload is running on that version of the interpreter. You can then attach to it with GDB at any time. The Python folks have included a sample "".gdbinit"" in their Misc directory, which has some useful macros. However it's broken for multi-threaded debugging (!). You need to replace lines like this while $pc &lt; Py_Main || $pc &gt; Py_GetArgcArgv with the following: while ($pc &lt; Py_Main || $pc &gt; Py_GetArgcArgv) &amp;&amp; ($pc &lt; t_bootstrap || $pc &gt; thread_PyThread_start_new_thread) Otherwise commands like pystack won't terminate on threads other than the main thread. With this stuff in place, you can do stuff like gdb&gt; attach &lt;PID&gt; gdb&gt; info threads gdb&gt; thread &lt;N&gt; gdb&gt; bt gdb&gt; pystack gdb&gt; detach and see what's going on. Kind of. You can parse what the objects are with the ""pyo"" macro. Chris has some examples on his blog. Good luck. (Shoutout for Dan's blog for some key information for me, notably the threading fix!)"
47701,24,"I'm trying to debug a deadlock in a multi-threaded Python application after it has locked up. Is there a way to attach a debugger to inspect the state of the process? Edit: I'm attempting this on Linux, but it would be great if there were a cross-platform solution. It's Python after all :)",Is there a way to attach a debugger to a multi-threaded Python process?,553633,47701,12,"Use Winpdb. It is a platform independent graphical GPL Python debugger with support for remote debugging over a network, multiple threads, namespace modification, embedded debugging, encrypted communication and is up to 20 times faster than pdb. Features: GPL license. Winpdb is Free Software. Compatible with CPython 2.3 through 2.6 and Python 3000 Compatible with wxPython 2.6 through 2.8 Platform independent, and tested on Ubuntu Gutsy and Windows XP. User Interfaces: rpdb2 is console based, while winpdb requires wxPython 2.6 or later."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,47792,47789,59,"Use list comprehensions when the result needs to be iterated over multiple times, or where speed is paramount. Use generator expressions where the range is large or infinite."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,47793,47789,89,"Iterating over the generator expression or the list comprehension will do the same thing. However, the list comprehension will create the entire list in memory first while the generator expression will create the items on the fly, so you are able to use it for very large (and also infinite!) sequences."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,47826,47789,168,"John's answer is good (that list comprehensions are better when you want to iterate over something multiple times). However, it's also worth noting that you should use a list if you want to use any of the list methods. For example, the following code won't work: def gen(): return (something for something in get_some_stuff()) print gen()[:2] # generators don't support indexing or slicing print [5,6] + gen() # generators can't be added to lists Basically, use a generator expression if all you're doing is iterating once. If you want to store and use the generated results, then you're probably better off with a list comprehension. Since performance is the most common reason to choose one over the other, my advice is to not worry about it and just pick one; if you find that your program is running too slowly, then and only then should you go back and worry about tuning your code."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,53255,47789,3,"Sometimes you can get away with the tee function from itertools, it returns multiple iterators for the same generator that can be used independently."
47789,213,When should you use generator expressions and when should you use list comprehensions in Python? # Generator expression (x*2 for x in range(256)) # List comprehension [x*2 for x in range(256)],Generator Expressions vs. List Comprehension,189840,47789,34,"The benefit of a generator expression is that it uses less memory since it doesn't build the whole list at once. Generator expressions are best used when the list is an intermediary, such as summing the results, or creating a dict out of the results. For example: sum(x*2 for x in xrange(256)) dict( ((k, some_func(k) for k in some_list_of_keys) ) The advantage there is that the list isn't completely generated, and thus little memory is used (and should also be faster) You should, though, use list comprehensions when the desired final product is a list. You are not going to save any memeory using generator expressions, since you want the generated list. You also get the benefit of being able to use any of the list functions like sorted or reversed. For example: reversed( [x*2 for x in xrange(256)] )"
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,52136,47801,1,I don't think AuthKit is actively maintained anymore. It does use the Paste (http://pythonpaste.org) libs though for things like HTTP Basic/Digest authentication. I would probably go ahead and take a look at the source for some inspiration and then use the Paste tools if you want to use HTTP authentication. There is also OpenID which is very easy to setup. The python-openid libs have an excellent example that is easy to translate to WSGI for wrapping a Pylons app. You can look at an example: http://ionrock.org/hg/brightcontent-main/file/d87b7dcc606c/brightcontent/plugins/openidauth.py
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,61614,47801,1,"This actually got me interested:Check out this mailing on the pylons list. So AuthKit is being developed, and I will follow the book and get back on the results."
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,139574,47801,2,"Ok, another update on the subject. It seems that the cheeseshop template is broken. I've followed the chapter you linked in the post and it seems that authkit is working fine. There are some caveats: sqlalchemy has to be in 0.5 version authkit has to be the dev version from svn (easy_install authkit==dev) I managed to get it working fine."
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,255183,47801,0,Check out this tutorial: http://wiki.pylonshq.com/display/pylonscookbook/AuthKit+0.4+UsersFromDatabase+with+SQLAlchemy+0.4+and+SQLAlchemyManager
47801,6,"I am trying to create a web application using Pylons and the resources on the web point to the PylonsBook page which isn't of much help. I want authentication and authorisation and is there anyway to setup Authkit to work easily with Pylons? I tried downloading the SimpleSiteTemplate from the cheeseshop but wasn't able to run the setup-app command. It throws up an error: File ""/home/cnu/env/lib/python2.5/site-packages/SQLAlchemy-0.4.7-py2.5.egg/sqlalchemy/schema.py"", line 96, in __call__ table = metadata.tables[key] AttributeError: 'module' object has no attribute 'tables' I use Pylons 0.9.7rc1, SQLAlchemy 0.4.7, Authkit 0.4.",User Authentication in Pylons + AuthKit,948216,47801,3,I gave up on authkit and rolled my own: http://tonylandis.com/openid-db-authentication-in-pylons-is-easy-with-rpx/
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,47956,47953,29,"From the Python Enterprise Application Kit community: ""Eggs are to Pythons as Jars are to Java..."" Python eggs are a way of bundling additional information with a Python project, that allows the project's dependencies to be checked and satisfied at runtime, as well as allowing projects to provide plugins for other projects. There are several binary formats that embody eggs, but the most common is '.egg' zipfile format, because it's a convenient one for distributing projects. All of the formats support including package-specific data, project-wide metadata, C extensions, and Python code. The primary benefits of Python Eggs are: They enable tools like the ""Easy Install"" Python package manager .egg files are a ""zero installation"" format for a Python package; no build or install step is required, just put them on PYTHONPATH or sys.path and use them (may require the runtime installed if C extensions or data files are used) They can include package metadata, such as the other eggs they depend on They allow ""namespace packages"" (packages that just contain other packages) to be split into separate distributions (e.g. zope., twisted., peak.* packages can be distributed as separate eggs, unlike normal packages which must always be placed under the same parent directory. This allows what are now huge monolithic packages to be distributed as separate components.) They allow applications or libraries to specify the needed version of a library, so that you can e.g. require(""Twisted-Internet>=2.0"") before doing an import twisted.internet. They're a great format for distributing extensions or plugins to extensible applications and frameworks (such as Trac, which uses eggs for plugins as of 0.9b1), because the egg runtime provides simple APIs to locate eggs and find their advertised entry points (similar to Eclipse's ""extension point"" concept). There are also other benefits that may come from having a standardized format, similar to the benefits of Java's ""jar"" format."
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,47957,47953,2,.egg files are basically a nice way to deploy your python application. You can think of it as something like .jar files for Java. More info here.
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,47958,47953,3,Eggs are a pretty good way to distribute python apps. Think of it as a platform independent .deb file that will install all dependencies and whatnot. The advantage is that it's easy to use for the end user. The disadvantage are that it can be cumbersome to package your app up as a .egg file. You should also offer an alternative means of installation in addition to .eggs. There are some people who don't like using eggs because they don't like the idea of a software program installing whatever software it wants. These usually tend to be sysadmin types.
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,137903,47953,1,"Whatever you do, do not stop distributing your application, also, as a tarball, as that is the easiest packagable format for operating systems with a package sysetem."
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,138090,47953,1,"For simple Python programs, you probably don't need to use eggs. Distributing the raw .py files should suffice; it's like distributing source files for GNU/Linux. You can also use the various OS ""packagers"" (like py2exe or py2app) to create .exe, .dmg, or other files for different operating systems. More complex programs, e.g. Django, pretty much require eggs due to the various modules and dependencies required."
47953,23,I've read some about .egg files and I've noticed them in my lib directory but what are the advantages/disadvantages of using then as a developer?,What are the advantages of packaging your python library/application as an .egg file?,197811,47953,3,"One egg by itself is not better than a proper source release. The good part is the dependency handling. Like debian or rpm packages, you can say you depend on other eggs and they'll be installed automatically (through pypi.python.org). A second comment: the egg format itself is a binary packaged format. Normal python packages that consist of just python code are best distributed as ""source releases"", so ""python setup.py sdist"" which result in a .tar.gz. These are also commonly called ""eggs"" when uploaded to pypi. Where you need binary eggs: when you're bundling some C code extension. You'll need several binary eggs (a 32bit unix one, a windows one, etc.) then."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,48136,48123,12,"Use GtkBuilder instead of Glade, it's integrated into Gtk itself instead of a separate library. The main benefit of Glade is that it's much, much easier to create the interface. It's a bit more work to connect signal handlers, but I've never felt that matters much."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,48734,48123,19,"I would say that it depends: if you find that using Glade you can build the apps you want or need to make than that's absolutely fine. If however you actually want to learn how GTK works or you have some non-standard UI requirements you will have to dig into GTK internals (which are not that complicated). Personally I'm usually about 5 minutes into a rich client when I need some feature or customization that is simply impossible through a designer such as Glade or Stetic. Perhaps it's just me. Nevertheless it is still useful for me to bootstrap window design using a graphical tool. My recommendation: if making rich clients using GTK is going to be a significant part of your job/hobby then learn GTK as well since you will need to write that code someday. P.S. I personally find Stetic to be superior to Glade for design work, if a little bit more unstable."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,54313,48123,5,"Glade is very useful for creating interfaces, it means you can easily change the GUI without doing much coding. You'll find that if you want to do anything useful (e.g. build a treeview) you will have to get familiar with various parts of the GTK documentation - in practice finding a good tutorial/examples."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,106889,48123,4,"I started out using glade, but soon moved to just doing everything in code. Glade is nice for simple things, and it's good when you're learning how GTK organizes the widgets (how things are packed, etc). Constructing everything in code, however, you have much more flexibility. Plus, you don't have the glade dependency."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,107959,48123,4,"I usually start with Glade until I come to a point where it doesn't have the features I need, e.g. creating a wizard. As long as I'm using the standard widgets that Glade provides, there's really no reason to hand-code the GUI. The more comfortable I become with how Glade formats the code, the better my hand-coding becomes. Not to mention, it's real easy to use Glade to make the underlying framework so you don't have to worry about all the initializations."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,199167,48123,1,"For quick and simple screens I use Glade. But for anything that needs finer levels of control, I create a custom classes for what I actually need (this is important, because it's too easy to get carried away with generalisations). With a skinny applications specific classes, I can rapidly change the look and feel application wide from a single place. Rather like using CSS to mantain consistency for web sites."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,305667,48123,2,"I recommend using Glade for rapid development, but not for learning. Why? because some times you will need to tune up some widgets in order to work as you want they to work, and if you don't really know/understand the properties attributes of every widget then you will be in troubles."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,524614,48123,4,"If you're writing a traditional GUI application which reuses a lot of standard components from GTK+ (buttons, labels, containers etc.) I'd personally go with Glade + Kiwi (a convenience framework for building GTK+ GUI applications). The single greatest advantage to using Glade is that it greatly reduces layout/packing code. Here's an extremely simply example which already shows the issues with manually laying out a GUI (without using any helper functions): container = gtk.HBox() label = gtk.Label(str=""test"") container.add(label) For more examples take a look here. Even if you're writing a complicated custom widget you can always create a placeholder in Glade and replace that after instantiation. It shouldn't be all too long now for the Glade team to release a new version of the designer (3.6.0). This new version will add support for GtkBuilder, which replaces libglade (the actual library that transforms the Glade XML files into a widget tree). The new Glade designer also once again adds support for defining catalogs (sets of widgets) in Python, so you can easily add your own custom widgets."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,751707,48123,1,"Personally I would recommend coding it out instead of using Glade. I'm still learning python and pyGtk but I will say that writing out the UI by hand gave me a lot of insight on how things work under the hood. Once you have it learned I'd say to give glade, or other UI designers a try but definitely learn how to do it the ""hard"" way first."
48123,27,"I've been learning python for a while now with some success. I even managed to create one or two (simple) programs using PyGtk + Glade. The thing is: I am not sure if the best way to use GTK with python is by building the interfaces using Glade. I was wondering if the more experienced ones among us (remember, I'm just a beginner) could point out the benefits and caveats of using Glade as opposed to creating everything in the code itself (assuming that learning the correct gtk bindings wouldn't exactly be a problem).",Glade or no glade: What is the best way to use PyGtk?,2149087,48123,1,"First, start to put this in perspective. You will be using GTK. This is a huge C library built in 1993 using the best traditions of 1970s coding style. It was built to help implement the GIMP, a Photoshop competitor wanna-be with user interface blunders of legend. A typical gui field might have forty or more parameters, mostly repetitive, having getters and setters. There will be pain. The GTK itself manages a complete dynamic type system in C using GObject. This makes debugging a special joy that requires manually walking through arrays of pointers to methods full of generic argument lists with implicit inheritance. You will also be jumping through Pango libraries when you least expect it, e.g., using a Pango constant for where in a label the ellipsis go when the page is small. Expect more pain. By now, you are probably vowing to wrap all your GTK interactions in a Model-View-Controller architecture specific to your application. This is good. Using Glade, or gtkBuilder, or Stetic, will help coral the huge coupling problem of forty parameters to a function. Glade provides a basic GUI builder to drag and drop components together. The parameters and inherited parameters are somewhat separated out. The output of Glade is .glade XML file which you will then read in, attach your callbacks (""signal handlers"") to identically named functions, and query or update the in-memory version of that XML to get widgets that you then use pyGTK to manipulate. Glade itself is a creaky and not well maintained. Using pyGTK gives you annoyingly fine grained control in order to build your GUI. This will be verbose, copy-and-paste code. Each attribute will be a separate function call. The attribute setter does not return anything, so chaining the calls is out of the question. Usually, your IDE will give only minimal help on what functions mean and you will be constantly referring to DevHelp or some other tool. One would almost expect GTK GUIs were meant to fail."
48176,5,You can embed the IPython shell inside of your application so that it launches the shell in the foreground. Is there a way to embed a telnet server in a python app so that you can telnet to a certain port and launch a remote IPython shell? Any tips for redirecting the input/output streams for IPython or how to hook it up to a telnet server library or recommendations for other libraries that could be used to implement this are much appreciated.,Embedding a remote Python shell in an application,48214,48176,2,"Python includes a telnet client, but not a telnet server. You can implement a telnet server using Twisted. Here's an example. As for hooking these things together, that's up to you."
48176,5,You can embed the IPython shell inside of your application so that it launches the shell in the foreground. Is there a way to embed a telnet server in a python app so that you can telnet to a certain port and launch a remote IPython shell? Any tips for redirecting the input/output streams for IPython or how to hook it up to a telnet server library or recommendations for other libraries that could be used to implement this are much appreciated.,Embedding a remote Python shell in an application,48266,48176,0,I think you should base your server class on the SocketServer class from the standard library. You'll need to write a RequestHandler to read and echo input but a lot of the heavy lifting is already done for you. You can use the ThreadingMixIn to make the server multi-threaded very easily.
48176,5,You can embed the IPython shell inside of your application so that it launches the shell in the foreground. Is there a way to embed a telnet server in a python app so that you can telnet to a certain port and launch a remote IPython shell? Any tips for redirecting the input/output streams for IPython or how to hook it up to a telnet server library or recommendations for other libraries that could be used to implement this are much appreciated.,Embedding a remote Python shell in an application,55654,48176,1,"Use Twisted Manhole. Docs are a bit lacking, but it's easy enough to set up a telnet-based remote server and it comes with a GTK-based GUI. Main Twisted site twisted.manhole API docs"
48176,5,You can embed the IPython shell inside of your application so that it launches the shell in the foreground. Is there a way to embed a telnet server in a python app so that you can telnet to a certain port and launch a remote IPython shell? Any tips for redirecting the input/output streams for IPython or how to hook it up to a telnet server library or recommendations for other libraries that could be used to implement this are much appreciated.,Embedding a remote Python shell in an application,1764950,48176,0,Try to use xmlrpc namespace
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,48467,48458,1,"I am not entirely up to date on the latest best practices, et cetera when it comes to code layout, but when I did my first GAE application, I used something along your second option, where the code and templates are next to eachother. There was two reasons for this - one, it kept the code and template nearby, and secondly, I had the directory structure layout mimic that of the website - making it (for me) a bit easier too remember where everything was."
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,67533,48458,5,"I think the first option is considered the best practice. And make the code folder your first package. The Rietveld project developed by Guido van Rossum is a very good model to learn from. Have a look at it: http://code.google.com/p/rietveld With regard to Django 1.0, I suggest you start using the Django trunk code instead of the GAE built in django port. Again, have a look at how it's done in Rietveld."
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,70271,48458,96,"First, I would suggest you have a look at ""Rapid Development with Python, Django, and Google App Engine"" GvR describes a general/standard project layout on page 10 of his slide presentation. Here I'll post a slightly modified version of the layout/structure from that page. I pretty much follow this pattern myself. You also mentioned you had trouble with packages. Just make sure each of your sub folders has an __init__.py file. It's ok if its empty. Boilerplate files These hardly vary between projects app.yaml: direct all non-static requests to main.py main.py: initialize app and send it all requests Project lay-out static/*: static files; served directly by App Engine myapp/*.py: app-specific python code views.py, models.py, tests.py, __init__.py, and more templates/*.html: templates (or myapp/templates/*.html) Here are some code examples that may help as well: main.py import wsgiref.handlers from google.appengine.ext import webapp from myapp.views import * application = webapp.WSGIApplication([ ('/', IndexHandler), ('/foo', FooHandler) ], debug=True) def main(): wsgiref.handlers.CGIHandler().run(application) myapp/views.py import os import datetime import logging import time from google.appengine.api import urlfetch from google.appengine.ext.webapp import template from google.appengine.api import users from google.appengine.ext import webapp from models import * class IndexHandler(webapp.RequestHandler): def get(self): date = ""foo"" # Do some processing template_values = {'data': data } path = os.path.join(os.path.dirname(__file__) + '/../templates/', 'main.html') self.response.out.write(template.render(path, template_values)) class FooHandler(webapp.RequestHandler): def get(self): #logging.debug(""start of handler"") myapp/models.py from google.appengine.ext import db class SampleModel(db.Model): I think this layout works great for new and relatively small to medium projects. For larger projects I would suggest breaking up the views and models to have their own sub-folders with something like: Project lay-out static/: static files; served directly by App Engine js/*.js images/*.gif|png|jpg css/*.css myapp/: app structure models/*.py views/*.py tests/*.py templates/*.html: templates"
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,153862,48458,14,"My usual layout looks something like this: app.yaml index.yaml request.py - contains the basic WSGI app lib __init__.py - common functionality, including a request handler base class controllers - contains all the handlers. request.yaml imports these. templates all the django templates, used by the controllers model all the datastore model classes static static files (css, images, etc). Mapped to /static by app.yaml I can provide examples of what my app.yaml, request.py, lib/init.py, and sample controllers look like, if this isn't clear."
48458,112,"I started an application in Google App Engine right when it came out, to play with the technology and work on a pet project that I had been thinking about for a long time but never gotten around to starting. The result is BowlSK. However, as it has grown, and features have been added, it has gotten really difficult to keep things organized - mainly due to the fact that this is my first python project, and I didn't know anything about it until I started working. What I have: Main Level contains: all .py files (didn't know how to make packages work) all .html templates for main level pages Subdirectories: separate folders for css, images, js, etc. folders that hold .html templates for subdirecty-type urls Example: http://www.bowlsk.com/ maps to HomePage (default package), template at ""index.html"" http://www.bowlsk.com/games/view-series.html?series=7130 maps to ViewSeriesPage (again, default package), template at ""games/view-series.html"" It's nasty. How do I restructure? I had 2 ideas: Main Folder containing: appdef, indexes, main.py? Subfolder for code. Does this have to be my first package? Subfolder for templates. Folder heirarchy would match package heirarchy Individual subfolders for css, images, js, etc. Main Folder containing appdef, indexes, main.py? Subfolder for code + templates. This way I have the handler class right next to the template, because in this stage, I'm adding lots of features, so modifications to one mean modifications to the other. Again, do I have to have this folder name be the first package name for my classes? I'd like the folder to be ""src"", but I don't want my classes to be ""src.WhateverPage"" Is there a best practice? With Django 1.0 on the horizon, is there something I can do now to improve my ability to integrate with it when it becomes the official GAE templating engine? I would simply start trying these things, and seeing which seems better, but pyDev's refactoring support doesn't seem to handle package moves very well, so it will likely be a non-trivial task to get all of this working again.",Project structure for Google App Engine,3105295,48458,2,I like webpy so I've adopted it as templating framework on Google App Engine. My package folders are typically organized like this: app.yaml application.py index.yaml /app /config /controllers /db /lib /models /static /docs /images /javascripts /stylesheets test/ utility/ views/ Here is an example.
48562,7,"I was wondering if anyone here had some experience writing this type of script and if they could give me some pointers. I would like to modify this script to validate that the check-in file does not have a Carriage Return in the EOL formatting. The EOL format is CR LF in Windows and LF in Unix. When a User checks-in code with the Windows format. It does not compile in Unix anymore. I know this can be done on the client side but I need to have this validation done on the server side. To achieve this, I need to do the following: 1) Make sure the file I check is not a binary, I dont know how to do this with svnlook, should I check the mime:type of the file? The Red Book does not indicate this clearly or I must have not seen it. 2) I would like to run the dos2unix command to validate that the file has the correct EOL format. I would compare the output of the dos2unix command against the original file. If there is a diff between both, I give an error message to the client and cancel the check-in. I would like your comments/feedback on this approach.",How do I implement a pre-commit hook script in SVN that calls dos2unix to validate checked-in file,48575,48562,1,"What exactly are you trying to do? Of course, there are numerous places to learn about svn pre-commit hooks (e.g. here , here, and in the Red Book) but it depends what you're trying to do and what is available on your system. Can you be more specific?"
48562,7,"I was wondering if anyone here had some experience writing this type of script and if they could give me some pointers. I would like to modify this script to validate that the check-in file does not have a Carriage Return in the EOL formatting. The EOL format is CR LF in Windows and LF in Unix. When a User checks-in code with the Windows format. It does not compile in Unix anymore. I know this can be done on the client side but I need to have this validation done on the server side. To achieve this, I need to do the following: 1) Make sure the file I check is not a binary, I dont know how to do this with svnlook, should I check the mime:type of the file? The Red Book does not indicate this clearly or I must have not seen it. 2) I would like to run the dos2unix command to validate that the file has the correct EOL format. I would compare the output of the dos2unix command against the original file. If there is a diff between both, I give an error message to the client and cancel the check-in. I would like your comments/feedback on this approach.",How do I implement a pre-commit hook script in SVN that calls dos2unix to validate checked-in file,50507,48562,4,I think you can avoid a commit hook script in this case by using the svn:eol-style property as described in the SVNBook: End-of-Line Character Sequences Subversion Properties This way SVN can worry about your line endings for you. Good luck!
48777,2,"I'm trying to get Google AppEngine to work on my Debian box and am getting the following error when I try to access my page: &lt;type 'exceptions.ImportError'&gt;: No module named core.exceptions The same app works fine for me when I run it on my other Ubuntu box, so I know it's not a problem with the app itself. However, I need to get it working on this Debian box. It originally had python 2.4 but after AppEngine complained about it I installed the python2.5 and python2.5-dev packages (to no avail). I saw on this Google Group post that it may be due to the version of AppEngine and just to reinstall it, but that didn't work. Any ideas? Edit 1: Also tried uninstalling python2.4 and 2.5 then reinstalling 2.5, which also didn't work. Edit 2: Turns out when I made AppEngine into a CVS project it didn't add the core directory into my project, so when I checked it out there literally was no module named core.exceptions. Re-downloading that folder resolved the problem.",Python: No module named core.exceptions,48806,48777,4,core.exceptions is part of django; what version of django do you have installed? The AppEngine comes with the appropriate version for whatever release you've downloaded (in the lib/django directory). It can be installed by going to that directory and running python setup.py install
49137,18,I would like to call python script files from my c++ program. I am not sure that the people I will distribute to will have python installed. Basically I'm looking for a .lib file that I can use that has an Apache like distribution license.,Calling python from a c++ program for distribution,49148,49137,15,Boost has a python interface library which could help you. Boost.Python
49137,18,I would like to call python script files from my c++ program. I am not sure that the people I will distribute to will have python installed. Basically I'm looking for a .lib file that I can use that has an Apache like distribution license.,Calling python from a c++ program for distribution,49319,49137,1,Embeding the Python interpreter inside your C++ app will let you run Python programs using your application run Python scripts. It will also make it easier possible for those scripts to call C++ functions in your application. If this is what you want then the Boost library mentioned previously may be what you want to make it easier to create the link. In the past I have used SWIG to generate Python interfaces to C++ code. It was not clear from your question whether you wanted the Python scripts to call your C++ program or whether you just wanted the C++ to call Python. Many of the Python functions use modules which are not built into the Python interpreter. If your Python scripts call these functions then you will either need to have your users install Python or include the python runtime files with your application. It will depend on what modules you import in you Python scripts.
49137,18,I would like to call python script files from my c++ program. I am not sure that the people I will distribute to will have python installed. Basically I'm looking for a .lib file that I can use that has an Apache like distribution license.,Calling python from a c++ program for distribution,49439,49137,1,"Boost is probably the best choice, however if you're wanting something that's more standalone, and if this is for use with Windows (which seems feasible given that they are the people least likely to have Python installed), then you can use py2exe to create a DLL with entry points suitable for COM objects. You can then interface with the library via COM. (Obviously this is not at all useful as a cross-platform solution)."
49137,18,I would like to call python script files from my c++ program. I am not sure that the people I will distribute to will have python installed. Basically I'm looking for a .lib file that I can use that has an Apache like distribution license.,Calling python from a c++ program for distribution,328451,49137,32,"I would like to call python script files from my c++ program. This means that you want to embed Python in your C++ application. As mentioned in Embedding Python in Another Application: Embedding Python is similar to extending it, but not quite. The difference is that when you extend Python, the main program of the application is still the Python interpreter, while if you embed Python, the main program may have nothing to do with Python â instead, some parts of the application occasionally call the Python interpreter to run some Python code. I suggest that you first go through Embedding Python in Another Application. Then refer the following examples Embedding Python in C/C++: Part I Embedding Python in C/C++: Part II Embedding Python in Multi-Threaded C/C++ Applications If you like Boost.Python, you may visit the following links: Embedding Python with Boost.Python Part 1"
49164,13,How do I turn a python program into an .egg file?,How do I turn a python program into an .egg file?,49169,49164,9,"Setuptools is the software that creates .egg files. It's an extension of the distutils package in the standard library. The process involves creating a setup.py file, then python setup.py bdist_egg creates an .egg package."
49164,13,How do I turn a python program into an .egg file?,How do I turn a python program into an .egg file?,49175,49164,3,"Also, if you need to get an .egg package off a single .py file app, check this link: EasyInstall - Packaging others projects as eggs."
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,49514,49307,5,"If I'm not mistaken the zip function you use in python creates a pair of the items found in list1 and list2. Basically it still is a for loop with the addition that it will retrieve the data from the two seperate lists for you, instead that you have to do it yourself. So maybe your best option is to use a standard for loop like this: for i=1:length(a) c(i) = a(i) + b(i); end or whatever you have to do with the data. If you really are talking about parallel computing then you should take a look at the Parallel Computing Toolbox for matlab, and more specifically at parfor"
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,51137,49307,3,"Tested only in octave... (no matlab license). Variations of arrayfun() exist, check the documentation. #!/usr/bin/octave -qf function result = dostuff(my_ten, my_one) result = my_ten + my_one endfunction tens = [ 10 20 30 ]; ones = [ 1 2 3]; x = arrayfun(@dostuff, tens, ones); x Yields... x = 11 22 33"
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,65903,49307,12,"If x and y are column vectors, you can do: for i=[x';y'] # do stuff with i(1) and i(2) end (with row vectors, just use x and y). Here is an example run: &gt;&gt; x=[1 ; 2; 3;] x = 1 2 3 &gt;&gt; y=[10 ; 20; 30;] y = 10 20 30 &gt;&gt; for i=[x';y'] disp(['size of I = ' num2str(size(i)) ', i(1) = ' num2str(i(1)) ', i(2) = ' num2str(i(2))]) end size of I = 2 1, i(1) = 1, i(2) = 10 size of I = 2 1, i(1) = 2, i(2) = 20 size of I = 2 1, i(1) = 3, i(2) = 30 &gt;&gt;"
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,80737,49307,1,"I second mattiast's answer. But, to dig a little deeper, is there no way to vectorize what you're trying to accomplish and avoid the iterative for loop? Perhaps with more details about what goes on inside the loop we could help vectorize the solution..."
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,138886,49307,1,"for loops in MATLAB used to be slow, but this is not true anymore. So Vectorizing is not always the miracle solution. just use the profiler, and tic and toc functions to help you identify possible bottlenecks"
49307,7,"Using the zip function, Python allows for loops to traverse multiple sequences in parallel. for (x,y) in zip(List1, List2): Does MATLAB have an equivalent syntax? If not, what is the best way to iterate over two parallel arrays at the same time using MATLAB?",Can parallel traversals be done in MATLAB just as in Python?,218618,49307,1,"I would recommend to join the two arrays for the computation: % assuming you have column vectors a and b x = [a b]; for I = 1:length(a) % do stuff with one row... x(i,:); end This will work great if your functions can work with vectors. Then again, many functions can even work with matrices, so you wouldn't even need the loop."
49455,1,"Although the PDF specification is available from Adobe, it's not exactly the simplest document to read through. PDF allows documents to be encrypted so that either a user password and/or an owner password is required to do various things with the document (display, print, etc). A common use is to lock a PDF so that end users can read it without entering any password, but a password is required to do anything else. I'm trying to parse PDFs that are locked in this way (to get the same privileges as you would get opening them in any reader). Using an empty string as the user password doesn't work, but it seems (section 3.5.2 of the spec) that there has to be a user password to create the hash for the admin password. What I would like is either an explanation of how to do this, or any code that I can read (ideally Python, C, or C++, but anything readable will do) that does this so that I can understand what I'm meant to be doing. Standalone code, rather than reading through (e.g.) the gsview source, would be best.","How does one decrypt a PDF with an owner password, but no user password?",49485,49455,1,"A plugin for GSview for viewing encrypted PDFs is here. If this works for you, you may be able to look at the source."
49455,1,"Although the PDF specification is available from Adobe, it's not exactly the simplest document to read through. PDF allows documents to be encrypted so that either a user password and/or an owner password is required to do various things with the document (display, print, etc). A common use is to lock a PDF so that end users can read it without entering any password, but a password is required to do anything else. I'm trying to parse PDFs that are locked in this way (to get the same privileges as you would get opening them in any reader). Using an empty string as the user password doesn't work, but it seems (section 3.5.2 of the spec) that there has to be a user password to create the hash for the admin password. What I would like is either an explanation of how to do this, or any code that I can read (ideally Python, C, or C++, but anything readable will do) that does this so that I can understand what I'm meant to be doing. Standalone code, rather than reading through (e.g.) the gsview source, would be best.","How does one decrypt a PDF with an owner password, but no user password?",107838,49455,1,"If I remember correctly, there is a fixed padding string of 32 (?) bytes to apply to any password. All passwords need to be 32 bytes at the start of computing the encryption key, either by truncating or adding some of those padding bytes. If no user password was set you simply have to pad with all 32 bytes of the string, i.e. use the 32 padding bytes as the starting point for computing the encryption key. I have to admit it's been a while since I've done this, I do remember that the encryption part of the PDF is an absolute mess as it got changed significantly in nearly every revision, requiring you to cope with a lot of cases to handle all PDF's. Good luck."
49455,1,"Although the PDF specification is available from Adobe, it's not exactly the simplest document to read through. PDF allows documents to be encrypted so that either a user password and/or an owner password is required to do various things with the document (display, print, etc). A common use is to lock a PDF so that end users can read it without entering any password, but a password is required to do anything else. I'm trying to parse PDFs that are locked in this way (to get the same privileges as you would get opening them in any reader). Using an empty string as the user password doesn't work, but it seems (section 3.5.2 of the spec) that there has to be a user password to create the hash for the admin password. What I would like is either an explanation of how to do this, or any code that I can read (ideally Python, C, or C++, but anything readable will do) that does this so that I can understand what I'm meant to be doing. Standalone code, rather than reading through (e.g.) the gsview source, would be best.","How does one decrypt a PDF with an owner password, but no user password?",110110,49455,0,xpdf is probably a good reference implementation for this sort of problem. I have successfully used them to open encrypted pdfs before.
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,49828,49824,15,"I think this pair of articles by Philip J. Eby does a great job discussing the differences between the two languages (mostly about philosophy/mentality rather than specific language features). Python is Not Java Java is Not Python, either"
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,49837,49824,4,"One key difference in Python is significant whitespace. This puts a lot of people off - me too for a long time - but once you get going it seems natural and makes much more sense than ;s everywhere. From a personal perspective, Python has the following benefits over Java: No Checked Exceptions Optional Arguments Much less boilerplate and less verbose generally Other than those, this page on the Python Wiki is a good place to look with lots of links to interesting articles."
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,49911,49824,3,"With Jython you can have both. It's only at Python 2.2, but still very useful if you need an embedded interpreter that has access to the Java runtime."
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,49953,49824,40,"List comprehensions. I often find myself filtering/mapping lists, and being able to say [line.replace(""spam"",""eggs"") for line in open(""somefile.txt"") if line.startswith(""nee"")] is really nice. Functions are first class objects. They can be passed as parameters to other functions, defined inside other function, and have lexical scope. This makes it really easy to say things like people.sort(key=lambda p: p.age) and thus sort a bunch of people on their age without having to define a custom comparator class or something equally verbose. Everything is an object. Java has basic types which aren't objects, which is why many classes in the standard library define 9 different versions of functions (for boolean, byte, char, double, float, int, long, Object, short). Array.sort is a good example. Autoboxing helps, although it makes things awkward when something turns out to be null. Properties. Python lets you create classes with read-only fields, lazily-generated fields, as well as fields which are checked upon assignment to make sure they're never 0 or null or whatever you want to guard against, etc.' Default and keyword arguments. In Java if you want a constructor that can take up to 5 optional arguments, you must define 6 different versions of that constructor. And there's no way at all to say Student(name=""Eli"", age=25) Functions can only return 1 thing. In Python you have tuple assignment, so you can say spam, eggs = nee() but in Java you'd need to either resort to mutable out parameters or have a custom class with 2 fields and then have two additional lines of code to extract those fields. Built-in syntax for lists and dictionaries. Operator Overloading. Generally better designed libraries. For example, to parse an XML document in Java, you say Document doc = DocumentBuilderFactory.newInstance().newDocumentBuilder().parse(""test.xml""); and in Python you say doc = parse(""test.xml"") Anyway, I could go on and on with further examples, but Python is just overall a much more flexible and expressive language. It's also dynamically typed, which I really like, but which comes with some disadvantages. Java has much better performance than Python and has way better tool support. Sometimes those things matter a lot and Java is the better language than Python for a task; I continue to use Java for some new projects despite liking Python a lot more. But as a language I think Python is superior for most things I find myself needing to accomplish."
49824,23,"Besides the dynamic nature of Python (and the syntax), what are some of the major features of the Python language that Java doesn't have, and vice versa?",Java -&gt; Python?,51512,49824,2,"Apart from what Eli Courtwright said: I find iterators in Python more concise. You can use for I in something, and it works with pretty much everything. Yeah, Java has gotten better since 1.5, but for example you can iterate through a string in python with this same construct. Introspection: In python you can get at runtime information about an object or a module about its symbols, methods, or even its docstrings. You can also instantiate them dynamically. Java has some of this, but usually in Java it takes half a page of code to get an instance of a class, whereas in Python it is about 3 lines. And as far as I know the docstrings thing is not available in Java"
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,49929,49926,0,"There is a program called SciLab that is a MATLAB clone. I haven't used it at all, but it is open source and might have the function you are looking for."
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,49930,49926,3,GNU Octave is another MATLAB clone that might have what you need.
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,50041,49926,0,"I don't know if it's in there, but there's a python distribution called Enthought that might have what you're looking for. It was designed specifically for data analysis has over 60 additional libraries."
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,70798,49926,13,"The open source Python package,SciPy, has quite a large set of optimization routines including some for multivariable problems with constraints (which is what fmincon does I believe). Once you have SciPy installed type the following at the Python command prompt help(scipy.optimize) The resulting document is extensive and includes the following which I believe might be of use to you. Constrained Optimizers (multivariate) fmin_l_bfgs_b -- Zhu, Byrd, and Nocedal's L-BFGS-B constrained optimizer (if you use this please quote their papers -- see help) fmin_tnc -- Truncated Newton Code originally written by Stephen Nash and adapted to C by Jean-Sebastien Roy. fmin_cobyla -- Constrained Optimization BY Linear Approximation"
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,196806,49926,22,"Is your problem convex? Linear? Non-linear? I agree that SciPy.optimize will probably do the job, but fmincon is a sort of bazooka for solving optimization problems, and you'll be better off if you can confine it to one of the categories below (in increasing level of difficulty to solve efficiently) Linear Program (LP) Quadratic Program (QP) Convex Quadratically-Constrained Quadratic Program (QCQP) Second Order Cone Program (SOCP) Semidefinite Program (SDP) Non-Linear Convex Problem Non-Convex Problem There are also combinatoric problems such as Mixed-Integer Linear Programs (MILP), but you didn't mention any sort of integrality constraints, suffice to say that they fall into a different class of problems. The CVXOpt package will be of great use to you if your problem is convex. If your problem is not convex, you need to choose between finding a local solution or the global solution. Many convex solvers 'sort of' work in a non-convex domain. Finding a good approximation to the global solution would require some form Simulated Annealing or Genetic Algorithm. Finding the global solution will require an enumeration of all local solutions or a combinatorial strategy such as Branch and Bound."
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,444167,49926,1,"Have a look at http://www.aemdesign.com/downloadfsqp.htm. There you will find C code which provides the same functionality as fmincon. (However, using a different algorithm. You can read the manual if you are interested in the details.) It's open source but not under GPL."
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,765053,49926,3,For numerical optimization in Python you may take a look at OpenOpt solvers: http://openopt.org/NLP http://openopt.org/Problems
49926,22,"Is there an open-source alternative to MATLAB's fmincon function for constrained linear optimization? I'm rewriting a MATLAB program to use Python / NumPy / SciPy and this is the only function I haven't found an equivalent to. A NumPy-based solution would be ideal, but any language will do.",Open source alternative to MATLAB's fmincon function?,1856211,49926,12,"Python optimization software: OpenOpt http://openopt.org (this one is numpy-based as you wish, with automatic differentiation by FuncDesigner) Pyomo https://software.sandia.gov/trac/coopr/wiki/Package/pyomo CVXOPT http://abel.ee.ucla.edu/cvxopt/ NLPy http://nlpy.sourceforge.net/"
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,50413,50394,0,"Another way to do it is to use urllib2 module to parse some other page's whois service (many sites like that exist). But that seems like even more of a hack that what you do now, and would give you a dependency on whatever whois site you chose, which is bad. I hate to say it, but unless you want to re-implement whois in your program (which would be re-inventing the wheel), running whois on the OS and parsing the output (ie what you are doing now) seems like the right way to do it."
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,50423,50394,0,"Parsing another webpage woulnd't be as bad (assuming their html woulnd't be very bad), but it would actually tie me to them - if they're down, I'm down :) Actually I found some old project on sourceforge: rwhois.py. What scares me a bit is that their last update is from 2003. But, it might seem as a good place to start reimplementation of what I do right now... Well, I felt obligued to post the link to this project anyway, just for further reference."
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,55385,50394,4,"There's nothing wrong with using a command line utility to do what you want. If you put a nice wrapper around the service, you can implement the internals however you want! For example: class Whois(object): _whois_by_query_cache = {} def __init__(self, query): """"""Initializes the instance variables to defaults. See :meth:`lookup` for details on how to submit the query."""""" self.query = query self.domain = None # ... other fields. def lookup(self): """"""Submits the `whois` query and stores results internally."""""" # ... implementation Now, whether or not you roll your own using urllib, wrap around a command line utility (like you're doing), or import a third party library and use that (like you're saying), this interface stays the same. This approach is generally not considered ugly at all -- sometimes command utilities do what you want and you should be able to leverage them. If speed ends up being a bottleneck, your abstraction makes the process of switching to a native Python implementation transparent to your client code. Practicality beats purity -- that's what's Pythonic. :)"
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,68218,50394,1,"I don't know if gwhois does something special with the server output; however, you can plainly connect to the whois server on port whois (43), send your query, read all the data in the reply and parse them. To make life a little easier, you could use the telnetlib.Telnet class (even if the whois protocol is much simpler than the telnet protocol) instead of plain sockets. The tricky parts: which whois server will you ask? RIPE, ARIN, APNIC, LACNIC, AFRINIC, JPNIC, VERIO etc LACNIC could be a useful fallback, since they tend to reply with useful data to requests outside of their domain. what are the exact options and arguments for each whois server? some offer help, others don't. In general, plain domain names work without any special options."
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,2408136,50394,0,import socket socket.gethostbyname_ex('url.com') if it returns a gaierror you know know it's not registered with any DNS
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,2410537,50394,0,"here is a ready-to-use solution that works for me; written for Python 3.1 (when backporting to Py2.x, take special care of the bytes / Unicode text distinctions). your single point of access is the method DRWHO.whois(), which expects a domain name to be passed in; it will then try to resolve the name using the provider configured as DRWHO.whois_providers[ '*' ] (a more complete solution could differentiate providers according to the top level domain). DRWHO.whois() will return a dictionary with a single entry text, which contains the response text sent back by the WHOIS server. Again, a more complete solution would then try and parse the text (which must be done separately for each provider, as there is no standard format) and return a more structured format (e.g., set a flag available which specifies whether or not the domain looks available). have fun! ########################################################################## import asyncore as _sys_asyncore from asyncore import loop as _sys_asyncore_loop import socket as _sys_socket ########################################################################## class _Whois_request( _sys_asyncore.dispatcher_with_send, object ): # simple whois requester # original code by Frederik Lundh #----------------------------------------------------------------------- whoisPort = 43 #----------------------------------------------------------------------- def __init__(self, consumer, host, provider ): _sys_asyncore.dispatcher_with_send.__init__(self) self.consumer = consumer self.query = host self.create_socket( _sys_socket.AF_INET, _sys_socket.SOCK_STREAM ) self.connect( ( provider, self.whoisPort, ) ) #----------------------------------------------------------------------- def handle_connect(self): self.send( bytes( '%s\r\n' % ( self.query, ), 'utf-8' ) ) #----------------------------------------------------------------------- def handle_expt(self): self.close() # connection failed, shutdown self.consumer.abort() #----------------------------------------------------------------------- def handle_read(self): # get data from server self.consumer.feed( self.recv( 2048 ) ) #----------------------------------------------------------------------- def handle_close(self): self.close() self.consumer.close() ########################################################################## class _Whois_consumer( object ): # original code by Frederik Lundh #----------------------------------------------------------------------- def __init__( self, host, provider, result ): self.texts_as_bytes = [] self.host = host self.provider = provider self.result = result #----------------------------------------------------------------------- def feed( self, text ): self.texts_as_bytes.append( text.strip() ) #----------------------------------------------------------------------- def abort(self): del self.texts_as_bytes[:] self.finalize() #----------------------------------------------------------------------- def close(self): self.finalize() #----------------------------------------------------------------------- def finalize( self ): # join bytestrings and decode them (witha a guessed encoding): text_as_bytes = b'\n'.join( self.texts_as_bytes ) self.result[ 'text' ] = text_as_bytes.decode( 'utf-8' ) ########################################################################## class DRWHO: #----------------------------------------------------------------------- whois_providers = { '~isa': 'DRWHO/whois-providers', '*': 'whois.opensrs.net', } #----------------------------------------------------------------------- def whois( self, domain ): R = {} provider = self._get_whois_provider( '*' ) self._fetch_whois( provider, domain, R ) return R #----------------------------------------------------------------------- def _get_whois_provider( self, top_level_domain ): providers = self.whois_providers R = providers.get( top_level_domain, None ) if R is None: R = providers[ '*' ] return R #----------------------------------------------------------------------- def _fetch_whois( self, provider, domain, pod ): #..................................................................... consumer = _Whois_consumer( domain, provider, pod ) request = _Whois_request( consumer, domain, provider ) #..................................................................... _sys_asyncore_loop() # loops until requests have been processed #========================================================================= DRWHO = DRWHO() domain = 'example.com' whois = DRWHO.whois( domain ) print( whois[ 'text' ] )"
50394,7,"I'm trying to get a webservice up and running that actually requires to check whois databases. What I'm doing right now is ugly and I'd like to avoid it as much as I can: I call gwhois command and parse its output. Ugly. I did some search to try to find a pythonic way to do this task. Generally I got quite much nothing - this old discussion list link has a way to check if domain exist. Quite not what I was looking for... But still, it was best anwser Google gave me - everything else is just a bunch of unanwsered questions. Any of you have succeeded to get some method up and running? I'd very much appreciate some tips, or should I just do it the opensource-way, sit down and code something by myself? :)",What Python way would you suggest to check whois database records?,4078336,50394,8,"Look at this: http://code.google.com/p/pywhois/ pywhois - Python module for retrieving WHOIS information of domains Goal: - Create a simple importable Python module which will produce parsed WHOIS data for a given domain. - Able to extract data for all the popular TLDs (com, org, net, ...) - Query a WHOIS server directly instead of going through an intermediate web service like many others do. - Works with Python 2.4+ and no external dependencies Example: &gt;&gt;&gt; import pywhois &gt;&gt;&gt; w = pywhois.whois('google.com') &gt;&gt;&gt; w.expiration_date ['14-sep-2011'] &gt;&gt;&gt; w.emails ['contact-admin@google.com', 'dns-admin@google.com', 'dns-admin@google.com', 'dns-admin@google.com'] &gt;&gt;&gt; print w ..."
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50502,50499,11,"It's not entirely clear what you mean by ""the filepath of the file that is currently running within the process"". sys.argv[0] usually contains the location of the script that was invoked by the Python interpreter. Check the sys documentation for more details. As @Tim and @Pat Notz have pointed out, the __file__ attribute provides access to the file from which the module was loaded, if it was loaded from a file"
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50505,50499,5,I think it's just __file__ Sounds like you may also want to checkout the inspect module.
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50521,50499,7,The __file__ attribute works for both the file containing the main execution code as well as imported modules. See https://web.archive.org/web/20090918095828/http://pyref.infogami.com/__file__
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50905,50499,168,"p1.py: execfile(""p2.py"") p2.py: import inspect, os print inspect.getfile(inspect.currentframe()) # script filename (usually with path) print os.path.dirname(os.path.abspath(inspect.getfile(inspect.currentframe()))) # script directory"
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,50986,50499,3,"You can use inspect.stack() import inspect,os inspect.stack()[0] =&gt; (&lt;frame object at 0x00AC2AC0&gt;, 'g:\\Python\\Test\\_GetCurrentProgram.py', 15, '&lt;module&gt;', ['print inspect.stack()[0]\n'], 0) os.path.abspath (inspect.stack()[0][1]) =&gt; 'g:\\Python\\Test\\_GetCurrentProgram.py'"
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,1955163,50499,260,__file__ as others have said. You may want to use: os.path.realpath(__file__)
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,1992378,50499,4,import sys print sys.path[0] this would print the path of the currently executing script
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,2345265,50499,30,"The suggestions marked as best are all true if your script consists of only one file. If you want to find out the name of the executable (i.e. the root file passed to the python interpreter for the current program) from a file that may be imported as a module, you need to do this (let's assume this is in a file named foo.py): import inspect print inspect.stack()[-1][1] Because the last thing ([-1]) on the stack is the first thing that went into it (stacks are LIFO/FILO data structures). Then in file bar.py if you import foo it'll print bar.py, rather than foo.py, which would be the value of all of these: __file__ inspect.getfile(inspect.currentframe()) inspect.stack()[0][1]"
50499,262,"I have scripts calling other script files but I need to get the filepath of the file that is currently running within the process. For example, let's say I have three files. Using execfile: script_1.py calls script_2.py. In turn, script_2.py calls script_3.py. How can I get the file name and path of script_3.py, from code within script_3.py, without having to pass that information as arguments from script_2.py? (Executing os.getcwd() returns the original starting script's filepath not the current file's.)",How do I get the path and name of the file that is currently executing?,2665888,50499,4,import sys print sys.argv[0]
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,50668,50568,25,"The filesystem backend is only worth looking at if you're not going to use a database for any other part of your system. If you are using a database then the filesystem backend has nothing to recommend it. The memcache backend is much quicker than the database backend, but you run the risk of a session being purged and some of your session data being lost. If you're a really, really high traffic website and code carefully so you can cope with losing a session then use memcache. If you're not using a database use the file system cache, but the default database backend is the best, safest and simplest option in almost all cases."
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,51511,50568,19,"I'm no Django expert, so this answer is about session stores generally. Downvote if I'm wrong. Performance and Scalability Choice of session store has an effect on performance and scalability. This should only be a big problem if you have a very popular application. Both database and filesystem session stores are (usually) backed by disks so you can have a lot of sessions cheaply (because disks are cheap), but requests will often have to wait for the data to be read (because disks are slow). Memcached sessions use RAM, so will cost more to support the same number of concurrent sessions (because RAM is expensive), but may be faster (because RAM is fast). Filesystem sessions are tied to the box where your application is running, so you can't load balance between multiple application servers if your site gets huge. Database and memcached sessions let you have multiple application servers talking to a shared session store. Simplicity Choice of session store will also impact how easy it is to deploy your site. Changing away from the default will cost some complexity. Memcached and RDBMSs both have their own complexities, but your application is probably going to be using an RDBMS anyway. Unless you have a very popular application, simplicity should be the larger concern. Bonus Another approach is to store session data in cookies (all of it, not just an ID). This has the advantage that the session store automatically scales with the number of users, but it has disadvantages too. You (or your framework) need to be careful to stop users forging session data. You also need to keep each session small because the whole thing will be sent with every request."
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,100464,50568,3,"One thing that has to be considered when choosing session backend is ""how often session data is modified""? Even sites with moderate traffic will suffer if session data is modified on each request, making many database trips to store and retrieve data. In my previous work we used memcache as session backend exclusively and it worked really well. Our administrative team put really great effort in making two special memcached instances stable as a rock, but after bit of twiddling with initial setup, we did not have any interrupts of session backends operations."
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,326046,50568,1,"If the database have a DBA that isn't you, you may not be allowed to use a database-backed session (it being a front-end matter only). Until django supports easily merging data from several databases, so that you can have frontend-specific stuff like sessions and user-messages (the messages in django.contrib.auth are also stored in the db) in a separate db, you need to keep this in mind."
50568,34,"I'm looking at sessions in Django, and by default they are stored in the database. What are the benefits of filesystem and cache sessions and when should I use them?",Django Sessions,1939548,50568,9,"As of Django 1.1 you can use the cached_db session back end. This stores the session in the cache (only use with memcached), and writes it back to the DB. If it has fallen out of the cache, it will be read from the DB. Although this is slower than just using memcached for storing the session, it adds persistence to the session. For more information, see: Django Docs: Using Cached Sessions"
50923,4,How do you create a weak reference to an object in Python?,How do you create a weak reference to an object in Python?,50929,50923,10,"&gt;&gt;&gt; import weakref &gt;&gt;&gt; class Object: ... pass ... &gt;&gt;&gt; o = Object() &gt;&gt;&gt; r = weakref.ref(o) &gt;&gt;&gt; # if the reference is still active, r() will be o, otherwise None &gt;&gt;&gt; do_something_with_o(r()) See the wearkref module docs for more details. You can also use weakref.proxy to create an object that proxies o. Will throw ReferenceError if used when the referent is no longer referenced."
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,51015,51010,1,"It seems that this isn't supported, since there wouldn't be a good way to deal with overflows in datetime.time. I know this isn't an answer directly, but maybe someone with more python experience than me can take this a little further. For more info, see this: http://bugs.python.org/issue3250"
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,51023,51010,5,"You could transform both into timedelta objects and subtract these from each other, which will take care to of the carry-overs. For example: &gt;&gt;&gt; import datetime as dt &gt;&gt;&gt; t1 = dt.time(23, 5, 5, 5) &gt;&gt;&gt; t2 = dt.time(10, 5, 5, 5) &gt;&gt;&gt; dt1 = dt.timedelta(hours=t1.hour, minutes=t1.minute, seconds=t1.second, microseconds=t1.microsecond) &gt;&gt;&gt; dt2 = dt.timedelta(hours=t2.hour, minutes=t2.minute, seconds=t2.second, microseconds=t2.microsecond) &gt;&gt;&gt; print(dt1-dt2) 13:00:00 &gt;&gt;&gt; print(dt2-dt1) -1 day, 11:00:00 &gt;&gt;&gt; print(abs(dt2-dt1)) 13:00:00 Negative timedelta objects in Python get a negative day field, with the other fields positive. You could check beforehand: comparison works on both time objects and timedelta objects: &gt;&gt;&gt; dt2 &lt; dt1 True &gt;&gt;&gt; t2 &lt; t1 True"
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,51029,51010,-2,"Firstly, note that a datetime.time is a time of day, independent of a given day, and so the different between any two datetime.time values is going to be less than 24 hours. One approach is to convert both datetime.time values into comparable values (such as milliseconds), and find the difference. t1, t2 = datetime.time(...), datetime.time(...) t1_ms = (t1.hour*60*60 + t1.minute*60 + t1.second)*1000 + t1.microsecond t2_ms = (t2.hour*60*60 + t2.minute*60 + t2.second)*1000 + t2.microsecond delta_ms = max([t1_ms, t2_ms]) - min([t1_ms, t2_ms]) It's a little lame, but it works."
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,51042,51010,16,"Also a little silly, but you could try picking an arbitrary day and embedding each time in it, using datetime.datetime.combine, then subtracting: &gt;&gt;&gt; import datetime &gt;&gt;&gt; t1 = datetime.time(2,3,4) &gt;&gt;&gt; t2 = datetime.time(18,20,59) &gt;&gt;&gt; dummydate = datetime.date(2000,1,1) &gt;&gt;&gt; datetime.datetime.combine(dummydate,t2) - datetime.datetime.combine(dummydate,t1) datetime.timedelta(0, 58675)"
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,108599,51010,3,Python has pytz (http://pytz.sourceforge.net) module which can be used for arithmetic of 'time' objects. It takes care of DST offsets as well. The above page has a number of examples that illustrate the usage of pytz.
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,108603,51010,-1,Retrieve the times in milliseconds and then do the subtraction.
51010,9,"I have 2 time values which have the type datetime.time. I want to find their difference. The obvious thing to do is t1 - t2, but this doesn't work. It works for objects of type datetime.datetime but not for datetime.time. So what is the best way to do this?",What is the simplest way to find the difference between 2 times in python?,263451,51010,-3,Environment.TickCount seems to work well if you need something quick. int start = Environment.TickCount ...DoSomething() int elapsedtime = Environment.TickCount - start Jon
51212,41,"I am writing a little application to download files over http (as, for example, described here). I also want to include a little download progress indicator showing the percentage of the download progress. Here is what I came up with: sys.stdout.write(rem_file + ""..."") urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""%2d%%"" % percent) sys.stdout.write(""\b\b\b"") sys.stdout.flush() Output: MyFileName... 9% Any other ideas or recommendations to do this? One thing that's somewhat annoying is the blinking cursor in the terminal on the first digit of the percentage. Is there a way to prevent this? Is there a way to hide the cursor? EDIT: Here a better alternative using a global variable for the filename in dlProgress and the '\r' code: global rem_file # global variable to be used in dlProgress urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""\r"" + rem_file + ""...%d%%"" % percent) sys.stdout.flush() Output: MyFileName...9% And the cursor shows up at the END of the line. Much better.",How to write a download progress indicator in Python?,51214,51212,4,"If you use the curses package, you have much greater control of the console. It also comes at a higher cost in code complexity and is probably unnecessary unless you are developing a large console-based app. For a simple solution, you can always put the spinning wheel at the end of the status messge (the sequence of characters |, \, -, / which actually looks nice under blinking cursor."
51212,41,"I am writing a little application to download files over http (as, for example, described here). I also want to include a little download progress indicator showing the percentage of the download progress. Here is what I came up with: sys.stdout.write(rem_file + ""..."") urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""%2d%%"" % percent) sys.stdout.write(""\b\b\b"") sys.stdout.flush() Output: MyFileName... 9% Any other ideas or recommendations to do this? One thing that's somewhat annoying is the blinking cursor in the terminal on the first digit of the percentage. Is there a way to prevent this? Is there a way to hide the cursor? EDIT: Here a better alternative using a global variable for the filename in dlProgress and the '\r' code: global rem_file # global variable to be used in dlProgress urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""\r"" + rem_file + ""...%d%%"" % percent) sys.stdout.flush() Output: MyFileName...9% And the cursor shows up at the END of the line. Much better.",How to write a download progress indicator in Python?,51218,51212,13,"You might also try: sys.stdout.write(""\r%2d%%"" % percent) sys.stdout.flush() Using a single carriage return at the beginning of your string rather than several backspaces. Your cursor will still blink, but it'll blink after the percent sign rather than under the first digit, and with one control character instead of three you may get less flicker."
51212,41,"I am writing a little application to download files over http (as, for example, described here). I also want to include a little download progress indicator showing the percentage of the download progress. Here is what I came up with: sys.stdout.write(rem_file + ""..."") urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""%2d%%"" % percent) sys.stdout.write(""\b\b\b"") sys.stdout.flush() Output: MyFileName... 9% Any other ideas or recommendations to do this? One thing that's somewhat annoying is the blinking cursor in the terminal on the first digit of the percentage. Is there a way to prevent this? Is there a way to hide the cursor? EDIT: Here a better alternative using a global variable for the filename in dlProgress and the '\r' code: global rem_file # global variable to be used in dlProgress urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""\r"" + rem_file + ""...%d%%"" % percent) sys.stdout.flush() Output: MyFileName...9% And the cursor shows up at the END of the line. Much better.",How to write a download progress indicator in Python?,51239,51212,16,"There's a text progress bar library for python at http://pypi.python.org/pypi/progressbar/2.2 that you might find useful: This library provides a text mode progressbar. This is tipically used to display the progress of a long running operation, providing a visual clue that processing is underway. The ProgressBar class manages the progress, and the format of the line is given by a number of widgets. A widget is an object that may display diferently depending on the state of the progress. There are three types of widget: - a string, which always shows itself; - a ProgressBarWidget, which may return a diferent value every time it's update method is called; and - a ProgressBarWidgetHFill, which is like ProgressBarWidget, except it expands to fill the remaining width of the line. The progressbar module is very easy to use, yet very powerful. And automatically supports features like auto-resizing when available."
51212,41,"I am writing a little application to download files over http (as, for example, described here). I also want to include a little download progress indicator showing the percentage of the download progress. Here is what I came up with: sys.stdout.write(rem_file + ""..."") urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""%2d%%"" % percent) sys.stdout.write(""\b\b\b"") sys.stdout.flush() Output: MyFileName... 9% Any other ideas or recommendations to do this? One thing that's somewhat annoying is the blinking cursor in the terminal on the first digit of the percentage. Is there a way to prevent this? Is there a way to hide the cursor? EDIT: Here a better alternative using a global variable for the filename in dlProgress and the '\r' code: global rem_file # global variable to be used in dlProgress urllib.urlretrieve(rem_file, loc_file, reporthook=dlProgress) def dlProgress(count, blockSize, totalSize): percent = int(count*blockSize*100/totalSize) sys.stdout.write(""\r"" + rem_file + ""...%d%%"" % percent) sys.stdout.flush() Output: MyFileName...9% And the cursor shows up at the END of the line. Much better.",How to write a download progress indicator in Python?,704865,51212,0,"For small files you may need to had this lines in order to avoid crazy percentages: sys.stdout.write(""\r%2d%%"" % percent) sys.stdout.flush() Cheers"
51233,44,How can I retrieve the page title of a webpage (title html tag) using Python?,How can I retrieve the page title of a webpage using Python?,51240,51233,44,"I'll always use lxml for such tasks. You could use beautifulsoup as well. import lxml.html t = lxml.html.parse(url) print t.find("".//title"").text"
51233,44,How can I retrieve the page title of a webpage (title html tag) using Python?,How can I retrieve the page title of a webpage using Python?,51242,51233,5,"This is probably overkill for such a simple task, but if you plan to do more than that, then it's saner to start from these tools (mechanize, BeautifulSoup) because they are much easier to use than the alternatives (urllib to get content and regexen or some other parser to parse html) Links: BeautifulSoup mechanize #!/usr/bin/env python #coding:utf-8 from BeautifulSoup import BeautifulSoup from mechanize import Browser #This retrieves the webpage content br = Browser() res = br.open(""https://www.google.com/"") data = res.get_data() #This parses the content soup = BeautifulSoup(data) title = soup.find('title') #This outputs the content :) print title.renderContents()"
51233,44,How can I retrieve the page title of a webpage (title html tag) using Python?,How can I retrieve the page title of a webpage using Python?,51263,51233,10,"The mechanize Browser object has a title() method. So the code from this post can be rewritten as: from mechanize import Browser br = Browser() br.open(""http://www.google.com/"") print br.title()"
51233,44,How can I retrieve the page title of a webpage (title html tag) using Python?,How can I retrieve the page title of a webpage using Python?,51550,51233,54,"Here's a simplified version of @Vinko Vrsalovic's answer: import urllib2 from BeautifulSoup import BeautifulSoup soup = BeautifulSoup(urllib2.urlopen(""https://www.google.com"")) print soup.title.string NOTE: soup.title finds the first title element anywhere in the html document title.string assumes it has only one child node, and that child node is a string For beautifulsoup 4.x, use different import: from bs4 import BeautifulSoup"
51412,11,"Say I have the following methods: def methodA(arg, **kwargs): pass def methodB(arg, *args, **kwargs): pass In methodA I wish to call methodB, passing on the kwargs. However, it seems that if I define methodA as follows, the second argument will be passed on as positional rather than named variable arguments. def methodA(arg, **kwargs): methodB(""argvalue"", kwargs) How do I make sure that the **kwargs in methodA gets passed as **kwargs to methodB?",Passing on named variable arguments in python,51414,51412,1,"Some experimentation and I figured this one out: def methodA(arg, **kwargs): methodB(""argvalue"", **kwargs) Seems obvious now..."
51412,11,"Say I have the following methods: def methodA(arg, **kwargs): pass def methodB(arg, *args, **kwargs): pass In methodA I wish to call methodB, passing on the kwargs. However, it seems that if I define methodA as follows, the second argument will be passed on as positional rather than named variable arguments. def methodA(arg, **kwargs): methodB(""argvalue"", kwargs) How do I make sure that the **kwargs in methodA gets passed as **kwargs to methodB?",Passing on named variable arguments in python,51415,51412,32,"Put the asterisks before the kwargs variable. This makes Python pass the variable (which is assumed to be a dictionary) as keyword arguments. methodB(""argvalue"", **kwargs)"
51412,11,"Say I have the following methods: def methodA(arg, **kwargs): pass def methodB(arg, *args, **kwargs): pass In methodA I wish to call methodB, passing on the kwargs. However, it seems that if I define methodA as follows, the second argument will be passed on as positional rather than named variable arguments. def methodA(arg, **kwargs): methodB(""argvalue"", kwargs) How do I make sure that the **kwargs in methodA gets passed as **kwargs to methodB?",Passing on named variable arguments in python,63943,51412,2,"As an aside: When using functions instead of methods, you could also use functools.partial: import functools def foo(arg, **kwargs): ... bar = functools.partial(foo, ""argvalue"") The last line will define a function ""bar"" that, when called, will call foo with the first argument set to ""argvalue"" and all other functions just passed on: bar(5, myarg=""value"") will call foo(""argvalue"", 5, myarg=""value"") Unfortunately that will not work with methods."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,51505,51502,8,"You could try increasing the indent size, but in general I would just say, relax, it will come with time. I don't think trying to make Python look like C is a very good idea."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,51531,51502,3,"Perhaps the best thing would be to turn on ""show whitespace"" in your editor. Then you would have a visual indication of how far in each line is tabbed (usually a bunch of dots), and it will be more apparent when that changes."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,51551,51502,15,I like to put blank lines around blocks to make control flow more obvious. For example: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged()
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,51570,51502,7,"Rather than focusing on making your existing structures more readable, you should focus on making more logical structures. Make smaller blocks, try not to nest blocks excessively, make smaller functions, and try to think through your code flow more. If you come to a point where you can't quickly determine the structure of your code, you should probably consider refactoring and adding some comments. Code flow should always be immediately apparent -- the more you have to think about it, the less maintainable your code becomes."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,52090,51502,23,"Part of learning a new programming language is learning to read code in that language. A crutch like this may make it easier to read your own code, but it's going to impede the process of learning how to read anyone else's Python code. I really think you'd be better off getting rid of the end of block comments and getting used to normal Python."
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,52111,51502,-1,"I would look in to understanding more details about Python syntax. Often times if a piece of code looks odd, there usually is a better way to write it. For example, in the above example: bar = foo if baz else None while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() While it is a small change, it might help the readability. Also, in all honesty, I've never used a while loop, so there is a good change you would end up with a nice concise list comprehension or for loop instead. ;)"
51502,2,"I've been really enjoying Python programming lately. I come from a background of a strong love for C-based coding, where everything is perhaps more complicated than it should be (but puts hair on your chest, at least). So switching from C to Python for more complex things that don't require tons of speed has been more of a boon than a bane in writing projects. However, coming from this land of brackets and parentheses and structs as far as the naked eye can see, I come across a small problem: I find Python difficult to read. For example, the following block of text is hard for me to decipher unless I stare at it (which I dislike doing): if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() did_i_not_warn_you_biz() my_father_is_avenged() The problem occurs at the end of that if block: all the tabbing and then suddenly returning to a jarring block feels almost disturbing. As a solution, I've started coding my Python like this: if foo: bar = baz while bar not biz: bar = i_am_going_to_find_you_biz_i_swear_on_my_life() #-- while -- #-- if -- did_i_not_warn_you_biz() my_father_is_avenged() And this, for some odd reason, makes me more able to read my own code. But I'm curious: has anyone else with my strange problem found easier ways to make their tabbed-out code more readable? I'd love to find out if there's a better way to do this before this becomes a huge habit for me.",Improving Python readability?,3054853,51502,0,"from __future__ import braces Need I say more? :) Seriously, PEP 8, 'Blank lines', Â§4 is the official way to do it."
51520,308,"Given a path such as ""mydir/myfile.txt"", how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with: ""C:/example/cwd/mydir/myfile.txt""",How to get an absolute file path in Python,51523,51520,424,"&gt;&gt;&gt; import os &gt;&gt;&gt; os.path.abspath(""mydir/myfile.txt"")"
51520,308,"Given a path such as ""mydir/myfile.txt"", how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with: ""C:/example/cwd/mydir/myfile.txt""",How to get an absolute file path in Python,51539,51520,32,&gt;&gt;&gt; import os &gt;&gt;&gt; os.path.abspath('mydir/myfile.txt') 'C:\\example\\cwd\\mydir\\myfile.txt' &gt;&gt;&gt;
51520,308,"Given a path such as ""mydir/myfile.txt"", how do I find the absolute filepath relative to the current working directory in Python? E.g. on Windows, I might end up with: ""C:/example/cwd/mydir/myfile.txt""",How to get an absolute file path in Python,58417,51520,13,"Better still, install the path.py module, it wraps all the os.path functions and other related functions into methods on an object that can be used wherever strings are used: &gt;&gt;&gt; from path import path &gt;&gt;&gt; path('mydir/myfile.txt').abspath() 'C:\\example\\cwd\\mydir\\myfile.txt' &gt;&gt;&gt;"
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51668,51553,0,I don't think that your results are all that surprising -- if anything it is that Postgres is so fast. Does the Postgres query run faster a second time once it has had a chance to cache the data? To be a little fairer your test for Java and Python should cover the cost of acquiring the data in the first place (ideally loading it off disk). If this performance level is a problem for your application in practice but you need a RDBMS for other reasons then you could look at memcached. You would then have faster cached access to raw data and could do the calculations in code.
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51745,51553,13,"I would say your test scheme is not really useful. To fulfill the db query, the db server goes through several steps: parse the SQL work up a query plan, i. e. decide on which indices to use (if any), optimize etc. if an index is used, search it for the pointers to the actual data, then go to the appropriate location in the data or if no index is used, scan the whole table to determine which rows are needed load the data from disk into a temporary location (hopefully, but not necessarily, memory) perform the count() and avg() calculations So, creating an array in Python and getting the average basically skips all these steps save the last one. As disk I/O is among the most expensive operations a program has to perform, this is a major flaw in the test (see also the answers to this question I asked here before). Even if you read the data from disk in your other test, the process is completely different and it's hard to tell how relevant the results are. To obtain more information about where Postgres spends its time, I would suggest the following tests: Compare the execution time of your query to a SELECT without the aggregating functions (i. e. cut step 5) If you find that the aggregation leads to a significant slowdown, try if Python does it faster, obtaining the raw data through the plain SELECT from the comparison. To speed up your query, reduce disk access first. I doubt very much that it's the aggregation that takes the time. There's several ways to do that: Cache data (in memory!) for subsequent access, either via the db engine's own capabilities or with tools like memcached Reduce the size of your stored data Optimize the use of indices. Sometimes this can mean to skip index use altogether (after all, it's disk access, too). For MySQL, I seem to remember that it's recommended to skip indices if you assume that the query fetches more than 10% of all the data in the table. If your query makes good use of indices, I know that for MySQL databases it helps to put indices and data on separate physical disks. However, I don't know whether that's applicable for Postgres. There also might be more sophisticated problems such as swapping rows to disk if for some reason the result set can't be completely processed in memory. But I would leave that kind of research until I run into serious performance problems that I can't find another way to fix, as it requires knowledge about a lot of little under-the-hood details in your process. Update: I just realized that you seem to have no use for indices for the above query and most likely aren't using any, too, so my advice on indices probably wasn't helpful. Sorry. Still, I'd say that the aggregation is not the problem but disk access is. I'll leave the index stuff in, anyway, it might still have some use."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51817,51553,0,"One other thing that an RDBMS generally does for you is to provide concurrency by protecting you from simultaneous access by another process. This is done by placing locks, and there's some overhead from that. If you're dealing with entirely static data that never changes, and especially if you're in a basically ""single user"" scenario, then using a relational database doesn't necessarily gain you much benefit."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51933,51553,3,"Those are very detailed answers, but they mostly beg the question, how do I get these benefits without leaving Postgres given that the data easily fits into memory, requires concurrent reads but no writes and is queried with the same query over and over again. Is it possible to precompile the query and optimization plan? I would have thought the stored procedure would do this, but it doesn't really help. To avoid disk access it's necessary to cache the whole table in memory, can I force Postgres to do that? I think it's already doing this though, since the query executes in just 200 ms after repeated runs. Can I tell Postgres that the table is read only, so it can optimize any locking code? I think it's possible to estimate the query construction costs with an empty table (timings range from 20-60 ms) I still can't see why the Java/Python tests are invalid. Postgres just isn't doing that much more work (though I still haven't addressed the concurrency aspect, just the caching and query construction) UPDATE: I don't think it's fair to compare the SELECTS as suggested by pulling 350,000 through the driver and serialization steps into Python to run the aggregation, nor even to omit the aggregation as the overhead in formatting and displaying is hard to separate from the timing. If both engines are operating on in memory data, it should be an apples to apples comparison, I'm not sure how to guarantee that's already happening though. I can't figure out how to add comments, maybe I don't have enough reputation?"
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),51976,51553,0,You need to increase postgres' caches to the point where the whole working set fits into memory before you can expect to see perfomance comparable to doing it in-memory with a program.
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),52006,51553,8,"Postgres is doing a lot more than it looks like (maintaining data consistency for a start!) If the values don't have to be 100% spot on, or if the table is updated rarely, but you are running this calculation often, you might want to look into Materialized Views to speed it up. (Note, I have not used materialized views in Postgres, they look at little hacky, but might suite your situation). Materialized Views Also consider the overhead of actually connecting to the server and the round trip required to send the request to the server and back. I'd consider 200ms for something like this to be pretty good, A quick test on my oracle server, the same table structure with about 500k rows and no indexes, takes about 1 - 1.5 seconds, which is almost all just oracle sucking the data off disk. The real question is, is 200ms fast enough? -------------- More -------------------- I was interested in solving this using materialized views, since I've never really played with them. This is in oracle. First I created a MV which refreshes every minute. create materialized view mv_so_x build immediate refresh complete START WITH SYSDATE NEXT SYSDATE + 1/24/60 as select count(*),avg(a),avg(b),avg(c),avg(d) from so_x; While its refreshing, there is no rows returned SQL&gt; select * from mv_so_x; no rows selected Elapsed: 00:00:00.00 Once it refreshes, its MUCH faster than doing the raw query SQL&gt; select count(*),avg(a),avg(b),avg(c),avg(d) from so_x; COUNT(*) AVG(A) AVG(B) AVG(C) AVG(D) ---------- ---------- ---------- ---------- ---------- 1899459 7495.38839 22.2905454 5.00276131 2.13432836 Elapsed: 00:00:05.74 SQL&gt; select * from mv_so_x; COUNT(*) AVG(A) AVG(B) AVG(C) AVG(D) ---------- ---------- ---------- ---------- ---------- 1899459 7495.38839 22.2905454 5.00276131 2.13432836 Elapsed: 00:00:00.00 SQL&gt; If we insert into the base table, the result is not immediately viewable view the MV. SQL&gt; insert into so_x values (1,2,3,4,5); 1 row created. Elapsed: 00:00:00.00 SQL&gt; commit; Commit complete. Elapsed: 00:00:00.00 SQL&gt; select * from mv_so_x; COUNT(*) AVG(A) AVG(B) AVG(C) AVG(D) ---------- ---------- ---------- ---------- ---------- 1899459 7495.38839 22.2905454 5.00276131 2.13432836 Elapsed: 00:00:00.00 SQL&gt; But wait a minute or so, and the MV will update behind the scenes, and the result is returned fast as you could want. SQL&gt; / COUNT(*) AVG(A) AVG(B) AVG(C) AVG(D) ---------- ---------- ---------- ---------- ---------- 1899460 7495.35823 22.2905352 5.00276078 2.17647059 Elapsed: 00:00:00.00 SQL&gt; This isn't ideal. for a start, its not realtime, inserts/updates will not be immediately visible. Also, you've got a query running to update the MV whether you need it or not (this can be tune to whatever time frame, or on demand). But, this does show how much faster an MV can make it seem to the end user, if you can live with values which aren't quite upto the second accurate."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),52179,51553,0,"Thanks for the Oracle timings, that's the kind of stuff I'm looking for (disappointing though :-) Materialized views are probably worth considering as I think I can precompute the most interesting forms of this query for most users. I don't think query round trip time should be very high as i'm running the the queries on the same machine that runs Postgres, so it can't add much latency? I've also done some checking into the cache sizes, and it seems Postgres relies on the OS to handle caching, they specifically mention BSD as the ideal OS for this, so I thinking Mac OS ought to be pretty smart about bringing the table into memory. Unless someone has more specific params in mind I think more specific caching is out of my control. In the end I can probably put up with 200 ms response times, but knowing that 7 ms is a possible target makes me feel unsatisfied, as even 20-50 ms times would enable more users to have more up to date queries and get rid of a lots of caching and precomputed hacks. I just checked the timings using MySQL 5 and they are slightly worse than Postgres. So barring some major caching breakthroughs, I guess this is what I can expect going the relational db route. I wish I could up vote some of your answers, but I don't have enough points yet."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),53303,51553,2,"I'm a MS-SQL guy myself, and we'd use DBCC PINTABLE to keep a table cached, and SET STATISTICS IO to see that it's reading from cache, and not disk. I can't find anything on Postgres to mimic PINTABLE, but pg_buffercache seems to give details on what is in the cache - you may want to check that, and see if your table is actually being cached. A quick back of the envelope calculation makes me suspect that you're paging from disk. Assuming Postgres uses 4-byte integers, you have (6 * 4) bytes per row, so your table is a minimum of (24 * 350,000) bytes ~ 8.4MB. Assuming 40 MB/s sustained throughput on your HDD, you're looking at right around 200ms to read the data (which, as pointed out, should be where almost all of the time is being spent). Unless I screwed up my math somewhere, I don't see how it's possible that you are able to read 8MB into your Java app and process it in the times you're showing - unless that file is already cached by either the drive or your OS."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),53333,51553,5,"I retested with MySQL specifying ENGINE = MEMORY and it doesn't change a thing (still 200 ms). Sqlite3 using an in-memory db gives similar timings as well (250 ms). The math here looks correct (at least the size, as that's how big the sqlite db is :-) I'm just not buying the disk-causes-slowness argument as there is every indication the tables are in memory (the postgres guys all warn against trying too hard to pin tables to memory as they swear the OS will do it better than the programmer) To clarify the timings, the Java code is not reading from disk, making it a totally unfair comparison if Postgres is reading from the disk and calculating a complicated query, but that's really besides the point, the DB should be smart enough to bring a small table into memory and precompile a stored procedure IMHO. UPDATE (in response to the first comment below): I'm not sure how I'd test the query without using an aggregation function in a way that would be fair, since if I select all of the rows it'll spend tons of time serializing and formatting everything. I'm not saying that the slowness is due to the aggregation function, it could still be just overhead from concurrency, integrity, and friends. I just don't know how to isolate the aggregation as the sole independent variable."
51553,11,"I need a real DBA's opinion. Postgres 8.3 takes 200 ms to execute this query on my Macbook Pro while Java and Python perform the same calculation in under 20 ms (350,000 rows): SELECT count(id), avg(a), avg(b), avg(c), avg(d) FROM tuples; Is this normal behaviour when using a SQL database? The schema (the table holds responses to a survey): CREATE TABLE tuples (id integer primary key, a integer, b integer, c integer, d integer); \copy tuples from '350,000 responses.csv' delimiter as ',' I wrote some tests in Java and Python for context and they crush SQL (except for pure python): java 1.5 threads ~ 7 ms java 1.5 ~ 10 ms python 2.5 numpy ~ 18 ms python 2.5 ~ 370 ms Even sqlite3 is competitive with Postgres despite it assumping all columns are strings (for contrast: even using just switching to numeric columns instead of integers in Postgres results in 10x slowdown) Tunings i've tried without success include (blindly following some web advice): increased the shared memory available to Postgres to 256MB increased the working memory to 2MB disabled connection and statement logging used a stored procedure via CREATE FUNCTION ... LANGUAGE SQL So my question is, is my experience here normal, and this is what I can expect when using a SQL database? I can understand that ACID must come with costs, but this is kind of crazy in my opinion. I'm not asking for realtime game speed, but since Java can process millions of doubles in under 20 ms, I feel a bit jealous. Is there a better way to do simple OLAP on the cheap (both in terms of money and server complexity)? I've looked into Mondrian and Pig + Hadoop but not super excited about maintaining yet another server application and not sure if they would even help. No the Python code and Java code do all the work in house so to speak. I just generate 4 arrays with 350,000 random values each, then take the average. I don't include the generation in the timings, only the averaging step. The java threads timing uses 4 threads (one per array average), overkill but it's definitely the fastest. The sqlite3 timing is driven by the Python program and is running from disk (not :memory:) I realize Postgres is doing much more behind the scenes, but most of that work doesn't matter to me since this is read only data. The Postgres query doesn't change timing on subsequent runs. I've rerun the Python tests to include spooling it off the disk. The timing slows down considerably to nearly 4 secs. But I'm guessing that Python's file handling code is pretty much in C (though maybe not the csv lib?) so this indicates to me that Postgres isn't streaming from the disk either (or that you are correct and I should bow down before whoever wrote their storage layer!)",Why are SQL aggregate functions so much slower than Python and Java (or Poor Man's OLAP),53713,51553,1,Are you using TCP to access the Postgres? In that case Nagle is messing with your timing.
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,51663,51658,1,"The os.statvfs() function is a better way to get that information for Unix-like platforms (including OS X). The Python documentation says ""Availability: Unix"" but it's worth checking whether it works on Windows too in your build of Python (ie. the docs might not be up to date). Otherwise, you can use the pywin32 library to directly call the GetDiskFreeSpaceEx function."
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,51675,51658,0,"I Don't know of any cross-platform way to achieve this, but maybe a good workaround for you would be to write a wrapper class that checks the operating system and uses the best method for each. For Windows, there's the GetDiskFreeSpaceEx method in the win32 extensions."
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,53170,51658,-2,"You can use df as a cross-platform way. It is a part of GNU core utilities. These are the core utilities which are expected to exist on every operating system. However, they are not installed on Windows by default (Here, GetGnuWin32 comes in handy). df is a command-line utility, therefore a wrapper required for scripting purposes. For example: from subprocess import PIPE, Popen def free_volume(filename): """"""Find amount of disk space available to the current user (in bytes) on the file system containing filename."""""" stats = Popen([""df"", ""-Pk"", filename], stdout=PIPE).communicate()[0] return int(stats.splitlines()[1].split()[3]) * 1024"
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,1728106,51658,5,"If you dont like to add another dependency you can for windows use ctypes to call the win32 function call directly. import ctypes free_bytes = ctypes.c_ulonglong(0) ctypes.windll.kernel32.GetDiskFreeSpaceExW(ctypes.c_wchar_p(u'c:\\'), None, None, ctypes.pointer(free_bytes)) if free_bytes.value == 0: print 'dont panic'"
51658,56,"I need a way to determine the space remaining on a disk volume using python on linux, Windows and OS X. I'm currently parsing the output of the various system calls (df, dir) to accomplish this - is there a better way?",Cross-platform space remaining on volume using python,2372171,51658,58,"import ctypes import os import platform import sys def get_free_space_mb(dirname): """"""Return folder/drive free space (in megabytes)."""""" if platform.system() == 'Windows': free_bytes = ctypes.c_ulonglong(0) ctypes.windll.kernel32.GetDiskFreeSpaceExW(ctypes.c_wchar_p(dirname), None, None, ctypes.pointer(free_bytes)) return free_bytes.value / 1024 / 1024 else: st = os.statvfs(dirname) return st.f_bavail * st.f_frsize / 1024 / 1024 Note that you must pass a directory name for GetDiskFreeSpaceEx() to work (statvfs() works on both files and directories). You can get a directory name from a file with os.path.dirname(). Also see the documentation for os.statvfs() and GetDiskFreeSpaceEx."
53027,3,I have a file that I want to include in Python but the included file is fairly long and it'd be much neater to be able to split them into several files but then I have to use several include statements. Is there some way to group together several files and include them all at once?,Large Python Includes,53036,53027,6,"Yes, take a look at the ""6.4 Packages"" section in http://docs.python.org/tut/node8.html: Basically, you can place a bunch of files into a directory and add an __init__.py file to the directory. If the directory is in your PYTHONPATH or sys.path, you can do ""import directoryname"" to import everything in the directory or ""import directoryname.some_file_in_directory"" to import a specific file that is in the directory. The __init__.py files are required to make Python treat the directories as containing packages; this is done to prevent directories with a common name, such as ""string"", from unintentionally hiding valid modules that occur later on the module search path. In the simplest case, __init__.py can just be an empty file, but it can also execute initialization code for the package or set the __all__ variable, described later."
53027,3,I have a file that I want to include in Python but the included file is fairly long and it'd be much neater to be able to split them into several files but then I have to use several include statements. Is there some way to group together several files and include them all at once?,Large Python Includes,53037,53027,8,Put files in one folder. Add &#95;&#95;init&#95;&#95;.py file to the folder. Do necessary imports in &#95;&#95;init&#95;&#95;.py Replace multiple imports by one: import folder_name See Python Package Management
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,53173,53162,12,Put a \ at the end of your line or enclose the statement in parens ( .. ). From IBM: b = ((i1 &lt; 20) and (i2 &lt; 30) and (i3 &lt; 40)) or b = (i1 &lt; 20) and \ (i2 &lt; 30) and \ (i3 &lt; 40)
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,53180,53162,615,"What is the line? You can just have arguments on the next line without any problems: a = dostuff(blahblah1, blahblah2, blahblah3, blahblah4, blahblah5, blahblah6, blahblah7) Otherwise you can do something like this: if a == True and \ b == False Check the style guide for more information. From your example line: a = '1' + '2' + '3' + \ '4' + '5' Or: a = ('1' + '2' + '3' + '4' + '5') Note that the style guide says that using the implicit continuation with parentheses is preferred, but in this particular case just adding parentheses around your expression is probably the wrong way to go."
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,53182,53162,9,"From the horse's mouth: Explicit line joining Two or more physical lines may be joined into logical lines using backslash characters (\), as follows: when a physical line ends in a backslash that is not part of a string literal or comment, it is joined with the following forming a single logical line, deleting the backslash and the following end-of-line character. For example: if 1900 &lt; year &lt; 2100 and 1 &lt;= month &lt;= 12 \ and 1 &lt;= day &lt;= 31 and 0 &lt;= hour &lt; 24 \ and 0 &lt;= minute &lt; 60 and 0 &lt;= second &lt; 60: # Looks like a valid date return 1 A line ending in a backslash cannot carry a comment. A backslash does not continue a comment. A backslash does not continue a token except for string literals (i.e., tokens other than string literals cannot be split across physical lines using a backslash). A backslash is illegal elsewhere on a line outside a string literal."
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,53200,53162,119,"From Style Guide for Python Code: The preferred way of wrapping long lines is by using Python's implied line continuation inside parentheses, brackets and braces. Long lines can be broken over multiple lines by wrapping expressions in parentheses. These should be used in preference to using a backslash for line continuation. Backslashes may still be appropriate at times. For example, long, multiple with-statements cannot use implicit continuation, so backslashes are acceptable: with open('/path/to/some/file/you/want/to/read') as file_1, \ open('/path/to/some/file/being/written', 'w') as file_2: file_2.write(file_1.read()) Another such case is with assert statements. Make sure to indent the continued line appropriately. The preferred place to break around a binary operator is after the operator, not before it. Some examples: class Rectangle(Blob): def __init__(self, width, height, color='black', emphasis=None, highlight=0): if (width == 0 and height == 0 and color == 'red' and emphasis == 'strong' or highlight &gt; 100): raise ValueError(""sorry, you lose"") if width == 0 and height == 0 and (color == 'red' or emphasis is None): raise ValueError(""I don't think so -- values are %s, %s"" % (width, height)) Blob.__init__(self, width, height, color, emphasis, highlight) EDIT: PEP8 now recommends the opposite convention (for breaking at binary operations) used by Mathematicians and their publishers to improve readability. Donald Knuth's style of breaking before a binary operator aligns operators vertically, thus reducing the eye's workload when determining which items are added and subtracted. From PEP8: Should a line break before or after a binary operator?: Donald Knuth explains the traditional rule in his Computers and Typesetting series: ""Although formulas within a paragraph always break after binary operations and relations, displayed formulas always break before binary operations""[3]. Following the tradition from mathematics usually results in more readable code: # Yes: easy to match operators with operands income = (gross_wages + taxable_interest + (dividends - qualified_dividends) - ira_deduction - student_loan_interest) In Python code, it is permissible to break before or after a binary operator, as long as the convention is consistent locally. For new code Knuth's style is suggested. [3]: Donald Knuth's The TeXBook, pages 195 and 196"
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,61933,53162,46,"The danger in using a backslash to end a line is that if whitespace is added after the backslash (which, of course, is very hard to see), the backslash is no longer doing what you thought it was. See Python Idioms and Anti-Idioms (for Python 2 or Python 3) for more."
53162,535,"I have a long line of code that I want to break up among multiple lines. What do I use and what is the syntax? For example, adding a bunch of strings, e = 'a' + 'b' + 'c' + 'd' and have it like this: e = 'a' + 'b' + 'c' + 'd'",How can I do a line break (line continuation) in Python?,110882,53162,16,"You can break lines in between parenthesises and braces. Additionally, you can append the backslash character \ to a line to explicitly break it: x = (tuples_first_value, second_value) y = 1 + \ 2"
53225,22,"Given a reference to a method, is there a way to check whether the method is bound to an object or not? Can you also access the instance that it's bound to?",How do you check whether a python method is bound or not?,53237,53225,3,im_self attribute
53225,22,"Given a reference to a method, is there a way to check whether the method is bound to an object or not? Can you also access the instance that it's bound to?",How do you check whether a python method is bound or not?,53322,53225,27,"def isbound(method): return method.im_self is not None def instance(bounded_method): return bounded_method.im_self User-defined methods: When a user-defined method object is created by retrieving a user-defined function object from a class, its im_self attribute is None and the method object is said to be unbound. When one is created by retrieving a user-defined function object from a class via one of its instances, its im_self attribute is the instance, and the method object is said to be bound. In either case, the new method's im_class attribute is the class from which the retrieval takes place, and its im_func attribute is the original function object. In Python 2.6 and 3.0: Instance method objects have new attributes for the object and function comprising the method; the new synonym for im_self is __self__, and im_func is also available as __func__. The old names are still supported in Python 2.6, but are gone in 3.0."
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53522,53513,2388,"if not a: print(""List is empty"") Using the implicit booleanness of the empty list a is quite pythonic."
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53523,53513,35,"I have seen the below as preferred, as it will catch the null list as well: if not a: print ""The list is empty or null"""
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53525,53513,65,"An empty list is itself considered false in true value testing (see python documentation): a = [] if a: print ""not empty"" @Daren Thomas EDIT: Another point against testing the empty list as False: What about polymorphism? You shouldn't depend on a list being a list. It should just quack like a duck - how are you going to get your duckCollection to quack ''False'' when it has no elements? Your duckCollection should implement __nonzero__ or __len__ so the if a: will work without problems."
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53533,53513,4,"I prefer the following: if a == []: print ""The list is empty."" Readable and you don't have to worry about calling a function like len() to iterate through the variable. Although I'm not entirely sure what the BigO notation of something like this is... but Python's so blazingly fast I doubt it'd matter unless a was gigantic."
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,53752,53513,565,"The pythonic way to do it is from the PEP 8 style guide: For sequences, (strings, lists, tuples), use the fact that empty sequences are false. Yes: if not seq: if seq: No: if len(seq): if not len(seq):"
53513,1615,"For example, if passed the following: a = [] How do I check to see if a is empty?",Best way to check if a list is empty,61918,53513,28,"len() is an O(1) operation for Python lists, strings, dicts, and sets. Python internally keeps track of the number of elements in these containers. JavaScript has a similar notion of truthy/falsy."
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",53549,53543,14,"If you do find you need to write unique code for an environment, use pythons import mymodule_jython as mymodule import mymodule_cpython as mymodule have this stuff in a simple module (''module_importer''?) and write your code like this: from module_importer import mymodule This way, all you need to do is alter module_importer.py per platform."
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",55312,53543,10,"@Daren Thomas: I agree, but you should use the platform module to determine which interpreter you're running."
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",199275,53543,2,"I write code for CPython and IronPython but tip should work for Jython as well. Basically, I write all the platform specific code in separate modules/packages and then import the appropriate one based on platform I'm running on. (see cdleary's comment above) This is especially important when it comes to the differences between the SQLite implementations and if you are implementing any GUI code."
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",342835,53543,1,The #1 thing IMO: Focus on thread safety. CPython's GIL makes writing threadsafe code easy because only one thread can access the interpreter at a time. IronPython and Jython are a little less hand-holding though.
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",342845,53543,0,I'm pretty sure you already know this but unfortunately Jython can't load c extension modules.
53543,15,Having tries to target two of these environments at the same time I can safely say the if you have to use a database etc. you end up having to write unique code for that environment. Have you got a great way to handle this situation?,"What are some strategies to write python code that works in CPython, Jython and IronPython",637549,53543,0,"There are two major issues at play here... Firstly, to my knowledge, only CPython has RAII - you have to close your own resources in Jython, Ironpython, etc. And Secondly, as has been mentioned, is thread safety."
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,53791,53786,1,"Why don't you try The Grinder 3 to load test your server, it comes with all this and more prebuilt, and it supports python as a scripting language"
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,56032,53786,0,"Instead of giving the number of requests as a fixed value, why not use a scaling factor instead? At the moment, you're treating requests as a limited quantity, and randomising the days on which those requests fall. It would seem more reasonable to treat your requests-per-day as independent. from datetime import * from random import * timeline = [] scaling = 10 start_date = date(2008, 5, 1) end_date = date(2008, 6, 1) num_days = (end_date - start_date).days + 1 days = [start_date + timedelta(i) for I in range(num_days)] requests = [int(scaling * weibullvariate(0.5, 2)) for I in range(num_days)] timeline = zip(days, requests) timeline"
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,56102,53786,0,"I rewrote the code above to be shorter (but maybe it's too obfuscated now?) timeline = (start_date + timedelta(days=days) for days in count(0)) how_many_days = (end_date - start_date).days pick_a_day = lambda _:int(how_many_days * weibullvariate(0.5, 2)) days = sorted(imap(pick_a_day, xrange(how_many_responses))) histogram = zip(timeline, (len(list(responses)) for day, responses in groupby(days))) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for d,c in histogram)"
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,56247,53786,1,"Slightly longer but probably more readable rework of your last four lines: samples = [0 for I in xrange(how_many_days + 1)] for s in xrange(how_many_responses): samples[min(int(how_many_days * weibullvariate(0.5, 2)), how_many_days)] += 1 histogram = zip(timeline, samples) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for d,c in histogram) This always drops the samples within the date range, but you get a corresponding bump at the end of the timeline from all of the samples that are above the [0, 1] range."
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,56548,53786,1,"This is quick and probably not that accurate, but if you calculate the PDF yourself, then at least you make it easier to lay several smaller/larger ones on a single timeline. dev is the std deviation in the Guassian noise, which controls the roughness. Note that this is not the 'right' way to generate what you want, but it's easy. import math from datetime import datetime, timedelta, date from random import gauss how_many_responses = 1000 start_date = date(2008, 5, 1) end_date = date(2008, 6, 1) num_days = (end_date - start_date).days + 1 timeline = [start_date + timedelta(i) for I in xrange(num_days)] def weibull(x, k, l): return (k / l) * (x / l)**(k-1) * math.e**(-(x/l)**k) dev = 0.1 samples = [i * 1.25/(num_days-1) for I in range(num_days)] probs = [weibull(i, 2, 0.5) for I in samples] noise = [gauss(0, dev) for I in samples] simdata = [max(0., e + n) for (e, n) in zip(probs, noise)] events = [int(p * (how_many_responses / sum(probs))) for p in simdata] histogram = zip(timeline, events) print '\n'.join((d.strftime('%Y-%m-%d ') + ""*"" * c) for d,c in histogram)"
53786,3,"I am trying to automate functional testing of a server using a realistic frequency distribution of requests. (sort of load testing, sort of simulation) I've chosen the Weibull distribution as it ""sort of"" matches the distribution I've observed (ramps up quickly, drops off quickly but not instantly) I use this distribution to generate the number of requests that should be sent each day between a given start and end date I've hacked together an algorithm in Python that sort of works but it feels kludgy: how_many_days = (end_date - start_date).days freqs = defaultdict(int) for x in xrange(how_many_responses): freqs[int(how_many_days * weibullvariate(0.5, 2))] += 1 timeline = [] day = start_date for i,freq in sorted(freqs.iteritems()): timeline.append((day, freq)) day += timedelta(days=1) return timeline What better ways are there to do this?",How do I generate a histogram for a given probability distribution (for functional testing a server)?,89140,53786,0,"Another solution is to use Rpy, which puts all of the power of R (including lots of tools for distributions), easily into Python."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,54008,53997,12,"As Google Web Toolkit is a subset of Java it works best when you Java at the backend too. Since Google App Engine is currently Python only I think you'd have to do a lot of messing about to get your server and client to talk nicely to each other. jQuery seems to be the most popular JavaScript library option in the AJAX Tag at DjangoSnippets.com. Edit: The above is only true of Google App Engine applications written in Python. As Google App Engine now supports Java, GWT could now be a good choice for writing an AJAX front end. Google even have a tutorial showing you how to do it."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,54015,53997,3,"I'd recommend looking into a pure javascript framework (probably Jquery) for your client-side code, and write JSON services in python- that seems to be the easiest / bestest way to go. Google Web Toolkit lets you write the UI in Java and compile it to javascript. As Dave says, it may be a better choice where the backend is in Java, as it has nice RPC hooks for that case."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,54034,53997,1,"jQuery is a fine library, but also check out the Prototype JavaScript framework. It really turns JavaScript from being an occasionally awkward language into a beautiful and elegant language."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,55041,53997,4,"There is no reason why you shouldn't use GAE and Google Web Toolkit (GWT) together. You write your backend code in Python and the frontend code in Java (and possibly some JavaScript), which is then compiled to JavaScript. When using another AJAX framework you will also have this difference between server and client side language. GWT has features that make remote invocation of java code on the server easier, but these are entirely optional. You can just use JSON or XML interfaces, just like with other AJAX frameworks. GWT 1.5 also comes with JavaScript Overlay Types, that basically allow you to treat a piece of JSON data like a Java object when developing the client side code. You can read more about this here. Update: Now that Google has added Java support for Google App Engine, you can develop both backend and frontend code in Java on a full Google stack - if you like. There is a nice Eclipse plugin from Google that makes it very easy to develop and deploy applications that use GAE, GWT or both."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,62976,53997,0,"If you want to be able to invoke method calls from JavaScript to Python, JSON-RPC works well with Google App Engine. See Google's article, ""Using AJAX to Enable Client RPC Requests"", for details."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,230476,53997,0,I'm currently using JQuery for my GAE app and it works beautifully for me. I have a chart (google charts) that is dynamic and uses an Ajax call to grab a JSON string. It really seems to work fine for me.
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,352120,53997,2,"You may want to have a look at Pyjamas (http://pyjs.org/), which is ""GWT for Python""."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,605156,53997,4,"Here is how we've implemented Ajax on the Google App Engine, but the idea can be generalized to other platforms. We have a handler script for Ajax requests that responds -mostly- with JSON responses. The structure looks something like this (this is an excerpt from a standard GAE handler script): def Get(self, user): self.handleRequest() def Post(self, user): self.handleRequest() def handleRequest(self): ''' A dictionary that maps an operation name to a command. aka: a dispatcher map. ''' operationMap = {'getfriends': [GetFriendsCommand], 'requestfriend': [RequestFriendCommand, [self.request.get('id')]], 'confirmfriend': [ConfirmFriendCommand, [self.request.get('id')]], 'ignorefriendrequest': [IgnoreFriendRequestCommand, [self.request.get('id')]], 'deletefriend': [DeleteFriendCommand, [self.request.get('id')]]} # Delegate the request to the matching command class here. The commands are a simple implementation of the command pattern: class Command(): """""" A simple command pattern. """""" _valid = False def validate(self): """""" Validates input. Sanitize user input here. """""" self._valid = True def _do_execute(self): """""" Executes the command. Override this in subclasses. """""" pass @property def valid(self): return self._valid def execute(self): """""" Override _do_execute rather than this. """""" try: self.validate() except: raise return self._do_execute() # Make it easy to invoke commands: # So command() is equivalent to command.execute() __call__ = execute On the client side, we create an Ajax delegate. Prototype.js makes this easy to write and understand. Here is an excerpt: /** * Ajax API * * You should create a new instance for every call. */ var AjaxAPI = Class.create({ /* Service URL */ url: HOME_PATH+""ajax/"", /* Function to call on results */ resultCallback: null, /* Function to call on faults. Implementation not shown */ faultCallback: null, /* Constructor/Initializer */ initialize: function(resultCallback, faultCallback){ this.resultCallback = resultCallback; this.faultCallback = faultCallback; }, requestFriend: function(friendId){ return new Ajax.Request(this.url + '?op=requestFriend', {method: 'post', parameters: {'id': friendId}, onComplete: this.resultCallback }); }, getFriends: function(){ return new Ajax.Request(this.url + '?op=getfriends', {method: 'get', onComplete: this.resultCallback }); } }); to call the delegate, you do something like: new AjaxApi(resultHandlerFunction, faultHandlerFunction).getFriends() I hope this helps!"
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,800037,53997,7,"A nice way is to use an AJAX library is to take advantage of Google's AJAX Libraries API service. This is a bit faster and cleaner than downloading the JS and putting it in your /static/ folder and doesn't eat into your disk quota. In your javascript you would just put, for example: google.load(""jquery"", ""1.3.2""); and/or google.load(google.load(""dojo"", ""1.3.0""); Somewhere in your header you would put something like: &lt;script src=""http://www.google.com/jsapi?key=your-key-here""&gt;&lt;/script&gt; And that's all you need to use Google's API libraries."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,800072,53997,0,"Google has recently announced the Java version of Google App Engine. This release also provides an Eclipse plugin that makes developing GAE applications with GWT easier. See details here: http://code.google.com/appengine/docs/java/overview.html Of course, it would require you to rewrite your application in Java instead of python, but as someone who's worked with GWT, let me tell you, the advantages of using a modern IDE on your AJAX codebase are totally worth it."
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,994994,53997,2,"try also GQuery for GWT. This is Java code: public void onModuleLoad() { $(""div"").css(""color"", ""red"").click(new Function() { public void f(Element e) { Window.alert(""Hello""); $(e).as(Effects).fadeOut(); } }); } Being Java code resulting in somewhat expensive compile-time (Java->JavaScript) optimizations and easier refactoring. Nice, it isn't?"
53997,12,"I am trying to implement AJAX in my Google App Engine application, and so I am looking for a good AJAX framework that will help me. Anyone has any idea? I am thinking about Google Web Toolkit, how good it is in terms of creating AJAX for Google App Engine?",Any good AJAX framework for Google App Engine apps?,1037446,53997,3,In my blog I deal with an easy way to do this - the link is: AJAX with Google App Engine. I include all the javascript and python code I used.
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,54873,54867,340,"From http://docs.python.org/2/reference/datamodel.html#new-style-and-classic-classes : Up to Python 2.1, old-style classes were the only flavour available to the user. The concept of (old-style) class is unrelated to the concept of type: if x is an instance of an old-style class, then x.__class__ designates the class of x, but type(x) is always &lt;type 'instance'&gt;. This reflects the fact that all old-style instances, independently of their class, are implemented with a single built-in type, called instance. New-style classes were introduced in Python 2.2 to unify the concepts of class and type. A new-style class is simply a user-defined type, no more, no less. If x is an instance of a new-style class, then type(x) is typically the same as x.__class__ (although this is not guaranteed â a new-style class instance is permitted to override the value returned for x.__class__). The major motivation for introducing new-style classes is to provide a unified object model with a full meta-model. It also has a number of immediate benefits, like the ability to subclass most built-in types, or the introduction of ""descriptors"", which enable computed properties. For compatibility reasons, classes are still old-style by default. New-style classes are created by specifying another new-style class (i.e. a type) as a parent class, or the ""top-level type"" object if no other parent is needed. The behaviour of new-style classes differs from that of old-style classes in a number of important details in addition to what type returns. Some of these changes are fundamental to the new object model, like the way special methods are invoked. Others are ""fixes"" that could not be implemented before for compatibility concerns, like the method resolution order in case of multiple inheritance. Python 3 only has new-style classes. No matter if you subclass from object or not, classes are new-style in Python 3. It is however recommended that you still subclass from object."
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,55354,54867,4,"Or rather, you should always use new-style classes, unless you have code that needs to work with versions of Python older than 2.2."
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,242700,54867,5,"New-style classes inherit from object and must be written as such in Python 2.2 onwards (i.e. class Classname(object): instead of class Classname:). The core change is to unify types and classes, and the nice side-effect of this is that it allows you to inherit from built-in types. Read descrintro for more details."
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,1203997,54867,220,"Declaration-wise: New-style classes inherit from object, or from another new-style class. class NewStyleClass(object): pass class AnotherNewStyleClass(NewStyleClass): pass Old-style classes don't. class OldStyleClass(): pass"
54867,604,What is the difference between old style and new style classes in Python? Is there ever a reason to use old-style classes these days?,What is the difference between old style and new style classes in Python?,3228045,54867,29,"Old style classes are still marginally faster for attribute lookup. This is not usually important, but may be useful in performance-sensitive Python 2.x code: In [3]: class A: ...: def __init__(self): ...: self.a = 'hi there' ...: In [4]: class B(object): ...: def __init__(self): ...: self.a = 'hi there' ...: In [6]: aobj = A() In [7]: bobj = B() In [8]: %timeit aobj.a 10000000 loops, best of 3: 78.7 ns per loop In [10]: %timeit bobj.a 10000000 loops, best of 3: 86.9 ns per loop"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55188,55180,1,"This snippet will do so. If you're going to do it frequently, you might want to make a 'sortkeys' method or somesuch to make it easier on the eyes. keys = list(d.keys()) keys.sort() for key in keys: print d[key] Edit: dF's solution is better -- I forgot all about sorted()."
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55193,55180,16,"Do you mean that you need the values sorted by the value of the key? In that case, this should do it: for key in sorted(d): print d[key] EDIT: changed to use sorted(d) instead of sorted(d.keys()), thanks Eli!"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55194,55180,16,"Or shorter, for key, value in sorted(d.items()): print value"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55197,55180,1,"&gt;&gt;&gt; d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} &gt;&gt;&gt; for k,v in sorted(d.items()): ... print v, k ... this is a a this is b b this is c c"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",55202,55180,0,"d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} ks = d.keys() ks.sort() for k in ks: print ""this is "" + k"
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",56134,55180,1,for key in sorted(d): print d[key]
55180,11,"Dictionaries unlike lists are not ordered (and do not have the 'sort' attribute). Therefore, you can not rely on getting the items in the same order when first added. What is the easiest way to loop through a dictionary containing strings as the key value and retrieving them in ascending order by key? For example, you had this: d = {'b' : 'this is b', 'a': 'this is a' , 'c' : 'this is c'} I want to print the associated values in the following sequence sorted by key: this is a this is b this is c","In Python, how can you easily retrieve sorted items from a dictionary?",59235,55180,1,"You can also sort a dictionary by value and control the sort order: import operator d = {'b' : 'this is 3', 'a': 'this is 2' , 'c' : 'this is 1'} for key, value in sorted(d.iteritems(), key=operator.itemgetter(1), reverse=True): print key, "" "", value Output: b this is 3 a this is 2 c this is 1"
55365,4,I use Emacs primarily for coding Python but sometimes I use IDLE. Is there a way to change the key bindings easily in IDLE to match Emacs?,How can I get Emacs' key bindings in Python's IDLE?,55493,55365,2,There's a program for Windows called XKeymacs that allows you to specify emacs keybindings for different programs. It should work with IDLE. http://www.cam.hi-ho.ne.jp/oishi/indexen.html -Mark
55365,4,I use Emacs primarily for coding Python but sometimes I use IDLE. Is there a way to change the key bindings easily in IDLE to match Emacs?,How can I get Emacs' key bindings in Python's IDLE?,56008,55365,6,"IDLE provides Emacs keybindings without having to install other software. Open up the menu item Options -> Configure IDLE... Go to Keys tab In the drop down menu on the right side of the dialog change the select to ""IDLE Classic Unix"" It's not the true emacs key bindings but you get the basics like movement, saving/opening, ..."
55365,4,I use Emacs primarily for coding Python but sometimes I use IDLE. Is there a way to change the key bindings easily in IDLE to match Emacs?,How can I get Emacs' key bindings in Python's IDLE?,85113,55365,0,"'readline' module supposedly provides Emacs like key bindings and even functionality. However, it is not available on Windows but on Unix. Therefore, this might be a viable solution if you are not using Windows. import readline Since I am running IDLE on Windows it is unfortunately not an option for me."
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),55399,55391,0,"/&lt;input type=""hidden"" name=""fooId"" value=""([\d-]+)"" \/&gt;/"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),55401,55391,5,"Parsing is one of those areas where you really don't want to roll your own if you can avoid it, as you'll be chasing down the edge-cases and bugs for years go come I'd recommend using BeautifulSoup. It has a very good reputation and looks from the docs like it's pretty easy to use."
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),55404,55391,8,"import re reg = re.compile('&lt;input type=""hidden"" name=""([^""]*)"" value=""&lt;id&gt;"" /&gt;') value = reg.search(inputHTML).group(1) print 'Value is', value"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),55424,55391,27,"For this particular case, BeautifulSoup is harder to write than a regex, but it is much more robust... I'm just contributing with the BeautifulSoup example, given that you already know which regexp to use :-) from BeautifulSoup import BeautifulSoup #Or retrieve it from the web, etc. html_data = open('/yourwebsite/page.html','r').read() #Create the soup object from the HTML data soup = BeautifulSoup(html_data) fooId = soup.find('input',name='fooId',type='hidden') #Find the proper tag value = fooId.attrs[2][1] #The value of the third attribute of the desired tag #or index it directly via fooId['value']"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),56144,55391,0,"/&lt;input\s+type=""hidden""\s+name=""([A-Za-z0-9_]+)""\s+value=""([A-Za-z0-9_\-]*)""\s*/&gt;/ &gt;&gt;&gt; import re &gt;&gt;&gt; s = '&lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt;' &gt;&gt;&gt; re.match('&lt;input\s+type=""hidden""\s+name=""([A-Za-z0-9_]+)""\s+value=""([A-Za-z0-9_\-]*)""\s*/&gt;', s).groups() ('fooId', '12-3456789-1111111111')"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),64983,55391,18,"I agree with Vinko BeautifulSoup is the way to go. However I suggest using fooId['value'] to get the attribute rather than relying on value being the third attribute. from BeautifulSoup import BeautifulSoup #Or retrieve it from the web, etc. html_data = open('/yourwebsite/page.html','r').read() #Create the soup object from the HTML data soup = BeautifulSoup(html_data) fooId = soup.find('input',name='fooId',type='hidden') #Find the proper tag value = fooId['value'] #The value attribute"
55391,9,"I want to grab the value of a hidden input field in HTML. &lt;input type=""hidden"" name=""fooId"" value=""12-3456789-1111111111"" /&gt; I want to write a regular expression in Python that will return the value of fooId, given that I know the line in the HTML follows the format &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; Can someone provide an example in Python to parse the HTML for the value?",Python regular expression for HTML parsing (BeautifulSoup),1421480,55391,1,"Pyparsing is a good interim step between BeautifulSoup and regex. It is more robust than just regexes, since its HTML tag parsing comprehends variations in case, whitespace, attribute presence/absence/order, but simpler to do this kind of basic tag extraction than using BS. Your example is especially simple, since everything you are looking for is in the attributes of the opening ""input"" tag. Here is a pyparsing example showing several variations on your input tag that would give regexes fits, and also shows how NOT to match a tag if it is within a comment: html = """"""&lt;html&gt;&lt;body&gt; &lt;input type=""hidden"" name=""fooId"" value=""**[id is here]**"" /&gt; &lt;blah&gt; &lt;input name=""fooId"" type=""hidden"" value=""**[id is here too]**"" /&gt; &lt;input NAME=""fooId"" type=""hidden"" value=""**[id is HERE too]**"" /&gt; &lt;INPUT NAME=""fooId"" type=""hidden"" value=""**[and id is even here TOO]**"" /&gt; &lt;!-- &lt;input type=""hidden"" name=""fooId"" value=""**[don't report this id]**"" /&gt; --&gt; &lt;foo&gt; &lt;/body&gt;&lt;/html&gt;"""""" from pyparsing import makeHTMLTags, withAttribute, htmlComment # use makeHTMLTags to create tag expression - makeHTMLTags returns expressions for # opening and closing tags, we're only interested in the opening tag inputTag = makeHTMLTags(""input"")[0] # only want input tags with special attributes inputTag.setParseAction(withAttribute(type=""hidden"", name=""fooId"")) # don't report tags that are commented out inputTag.ignore(htmlComment) # use searchString to skip through the input foundTags = inputTag.searchString(html) # dump out first result to show all returned tags and attributes print foundTags[0].dump() print # print out the value attribute for all matched tags for inpTag in foundTags: print inpTag.value Prints: ['input', ['type', 'hidden'], ['name', 'fooId'], ['value', '**[id is here]**'], True] - empty: True - name: fooId - startInput: ['input', ['type', 'hidden'], ['name', 'fooId'], ['value', '**[id is here]**'], True] - empty: True - name: fooId - type: hidden - value: **[id is here]** - type: hidden - value: **[id is here]** **[id is here]** **[id is here too]** **[id is HERE too]** **[and id is even here TOO]** You can see that not only does pyparsing match these unpredictable variations, it returns the data in an object that makes it easy to read out the individual tag attributes and their values."
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,56262,56229,4,"don't you actually want something like: html(head(script(type='text/javascript', content='var a = ...')), body(h1('And I like the fact that 3 &lt; 1'), p('just some paragraph')) I think I saw something like that somewhere. This would be wonderful. EDIT: Actually, I went and wrote a library today to do just that: magictree You can use it like this: from magictree import html, head, script, body, h1, p root = html( head( script('''var a = 'I love &amp;amp;aacute; letters''', type='text/javascript')), body( h1('And I like the fact that 3 &gt; 1'))) # root is a plain Element object, like those created with ET.Element... # so you can write it out using ElementTree :) tree = ET.ElementTree(root) tree.write('foo.xhtml') The magic in magictree lies in how the importing works: The Element factories are created when needed. Have a look at the source, it is based on an answer to another StackOverflow question."
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,56269,56229,28,"Another way is using the E Factory builder from lxml (available in Elementtree too) &gt;&gt;&gt; from lxml import etree &gt;&gt;&gt; from lxml.builder import E &gt;&gt;&gt; def CLASS(*args): # class is a reserved word in Python ... return {""class"":' '.join(args)} &gt;&gt;&gt; html = page = ( ... E.html( # create an Element called ""html"" ... E.head( ... E.title(""This is a sample document"") ... ), ... E.body( ... E.h1(""Hello!"", CLASS(""title"")), ... E.p(""This is a paragraph with "", E.b(""bold""), "" text in it!""), ... E.p(""This is another paragraph, with a"", ""\n "", ... E.a(""link"", href=""http://www.python.org""), "".""), ... E.p(""Here are some reserved characters: &lt;spam&amp;egg&gt;.""), ... etree.XML(""&lt;p&gt;And finally an embedded XHTML fragment.&lt;/p&gt;""), ... ) ... ) ... ) &gt;&gt;&gt; print(etree.tostring(page, pretty_print=True)) &lt;html&gt; &lt;head&gt; &lt;title&gt;This is a sample document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 class=""title""&gt;Hello!&lt;/h1&gt; &lt;p&gt;This is a paragraph with &lt;b&gt;bold&lt;/b&gt; text in it!&lt;/p&gt; &lt;p&gt;This is another paragraph, with a &lt;a href=""http://www.python.org""&gt;link&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Here are some reservered characters: &amp;lt;spam&amp;amp;egg&amp;gt;.&lt;/p&gt; &lt;p&gt;And finally an embedded XHTML fragment.&lt;/p&gt; &lt;/body&gt; &lt;/html&gt;"
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,56470,56229,10,"I assume that you're actually creating an XML DOM tree, because you want to validate that what goes into this file is valid XML, since otherwise you'd just write a static string to a file. If validating your output is indeed your goal, then I'd suggest from xml.dom.minidom import parseString doc = parseString(""""""&lt;html&gt; &lt;head&gt; &lt;script type=""text/javascript""&gt; var a = 'I love &amp;amp;aacute; letters' &lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt;"""""") with open(""foo.xhtml"", ""w"") as f: f.write( doc.toxml() ) This lets you just write the XML you want to output, validate that it's correct (since parseString will raise an exception if it's invalid) and have your code look much nicer. Presumably you're not just writing the same static XML every time and want some substitution. In this case I'd have lines like var a = '%(message)s' and then use the % operator to do the substitution, like &lt;/html&gt;"""""" % {""message"": ""I love &amp;amp;aacute; letters""})"
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,58460,56229,0,"Try http://uche.ogbuji.net/tech/4suite/amara. It is quite complete and has a straight forward set of access tools. Normal Unicode support, etc. # #Output the XML entry # def genFileOLD(out,label,term,idval): filename=entryTime() + "".html"" writer=MarkupWriter(out, indent=u""yes"") writer.startDocument() #Test element and attribute writing ans=namespace=u'http://www.w3.org/2005/Atom' xns=namespace=u'http://www.w3.org/1999/xhtml' writer.startElement(u'entry', ans, extraNss={u'x':u'http://www.w3.org/1999/xhtml' , u'dc':u'http://purl.org/dc/elements/1.1'}) #u'a':u'http://www.w3.org/2005/Atom', #writer.attribute(u'xml:lang',unicode(""en-UK"")) writer.simpleElement(u'title',ans,content=unicode(label)) #writer.simpleElement(u'a:subtitle',ans,content=u' ') id=unicode(""http://www.dpawson.co.uk/nodesets/""+afn.split(""."")[0]) writer.simpleElement(u'id',ans,content=id) writer.simpleElement(u'updated',ans,content=unicode(dtime())) writer.startElement(u'author',ans) writer.simpleElement(u'name',ans,content=u'Dave ') writer.simpleElement(u'uri',ans, content=u'http://www.dpawson.co.uk/nodesets/'+afn+"".xml"") writer.endElement(u'author') writer.startElement(u'category', ans) if (prompt): label=unicode(raw_input(""Enter label "")) writer.attribute(u'label',unicode(label)) if (prompt): term = unicode(raw_input(""Enter term to use "")) writer.attribute(u'term', unicode(term)) writer.endElement(u'category') writer.simpleElement(u'rights',ans,content=u'\u00A9 Dave 2005-2008') writer.startElement(u'link',ans) writer.attribute(u'href', unicode(""http://www.dpawson.co.uk/nodesets/entries/""+afn+"".html"")) writer.attribute(u'rel',unicode(""alternate"")) writer.endElement(u'link') writer.startElement(u'published', ans) dt=dtime() dtu=unicode(dt) writer.text(dtu) writer.endElement(u'published') writer.simpleElement(u'summary',ans,content=unicode(label)) writer.startElement(u'content',ans) writer.attribute(u'type',unicode(""xhtml"")) writer.startElement(u'div',xns) writer.simpleElement(u'h3',xns,content=unicode(label)) writer.endElement(u'div') writer.endElement(u'content') writer.endElement(u'entry')"
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,62157,56229,3,"I ended up using saxutils.escape(str) to generate valid XML strings and then validating it with Eli's approach to be sure I didn't miss any tag from xml.sax import saxutils from xml.dom.minidom import parseString from xml.parsers.expat import ExpatError xml = '''&lt;?xml version=""1.0"" encoding=""%s""?&gt;\n &lt;contents title=""%s"" crawl_date=""%s"" in_text_date=""%s"" url=""%s""&gt;\n&lt;main_post&gt;%s&lt;/main_post&gt;\n&lt;/contents&gt;''' % (self.encoding, saxutils.escape(title), saxutils.escape(time), saxutils.escape(date), saxutils.escape(url), saxutils.escape(contents)) try: minidoc = parseString(xml) catch ExpatError: print ""Invalid xml"""
56229,34,"I'm currently trying ElementTree and it looks fine, it escapes HTML entities and so on and so forth. Am I missing something truly wonderful I haven't heard of? This is similar to what I'm actually doing: import xml.etree.ElementTree as ET root = ET.Element('html') head = ET.SubElement(root,'head') script = ET.SubElement(head,'script') script.set('type','text/javascript') script.text = ""var a = 'I love &amp;aacute; letters'"" body = ET.SubElement(root,'body') h1 = ET.SubElement(body,'h1') h1.text = ""And I like the fact that 3 &gt; 1"" tree = ET.ElementTree(root) tree.write('foo.xhtml') # more foo.xhtml &lt;html&gt;&lt;head&gt;&lt;script type=""text/javascript""&gt;var a = 'I love &amp;amp;aacute; letters'&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;And I like the fact that 3 &amp;gt; 1&lt;/h1&gt; &lt;/body&gt;&lt;/html&gt;",XML writing tools for Python,3098902,56229,24,"There's always SimpleXMLWriter, part of the ElementTree toolkit. The interface is dead simple. Here's an example: from elementtree.SimpleXMLWriter import XMLWriter import sys w = XMLWriter(sys.stdout) html = w.start(""html"") w.start(""head"") w.element(""title"", ""my document"") w.element(""meta"", name=""generator"", value=""my application 1.0"") w.end() w.start(""body"") w.element(""h1"", ""this is a heading"") w.element(""p"", ""this is a paragraph"") w.start(""p"") w.data(""this is "") w.element(""b"", ""bold"") w.data("" and "") w.element(""i"", ""italic"") w.data(""."") w.end(""p"") w.close(html)"
56417,18,"We're at the beginning of a new ERP-ish client-server application, developed as a Python rich client. We're currently evaluating Dabo as our main framework and it looks quite nice and easy to use, but I was wondering, has anyone used it for medium-to-big sized projects? Thanks for your time!",Anyone used Dabo for a medium-big project?,103212,56417,1,"I have no Dabo experience at all but this question is on the top of the list fo such a long time that I decided to give it a shot: Framework selection Assumptions: medium-to-big project: we're talking about a team of more than 20 people working on something for about a year for the first phase. This is usually an expensive and very important effort for the client. this project will have significant amount of users (around a hundred) so performance is essential it's an ERP project so the application will work with large amounts of information you have no prior Dabo experience in your team Considerations: I could not open Dabo project site right now. There seems to be some server problem. That alone would make me think twice about using it for a big project. It's not a well-known framework. Typing Dabo in Google returns almost no useful results, it does not have a Wikipedia page, all-in-all it's quite obscure. It means that when you will have problems with it (and you will have problems with it) you will have almost no place to go. Your question was unanswered for 8 days on SO, this alone would make me re-consider. If you base your project on an obscure technology you have no previous experience with - it's a huge risk. You don't have people who know that framework in your team. It means that you have to learn it to get any results at all and to master it will require quite significant amount of time. You will have to factor that time into your project plan. Do you really need it? What does this framework give you that you cannot do yourself? Quite a lot of time my team tried to use some third-party component or tool only to find that building a custom one would be faster than dealing with third-party problems and limitations. There are brilliant tools available to people nowadays and we would be lost without them - but you have to carefully consider if this tool is one of them Dabo project version is 0.84. Do you know if they spend time optimising their code for performance at this stage? Did you run any tests to see it will sustain the load you have in your NFRs. Hope that helps :) Good luck with your project"
56417,18,"We're at the beginning of a new ERP-ish client-server application, developed as a Python rich client. We're currently evaluating Dabo as our main framework and it looks quite nice and easy to use, but I was wondering, has anyone used it for medium-to-big sized projects? Thanks for your time!",Anyone used Dabo for a medium-big project?,106464,56417,24,"I'm one of the authors of the Dabo framework. One of our users pointed out to me the extremely negative answer you received, and so I thought I had better chime in and clear up some of the incorrect assumptions in the first reply. Dabo is indeed well-known in the Python community. I have presented it at 3 of the last 4 US PyCons, and we have several hundred users who subscribe to our email lists. Our website (http://dabodev.com) has not had any service interruptions; I don't know why the first responder claimed to have trouble. Support is through our email lists, and we pride ourselves on helping people quickly and efficiently. Many of the newbie questions help us to identify places where our docs are lacking, so we strongly encourage newcomers to ask questions! Dabo has been around for 4 years. The fact that it is still a few days away from a 0.9 release is more of a reflection of the rather conservative version numbering of my partner, Paul McNett, than any instabilities in the framework. I know of Dabo apps that have been in production since 2006; I have used it for my own projects since 2004. Whatever importance you attach to release numbers, we are at revision 4522, with consistent work being done to add more and more stuff to the framework; refactor and streamline some of the older code, and yes, clean up some bugs. Please sign up for our free email support list: http://leafe.com/mailman/listinfo/dabo-users ...and ask any questions you may have about Dabo there. Not many people have discovered Stack Overflow yet, so I wouldn't expect very informed answers here yet. There are several regular contributors there who use Dabo on a daily basis, and are usually more than happy to offer their opinions and their help."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56832,56820,-4,"What about: round(n,1)+epsilon"
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56833,56820,66,"can't help the way it's stored, but at least formatting works correctly: '%.1f' % round(n, 1) # gives you '5.6'"
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56840,56820,5,"You can switch the data type to a integer: &gt;&gt;&gt; n = 5.59 &gt;&gt;&gt; int(n * 10) / 10.0 5.5 &gt;&gt;&gt; int(n * 10 + 0.5) 56 And then display the number by inserting the locale's decimal separator. However, Jimmy's answer is better."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56841,56820,3,"You can use the string format operator %, similar to sprintf. mystring = ""%.2f"" % 5.5999"
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56844,56820,9,"You get '5.6' if you do str(round(n, 1)) instead of just round(n, 1)."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56845,56820,5,"Floating point math is vulnerable to slight, but annoying, precision inaccuracies. If you can work with integer or fixed point, you will be guaranteed precision."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56849,56820,3,printf the sucker. print '%.1f' % 5.59 # returns 5.6
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,56850,56820,81,"Formatting works correctly even without having to round: ""%.1f"" % n"
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,57704,56820,15,"round(5.59, 1) is working fine. The problem is that 5.6 cannot be represented exactly in binary floating point. &gt;&gt;&gt; 5.6 5.5999999999999996 &gt;&gt;&gt; As Vinko says, you can use string formatting to do rounding for display. Python has a module for decimal arithmetic if you need that."
56820,71,"The documentation for the round() function states that you pass it a number, and the positions past the decimal to round. Thus it should do this: n = 5.59 round(n, 1) # 5.6 But, in actuality, good old floating point weirdness creeps in and you get: 5.5999999999999996 For the purposes of UI, I need to display 5.6. I poked around the Internet and found some documentation that this is dependent on my implementation of Python. Unfortunately, this occurs on both my Windows dev machine and each Linux server I've tried. See here also. Short of creating my own round library, is there any way around this?",round() in Python doesn't seem to be rounding properly,3225829,56820,3,"Take a look at the Decimal module Decimal âis based on a floating-point model which was designed with people in mind, and necessarily has a paramount guiding principle â computers must provide an arithmetic that works in the same way as the arithmetic that people learn at school.â â excerpt from the decimal arithmetic specification. and Decimal numbers can be represented exactly. In contrast, numbers like 1.1 and 2.2 do not have an exact representations in binary floating point. End users typically would not expect 1.1 + 2.2 to display as 3.3000000000000003 as it does with binary floating point. Decimal provides the kind of operations that make it easy to write apps that require floating point operations and also need to present those results in a human readable format, e.g., accounting."
57708,60,"I'm doing some web scraping and sites frequently use HTML entities to represent non ascii characters. Does Python have a utility that takes a string with HTML entities and returns a unicode type? For example: I get back: &amp;#x01ce; which represents an ""Ç"" with a tone mark. In binary, this is represented as the 16 bit 01ce. I want to convert the html entity into the value u'\u01ce'",Convert XML/HTML Entities into Unicode String in Python,57745,57708,7,"You could find an answer here -- Getting international characters from a web page? EDIT: It seems like BeautifulSoup doesn't convert entities written in hexadecimal form. It can be fixed: import copy, re from BeautifulSoup import BeautifulSoup hexentityMassage = copy.copy(BeautifulSoup.MARKUP_MASSAGE) # replace hexadecimal character reference by decimal one hexentityMassage += [(re.compile('&amp;#x([^;]+);'), lambda m: '&amp;#%d;' % int(m.group(1), 16))] def convert(html): return BeautifulSoup(html, convertEntities=BeautifulSoup.HTML_ENTITIES, markupMassage=hexentityMassage).contents[0].string html = '&lt;html&gt;&amp;#x01ce;&amp;#462;&lt;/html&gt;' print repr(convert(html)) # u'\u01ce\u01ce' EDIT: unescape() function mentioned by @dF which uses htmlentitydefs standard module and unichr() might be more appropriate in this case."
57708,60,"I'm doing some web scraping and sites frequently use HTML entities to represent non ascii characters. Does Python have a utility that takes a string with HTML entities and returns a unicode type? For example: I get back: &amp;#x01ce; which represents an ""Ç"" with a tone mark. In binary, this is represented as the 16 bit 01ce. I want to convert the html entity into the value u'\u01ce'",Convert XML/HTML Entities into Unicode String in Python,57877,57708,18,"Use the builtin unichr -- BeautifulSoup isn't necessary: &gt;&gt;&gt; entity = '&amp;#x01ce' &gt;&gt;&gt; unichr(int(entity[3:],16)) u'\u01ce'"
57708,60,"I'm doing some web scraping and sites frequently use HTML entities to represent non ascii characters. Does Python have a utility that takes a string with HTML entities and returns a unicode type? For example: I get back: &amp;#x01ce; which represents an ""Ç"" with a tone mark. In binary, this is represented as the 16 bit 01ce. I want to convert the html entity into the value u'\u01ce'",Convert XML/HTML Entities into Unicode String in Python,58125,57708,55,"Python has the htmlentitydefs module, but this doesn't include a function to unescape HTML entities. Python developer Fredrik Lundh (author of elementtree, among other things) has such a function on his website, which works with decimal, hex and named entities: import re, htmlentitydefs ## # Removes HTML or XML character references and entities from a text string. # # @param text The HTML (or XML) source text. # @return The plain text, as a Unicode string, if necessary. def unescape(text): def fixup(m): text = m.group(0) if text[:2] == ""&amp;#"": # character reference try: if text[:3] == ""&amp;#x"": return unichr(int(text[3:-1], 16)) else: return unichr(int(text[2:-1])) except ValueError: pass else: # named entity try: text = unichr(htmlentitydefs.name2codepoint[text[1:-1]]) except KeyError: pass return text # leave as is return re.sub(""&amp;#?\w+;"", fixup, text)"
57708,60,"I'm doing some web scraping and sites frequently use HTML entities to represent non ascii characters. Does Python have a utility that takes a string with HTML entities and returns a unicode type? For example: I get back: &amp;#x01ce; which represents an ""Ç"" with a tone mark. In binary, this is represented as the 16 bit 01ce. I want to convert the html entity into the value u'\u01ce'",Convert XML/HTML Entities into Unicode String in Python,573629,57708,6,"This is a function which should help you to get it right and convert entities back to utf-8 characters. def unescape(text): """"""Removes HTML or XML character references and entities from a text string. @param text The HTML (or XML) source text. @return The plain text, as a Unicode string, if necessary. from Fredrik Lundh 2008-01-03: input only unicode characters string. http://effbot.org/zone/re-sub.htm#unescape-html """""" def fixup(m): text = m.group(0) if text[:2] == ""&amp;#"": # character reference try: if text[:3] == ""&amp;#x"": return unichr(int(text[3:-1], 16)) else: return unichr(int(text[2:-1])) except ValueError: print ""Value Error"" pass else: # named entity # reescape the reserved characters. try: if text[1:-1] == ""amp"": text = ""&amp;amp;amp;"" elif text[1:-1] == ""gt"": text = ""&amp;amp;gt;"" elif text[1:-1] == ""lt"": text = ""&amp;amp;lt;"" else: print text[1:-1] text = unichr(htmlentitydefs.name2codepoint[text[1:-1]]) except KeyError: print ""keyerror"" pass return text # leave as is return re.sub(""&amp;#?\w+;"", fixup, text)"
58119,11,"I can't tell from the Python documentation whether the re.compile(x) function may throw an exception (assuming you pass in a string). I imagine there is something that could be considered an invalid regular expression. The larger question is, where do I go to find if a given Python library call may throw exception(s) and what those are?",Does re.compile() or any given Python library call throw an exception?,58129,58119,9,"Well, re.compile certainly may: &gt;&gt;&gt; import re &gt;&gt;&gt; re.compile('he(lo') Traceback (most recent call last): File ""&lt;stdin&gt;"", line 1, in &lt;module&gt; File ""C:\Python25\lib\re.py"", line 180, in compile return _compile(pattern, flags) File ""C:\Python25\lib\re.py"", line 233, in _compile raise error, v # invalid expression sre_constants.error: unbalanced parenthesis The documentation does support this, in a roundabout way - check the bottom of the ""Module Contents"" page for (brief) description of the error exception. Unfortunately, I don't have any answer to the general question. I suppose the documentation for the various modules varies in quality and thoroughness. If there were particular modules you were interested in, you might be able to decompile them (if written in Python) or even look at the source, if they're in the standard library."
58119,11,"I can't tell from the Python documentation whether the re.compile(x) function may throw an exception (assuming you pass in a string). I imagine there is something that could be considered an invalid regular expression. The larger question is, where do I go to find if a given Python library call may throw exception(s) and what those are?",Does re.compile() or any given Python library call throw an exception?,58168,58119,6,"Unlike Java, where there are exceptions that must be declared to be raised (and some that don't have to be, but that's another story), any Python code may raise any exception at any time. There are a list of built-in exceptions, which generally has some description of when these exceptions might be raised. Its up to you as to how much exception handling you will do, and if you will handle stuff gracefully, or just fail with a traceback."
58294,8,"When I call socket.getsockname() on a socket object, it returns a tuple of my machine's internal IP and the port. However, I would like to retrieve my external IP. What's the cheapest, most efficient manner of doing this?",How do I get the external IP of a socket in Python?,58296,58294,7,"This isn't possible without cooperation from an external server, because there could be any number of NATs between you and the other computer. If it's a custom protocol, you could ask the other system to report what address it's connected to."
58294,8,"When I call socket.getsockname() on a socket object, it returns a tuple of my machine's internal IP and the port. However, I would like to retrieve my external IP. What's the cheapest, most efficient manner of doing this?",How do I get the external IP of a socket in Python?,58299,58294,4,The only way I can think of that's guaranteed to give it to you is to hit a service like http://whatismyip.com/ to get it.
58294,8,"When I call socket.getsockname() on a socket object, it returns a tuple of my machine's internal IP and the port. However, I would like to retrieve my external IP. What's the cheapest, most efficient manner of doing this?",How do I get the external IP of a socket in Python?,256358,58294,1,"import socket s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.connect((""msn.com"",80)) s.getsockname()"
58294,8,"When I call socket.getsockname() on a socket object, it returns a tuple of my machine's internal IP and the port. However, I would like to retrieve my external IP. What's the cheapest, most efficient manner of doing this?",How do I get the external IP of a socket in Python?,2646313,58294,0,Using the address suggested in the source of http://whatismyip.com import urllib def get_my_ip_address(): whatismyip = 'http://www.whatismyip.com/automation/n09230945.asp' return urllib.urlopen(whatismyip).readlines()[0]
58622,49,"I like doxygen to create documentation of C or PHP code. I have an upcoming Python project and I think I remember that Python doesn't have /* .. */ comments and also has its own self-documentation facility which seems to be the pythonic way to document. Can I just use doxygen? Anything particular to be aware of? I have done some coding in Python but so far only on small projects where I was to lazy to document at all (yeah, I know ... but let's just pretend that's OK for now).",Can I document Python code with doxygen (and does it make sense)?,58701,58622,30,"This is documented on the doxygen website, but to summarize here: You can use doxygen to document your Python code. You can either use the Python documentation string syntax: """"""@package docstring Documentation for this module. More details. """""" def func(): """"""Documentation for a function. More details. """""" pass In which case the comments will be extracted by doxygen, but you won't be able to use any of the special doxygen commands. Or you can (similar to C-style languages under doxygen) double up the comment marker (#) on the first line before the member: ## @package pyexample # Documentation for this module. # # More details. ## Documentation for a function. # # More details. def func(): pass In that case, you can use the special doxygen commands. There's no particular Python output mode, but you can apparently improve the results by setting OPTMIZE_OUTPUT_JAVA to YES. Honestly, I'm a little surprised at the difference - it seems like once doxygen can detect the comments in ## blocks or """""" blocks, most of the work would be done and you'd be able to use the special commands in either case. Maybe they expect people using """""" to adhere to more Pythonic documentation practices and that would interfere with the special doxygen commands?"
58622,49,"I like doxygen to create documentation of C or PHP code. I have an upcoming Python project and I think I remember that Python doesn't have /* .. */ comments and also has its own self-documentation facility which seems to be the pythonic way to document. Can I just use doxygen? Anything particular to be aware of? I have done some coding in Python but so far only on small projects where I was to lazy to document at all (yeah, I know ... but let's just pretend that's OK for now).",Can I document Python code with doxygen (and does it make sense)?,59018,58622,11,"An other very good documentation tool is sphinx. It will be used for the upcoming python 2.6 documentation and is used by django and a lot of other python projects. From the sphinx website: Output formats: HTML (including Windows HTML Help) and LaTeX, for printable PDF versions Extensive cross-references: semantic markup and automatic links for functions, classes, glossary terms and similar pieces of information Hierarchical structure: easy definition of a document tree, with automatic links to siblings, parents and children Automatic indices: general index as well as a module index Code handling: automatic highlighting using the Pygments highlighter Extensions: automatic testing of code snippets, inclusion of docstrings from Python modules, and more"
58622,49,"I like doxygen to create documentation of C or PHP code. I have an upcoming Python project and I think I remember that Python doesn't have /* .. */ comments and also has its own self-documentation facility which seems to be the pythonic way to document. Can I just use doxygen? Anything particular to be aware of? I have done some coding in Python but so far only on small projects where I was to lazy to document at all (yeah, I know ... but let's just pretend that's OK for now).",Can I document Python code with doxygen (and does it make sense)?,59955,58622,18,"Sphinx is mainly a tool for formatting docs written independently from the source code, as I understand it. For generating API docs from Python docstrings, the leading tools are pdoc and pydoctor. Here's pydoctor's generated API docs for Twisted and Bazaar. Of course, if you just want to have a look at the docstrings while you're working on stuff, there's the ""pydoc"" command line tool and as well as the help() function available in the interactive interpreter."
58622,49,"I like doxygen to create documentation of C or PHP code. I have an upcoming Python project and I think I remember that Python doesn't have /* .. */ comments and also has its own self-documentation facility which seems to be the pythonic way to document. Can I just use doxygen? Anything particular to be aware of? I have done some coding in Python but so far only on small projects where I was to lazy to document at all (yeah, I know ... but let's just pretend that's OK for now).",Can I document Python code with doxygen (and does it make sense)?,497322,58622,48,"The doxypy input filter allows you to use pretty much all of Doxygen's formatting tags in a standard Python docstring format. I use it to document a large mixed C++ and Python game application framework, and it's working well."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",58917,58711,7,"You could actually pull this off, but it would require using metaclasses, which are deep magic (there be dragons). If you want an intro to metaclasses, there's a series of articles from IBM which manage to introduce the ideas without melting your brain. The source code from an ORM like SQLObject might help, too, since it uses this same kind of declarative syntax."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",58990,58711,2,"Maybe not as slick as the Ruby version, but how about something like this: from Boots import App, Para, Button, alert def Shoeless(App): t = Para(text = 'Not Clicked') b = Button(label = 'The label') def on_b_clicked(self): alert('You clicked the button!') self.t.text = 'Clicked!' Like Justin said, to implement this you would need to use a custom metaclass on class App, and a bunch of properties on Para and Button. This actually wouldn't be too hard. The problem you run into next is: how do you keep track of the order that things appear in the class definition? In Python 2.x, there is no way to know if t should be above b or the other way around, since you receive the contents of the class definition as a python dict. However, in Python 3.0 metaclasses are being changed in a couple of (minor) ways. One of them is the __prepare__ method, which allows you to supply your own custom dictionary-like object to be used instead -- this means you'll be able to track the order in which items are defined, and position them accordingly in the window."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",60563,58711,2,"This could be an oversimplification, I don't think it would be a good idea to try to make a general purpose ui library this way. On the other hand you could use this approach (metaclasses and friends) to simplify the definition of certain classes of user interfaces for an existing ui library and depending of the application that could actually save you a significant amount of time and code lines."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",62780,58711,3,With some Metaclass magic to keep the ordering I have the following working. I'm not sure how pythonic it is but it is good fun for creating simple things. class w(Wndw): title='Hello World' class txt(Txt): # either a new class text='Insert name here' lbl=Lbl(text='Hello') # or an instance class greet(Bbt): text='Greet' def click(self): #on_click method self.frame.lbl.text='Hello %s.'%self.frame.txt.text app=w()
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",334828,58711,1,"I have this same problem. I wan to to create a wrapper around any GUI toolkit for Python that is easy to use, and inspired by Shoes, but needs to be a OOP approach (against ruby blocks). More information in: http://wiki.alcidesfonseca.com/blog/python-universal-gui-revisited Anyone's welcome to join the project."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",334938,58711,3,The only attempt to do this that I know of is Hans Nowak's Wax (which is unfortunately dead).
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335077,58711,3,The closest you can get to rubyish blocks is the with statement from pep343: http://www.python.org/dev/peps/pep-0343/
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335132,58711,4,I was never satisfied with David Mertz's articles at IBM on metaclsses so I recently wrote my own metaclass article. Enjoy.
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335358,58711,1,"If you really want to code UI, you could try to get something similar to django's ORM; sth like this to get a simple help browser: class MyWindow(Window): class VBox: entry = Entry() bigtext = TextView() def on_entry_accepted(text): bigtext.value = eval(text).__doc__ The idea would be to interpret some containers (like windows) as simple classes, some containers (like tables, v/hboxes) recognized by object names, and simple widgets as objects. I dont think one would have to name all containers inside a window, so some shortcuts (like old-style classes being recognized as widgets by names) would be desirable. About the order of elements: in MyWindow above you don't have to track this (window is conceptually a one-slot container). In other containers you can try to keep track of the order assuming that each widget constructor have access to some global widget list. This is how it is done in django (AFAIK). Few hacks here, few tweaks there... There are still few things to think of, but I believe it is possible... and usable, as long as you don't build complicated UIs. However I am pretty happy with PyGTK+Glade. UI is just kind of data for me and it should be treated as data. There's just too much parameters to tweak (like spacing in different places) and it is better to manage that using a GUI tool. Therefore I build my UI in glade, save as xml and parse using gtk.glade.XML()."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335400,58711,1,Declarative is not necessarily more (or less) pythonic than functional IMHO. I think a layered approach would be the best (from buttom up): A native layer that accepts and returns python data types. A functional dynamic layer. One or more declarative/object-oriented layers. Similar to Elixir + SQLAlchemy.
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335443,58711,1,"Personally, I would try to implement JQuery like API in a GUI framework. class MyWindow(Window): contents = ( para('Hello World!'), button('Click Me', id='ok'), para('Epilog'), ) def __init__(self): self['#ok'].click(self.message) self['para'].hover(self.blend_in, self.blend_out) def message(self): print 'You clicked!' def blend_in(self, object): object.background = '#333333' def blend_out(self, object): object.background = 'WindowBackground'"
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",335887,58711,4,"This is extremely contrived and not pythonic at all, but here's my attempt at a semi-literal translation using the new ""with"" statement. with Shoes(): t = Para(""Not clicked!"") with Button(""The Label""): Alert(""You clicked the button!"") t.replace(""Clicked!"") The hardest part is dealing with the fact that python will not give us anonymous functions with more than one statement in them. To get around that, we could create a list of commands and run through those... Anyway, here's the backend code I ran this with: context = None class Nestable(object): def __init__(self,caption=None): self.caption = caption self.things = [] global context if context: context.add(self) def __enter__(self): global context self.parent = context context = self def __exit__(self, type, value, traceback): global context context = self.parent def add(self,thing): self.things.append(thing) print ""Adding a %s to %s"" % (thing,self) def __str__(self): return ""%s(%s)"" % (self.__class__.__name__, self.caption) class Shoes(Nestable): pass class Button(Nestable): pass class Alert(Nestable): pass class Para(Nestable): def replace(self,caption): Command(self,""replace"",caption) class Command(Nestable): def __init__(self, target, command, caption): self.command = command self.target = target Nestable.__init__(self,caption) def __str__(self): return ""Command(%s text of %s with \""%s\"")"" % (self.command, self.target, self.caption) def execute(self): self.target.caption = self.caption"
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",336089,58711,1,"Here's an approach that goes about GUI definitions a bit differently using class-based meta-programming rather than inheritance. This is largley Django/SQLAlchemy inspired in that it is heavily based on meta-programming and separates your GUI code from your ""code code"". I also think it should make heavy use of layout managers like Java does because when you're dropping code, no one wants to constantly tweak pixel alignment. I also think it would be cool if we could have CSS-like properties. Here is a rough brainstormed example that will show a column with a label on top, then a text box, then a button to click on the bottom which shows a message. from happygui.controls import * MAIN_WINDOW = Window(width=""500px"", height=""350px"", my_layout=ColumnLayout(padding=""10px"", my_label=Label(text=""What's your name kiddo?"", bold=True, align=""center""), my_edit=EditBox(placeholder=""""), my_btn=Button(text=""CLICK ME!"", on_click=Handler('module.file.btn_clicked')), ), ) MAIN_WINDOW.show() def btn_clicked(sender): # could easily be in a handlers.py file name = MAIN_WINDOW.my_layout.my_edit.text # same thing: name = sender.parent.my_edit.text # best practice, immune to structure change: MAIN_WINDOW.find('my_edit').text MessageBox(""Your name is '%s'"" % ()).show(modal=True) One cool thing to notice is the way you can reference the input of my_edit by saying MAIN_WINDOW.my_layout.my_edit.text. In the declaration for the window, I think it's important to be able to arbitrarily name controls in the function kwargs. Here is the same app only using absolute positioning (the controls will appear in different places because we're not using a fancy layout manager): from happygui.controls import * MAIN_WINDOW = Window(width=""500px"", height=""350px"", my_label=Label(text=""What's your name kiddo?"", bold=True, align=""center"", x=""10px"", y=""10px"", width=""300px"", height=""100px""), my_edit=EditBox(placeholder="""", x=""10px"", y=""110px"", width=""300px"", height=""100px""), my_btn=Button(text=""CLICK ME!"", on_click=Handler('module.file.btn_clicked'), x=""10px"", y=""210px"", width=""300px"", height=""100px""), ) MAIN_WINDOW.show() def btn_clicked(sender): # could easily be in a handlers.py file name = MAIN_WINDOW.my_edit.text # same thing: name = sender.parent.my_edit.text # best practice, immune to structure change: MAIN_WINDOW.find('my_edit').text MessageBox(""Your name is '%s'"" % ()).show(modal=True) I'm not entirely sure yet if this is a super great approach, but I definitely think it's on the right path. I don't have time to explore this idea more, but if someone took this up as a project, I would love them."
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",336525,58711,5,"## All you need is this class: class MainWindow(Window): my_button = Button('Click Me') my_paragraph = Text('This is the text you wish to place') my_alert = AlertBox('What what what!!!') @my_button.clicked def my_button_clicked(self, button, event): self.my_paragraph.text.append('And now you clicked on it, the button that is.') @my_paragraph.text.changed def my_paragraph_text_changed(self, text, event): self.button.text = 'No more clicks!' @my_button.text.changed def my_button_text_changed(self, text, event): self.my_alert.show() ## The Style class is automatically gnerated by the framework ## but you can override it by defining it in the class: ## ## class MainWindow(Window): ## class Style: ## my_blah = {'style-info': 'value'} ## ## or like you see below: class Style: my_button = { 'background-color': '#ccc', 'font-size': '14px'} my_paragraph = { 'background-color': '#fff', 'color': '#000', 'font-size': '14px', 'border': '1px solid black', 'border-radius': '3px'} MainWindow.Style = Style ## The layout class is automatically generated ## by the framework but you can override it by defining it ## in the class, same as the Style class above, or by ## defining it like this: class MainLayout(Layout): def __init__(self, style): # It takes the custom or automatically generated style class upon instantiation style.window.pack(HBox().pack(style.my_paragraph, style.my_button)) MainWindow.Layout = MainLayout if __name__ == '__main__': run(App(main=MainWindow)) It would be relatively easy to do in python with a bit of that metaclass python magic know how. Which I have. And a knowledge of PyGTK. Which I also have. Gets ideas?"
58711,11,"I have been playing with the Ruby library ""shoes"". Basically you can write a GUI application in the following way: Shoes.app do t = para ""Not clicked!"" button ""The Label"" do alert ""You clicked the button!"" # when clicked, make an alert t.replace ""Clicked!"" # ..and replace the label's text end end This made me think - how would I design a similarly nice-to-use GUI framework in Python? One that doesn't have the usual tyings of basically being wrappers to a C* library (In the case of GTK, Tk, wx, QT etc etc) Shoes takes things from web devlopment (like #f0c2f0 style colour notation, CSS layout techniques, like :margin =&gt; 10), and from ruby (extensively using blocks in sensible ways) Python's lack of ""rubyish blocks"" makes a (metaphorically)-direct port impossible: def Shoeless(Shoes.app): self.t = para(""Not clicked!"") def on_click_func(self): alert(""You clicked the button!"") self.t.replace(""clicked!"") b = button(""The label"", click=self.on_click_func) No where near as clean, and wouldn't be nearly as flexible, and I'm not even sure if it would be implementable. Using decorators seems like an interesting way to map blocks of code to a specific action: class BaseControl: def __init__(self): self.func = None def clicked(self, func): self.func = func def __call__(self): if self.func is not None: self.func() class Button(BaseControl): pass class Label(BaseControl): pass # The actual applications code (that the end-user would write) class MyApp: ok = Button() la = Label() @ok.clicked def clickeryHappened(): print ""OK Clicked!"" if __name__ == '__main__': a = MyApp() a.ok() # trigger the clicked action Basically the decorator function stores the function, then when the action occurred (say, a click) the appropriate function would be executed. The scope of various stuff (say, the la label in the above example) could be rather complicated, but it seems doable in a fairly neat manner..","How would you design a very ""Pythonic"" UI framework?",336583,58711,3,"If you use PyGTK with glade and this glade wrapper, then PyGTK actually becomes somewhat pythonic. A little at least. Basically, you create the GUI layout in Glade. You also specify event callbacks in glade. Then you write a class for your window like this: class MyWindow(GladeWrapper): GladeWrapper.__init__(self, ""my_glade_file.xml"", ""mainWindow"") self.GtkWindow.show() def button_click_event (self, *args): self.button1.set_label(""CLICKED"") Here, I'm assuming that I have a GTK Button somewhere called button1 and that I specified *button_click_event* as the clicked callback. The glade wrapper takes a lot of effort out of event mapping. If I were to design a Pythonic GUI library, I would support something similar, to aid rapid development. The only difference is that I would ensure that the widgets have a more pythonic interface too. The current PyGTK classes seem very C to me, except that I use foo.bar(...) instead of bar(foo, ...) though I'm not sure exactly what I'd do differently. Probably allow for a Django models style declarative means of specifying widgets and events in code and allowing you to access data though iterators (where it makes sense, eg widget lists perhaps), though I haven't really thought about it."
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59662,59648,2,"Are you talking about doing this? &gt;&gt;&gt; a = [ ['a', 'b'], ['c', 'd'] ] &gt;&gt;&gt; a[1] ['c', 'd'] &gt;&gt;&gt; a[1][1] 'd'"
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59663,59648,1,"Lists in python can contain any type of object -- If I understand the question correctly, will a list of lists do the job? Something like this (assuming you have a function generate_poll_data() which creates your data: data = [] for in xrange(num_iterations): data.append(generate_poll_data()) Then, data[n] will be the list of data from the (n-1)th run."
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59709,59648,1,"since you are thinking in variables, you might prefer a dictionary over a list of lists: data = {} data['a'] = [generate_poll_data()] data['b'] = [generate_poll_data()] etc."
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59762,59648,1,I would strongly consider using NumPy to do this. You get efficient N-dimensional arrays that you can quickly and easily process.
59648,1,"I am writing a program to simulate the actual polling data companies like Gallup or Rasmussen publish daily: www.gallup.com and www.rassmussenreports.com I'm using a brute force method, where the computer generates some random daily polling data and then calculates three day averages to see if the average of the random data matches pollsters numbers. (Most companies poll numbers are three day averages) Currently, it works well for one iteration, but my goal is to have it produce the most common simulation that matches the average polling data. I could then change the code of anywhere from 1 to 1000 iterations. And this is my problem. At the end of the test I have an array in a single variable that looks something like this: [40.1, 39.4, 56.7, 60.0, 20.0 ..... 19.0] The program currently produces one array for each correct simulation. I can store each array in a single variable, but I then have to have a program that could generate 1 to 1000 variables depending on how many iterations I requested!? How do I avoid this? I know there is an intelligent way of doing this that doesn't require the program to generate variables to store arrays depending on how many simulations I want. Code testing for McCain: test = [] while x &lt; 5: test = round(100*random.random()) mctest.append(test) x = x +1 mctestavg = (mctest[0] + mctest[1] + mctest[2])/3 #mcavg is real data if mctestavg == mcavg[2]: mcwork = mctest How do I repeat without creating multiple mcwork vars?",Storing multiple arrays in Python,59778,59648,2,"Would something like this work? from random import randint mcworks = [] for n in xrange(NUM_ITERATIONS): mctest = [randint(0, 100) for I in xrange(5)] if sum(mctest[:3])/3 == mcavg[2]: mcworks.append(mctest) # mcavg is real data In the end, you are left with a list of valid mctest lists. What I changed: Used a list comprehension to build the data instead of a for loop Used random.randint to get random integers Used slices and sum to calculate the average of the first three items (To answer your actual question :-) ) Put the results in a list mcworks, instead of creating a new variable for every iteration"
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,59841,59825,197,"Two options that don't require copying the whole set: for e in s: break # e is now an element from s Or... e = next(iter(s)) But in general, sets don't support indexing or slicing."
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,59928,59825,1,"Another option is to use a dictionary with values you don't care about. E.g., poor_man_set = {} poor_man_set[1] = None poor_man_set[2] = None poor_man_set[3] = None ... You can treat the keys as a set except that they're just an array: keys = poor_man_set.keys() print ""Some key = %s"" % keys[0] A side effect of this choice is that your code will be backwards compatible with older, pre-set versions of Python. It's maybe not the best answer but it's another option. Edit: You can even do something like this to hide the fact that you used a dict instead of an array or set: poor_man_set = {} poor_man_set[1] = None poor_man_set[2] = None poor_man_set[3] = None poor_man_set = poor_man_set.keys()"
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,60027,59825,15,"Since you want a random element, this will also work: &gt;&gt;&gt; import random &gt;&gt;&gt; s = set([1,2,3]) &gt;&gt;&gt; random.sample(s, 1) [2] The documentation doesn't seem to mention performance of random.sample. From a really quick empirical test with a huge list and a huge set, it seems to be constant time for a list but not for the set. Also, iteration over a set isn't random; the order is undefined but predictable: &gt;&gt;&gt; list(set(range(10))) == range(10) True If randomness is important and you need a bunch of elements in constant time (large sets), I'd use random.sample and convert to a list first: &gt;&gt;&gt; lst = list(s) # once, O(len(s))? ... &gt;&gt;&gt; e = random.sample(lst, 1)[0] # constant time"
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,60233,59825,37,"Least code would be: &gt;&gt;&gt; s = set([1, 2, 3]) &gt;&gt;&gt; list(s)[0] 1 Obviously this would create a new list which contains each member of the set, so not great if your set is very large."
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,61140,59825,4,I use a utility function I wrote. Its name is somewhat misleading because it kind of implies it might be a random item or something like that. def anyitem(iterable): try: return iter(iterable).next() except StopIteration: return None
59825,154,"Suppose the following: &gt;&gt;&gt;s = set([1, 2, 3]) How do I get a value (any value) out of s without doing s.pop()? I want to leave the item in the set until I am sure I can remove it - something I can only be sure of after an asynchronous call to another host. Quick and dirty: &gt;&gt;&gt;elem = s.pop() &gt;&gt;&gt;s.add(elem) But do you know of a better way? Ideally in constant time.",How to retrieve an element from a set without removing it?,1612654,59825,28,"To provide some timing figures behind the different approaches, consider the following code. The get() is my custom addition to Python's setobject.c, being just a pop() without removing the element. from timeit import * stats = [""for I in xrange(1000): iter(s).next() "", ""for I in xrange(1000): \n\tfor x in s: \n\t\tbreak"", ""for I in xrange(1000): s.add(s.pop()) "", ""for I in xrange(1000): s.get() ""] for stat in stats: t = Timer(stat, setup=""s=set(range(100))"") try: print ""Time for %s:\t %f""%(stat, t.timeit(number=1000)) except: t.print_exc() The output is: $ ./test_get.py Time for for I in xrange(1000): iter(s).next() : 0.433080 Time for for I in xrange(1000): for x in s: break: 0.148695 Time for for I in xrange(1000): s.add(s.pop()) : 0.317418 Time for for I in xrange(1000): s.get() : 0.146673 This means that the for/break solution is the fastest (sometimes faster than the custom get() solution)."
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60218,60152,0,"The languages of choice of Firefox is Javascript. Unless you have a specific requirement that requires Python, I would advice you to use that."
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60219,60152,5,You could try selenium.
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60548,60152,1,See if twill can help you. It can be used as a command line tool or as a python library.
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60552,60152,0,"Install Mozlab in Firefox and enable the telnet server, then open a socket."
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,60630,60152,2,I use Selenium RC. All my tests are written in Python and are run with test suite. One minor thing is that You either have to start selenium manually and point Your tests to it or start selenium from test suite which requires little bit of coding. But it's doable. Generally I'm very pleased with this solution.
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,69867,60152,3,"The PyXPCOM extension is one possibility. But looking at what firewatir provides, I have to 2nd the suggestion for twill. It's based on mechanize, which might also be useful in this context."
60152,9,Been scouring the net for something like firewatir but for python. I'm trying to automate firefox on linux. Any suggestions?,Automate firefox with python?,2223726,60152,0,"Many command line tools don't have a javascript interpreter so do not support web 2.0 functionality. juicedpyshell is based on PyXPCOMext's PyShell example. It gives you a python shell window ""inside"" the browser, and simplifies access to both the DOM of what you are browsing to and also the shell window itself (so you can add GUI elements as part of your automation script). But its a new project so probably not as full featured as some of the above."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60211,60208,616,"You could use a dictionary: def f(x): return { 'a': 1, 'b': 2, }[x]"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60215,60208,156,"I've always liked doing it this way result = { 'a': lambda x: x * 5, 'b': lambda x: x + 7, 'c': lambda x: x - 2 }[value](x) From here"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60216,60208,1,"If you are really just returning a predetermined, fixed value, you could create a dictionary with all possible input indexes as the keys, along with their corresponding values. Also, you might not really want a function to do this - unless you're computing the return value somehow. Oh, and if you feel like doing something switch-like, see here."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60236,60208,127,"In addition to the dictionary methods (which I really like, BTW), you can also use if-elif-else to obtain the switch/case/default functionality: if x == 'a': # Do the thing elif x == 'b': # Do the other thing if x in 'bc': # Fall-through by not using elif, but now the default case includes case 'a'! elif x in 'xyz': # Do yet another thing else: # Do the default This of course is not identical to switch/case - you cannot have fall-through as easily as leaving off the break; statement, but you can have a more complicated test. Its formatting is nicer than a series of nested ifs, even though functionally that's what it is closer to."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,60243,60208,32,"There's a pattern that I learned from Twisted Python code. class SMTP: def lookupMethod(self, command): return getattr(self, 'do_' + command.upper(), None) def do_HELO(self, rest): return 'Howdy ' + rest def do_QUIT(self, rest): return 'Bye' SMTP().lookupMethod('HELO')('foo.bar.com') # =&gt; 'Howdy foo.bar.com' SMTP().lookupMethod('QUIT')('') # =&gt; 'Bye' You can use it any time you need to dispatch on a token and execute extended piece of code. In a state machine you would have state_ methods, and dispatch on self.state. This switch can be cleanly extended by inheriting from base class and defining your own do_ methods. Often times you won't even have do_ methods in the base class. Edit: how exactly is that used In case of SMTP you will receive HELO from the wire. The relevant code (from twisted/mail/smtp.py, modified for our case) looks like this class SMTP: # ... def do_UNKNOWN(self, rest): raise NotImplementedError, 'received unknown command' def state_COMMAND(self, line): line = line.strip() parts = line.split(None, 1) if parts: method = self.lookupMethod(parts[0]) or self.do_UNKNOWN if len(parts) == 2: return method(parts[1]) else: return method('') else: raise SyntaxError, 'bad syntax' SMTP().state_COMMAND(' HELO foo.bar.com ') # =&gt; Howdy foo.bar.com You'll receive ' HELO foo.bar.com ' (or you might get 'QUIT' or 'RCPT TO: foo'). This is tokenized into parts as ['HELO', 'foo.bar.com']. The actual method lookup name is taken from parts[0]. (The original method is also called state_COMMAND, because it uses the same pattern to implement a state machine, i.e. getattr(self, 'state_' + self.mode))"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,64756,60208,-1,"The switch statement is just syntactical sugar which is probably why Python doesn't have it. You can use if else statements for this functionality easily. Like Matthew Schinckel said, you can use if and elif and else. It is also a simple matter to have ""fall-through"" capabilities like most switch statements. All you have to do is not use elif. if x == 1: # 1 if x == 2: # fall-through elif x == 3: # not fall-through"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,67450,60208,2,I would just use if/elif/else statements. I think that it's good enough to replace the switch statement.
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,102990,60208,9,"expanding on the ""dict as switch"" idea. if you want to use a default value for your switch: def f(x): try: return { 'a': 1, 'b': 2, }[x] except KeyError: return 'default'"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,103081,60208,674,"If you'd like defaults you could use the dictionary get(key[, default]) method: def f(x): return { 'a': 1, 'b': 2, }.get(x, 9) # 9 is default if x not found"
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,109245,60208,25,A true switch/case in Python is going to be more difficult than a dictionary method or if/elif/else methods because the simple versions do not support fall through. Another downfall of the if/elif/else method is the need for repeated comparisons. The C implementation of a switch/case has a performance benefit over if/else if/else in that only a single comparison is needed. The result of that comparison is used as an offset into a jump table (in the underlying asm generated). Mimicking the true functionality in Python would be a pain. Does any one have an implementation that would allow for fall through while only using a single comparison?
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,322922,60208,-2,"def f(x): return {'a': 1,'b': 2,}.get(x) or ""Default"""
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,323259,60208,341,Python Cookbook has several recipes (implementations and corresponding discussions) for switch statement. Please visit the following links: Readable switch construction without lambdas or dictionaries Exception-based Switch-Case Using a Dictionary in place of a 'switch' statement
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,956115,60208,4,"I have made a (relatively) flexible and re-usable solution for this. It can be found at GitHub as this gist. If the result of the switch function is callable, it is automatically called."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,3129619,60208,5,"The solutions I use: A combination of 2 of the solutions posted here, which is relatively easy to read and supports defaults. result = { 'a': lambda x: x * 5, 'b': lambda x: x + 7, 'c': lambda x: x - 2 }.get(whatToUse, lambda x: x - 22)(value) where .get('c', lambda x: x - 22)(23) looks up ""lambda x: x - 2"" in the dict and uses it with x=23 .get('xxx', lambda x: x - 22)(44) doesn't find it in the dict and uses the default ""lambda x: x - 22"" with x=44."
60208,788,"I want to write a function in Python that returns different fixed values based on the value of an input index. In other languages I would use a switch or case statement, but Python does not appear to have a switch statement. What are the recommended Python solutions in this scenario?",Replacements for switch statement in Python?,3828986,60208,16,"Let's say you don't want to just return a value, but want to use methods that change something on an object. Using the approach stated here would be: result = { 'a': obj.increment(x), 'b': obj.decrement(x) }.get(value, obj.default(x)) What happens here is that python evaluates all methods in the dictionary. So even if your value is 'a', the object will get incremented and decremented by x. Solution: func, args = { 'a' : (obj.increment, (x,)), 'b' : (obj.decrement, (x,)), }.get(value, (obj.default, (x,))) result = func(*args) So you get a list containing a function and its arguments. This way, only the function pointer and the argument list get returned, not evaluated. 'result' then evaluates the returned function call."
60352,0,"If all of my __init__.py files are empty, do I have to store them into version control, or is there a way to make distutils create empty __init__.py files during installation?",Can distutils create empty init.py files?,60431,60352,7,"In Python, __init__.py files actually have a meaning! They mean that the folder they are in is a Python module. As such, they have a real role in your code and should most probably be stored in Version Control. You could well imagine a folder in your source tree that is NOT a Python module, for example a folder containing only resources (e.g. images) and no code. That folder would not need to have a __init__.py file in it. Now how do you make the difference between folders where distutils should create those files and folders where it should not ?"
60352,0,"If all of my __init__.py files are empty, do I have to store them into version control, or is there a way to make distutils create empty __init__.py files during installation?",Can distutils create empty init.py files?,60506,60352,4,"Is there a reason you want to avoid putting empty __init__.py files in version control? If you do this you won't be able to import your packages from the source directory wihout first running distutils. If you really want to, I suppose you can create __init__.py in setup.py. It has to be before running distutils.setup, so setup itself is able to find your packages: from distutils import setup import os for path in [my_package_directories]: filename = os.path.join(pagh, '__init__.py') if not os.path.exists(filename): init = open(filename, 'w') init.close() setup( ... ) but... what would you gain from this, compared to having the empty __init__.py files there in the first place?"
60446,3,What is the best way to start developing Windows Mobile Professional applications in Python? Is there a reasonable SDK including an emulator? Is it even possible without doing excessive amount of underlaying Windows API calls for UI for instance?,Windows Mobile development in Python,60448,60446,9,"Python CE Python port for Windows CE (Pocket PC) devices. Intended to be as close to desktop version as possible (console, current directory support, testsuite passed)."
60446,3,What is the best way to start developing Windows Mobile Professional applications in Python? Is there a reasonable SDK including an emulator? Is it even possible without doing excessive amount of underlaying Windows API calls for UI for instance?,Windows Mobile development in Python,60460,60446,1,"If the IronPython and .Net Compact Framework teams work together, Visual Studio may one day support Python for Windows Mobile development out-of-the-box. Unfortunately, this feature request has been sitting on their issue tracker for ages..."
60446,3,What is the best way to start developing Windows Mobile Professional applications in Python? Is there a reasonable SDK including an emulator? Is it even possible without doing excessive amount of underlaying Windows API calls for UI for instance?,Windows Mobile development in Python,60945,60446,9,"(I used to write customer apps for Windows Mobile.) Forget about python. Even if it's technically possible: your app will be big (you'll have to bundle the whole python runtime with your app) your app will use lots of memory (python is a memory hog, relative to C/C++) your app will be slow you wont find any documentation or discussion groups to help you when you (inevitably) encounter problems Go with C/C++ (or C#). Visual Studio 2005/2008 have decent tools for those (SDK for winmo built-in, debugging on the emulator or device connected through USB), the best documentation is for those technologies plus there are active forums/discussion groups/mailing lists where you can ask for help."
60446,3,What is the best way to start developing Windows Mobile Professional applications in Python? Is there a reasonable SDK including an emulator? Is it even possible without doing excessive amount of underlaying Windows API calls for UI for instance?,Windows Mobile development in Python,1519440,60446,1,Just found this: http://ejr44.blogspot.com/2008/05/python-for-windows-mobile-cab.html Looks like a complete set of .CAB files to provide Python on Windows Mobile.
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60660,60649,13,"For C++, check out Boost IPC. You can probably create or find some bindings for the scripting languages as well. Otherwise if it's really important to be able to interface with scripting languages your best bet is simply to use files, pipes or sockets or even a higher level abstraction like HTTP."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60662,60649,5,"How about Facebook's Thrift? Thrift is a software framework for scalable cross-language services development. It combines a software stack with a code generation engine to build services that work efficiently and seamlessly between C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, Smalltalk, and OCaml."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60668,60649,4,"It doesn't get more simple than using pipes, which are supported on every OS I know of, and can be accessed in pretty much every language. Check out this tutorial."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60692,60649,2,TCP sockets to localhost FTW.
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,60702,60649,5,"I think you'll want something based on sockets. If you want RPC rather than just IPC I would suggest something like XML-RPC/SOAP which runs over HTTP, and can be used from any language."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,65924,60649,42,"In terms of speed, the best cross-platform IPC mechanism will be pipes. That assumes, however, that you want cross-platform IPC on the same machine. If you want to be able to talk to processes on remote machines, you'll want to look at using sockets instead. Luckily, if you're talking about TCP at least, sockets and pipes behave pretty much the same behavior. While the APIs for setting them up and connecting them are different, they both just act like streams of data. The difficult part, however, is not the communication channel, but the messages you pass over it. You really want to look at something that will perform verification and parsing for you. I recommend looking at Google's Protocol Buffers. You basically create a spec file that describes the object you want to pass between processes, and there is a compiler that generates code in a number of different languages for reading and writing objects that match the spec. It's much easier (and less bug prone) than trying to come up with a messaging protocol and parser yourself."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,66069,60649,4,"If you're willing to try something a little different, there's the ICE platform from ZeroC. It's open source, and is supported on pretty much every OS you can think of, as well as having language support for C++, C#, Java, Ruby, Python and PHP. Finally, it's very easy to drive (the language mappings are tailored to fit naturally into each language). It's also fast and efficient. There's even a cut-down version for devices."
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,67532,60649,7,"You might want to try YAMI , it's very simple yet functional, portable and comes with binding to few languages"
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,74590,60649,8,Why not D-Bus? It's a very simple message passing system that runs on almost all platforms and is designed for robustness. It's supported by pretty much every scripting language at this point. http://freedesktop.org/wiki/Software/dbus
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,74615,60649,0,Python has a pretty good IPC library: see https://docs.python.org/2/library/ipc.html
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,351256,60649,3,"Distributed computing is usually complex and you are well advised to use existing libraries or frameworks instead of reinventing the wheel. Previous poster have already enumerated a couple of these libraries and frameworks. Depending on your needs you can pick either a very low level (like sockets) or high level framework (like CORBA). There can not be a generic ""use this"" answer. You need to educate yourself about distributed programming and then will find it much easier to pick the right library or framework for the job. There exists a wildly used C++ framework for distributed computing called ACE and the CORBA ORB TAO (which is buildt upon ACE). There exist very good books about ACE http://www.cs.wustl.edu/~schmidt/ACE/ so you might take a look. Take care!"
60649,53,"I'm looking for suggestions on possible IPC mechanisms that are: cross platform (WIN32 and Linux at least) Simple to implement in C++ as well as the most common scripting languages (perl, ruby python etc). Finally, simple to use from a programming point of view! What are my options? I'm programming under Linux, but I'd like what I write to be portable to other OSes in the future. I've thought about using sockets, named pipes, or something like DBus. Does anyone have any advice?",cross platform IPC,2136606,60649,3,YAMI - Yet Another Messaging Infrastructure is a lightweight messaging and networking framework.
60680,14,"I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port? What I'm doing now: class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler): def doGET [...] class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): pass server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler) server.serve_forever()",How do I write a python HTTP server to listen on multiple ports?,60753,60680,27,"Sure; just start two different servers on two different ports in two different threads that each use the same handler. Here's a complete, working example that I just wrote and tested. If you run this code then you'll be able to get a Hello World webpage at both http://localhost:1111/ and http://localhost:2222/ from threading import Thread from SocketServer import ThreadingMixIn from BaseHTTPServer import HTTPServer, BaseHTTPRequestHandler class Handler(BaseHTTPRequestHandler): def do_GET(self): self.send_response(200) self.send_header(""Content-type"", ""text/plain"") self.end_headers() self.wfile.write(""Hello World!"") class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): pass def serve_on_port(port): server = ThreadingHTTPServer((""localhost"",port), Handler) server.serve_forever() Thread(target=serve_on_port, args=[1111]).start() serve_on_port(2222)"
60680,14,"I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port? What I'm doing now: class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler): def doGET [...] class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): pass server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler) server.serve_forever()",How do I write a python HTTP server to listen on multiple ports?,60754,60680,4,"Not easily. You could have two ThreadingHTTPServer instances, write your own serve_forever() function (don't worry it's not a complicated function). The existing function: def serve_forever(self, poll_interval=0.5): """"""Handle one request at a time until shutdown. Polls for shutdown every poll_interval seconds. Ignores self.timeout. If you need to do periodic tasks, do them in another thread. """""" self.__serving = True self.__is_shut_down.clear() while self.__serving: # XXX: Consider using another file descriptor or # connecting to the socket to wake this up instead of # polling. Polling reduces our responsiveness to a # shutdown request and wastes cpu at all other times. r, w, e = select.select([self], [], [], poll_interval) if r: self._handle_request_noblock() self.__is_shut_down.set() So our replacement would be something like: def serve_forever(server1,server2): while True: r,w,e = select.select([server1,server2],[],[],0) if server1 in r: server1.handle_request() if server2 in r: server2.handle_request()"
60680,14,"I'm writing a small web server in Python, using BaseHTTPServer and a custom subclass of BaseHTTPServer.BaseHTTPRequestHandler. Is it possible to make this listen on more than one port? What I'm doing now: class MyRequestHandler(BaseHTTPServer.BaseHTTPRequestHandler): def doGET [...] class ThreadingHTTPServer(ThreadingMixIn, HTTPServer): pass server = ThreadingHTTPServer(('localhost', 80), MyRequestHandler) server.serve_forever()",How do I write a python HTTP server to listen on multiple ports?,61322,60680,6,"I would say that threading for something this simple is overkill. You're better off using some form of asynchronous programming. Here is an example using Twisted: from twisted.internet import reactor from twisted.web import resource, server class MyResource(resource.Resource): isLeaf = True def render_GET(self, request): return 'gotten' site = server.Site(MyResource()) reactor.listenTCP(8000, site) reactor.listenTCP(8001, site) reactor.run() I also thinks it looks a lot cleaner to have each port be handled in the same way, instead of having the main thread handle one port and an additional thread handle the other. Arguably that can be fixed in the thread example, but then you're using three threads."
60685,5,"What follows is a regular expression I have written to match multi-line pre-processor macros in C / C++ code. I'm by no means a regular expressions guru, so I'd welcome any advice on how I can make this better. Here's the regex: \s*#define(.*\\\n)+[\S]+(?!\\) It should match all of this: #define foo(x) if(x) \ doSomething(x) But only some of this (shouldn't match the next line of code: #define foo(x) if(x) \ doSomething(x) normalCode(); And also shouldn't match single-line preprocessor macros. I'm pretty sure that the regex above works - but as I said, there probably a better way of doing it, and I imagine that there are ways of breaking it. Can anyone suggest any?",python regex to match multi-line preprocessor macro,60723,60685,5,"This is a simple test program I knocked up: #!/usr/bin/env python TEST1="""""" #include ""Foo.h"" #define bar foo\\ x #include ""Bar.h"" """""" TEST2="""""" #define bar foo #define x 1 \\ 12 \\ 2 \\\\ 3 Foobar """""" TEST3="""""" #define foo(x) if(x) \\ doSomething(x) """""" TEST4="""""" #define foo(x) if(x) \\ doSomething(x) normalCode(); """""" import re matcher = re.compile(r""^[ \t]*#define(.*\\\n)+.*$"",re.MULTILINE) def extractDefines(s): mo = matcher.search(s) if not mo: print mo return print mo.group(0) extractDefines(TEST1) extractDefines(TEST2) extractDefines(TEST3) extractDefines(TEST4) The re I used: r""^[ \t]*#define(.*\\\n)+.*$"" Is very similar to the one use used, the changes: [ \t] To avoid newlines at the start of the define. I rely on + being greedy, so I can use a simple .*$ at the end to get the first line of the define that doesn't end with \"
60685,5,"What follows is a regular expression I have written to match multi-line pre-processor macros in C / C++ code. I'm by no means a regular expressions guru, so I'd welcome any advice on how I can make this better. Here's the regex: \s*#define(.*\\\n)+[\S]+(?!\\) It should match all of this: #define foo(x) if(x) \ doSomething(x) But only some of this (shouldn't match the next line of code: #define foo(x) if(x) \ doSomething(x) normalCode(); And also shouldn't match single-line preprocessor macros. I'm pretty sure that the regex above works - but as I said, there probably a better way of doing it, and I imagine that there are ways of breaking it. Can anyone suggest any?",python regex to match multi-line preprocessor macro,60729,60685,3,"start = r""^\s*#define\s+"" continuation = r""(?:.*\\\n)+"" lastline = r"".*$"" re_multiline_macros = re.compile(start + continuation + lastline, re.MULTILINE)"
60805,49,How do I select a(or some) random row(s) from a table using SQLAlchemy?,Getting random row through SQLAlchemy,60811,60805,-4,"Theres a couple of ways through SQL, depending on which data base is being used. (I think SQLAlchemy can use all these anyways) mysql: SELECT colum FROM table ORDER BY RAND() LIMIT 1 PostgreSQL: SELECT column FROM table ORDER BY RANDOM() LIMIT 1 MSSQL: SELECT TOP 1 column FROM table ORDER BY NEWID() IBM DB2: SELECT column, RAND() as IDX FROM table ORDER BY IDX FETCH FIRST 1 ROWS ONLY Oracle: SELECT column FROM (SELECT column FROM table ORDER BY dbms_random.value) WHERE rownum = 1 However I don't know of any standard way"
60805,49,How do I select a(or some) random row(s) from a table using SQLAlchemy?,Getting random row through SQLAlchemy,60815,60805,63,"This is very much a database-specific issue. I know that PostgreSQL and MySQL have the ability to order by a random function, so you can use this in SQLAlchemy: from sqlalchemy.sql.expression import func, select select.order_by(func.random()) # for PostgreSQL, SQLite select.order_by(func.rand()) # for MySQL select.order_by('dbms_random.value') # For Oracle Next, you need to limit the query by the number of records you need (for example using .limit()). Bear in mind that at least in PostgreSQL, selecting random record has severe perfomance issues; here is good article about it."
60805,49,How do I select a(or some) random row(s) from a table using SQLAlchemy?,Getting random row through SQLAlchemy,390676,60805,20,"If you are using the orm and the table is not big (or you have its amount of rows cached) and you want it to be database independent the really simple approach is. import random rand = random.randrange(0, session.query(Table).count()) row = session.query(Table)[rand] This is cheating slightly but thats why you use an orm."
60805,49,How do I select a(or some) random row(s) from a table using SQLAlchemy?,Getting random row through SQLAlchemy,782514,60805,-2,"An enhanced version of Lukasz's example, in the case you need to select multiple rows at random: import random # you must first select all the values of the primary key field for the table. # in some particular cases you can use xrange(session.query(Table).count()) instead ids = session.query(Table.primary_key_field).all() ids_sample = random.sample(ids, 100) rows = session.query(Table).filter(Table.primary_key_field.in_(ids_sample)) So, this post is just to point out that you can use .in_ to select multiple fields at the same time."
60848,44,Is it possible to retrieve items from a Python dictionary in the order that they were inserted?,How do you retrieve items from a dictionary in the order that they're inserted?,60852,60848,6,"You can't do this with the base dict class -- it's ordered by hash. You could build your own dictionary that is really a list of key,value pairs or somesuch, which would be ordered."
